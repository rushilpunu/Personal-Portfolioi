function hie(n,e){for(var t=0;t<e.length;t++){const r=e[t];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in n)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(n,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function t(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=t(i);fetch(i.href,s)}})();function die(n,e){for(var t=0;t<e.length;t++){const r=e[t];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in n)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(n,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))t(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&t(s)}).observe(document,{childList:!0,subtree:!0});function e(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function t(r){if(r.ep)return;r.ep=!0;const i=e(r);fetch(r.href,i)}})();function SN(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function fie(n){if(n.__esModule)return n;var e=n.default;if(typeof e=="function"){var t=function r(){if(this instanceof r){var i=[null];i.push.apply(i,arguments);var s=Function.bind.apply(e,i);return new s}return e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(n).forEach(function(r){var i=Object.getOwnPropertyDescriptor(n,r);Object.defineProperty(t,r,i.get?i:{enumerable:!0,get:function(){return n[r]}})}),t}var jj={exports:{}},ZC={},Xj={exports:{}},pn={};/**
* @license React
* react.production.min.js
*
* Copyright (c) Facebook, Inc. and its affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var jM=Symbol.for("react.element"),pie=Symbol.for("react.portal"),mie=Symbol.for("react.fragment"),gie=Symbol.for("react.strict_mode"),vie=Symbol.for("react.profiler"),yie=Symbol.for("react.provider"),xie=Symbol.for("react.context"),Aie=Symbol.for("react.forward_ref"),_ie=Symbol.for("react.suspense"),Mie=Symbol.for("react.memo"),Sie=Symbol.for("react.lazy"),Dz=Symbol.iterator;function Eie(n){return n===null||typeof n!="object"?null:(n=Dz&&n[Dz]||n["@@iterator"],typeof n=="function"?n:null)}var Jj={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Yj=Object.assign,Kj={};function lx(n,e,t){this.props=n,this.context=e,this.refs=Kj,this.updater=t||Jj}lx.prototype.isReactComponent={};lx.prototype.setState=function(n,e){if(typeof n!="object"&&typeof n!="function"&&n!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,n,e,"setState")};lx.prototype.forceUpdate=function(n){this.updater.enqueueForceUpdate(this,n,"forceUpdate")};function Qj(){}Qj.prototype=lx.prototype;function EN(n,e,t){this.props=n,this.context=e,this.refs=Kj,this.updater=t||Jj}var bN=EN.prototype=new Qj;bN.constructor=EN;Yj(bN,lx.prototype);bN.isPureReactComponent=!0;var Fz=Array.isArray,qj=Object.prototype.hasOwnProperty,wN={current:null},Zj={key:!0,ref:!0,__self:!0,__source:!0};function $j(n,e,t){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)qj.call(e,r)&&!Zj.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=t;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(n&&n.defaultProps)for(r in a=n.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:jM,type:n,key:s,ref:o,props:i,_owner:wN.current}}function bie(n,e){return{$$typeof:jM,type:n.type,key:e,ref:n.ref,props:n.props,_owner:n._owner}}function TN(n){return typeof n=="object"&&n!==null&&n.$$typeof===jM}function wie(n){var e={"=":"=0",":":"=2"};return"$"+n.replace(/[=:]/g,function(t){return e[t]})}var Nz=/\/+/g;function qP(n,e){return typeof n=="object"&&n!==null&&n.key!=null?wie(""+n.key):e.toString(36)}function Nw(n,e,t,r,i){var s=typeof n;(s==="undefined"||s==="boolean")&&(n=null);var o=!1;if(n===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(n.$$typeof){case jM:case pie:o=!0}}if(o)return o=n,i=i(o),n=r===""?"."+qP(o,0):r,Fz(i)?(t="",n!=null&&(t=n.replace(Nz,"$&/")+"/"),Nw(i,e,t,"",function(u){return u})):i!=null&&(TN(i)&&(i=bie(i,t+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(Nz,"$&/")+"/")+n)),e.push(i)),1;if(o=0,r=r===""?".":r+":",Fz(n))for(var a=0;a<n.length;a++){s=n[a];var l=r+qP(s,a);o+=Nw(s,e,t,l,i)}else if(l=Eie(n),typeof l=="function")for(n=l.call(n),a=0;!(s=n.next()).done;)s=s.value,l=r+qP(s,a++),o+=Nw(s,e,t,l,i);else if(s==="object")throw e=String(n),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function hE(n,e,t){if(n==null)return n;var r=[],i=0;return Nw(n,r,"","",function(s){return e.call(t,s,i++)}),r}function Tie(n){if(n._status===-1){var e=n._result;e=e(),e.then(function(t){(n._status===0||n._status===-1)&&(n._status=1,n._result=t)},function(t){(n._status===0||n._status===-1)&&(n._status=2,n._result=t)}),n._status===-1&&(n._status=0,n._result=e)}if(n._status===1)return n._result.default;throw n._result}var Xs={current:null},Uw={transition:null},Cie={ReactCurrentDispatcher:Xs,ReactCurrentBatchConfig:Uw,ReactCurrentOwner:wN};pn.Children={map:hE,forEach:function(n,e,t){hE(n,function(){e.apply(this,arguments)},t)},count:function(n){var e=0;return hE(n,function(){e++}),e},toArray:function(n){return hE(n,function(e){return e})||[]},only:function(n){if(!TN(n))throw Error("React.Children.only expected to receive a single React element child.");return n}};pn.Component=lx;pn.Fragment=mie;pn.Profiler=vie;pn.PureComponent=EN;pn.StrictMode=gie;pn.Suspense=_ie;pn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Cie;pn.cloneElement=function(n,e,t){if(n==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+n+".");var r=Yj({},n.props),i=n.key,s=n.ref,o=n._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=wN.current),e.key!==void 0&&(i=""+e.key),n.type&&n.type.defaultProps)var a=n.type.defaultProps;for(l in e)qj.call(e,l)&&!Zj.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=t;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:jM,type:n.type,key:i,ref:s,props:r,_owner:o}};pn.createContext=function(n){return n={$$typeof:xie,_currentValue:n,_currentValue2:n,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},n.Provider={$$typeof:yie,_context:n},n.Consumer=n};pn.createElement=$j;pn.createFactory=function(n){var e=$j.bind(null,n);return e.type=n,e};pn.createRef=function(){return{current:null}};pn.forwardRef=function(n){return{$$typeof:Aie,render:n}};pn.isValidElement=TN;pn.lazy=function(n){return{$$typeof:Sie,_payload:{_status:-1,_result:n},_init:Tie}};pn.memo=function(n,e){return{$$typeof:Mie,type:n,compare:e===void 0?null:e}};pn.startTransition=function(n){var e=Uw.transition;Uw.transition={};try{n()}finally{Uw.transition=e}};pn.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};pn.useCallback=function(n,e){return Xs.current.useCallback(n,e)};pn.useContext=function(n){return Xs.current.useContext(n)};pn.useDebugValue=function(){};pn.useDeferredValue=function(n){return Xs.current.useDeferredValue(n)};pn.useEffect=function(n,e){return Xs.current.useEffect(n,e)};pn.useId=function(){return Xs.current.useId()};pn.useImperativeHandle=function(n,e,t){return Xs.current.useImperativeHandle(n,e,t)};pn.useInsertionEffect=function(n,e){return Xs.current.useInsertionEffect(n,e)};pn.useLayoutEffect=function(n,e){return Xs.current.useLayoutEffect(n,e)};pn.useMemo=function(n,e){return Xs.current.useMemo(n,e)};pn.useReducer=function(n,e,t){return Xs.current.useReducer(n,e,t)};pn.useRef=function(n){return Xs.current.useRef(n)};pn.useState=function(n){return Xs.current.useState(n)};pn.useSyncExternalStore=function(n,e,t){return Xs.current.useSyncExternalStore(n,e,t)};pn.useTransition=function(){return Xs.current.useTransition()};pn.version="18.2.0";Xj.exports=pn;var pe=Xj.exports;const XM=SN(pe),Uz=die({__proto__:null,default:XM},[pe]);/**
* @license React
* react-jsx-runtime.production.min.js
*
* Copyright (c) Facebook, Inc. and its affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var Rie=pe,Pie=Symbol.for("react.element"),Bie=Symbol.for("react.fragment"),Lie=Object.prototype.hasOwnProperty,Iie=Rie.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Die={key:!0,ref:!0,__self:!0,__source:!0};function e7(n,e,t){var r,i={},s=null,o=null;t!==void 0&&(s=""+t),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)Lie.call(e,r)&&!Die.hasOwnProperty(r)&&(i[r]=e[r]);if(n&&n.defaultProps)for(r in e=n.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:Pie,type:n,key:s,ref:o,props:i,_owner:Iie.current}}ZC.Fragment=Bie;ZC.jsx=e7;ZC.jsxs=e7;jj.exports=ZC;var we=jj.exports,cI={},t7={exports:{}},sa={},n7={exports:{}},r7={};/**
* @license React
* scheduler.production.min.js
*
* Copyright (c) Facebook, Inc. and its affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/(function(n){function e(D,k){var G=D.length;D.push(k);e:for(;0<G;){var K=G-1>>>1,H=D[K];if(0<i(H,k))D[K]=k,D[G]=H,G=K;else break e}}function t(D){return D.length===0?null:D[0]}function r(D){if(D.length===0)return null;var k=D[0],G=D.pop();if(G!==k){D[0]=G;e:for(var K=0,H=D.length,ue=H>>>1;K<ue;){var le=2*(K+1)-1,Ce=D[le],xe=le+1,Be=D[xe];if(0>i(Ce,G))xe<H&&0>i(Be,Ce)?(D[K]=Be,D[xe]=G,K=xe):(D[K]=Ce,D[le]=G,K=le);else if(xe<H&&0>i(Be,G))D[K]=Be,D[xe]=G,K=xe;else break e}}return k}function i(D,k){var G=D.sortIndex-k.sortIndex;return G!==0?G:D.id-k.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();n.unstable_now=function(){return o.now()-a}}var l=[],u=[],h=1,f=null,p=3,m=!1,v=!1,S=!1,A=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,M=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(D){for(var k=t(u);k!==null;){if(k.callback===null)r(u);else if(k.startTime<=D)r(u),k.sortIndex=k.expirationTime,e(l,k);else break;k=t(u)}}function b(D){if(S=!1,_(D),!v)if(t(l)!==null)v=!0,ae(T);else{var k=t(u);k!==null&&Z(b,k.startTime-D)}}function T(D,k){v=!1,S&&(S=!1,g(P),P=-1),m=!0;var G=p;try{for(_(k),f=t(l);f!==null&&(!(f.expirationTime>k)||D&&!U());){var K=f.callback;if(typeof K=="function"){f.callback=null,p=f.priorityLevel;var H=K(f.expirationTime<=k);k=n.unstable_now(),typeof H=="function"?f.callback=H:f===t(l)&&r(l),_(k)}else r(l);f=t(l)}if(f!==null)var ue=!0;else{var le=t(u);le!==null&&Z(b,le.startTime-k),ue=!1}return ue}finally{f=null,p=G,m=!1}}var C=!1,B=null,P=-1,R=5,L=-1;function U(){return!(n.unstable_now()-L<R)}function Q(){if(B!==null){var D=n.unstable_now();L=D;var k=!0;try{k=B(!0,D)}finally{k?W():(C=!1,B=null)}}else C=!1}var W;if(typeof M=="function")W=function(){M(Q)};else if(typeof MessageChannel<"u"){var Y=new MessageChannel,X=Y.port2;Y.port1.onmessage=Q,W=function(){X.postMessage(null)}}else W=function(){A(Q,0)};function ae(D){B=D,C||(C=!0,W())}function Z(D,k){P=A(function(){D(n.unstable_now())},k)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(D){D.callback=null},n.unstable_continueExecution=function(){v||m||(v=!0,ae(T))},n.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<D?Math.floor(1e3/D):5},n.unstable_getCurrentPriorityLevel=function(){return p},n.unstable_getFirstCallbackNode=function(){return t(l)},n.unstable_next=function(D){switch(p){case 1:case 2:case 3:var k=3;break;default:k=p}var G=p;p=k;try{return D()}finally{p=G}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(D,k){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var G=p;p=D;try{return k()}finally{p=G}},n.unstable_scheduleCallback=function(D,k,G){var K=n.unstable_now();switch(typeof G=="object"&&G!==null?(G=G.delay,G=typeof G=="number"&&0<G?K+G:K):G=K,D){case 1:var H=-1;break;case 2:H=250;break;case 5:H=1073741823;break;case 4:H=1e4;break;default:H=5e3}return H=G+H,D={id:h++,callback:k,priorityLevel:D,startTime:G,expirationTime:H,sortIndex:-1},G>K?(D.sortIndex=G,e(u,D),t(l)===null&&D===t(u)&&(S?(g(P),P=-1):S=!0,Z(b,G-K))):(D.sortIndex=H,e(l,D),v||m||(v=!0,ae(T))),D},n.unstable_shouldYield=U,n.unstable_wrapCallback=function(D){var k=p;return function(){var G=p;p=k;try{return D.apply(this,arguments)}finally{p=G}}}})(r7);n7.exports=r7;var Fie=n7.exports;/**
* @license React
* react-dom.production.min.js
*
* Copyright (c) Facebook, Inc. and its affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var i7=pe,qo=Fie;function ot(n){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+n,t=1;t<arguments.length;t++)e+="&args[]="+encodeURIComponent(arguments[t]);return"Minified React error #"+n+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s7=new Set,B_={};function cg(n,e){wy(n,e),wy(n+"Capture",e)}function wy(n,e){for(B_[n]=e,n=0;n<e.length;n++)s7.add(e[n])}var mh=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),hI=Object.prototype.hasOwnProperty,Nie=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Oz={},kz={};function Uie(n){return hI.call(kz,n)?!0:hI.call(Oz,n)?!1:Nie.test(n)?kz[n]=!0:(Oz[n]=!0,!1)}function Oie(n,e,t,r){if(t!==null&&t.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:t!==null?!t.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function kie(n,e,t,r){if(e===null||typeof e>"u"||Oie(n,e,t,r))return!0;if(r)return!1;if(t!==null)switch(t.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Js(n,e,t,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=t,this.propertyName=n,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var cs={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){cs[n]=new Js(n,0,!1,n,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var e=n[0];cs[e]=new Js(e,1,!1,n[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(n){cs[n]=new Js(n,2,!1,n.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){cs[n]=new Js(n,2,!1,n,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){cs[n]=new Js(n,3,!1,n.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(n){cs[n]=new Js(n,3,!0,n,null,!1,!1)});["capture","download"].forEach(function(n){cs[n]=new Js(n,4,!1,n,null,!1,!1)});["cols","rows","size","span"].forEach(function(n){cs[n]=new Js(n,6,!1,n,null,!1,!1)});["rowSpan","start"].forEach(function(n){cs[n]=new Js(n,5,!1,n.toLowerCase(),null,!1,!1)});var CN=/[\-:]([a-z])/g;function RN(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var e=n.replace(CN,RN);cs[e]=new Js(e,1,!1,n,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var e=n.replace(CN,RN);cs[e]=new Js(e,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(n){var e=n.replace(CN,RN);cs[e]=new Js(e,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(n){cs[n]=new Js(n,1,!1,n.toLowerCase(),null,!1,!1)});cs.xlinkHref=new Js("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(n){cs[n]=new Js(n,1,!1,n.toLowerCase(),null,!0,!0)});function PN(n,e,t,r){var i=cs.hasOwnProperty(e)?cs[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(kie(e,t,i,r)&&(t=null),r||i===null?Uie(e)&&(t===null?n.removeAttribute(e):n.setAttribute(e,""+t)):i.mustUseProperty?n[i.propertyName]=t===null?i.type===3?!1:"":t:(e=i.attributeName,r=i.attributeNamespace,t===null?n.removeAttribute(e):(i=i.type,t=i===3||i===4&&t===!0?"":""+t,r?n.setAttributeNS(r,e,t):n.setAttribute(e,t))))}var Th=i7.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,dE=Symbol.for("react.element"),p0=Symbol.for("react.portal"),m0=Symbol.for("react.fragment"),BN=Symbol.for("react.strict_mode"),dI=Symbol.for("react.profiler"),o7=Symbol.for("react.provider"),a7=Symbol.for("react.context"),LN=Symbol.for("react.forward_ref"),fI=Symbol.for("react.suspense"),pI=Symbol.for("react.suspense_list"),IN=Symbol.for("react.memo"),md=Symbol.for("react.lazy"),l7=Symbol.for("react.offscreen"),Gz=Symbol.iterator;function FA(n){return n===null||typeof n!="object"?null:(n=Gz&&n[Gz]||n["@@iterator"],typeof n=="function"?n:null)}var Pr=Object.assign,ZP;function F1(n){if(ZP===void 0)try{throw Error()}catch(t){var e=t.stack.trim().match(/\n( *(at )?)/);ZP=e&&e[1]||""}return`
`+ZP+n}var $P=!1;function eB(n,e){if(!n||$P)return"";$P=!0;var t=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(n,[],e)}else{try{e.call()}catch(u){r=u}n.call(e.prototype)}else{try{throw Error()}catch(u){r=u}n()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return n.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",n.displayName)),l}while(1<=o&&0<=a);break}}}finally{$P=!1,Error.prepareStackTrace=t}return(n=n?n.displayName||n.name:"")?F1(n):""}function Gie(n){switch(n.tag){case 5:return F1(n.type);case 16:return F1("Lazy");case 13:return F1("Suspense");case 19:return F1("SuspenseList");case 0:case 2:case 15:return n=eB(n.type,!1),n;case 11:return n=eB(n.type.render,!1),n;case 1:return n=eB(n.type,!0),n;default:return""}}function mI(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case m0:return"Fragment";case p0:return"Portal";case dI:return"Profiler";case BN:return"StrictMode";case fI:return"Suspense";case pI:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case a7:return(n.displayName||"Context")+".Consumer";case o7:return(n._context.displayName||"Context")+".Provider";case LN:var e=n.render;return n=n.displayName,n||(n=e.displayName||e.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case IN:return e=n.displayName||null,e!==null?e:mI(n.type)||"Memo";case md:e=n._payload,n=n._init;try{return mI(n(e))}catch{}}return null}function zie(n){var e=n.type;switch(n.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=e.render,n=n.displayName||n.name||"",e.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return mI(e);case 8:return e===BN?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function af(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function u7(n){var e=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Hie(n){var e=u7(n)?"checked":"value",t=Object.getOwnPropertyDescriptor(n.constructor.prototype,e),r=""+n[e];if(!n.hasOwnProperty(e)&&typeof t<"u"&&typeof t.get=="function"&&typeof t.set=="function"){var i=t.get,s=t.set;return Object.defineProperty(n,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(n,e,{enumerable:t.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){n._valueTracker=null,delete n[e]}}}}function fE(n){n._valueTracker||(n._valueTracker=Hie(n))}function c7(n){if(!n)return!1;var e=n._valueTracker;if(!e)return!0;var t=e.getValue(),r="";return n&&(r=u7(n)?n.checked?"true":"false":n.value),n=r,n!==t?(e.setValue(n),!0):!1}function wT(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function gI(n,e){var t=e.checked;return Pr({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:t??n._wrapperState.initialChecked})}function zz(n,e){var t=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;t=af(e.value!=null?e.value:t),n._wrapperState={initialChecked:r,initialValue:t,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function h7(n,e){e=e.checked,e!=null&&PN(n,"checked",e,!1)}function vI(n,e){h7(n,e);var t=af(e.value),r=e.type;if(t!=null)r==="number"?(t===0&&n.value===""||n.value!=t)&&(n.value=""+t):n.value!==""+t&&(n.value=""+t);else if(r==="submit"||r==="reset"){n.removeAttribute("value");return}e.hasOwnProperty("value")?yI(n,e.type,t):e.hasOwnProperty("defaultValue")&&yI(n,e.type,af(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(n.defaultChecked=!!e.defaultChecked)}function Hz(n,e,t){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+n._wrapperState.initialValue,t||e===n.value||(n.value=e),n.defaultValue=e}t=n.name,t!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,t!==""&&(n.name=t)}function yI(n,e,t){(e!=="number"||wT(n.ownerDocument)!==n)&&(t==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+t&&(n.defaultValue=""+t))}var N1=Array.isArray;function ny(n,e,t,r){if(n=n.options,e){e={};for(var i=0;i<t.length;i++)e["$"+t[i]]=!0;for(t=0;t<n.length;t++)i=e.hasOwnProperty("$"+n[t].value),n[t].selected!==i&&(n[t].selected=i),i&&r&&(n[t].defaultSelected=!0)}else{for(t=""+af(t),e=null,i=0;i<n.length;i++){if(n[i].value===t){n[i].selected=!0,r&&(n[i].defaultSelected=!0);return}e!==null||n[i].disabled||(e=n[i])}e!==null&&(e.selected=!0)}}function xI(n,e){if(e.dangerouslySetInnerHTML!=null)throw Error(ot(91));return Pr({},e,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function Vz(n,e){var t=e.value;if(t==null){if(t=e.children,e=e.defaultValue,t!=null){if(e!=null)throw Error(ot(92));if(N1(t)){if(1<t.length)throw Error(ot(93));t=t[0]}e=t}e==null&&(e=""),t=e}n._wrapperState={initialValue:af(t)}}function d7(n,e){var t=af(e.value),r=af(e.defaultValue);t!=null&&(t=""+t,t!==n.value&&(n.value=t),e.defaultValue==null&&n.defaultValue!==t&&(n.defaultValue=t)),r!=null&&(n.defaultValue=""+r)}function Wz(n){var e=n.textContent;e===n._wrapperState.initialValue&&e!==""&&e!==null&&(n.value=e)}function f7(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function AI(n,e){return n==null||n==="http://www.w3.org/1999/xhtml"?f7(e):n==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var pE,p7=function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,t,r,i){MSApp.execUnsafeLocalFunction(function(){return n(e,t,r,i)})}:n}(function(n,e){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=e;else{for(pE=pE||document.createElement("div"),pE.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=pE.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;e.firstChild;)n.appendChild(e.firstChild)}});function L_(n,e){if(e){var t=n.firstChild;if(t&&t===n.lastChild&&t.nodeType===3){t.nodeValue=e;return}}n.textContent=e}var K1={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Vie=["Webkit","ms","Moz","O"];Object.keys(K1).forEach(function(n){Vie.forEach(function(e){e=e+n.charAt(0).toUpperCase()+n.substring(1),K1[e]=K1[n]})});function m7(n,e,t){return e==null||typeof e=="boolean"||e===""?"":t||typeof e!="number"||e===0||K1.hasOwnProperty(n)&&K1[n]?(""+e).trim():e+"px"}function g7(n,e){n=n.style;for(var t in e)if(e.hasOwnProperty(t)){var r=t.indexOf("--")===0,i=m7(t,e[t],r);t==="float"&&(t="cssFloat"),r?n.setProperty(t,i):n[t]=i}}var Wie=Pr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function _I(n,e){if(e){if(Wie[n]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(ot(137,n));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(ot(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(ot(61))}if(e.style!=null&&typeof e.style!="object")throw Error(ot(62))}}function MI(n,e){if(n.indexOf("-")===-1)return typeof e.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var SI=null;function DN(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var EI=null,ry=null,iy=null;function jz(n){if(n=KM(n)){if(typeof EI!="function")throw Error(ot(280));var e=n.stateNode;e&&(e=rR(e),EI(n.stateNode,n.type,e))}}function v7(n){ry?iy?iy.push(n):iy=[n]:ry=n}function y7(){if(ry){var n=ry,e=iy;if(iy=ry=null,jz(n),e)for(n=0;n<e.length;n++)jz(e[n])}}function x7(n,e){return n(e)}function A7(){}var tB=!1;function _7(n,e,t){if(tB)return n(e,t);tB=!0;try{return x7(n,e,t)}finally{tB=!1,(ry!==null||iy!==null)&&(A7(),y7())}}function I_(n,e){var t=n.stateNode;if(t===null)return null;var r=rR(t);if(r===null)return null;t=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(n=n.type,r=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!r;break e;default:n=!1}if(n)return null;if(t&&typeof t!="function")throw Error(ot(231,e,typeof t));return t}var bI=!1;if(mh)try{var NA={};Object.defineProperty(NA,"passive",{get:function(){bI=!0}}),window.addEventListener("test",NA,NA),window.removeEventListener("test",NA,NA)}catch{bI=!1}function jie(n,e,t,r,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(t,u)}catch(h){this.onError(h)}}var Q1=!1,TT=null,CT=!1,wI=null,Xie={onError:function(n){Q1=!0,TT=n}};function Jie(n,e,t,r,i,s,o,a,l){Q1=!1,TT=null,jie.apply(Xie,arguments)}function Yie(n,e,t,r,i,s,o,a,l){if(Jie.apply(this,arguments),Q1){if(Q1){var u=TT;Q1=!1,TT=null}else throw Error(ot(198));CT||(CT=!0,wI=u)}}function hg(n){var e=n,t=n;if(n.alternate)for(;e.return;)e=e.return;else{n=e;do e=n,e.flags&4098&&(t=e.return),n=e.return;while(n)}return e.tag===3?t:null}function M7(n){if(n.tag===13){var e=n.memoizedState;if(e===null&&(n=n.alternate,n!==null&&(e=n.memoizedState)),e!==null)return e.dehydrated}return null}function Xz(n){if(hg(n)!==n)throw Error(ot(188))}function Kie(n){var e=n.alternate;if(!e){if(e=hg(n),e===null)throw Error(ot(188));return e!==n?null:n}for(var t=n,r=e;;){var i=t.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){t=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===t)return Xz(i),n;if(s===r)return Xz(i),e;s=s.sibling}throw Error(ot(188))}if(t.return!==r.return)t=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===t){o=!0,t=i,r=s;break}if(a===r){o=!0,r=i,t=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===t){o=!0,t=s,r=i;break}if(a===r){o=!0,r=s,t=i;break}a=a.sibling}if(!o)throw Error(ot(189))}}if(t.alternate!==r)throw Error(ot(190))}if(t.tag!==3)throw Error(ot(188));return t.stateNode.current===t?n:e}function S7(n){return n=Kie(n),n!==null?E7(n):null}function E7(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var e=E7(n);if(e!==null)return e;n=n.sibling}return null}var b7=qo.unstable_scheduleCallback,Jz=qo.unstable_cancelCallback,Qie=qo.unstable_shouldYield,qie=qo.unstable_requestPaint,Jr=qo.unstable_now,Zie=qo.unstable_getCurrentPriorityLevel,FN=qo.unstable_ImmediatePriority,w7=qo.unstable_UserBlockingPriority,RT=qo.unstable_NormalPriority,$ie=qo.unstable_LowPriority,T7=qo.unstable_IdlePriority,$C=null,Du=null;function ese(n){if(Du&&typeof Du.onCommitFiberRoot=="function")try{Du.onCommitFiberRoot($C,n,void 0,(n.current.flags&128)===128)}catch{}}var Cl=Math.clz32?Math.clz32:rse,tse=Math.log,nse=Math.LN2;function rse(n){return n>>>=0,n===0?32:31-(tse(n)/nse|0)|0}var mE=64,gE=4194304;function U1(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function PT(n,e){var t=n.pendingLanes;if(t===0)return 0;var r=0,i=n.suspendedLanes,s=n.pingedLanes,o=t&268435455;if(o!==0){var a=o&~i;a!==0?r=U1(a):(s&=o,s!==0&&(r=U1(s)))}else o=t&~i,o!==0?r=U1(o):s!==0&&(r=U1(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=t&16),e=n.entangledLanes,e!==0)for(n=n.entanglements,e&=r;0<e;)t=31-Cl(e),i=1<<t,r|=n[t],e&=~i;return r}function ise(n,e){switch(n){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function sse(n,e){for(var t=n.suspendedLanes,r=n.pingedLanes,i=n.expirationTimes,s=n.pendingLanes;0<s;){var o=31-Cl(s),a=1<<o,l=i[o];l===-1?(!(a&t)||a&r)&&(i[o]=ise(a,e)):l<=e&&(n.expiredLanes|=a),s&=~a}}function TI(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function C7(){var n=mE;return mE<<=1,!(mE&4194240)&&(mE=64),n}function nB(n){for(var e=[],t=0;31>t;t++)e.push(n);return e}function JM(n,e,t){n.pendingLanes|=e,e!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,e=31-Cl(e),n[e]=t}function ose(n,e){var t=n.pendingLanes&~e;n.pendingLanes=e,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=e,n.mutableReadLanes&=e,n.entangledLanes&=e,e=n.entanglements;var r=n.eventTimes;for(n=n.expirationTimes;0<t;){var i=31-Cl(t),s=1<<i;e[i]=0,r[i]=-1,n[i]=-1,t&=~s}}function NN(n,e){var t=n.entangledLanes|=e;for(n=n.entanglements;t;){var r=31-Cl(t),i=1<<r;i&e|n[r]&e&&(n[r]|=e),t&=~i}}var zn=0;function R7(n){return n&=-n,1<n?4<n?n&268435455?16:536870912:4:1}var P7,UN,B7,L7,I7,CI=!1,vE=[],Id=null,Dd=null,Fd=null,D_=new Map,F_=new Map,bd=[],ase="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Yz(n,e){switch(n){case"focusin":case"focusout":Id=null;break;case"dragenter":case"dragleave":Dd=null;break;case"mouseover":case"mouseout":Fd=null;break;case"pointerover":case"pointerout":D_.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":F_.delete(e.pointerId)}}function UA(n,e,t,r,i,s){return n===null||n.nativeEvent!==s?(n={blockedOn:e,domEventName:t,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=KM(e),e!==null&&UN(e)),n):(n.eventSystemFlags|=r,e=n.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),n)}function lse(n,e,t,r,i){switch(e){case"focusin":return Id=UA(Id,n,e,t,r,i),!0;case"dragenter":return Dd=UA(Dd,n,e,t,r,i),!0;case"mouseover":return Fd=UA(Fd,n,e,t,r,i),!0;case"pointerover":var s=i.pointerId;return D_.set(s,UA(D_.get(s)||null,n,e,t,r,i)),!0;case"gotpointercapture":return s=i.pointerId,F_.set(s,UA(F_.get(s)||null,n,e,t,r,i)),!0}return!1}function D7(n){var e=cm(n.target);if(e!==null){var t=hg(e);if(t!==null){if(e=t.tag,e===13){if(e=M7(t),e!==null){n.blockedOn=e,I7(n.priority,function(){B7(t)});return}}else if(e===3&&t.stateNode.current.memoizedState.isDehydrated){n.blockedOn=t.tag===3?t.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Ow(n){if(n.blockedOn!==null)return!1;for(var e=n.targetContainers;0<e.length;){var t=RI(n.domEventName,n.eventSystemFlags,e[0],n.nativeEvent);if(t===null){t=n.nativeEvent;var r=new t.constructor(t.type,t);SI=r,t.target.dispatchEvent(r),SI=null}else return e=KM(t),e!==null&&UN(e),n.blockedOn=t,!1;e.shift()}return!0}function Kz(n,e,t){Ow(n)&&t.delete(e)}function use(){CI=!1,Id!==null&&Ow(Id)&&(Id=null),Dd!==null&&Ow(Dd)&&(Dd=null),Fd!==null&&Ow(Fd)&&(Fd=null),D_.forEach(Kz),F_.forEach(Kz)}function OA(n,e){n.blockedOn===e&&(n.blockedOn=null,CI||(CI=!0,qo.unstable_scheduleCallback(qo.unstable_NormalPriority,use)))}function N_(n){function e(i){return OA(i,n)}if(0<vE.length){OA(vE[0],n);for(var t=1;t<vE.length;t++){var r=vE[t];r.blockedOn===n&&(r.blockedOn=null)}}for(Id!==null&&OA(Id,n),Dd!==null&&OA(Dd,n),Fd!==null&&OA(Fd,n),D_.forEach(e),F_.forEach(e),t=0;t<bd.length;t++)r=bd[t],r.blockedOn===n&&(r.blockedOn=null);for(;0<bd.length&&(t=bd[0],t.blockedOn===null);)D7(t),t.blockedOn===null&&bd.shift()}var sy=Th.ReactCurrentBatchConfig,BT=!0;function cse(n,e,t,r){var i=zn,s=sy.transition;sy.transition=null;try{zn=1,ON(n,e,t,r)}finally{zn=i,sy.transition=s}}function hse(n,e,t,r){var i=zn,s=sy.transition;sy.transition=null;try{zn=4,ON(n,e,t,r)}finally{zn=i,sy.transition=s}}function ON(n,e,t,r){if(BT){var i=RI(n,e,t,r);if(i===null)dB(n,e,r,LT,t),Yz(n,r);else if(lse(i,n,e,t,r))r.stopPropagation();else if(Yz(n,r),e&4&&-1<ase.indexOf(n)){for(;i!==null;){var s=KM(i);if(s!==null&&P7(s),s=RI(n,e,t,r),s===null&&dB(n,e,r,LT,t),s===i)break;i=s}i!==null&&r.stopPropagation()}else dB(n,e,r,null,t)}}var LT=null;function RI(n,e,t,r){if(LT=null,n=DN(r),n=cm(n),n!==null)if(e=hg(n),e===null)n=null;else if(t=e.tag,t===13){if(n=M7(e),n!==null)return n;n=null}else if(t===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;n=null}else e!==n&&(n=null);return LT=n,null}function F7(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Zie()){case FN:return 1;case w7:return 4;case RT:case $ie:return 16;case T7:return 536870912;default:return 16}default:return 16}}var Rd=null,kN=null,kw=null;function N7(){if(kw)return kw;var n,e=kN,t=e.length,r,i="value"in Rd?Rd.value:Rd.textContent,s=i.length;for(n=0;n<t&&e[n]===i[n];n++);var o=t-n;for(r=1;r<=o&&e[t-r]===i[s-r];r++);return kw=i.slice(n,1<r?1-r:void 0)}function Gw(n){var e=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&e===13&&(n=13)):n=e,n===10&&(n=13),32<=n||n===13?n:0}function yE(){return!0}function Qz(){return!1}function oa(n){function e(t,r,i,s,o){this._reactName=t,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in n)n.hasOwnProperty(a)&&(t=n[a],this[a]=t?t(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?yE:Qz,this.isPropagationStopped=Qz,this}return Pr(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():typeof t.returnValue!="unknown"&&(t.returnValue=!1),this.isDefaultPrevented=yE)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():typeof t.cancelBubble!="unknown"&&(t.cancelBubble=!0),this.isPropagationStopped=yE)},persist:function(){},isPersistent:yE}),e}var ux={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},GN=oa(ux),YM=Pr({},ux,{view:0,detail:0}),dse=oa(YM),rB,iB,kA,eR=Pr({},YM,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zN,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==kA&&(kA&&n.type==="mousemove"?(rB=n.screenX-kA.screenX,iB=n.screenY-kA.screenY):iB=rB=0,kA=n),rB)},movementY:function(n){return"movementY"in n?n.movementY:iB}}),qz=oa(eR),fse=Pr({},eR,{dataTransfer:0}),pse=oa(fse),mse=Pr({},YM,{relatedTarget:0}),sB=oa(mse),gse=Pr({},ux,{animationName:0,elapsedTime:0,pseudoElement:0}),vse=oa(gse),yse=Pr({},ux,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),xse=oa(yse),Ase=Pr({},ux,{data:0}),Zz=oa(Ase),_se={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Mse={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Sse={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ese(n){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(n):(n=Sse[n])?!!e[n]:!1}function zN(){return Ese}var bse=Pr({},YM,{key:function(n){if(n.key){var e=_se[n.key]||n.key;if(e!=="Unidentified")return e}return n.type==="keypress"?(n=Gw(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?Mse[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zN,charCode:function(n){return n.type==="keypress"?Gw(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Gw(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),wse=oa(bse),Tse=Pr({},eR,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),$z=oa(Tse),Cse=Pr({},YM,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zN}),Rse=oa(Cse),Pse=Pr({},ux,{propertyName:0,elapsedTime:0,pseudoElement:0}),Bse=oa(Pse),Lse=Pr({},eR,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),Ise=oa(Lse),Dse=[9,13,27,32],HN=mh&&"CompositionEvent"in window,q1=null;mh&&"documentMode"in document&&(q1=document.documentMode);var Fse=mh&&"TextEvent"in window&&!q1,U7=mh&&(!HN||q1&&8<q1&&11>=q1),eH=String.fromCharCode(32),tH=!1;function O7(n,e){switch(n){case"keyup":return Dse.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function k7(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var g0=!1;function Nse(n,e){switch(n){case"compositionend":return k7(e);case"keypress":return e.which!==32?null:(tH=!0,eH);case"textInput":return n=e.data,n===eH&&tH?null:n;default:return null}}function Use(n,e){if(g0)return n==="compositionend"||!HN&&O7(n,e)?(n=N7(),kw=kN=Rd=null,g0=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return U7&&e.locale!=="ko"?null:e.data;default:return null}}var Ose={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function nH(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e==="input"?!!Ose[n.type]:e==="textarea"}function G7(n,e,t,r){v7(r),e=IT(e,"onChange"),0<e.length&&(t=new GN("onChange","change",null,t,r),n.push({event:t,listeners:e}))}var Z1=null,U_=null;function kse(n){q7(n,0)}function tR(n){var e=x0(n);if(c7(e))return n}function Gse(n,e){if(n==="change")return e}var z7=!1;if(mh){var oB;if(mh){var aB="oninput"in document;if(!aB){var rH=document.createElement("div");rH.setAttribute("oninput","return;"),aB=typeof rH.oninput=="function"}oB=aB}else oB=!1;z7=oB&&(!document.documentMode||9<document.documentMode)}function iH(){Z1&&(Z1.detachEvent("onpropertychange",H7),U_=Z1=null)}function H7(n){if(n.propertyName==="value"&&tR(U_)){var e=[];G7(e,U_,n,DN(n)),_7(kse,e)}}function zse(n,e,t){n==="focusin"?(iH(),Z1=e,U_=t,Z1.attachEvent("onpropertychange",H7)):n==="focusout"&&iH()}function Hse(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return tR(U_)}function Vse(n,e){if(n==="click")return tR(e)}function Wse(n,e){if(n==="input"||n==="change")return tR(e)}function jse(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}var Ol=typeof Object.is=="function"?Object.is:jse;function O_(n,e){if(Ol(n,e))return!0;if(typeof n!="object"||n===null||typeof e!="object"||e===null)return!1;var t=Object.keys(n),r=Object.keys(e);if(t.length!==r.length)return!1;for(r=0;r<t.length;r++){var i=t[r];if(!hI.call(e,i)||!Ol(n[i],e[i]))return!1}return!0}function sH(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function oH(n,e){var t=sH(n);n=0;for(var r;t;){if(t.nodeType===3){if(r=n+t.textContent.length,n<=e&&r>=e)return{node:t,offset:e-n};n=r}e:{for(;t;){if(t.nextSibling){t=t.nextSibling;break e}t=t.parentNode}t=void 0}t=sH(t)}}function V7(n,e){return n&&e?n===e?!0:n&&n.nodeType===3?!1:e&&e.nodeType===3?V7(n,e.parentNode):"contains"in n?n.contains(e):n.compareDocumentPosition?!!(n.compareDocumentPosition(e)&16):!1:!1}function W7(){for(var n=window,e=wT();e instanceof n.HTMLIFrameElement;){try{var t=typeof e.contentWindow.location.href=="string"}catch{t=!1}if(t)n=e.contentWindow;else break;e=wT(n.document)}return e}function VN(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e&&(e==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||e==="textarea"||n.contentEditable==="true")}function Xse(n){var e=W7(),t=n.focusedElem,r=n.selectionRange;if(e!==t&&t&&t.ownerDocument&&V7(t.ownerDocument.documentElement,t)){if(r!==null&&VN(t)){if(e=r.start,n=r.end,n===void 0&&(n=e),"selectionStart"in t)t.selectionStart=e,t.selectionEnd=Math.min(n,t.value.length);else if(n=(e=t.ownerDocument||document)&&e.defaultView||window,n.getSelection){n=n.getSelection();var i=t.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!n.extend&&s>r&&(i=r,r=s,s=i),i=oH(t,s);var o=oH(t,r);i&&o&&(n.rangeCount!==1||n.anchorNode!==i.node||n.anchorOffset!==i.offset||n.focusNode!==o.node||n.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),n.removeAllRanges(),s>r?(n.addRange(e),n.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),n.addRange(e)))}}for(e=[],n=t;n=n.parentNode;)n.nodeType===1&&e.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof t.focus=="function"&&t.focus(),t=0;t<e.length;t++)n=e[t],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var Jse=mh&&"documentMode"in document&&11>=document.documentMode,v0=null,PI=null,$1=null,BI=!1;function aH(n,e,t){var r=t.window===t?t.document:t.nodeType===9?t:t.ownerDocument;BI||v0==null||v0!==wT(r)||(r=v0,"selectionStart"in r&&VN(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),$1&&O_($1,r)||($1=r,r=IT(PI,"onSelect"),0<r.length&&(e=new GN("onSelect","select",null,e,t),n.push({event:e,listeners:r}),e.target=v0)))}function xE(n,e){var t={};return t[n.toLowerCase()]=e.toLowerCase(),t["Webkit"+n]="webkit"+e,t["Moz"+n]="moz"+e,t}var y0={animationend:xE("Animation","AnimationEnd"),animationiteration:xE("Animation","AnimationIteration"),animationstart:xE("Animation","AnimationStart"),transitionend:xE("Transition","TransitionEnd")},lB={},j7={};mh&&(j7=document.createElement("div").style,"AnimationEvent"in window||(delete y0.animationend.animation,delete y0.animationiteration.animation,delete y0.animationstart.animation),"TransitionEvent"in window||delete y0.transitionend.transition);function nR(n){if(lB[n])return lB[n];if(!y0[n])return n;var e=y0[n],t;for(t in e)if(e.hasOwnProperty(t)&&t in j7)return lB[n]=e[t];return n}var X7=nR("animationend"),J7=nR("animationiteration"),Y7=nR("animationstart"),K7=nR("transitionend"),Q7=new Map,lH="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function bf(n,e){Q7.set(n,e),cg(e,[n])}for(var uB=0;uB<lH.length;uB++){var cB=lH[uB],Yse=cB.toLowerCase(),Kse=cB[0].toUpperCase()+cB.slice(1);bf(Yse,"on"+Kse)}bf(X7,"onAnimationEnd");bf(J7,"onAnimationIteration");bf(Y7,"onAnimationStart");bf("dblclick","onDoubleClick");bf("focusin","onFocus");bf("focusout","onBlur");bf(K7,"onTransitionEnd");wy("onMouseEnter",["mouseout","mouseover"]);wy("onMouseLeave",["mouseout","mouseover"]);wy("onPointerEnter",["pointerout","pointerover"]);wy("onPointerLeave",["pointerout","pointerover"]);cg("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));cg("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));cg("onBeforeInput",["compositionend","keypress","textInput","paste"]);cg("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));cg("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));cg("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var O1="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Qse=new Set("cancel close invalid load scroll toggle".split(" ").concat(O1));function uH(n,e,t){var r=n.type||"unknown-event";n.currentTarget=t,Yie(r,e,void 0,n),n.currentTarget=null}function q7(n,e){e=(e&4)!==0;for(var t=0;t<n.length;t++){var r=n[t],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;uH(i,a,u),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;uH(i,a,u),s=l}}}if(CT)throw n=wI,CT=!1,wI=null,n}function $n(n,e){var t=e[NI];t===void 0&&(t=e[NI]=new Set);var r=n+"__bubble";t.has(r)||(Z7(e,n,2,!1),t.add(r))}function hB(n,e,t){var r=0;e&&(r|=4),Z7(t,n,r,e)}var AE="_reactListening"+Math.random().toString(36).slice(2);function k_(n){if(!n[AE]){n[AE]=!0,s7.forEach(function(t){t!=="selectionchange"&&(Qse.has(t)||hB(t,!1,n),hB(t,!0,n))});var e=n.nodeType===9?n:n.ownerDocument;e===null||e[AE]||(e[AE]=!0,hB("selectionchange",!1,e))}}function Z7(n,e,t,r){switch(F7(e)){case 1:var i=cse;break;case 4:i=hse;break;default:i=ON}t=i.bind(null,e,t,n),i=void 0,!bI||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?n.addEventListener(e,t,{capture:!0,passive:i}):n.addEventListener(e,t,!0):i!==void 0?n.addEventListener(e,t,{passive:i}):n.addEventListener(e,t,!1)}function dB(n,e,t,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=cm(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}_7(function(){var u=s,h=DN(t),f=[];e:{var p=Q7.get(n);if(p!==void 0){var m=GN,v=n;switch(n){case"keypress":if(Gw(t)===0)break e;case"keydown":case"keyup":m=wse;break;case"focusin":v="focus",m=sB;break;case"focusout":v="blur",m=sB;break;case"beforeblur":case"afterblur":m=sB;break;case"click":if(t.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=qz;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=pse;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=Rse;break;case X7:case J7:case Y7:m=vse;break;case K7:m=Bse;break;case"scroll":m=dse;break;case"wheel":m=Ise;break;case"copy":case"cut":case"paste":m=xse;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=$z}var S=(e&4)!==0,A=!S&&n==="scroll",g=S?p!==null?p+"Capture":null:p;S=[];for(var M=u,_;M!==null;){_=M;var b=_.stateNode;if(_.tag===5&&b!==null&&(_=b,g!==null&&(b=I_(M,g),b!=null&&S.push(G_(M,b,_)))),A)break;M=M.return}0<S.length&&(p=new m(p,v,null,t,h),f.push({event:p,listeners:S}))}}if(!(e&7)){e:{if(p=n==="mouseover"||n==="pointerover",m=n==="mouseout"||n==="pointerout",p&&t!==SI&&(v=t.relatedTarget||t.fromElement)&&(cm(v)||v[gh]))break e;if((m||p)&&(p=h.window===h?h:(p=h.ownerDocument)?p.defaultView||p.parentWindow:window,m?(v=t.relatedTarget||t.toElement,m=u,v=v?cm(v):null,v!==null&&(A=hg(v),v!==A||v.tag!==5&&v.tag!==6)&&(v=null)):(m=null,v=u),m!==v)){if(S=qz,b="onMouseLeave",g="onMouseEnter",M="mouse",(n==="pointerout"||n==="pointerover")&&(S=$z,b="onPointerLeave",g="onPointerEnter",M="pointer"),A=m==null?p:x0(m),_=v==null?p:x0(v),p=new S(b,M+"leave",m,t,h),p.target=A,p.relatedTarget=_,b=null,cm(h)===u&&(S=new S(g,M+"enter",v,t,h),S.target=_,S.relatedTarget=A,b=S),A=b,m&&v)t:{for(S=m,g=v,M=0,_=S;_;_=gv(_))M++;for(_=0,b=g;b;b=gv(b))_++;for(;0<M-_;)S=gv(S),M--;for(;0<_-M;)g=gv(g),_--;for(;M--;){if(S===g||g!==null&&S===g.alternate)break t;S=gv(S),g=gv(g)}S=null}else S=null;m!==null&&cH(f,p,m,S,!1),v!==null&&A!==null&&cH(f,A,v,S,!0)}}e:{if(p=u?x0(u):window,m=p.nodeName&&p.nodeName.toLowerCase(),m==="select"||m==="input"&&p.type==="file")var T=Gse;else if(nH(p))if(z7)T=Wse;else{T=Hse;var C=zse}else(m=p.nodeName)&&m.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(T=Vse);if(T&&(T=T(n,u))){G7(f,T,t,h);break e}C&&C(n,p,u),n==="focusout"&&(C=p._wrapperState)&&C.controlled&&p.type==="number"&&yI(p,"number",p.value)}switch(C=u?x0(u):window,n){case"focusin":(nH(C)||C.contentEditable==="true")&&(v0=C,PI=u,$1=null);break;case"focusout":$1=PI=v0=null;break;case"mousedown":BI=!0;break;case"contextmenu":case"mouseup":case"dragend":BI=!1,aH(f,t,h);break;case"selectionchange":if(Jse)break;case"keydown":case"keyup":aH(f,t,h)}var B;if(HN)e:{switch(n){case"compositionstart":var P="onCompositionStart";break e;case"compositionend":P="onCompositionEnd";break e;case"compositionupdate":P="onCompositionUpdate";break e}P=void 0}else g0?O7(n,t)&&(P="onCompositionEnd"):n==="keydown"&&t.keyCode===229&&(P="onCompositionStart");P&&(U7&&t.locale!=="ko"&&(g0||P!=="onCompositionStart"?P==="onCompositionEnd"&&g0&&(B=N7()):(Rd=h,kN="value"in Rd?Rd.value:Rd.textContent,g0=!0)),C=IT(u,P),0<C.length&&(P=new Zz(P,n,null,t,h),f.push({event:P,listeners:C}),B?P.data=B:(B=k7(t),B!==null&&(P.data=B)))),(B=Fse?Nse(n,t):Use(n,t))&&(u=IT(u,"onBeforeInput"),0<u.length&&(h=new Zz("onBeforeInput","beforeinput",null,t,h),f.push({event:h,listeners:u}),h.data=B))}q7(f,e)})}function G_(n,e,t){return{instance:n,listener:e,currentTarget:t}}function IT(n,e){for(var t=e+"Capture",r=[];n!==null;){var i=n,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=I_(n,t),s!=null&&r.unshift(G_(n,s,i)),s=I_(n,e),s!=null&&r.push(G_(n,s,i))),n=n.return}return r}function gv(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function cH(n,e,t,r,i){for(var s=e._reactName,o=[];t!==null&&t!==r;){var a=t,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=I_(t,s),l!=null&&o.unshift(G_(t,l,a))):i||(l=I_(t,s),l!=null&&o.push(G_(t,l,a)))),t=t.return}o.length!==0&&n.push({event:e,listeners:o})}var qse=/\r\n?/g,Zse=/\u0000|\uFFFD/g;function hH(n){return(typeof n=="string"?n:""+n).replace(qse,`
`).replace(Zse,"")}function _E(n,e,t){if(e=hH(e),hH(n)!==e&&t)throw Error(ot(425))}function DT(){}var LI=null,II=null;function DI(n,e){return n==="textarea"||n==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var FI=typeof setTimeout=="function"?setTimeout:void 0,$se=typeof clearTimeout=="function"?clearTimeout:void 0,dH=typeof Promise=="function"?Promise:void 0,eoe=typeof queueMicrotask=="function"?queueMicrotask:typeof dH<"u"?function(n){return dH.resolve(null).then(n).catch(toe)}:FI;function toe(n){setTimeout(function(){throw n})}function fB(n,e){var t=e,r=0;do{var i=t.nextSibling;if(n.removeChild(t),i&&i.nodeType===8)if(t=i.data,t==="/$"){if(r===0){n.removeChild(i),N_(e);return}r--}else t!=="$"&&t!=="$?"&&t!=="$!"||r++;t=i}while(t);N_(e)}function Nd(n){for(;n!=null;n=n.nextSibling){var e=n.nodeType;if(e===1||e===3)break;if(e===8){if(e=n.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return n}function fH(n){n=n.previousSibling;for(var e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="$"||t==="$!"||t==="$?"){if(e===0)return n;e--}else t==="/$"&&e++}n=n.previousSibling}return null}var cx=Math.random().toString(36).slice(2),Cu="__reactFiber$"+cx,z_="__reactProps$"+cx,gh="__reactContainer$"+cx,NI="__reactEvents$"+cx,noe="__reactListeners$"+cx,roe="__reactHandles$"+cx;function cm(n){var e=n[Cu];if(e)return e;for(var t=n.parentNode;t;){if(e=t[gh]||t[Cu]){if(t=e.alternate,e.child!==null||t!==null&&t.child!==null)for(n=fH(n);n!==null;){if(t=n[Cu])return t;n=fH(n)}return e}n=t,t=n.parentNode}return null}function KM(n){return n=n[Cu]||n[gh],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function x0(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(ot(33))}function rR(n){return n[z_]||null}var UI=[],A0=-1;function wf(n){return{current:n}}function rr(n){0>A0||(n.current=UI[A0],UI[A0]=null,A0--)}function Yn(n,e){A0++,UI[A0]=n.current,n.current=e}var lf={},bs=wf(lf),ho=wf(!1),Xm=lf;function Ty(n,e){var t=n.type.contextTypes;if(!t)return lf;var r=n.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in t)i[s]=e[s];return r&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=e,n.__reactInternalMemoizedMaskedChildContext=i),i}function fo(n){return n=n.childContextTypes,n!=null}function FT(){rr(ho),rr(bs)}function pH(n,e,t){if(bs.current!==lf)throw Error(ot(168));Yn(bs,e),Yn(ho,t)}function $7(n,e,t){var r=n.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return t;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(ot(108,zie(n)||"Unknown",i));return Pr({},t,r)}function NT(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||lf,Xm=bs.current,Yn(bs,n),Yn(ho,ho.current),!0}function mH(n,e,t){var r=n.stateNode;if(!r)throw Error(ot(169));t?(n=$7(n,e,Xm),r.__reactInternalMemoizedMergedChildContext=n,rr(ho),rr(bs),Yn(bs,n)):rr(ho),Yn(ho,t)}var Jc=null,iR=!1,pB=!1;function eX(n){Jc===null?Jc=[n]:Jc.push(n)}function ioe(n){iR=!0,eX(n)}function Tf(){if(!pB&&Jc!==null){pB=!0;var n=0,e=zn;try{var t=Jc;for(zn=1;n<t.length;n++){var r=t[n];do r=r(!0);while(r!==null)}Jc=null,iR=!1}catch(i){throw Jc!==null&&(Jc=Jc.slice(n+1)),b7(FN,Tf),i}finally{zn=e,pB=!1}}return null}var _0=[],M0=0,UT=null,OT=0,Na=[],Ua=0,Jm=null,qc=1,Zc="";function jp(n,e){_0[M0++]=OT,_0[M0++]=UT,UT=n,OT=e}function tX(n,e,t){Na[Ua++]=qc,Na[Ua++]=Zc,Na[Ua++]=Jm,Jm=n;var r=qc;n=Zc;var i=32-Cl(r)-1;r&=~(1<<i),t+=1;var s=32-Cl(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,qc=1<<32-Cl(e)+i|t<<i|r,Zc=s+n}else qc=1<<s|t<<i|r,Zc=n}function WN(n){n.return!==null&&(jp(n,1),tX(n,1,0))}function jN(n){for(;n===UT;)UT=_0[--M0],_0[M0]=null,OT=_0[--M0],_0[M0]=null;for(;n===Jm;)Jm=Na[--Ua],Na[Ua]=null,Zc=Na[--Ua],Na[Ua]=null,qc=Na[--Ua],Na[Ua]=null}var Jo=null,zo=null,lr=!1,El=null;function nX(n,e){var t=Ha(5,null,null,0);t.elementType="DELETED",t.stateNode=e,t.return=n,e=n.deletions,e===null?(n.deletions=[t],n.flags|=16):e.push(t)}function gH(n,e){switch(n.tag){case 5:var t=n.type;return e=e.nodeType!==1||t.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(n.stateNode=e,Jo=n,zo=Nd(e.firstChild),!0):!1;case 6:return e=n.pendingProps===""||e.nodeType!==3?null:e,e!==null?(n.stateNode=e,Jo=n,zo=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(t=Jm!==null?{id:qc,overflow:Zc}:null,n.memoizedState={dehydrated:e,treeContext:t,retryLane:1073741824},t=Ha(18,null,null,0),t.stateNode=e,t.return=n,n.child=t,Jo=n,zo=null,!0):!1;default:return!1}}function OI(n){return(n.mode&1)!==0&&(n.flags&128)===0}function kI(n){if(lr){var e=zo;if(e){var t=e;if(!gH(n,e)){if(OI(n))throw Error(ot(418));e=Nd(t.nextSibling);var r=Jo;e&&gH(n,e)?nX(r,t):(n.flags=n.flags&-4097|2,lr=!1,Jo=n)}}else{if(OI(n))throw Error(ot(418));n.flags=n.flags&-4097|2,lr=!1,Jo=n}}}function vH(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;Jo=n}function ME(n){if(n!==Jo)return!1;if(!lr)return vH(n),lr=!0,!1;var e;if((e=n.tag!==3)&&!(e=n.tag!==5)&&(e=n.type,e=e!=="head"&&e!=="body"&&!DI(n.type,n.memoizedProps)),e&&(e=zo)){if(OI(n))throw rX(),Error(ot(418));for(;e;)nX(n,e),e=Nd(e.nextSibling)}if(vH(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(ot(317));e:{for(n=n.nextSibling,e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="/$"){if(e===0){zo=Nd(n.nextSibling);break e}e--}else t!=="$"&&t!=="$!"&&t!=="$?"||e++}n=n.nextSibling}zo=null}}else zo=Jo?Nd(n.stateNode.nextSibling):null;return!0}function rX(){for(var n=zo;n;)n=Nd(n.nextSibling)}function Cy(){zo=Jo=null,lr=!1}function XN(n){El===null?El=[n]:El.push(n)}var soe=Th.ReactCurrentBatchConfig;function yl(n,e){if(n&&n.defaultProps){e=Pr({},e),n=n.defaultProps;for(var t in n)e[t]===void 0&&(e[t]=n[t]);return e}return e}var kT=wf(null),GT=null,S0=null,JN=null;function YN(){JN=S0=GT=null}function KN(n){var e=kT.current;rr(kT),n._currentValue=e}function GI(n,e,t){for(;n!==null;){var r=n.alternate;if((n.childLanes&e)!==e?(n.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),n===t)break;n=n.return}}function oy(n,e){GT=n,JN=S0=null,n=n.dependencies,n!==null&&n.firstContext!==null&&(n.lanes&e&&(uo=!0),n.firstContext=null)}function Xa(n){var e=n._currentValue;if(JN!==n)if(n={context:n,memoizedValue:e,next:null},S0===null){if(GT===null)throw Error(ot(308));S0=n,GT.dependencies={lanes:0,firstContext:n}}else S0=S0.next=n;return e}var hm=null;function QN(n){hm===null?hm=[n]:hm.push(n)}function iX(n,e,t,r){var i=e.interleaved;return i===null?(t.next=t,QN(e)):(t.next=i.next,i.next=t),e.interleaved=t,vh(n,r)}function vh(n,e){n.lanes|=e;var t=n.alternate;for(t!==null&&(t.lanes|=e),t=n,n=n.return;n!==null;)n.childLanes|=e,t=n.alternate,t!==null&&(t.childLanes|=e),t=n,n=n.return;return t.tag===3?t.stateNode:null}var gd=!1;function qN(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function sX(n,e){n=n.updateQueue,e.updateQueue===n&&(e.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function ah(n,e){return{eventTime:n,lane:e,tag:0,payload:null,callback:null,next:null}}function Ud(n,e,t){var r=n.updateQueue;if(r===null)return null;if(r=r.shared,Cn&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,vh(n,t)}return i=r.interleaved,i===null?(e.next=e,QN(r)):(e.next=i.next,i.next=e),r.interleaved=e,vh(n,t)}function zw(n,e,t){if(e=e.updateQueue,e!==null&&(e=e.shared,(t&4194240)!==0)){var r=e.lanes;r&=n.pendingLanes,t|=r,e.lanes=t,NN(n,t)}}function yH(n,e){var t=n.updateQueue,r=n.alternate;if(r!==null&&(r=r.updateQueue,t===r)){var i=null,s=null;if(t=t.firstBaseUpdate,t!==null){do{var o={eventTime:t.eventTime,lane:t.lane,tag:t.tag,payload:t.payload,callback:t.callback,next:null};s===null?i=s=o:s=s.next=o,t=t.next}while(t!==null);s===null?i=s=e:s=s.next=e}else i=s=e;t={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},n.updateQueue=t;return}n=t.lastBaseUpdate,n===null?t.firstBaseUpdate=e:n.next=e,t.lastBaseUpdate=e}function zT(n,e,t,r){var i=n.updateQueue;gd=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var h=n.alternate;h!==null&&(h=h.updateQueue,a=h.lastBaseUpdate,a!==o&&(a===null?h.firstBaseUpdate=u:a.next=u,h.lastBaseUpdate=l))}if(s!==null){var f=i.baseState;o=0,h=u=l=null,a=s;do{var p=a.lane,m=a.eventTime;if((r&p)===p){h!==null&&(h=h.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var v=n,S=a;switch(p=e,m=t,S.tag){case 1:if(v=S.payload,typeof v=="function"){f=v.call(m,f,p);break e}f=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=S.payload,p=typeof v=="function"?v.call(m,f,p):v,p==null)break e;f=Pr({},f,p);break e;case 2:gd=!0}}a.callback!==null&&a.lane!==0&&(n.flags|=64,p=i.effects,p===null?i.effects=[a]:p.push(a))}else m={eventTime:m,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},h===null?(u=h=m,l=f):h=h.next=m,o|=p;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;p=a,a=p.next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}while(1);if(h===null&&(l=f),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=h,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Km|=o,n.lanes=o,n.memoizedState=f}}function xH(n,e,t){if(n=e.effects,e.effects=null,n!==null)for(e=0;e<n.length;e++){var r=n[e],i=r.callback;if(i!==null){if(r.callback=null,r=t,typeof i!="function")throw Error(ot(191,i));i.call(r)}}}var oX=new i7.Component().refs;function zI(n,e,t,r){e=n.memoizedState,t=t(r,e),t=t==null?e:Pr({},e,t),n.memoizedState=t,n.lanes===0&&(n.updateQueue.baseState=t)}var sR={isMounted:function(n){return(n=n._reactInternals)?hg(n)===n:!1},enqueueSetState:function(n,e,t){n=n._reactInternals;var r=Hs(),i=kd(n),s=ah(r,i);s.payload=e,t!=null&&(s.callback=t),e=Ud(n,s,i),e!==null&&(Rl(e,n,i,r),zw(e,n,i))},enqueueReplaceState:function(n,e,t){n=n._reactInternals;var r=Hs(),i=kd(n),s=ah(r,i);s.tag=1,s.payload=e,t!=null&&(s.callback=t),e=Ud(n,s,i),e!==null&&(Rl(e,n,i,r),zw(e,n,i))},enqueueForceUpdate:function(n,e){n=n._reactInternals;var t=Hs(),r=kd(n),i=ah(t,r);i.tag=2,e!=null&&(i.callback=e),e=Ud(n,i,r),e!==null&&(Rl(e,n,r,t),zw(e,n,r))}};function AH(n,e,t,r,i,s,o){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!O_(t,r)||!O_(i,s):!0}function aX(n,e,t){var r=!1,i=lf,s=e.contextType;return typeof s=="object"&&s!==null?s=Xa(s):(i=fo(e)?Xm:bs.current,r=e.contextTypes,s=(r=r!=null)?Ty(n,i):lf),e=new e(t,s),n.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=sR,n.stateNode=e,e._reactInternals=n,r&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=i,n.__reactInternalMemoizedMaskedChildContext=s),e}function _H(n,e,t,r){n=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(t,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(t,r),e.state!==n&&sR.enqueueReplaceState(e,e.state,null)}function HI(n,e,t,r){var i=n.stateNode;i.props=t,i.state=n.memoizedState,i.refs=oX,qN(n);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Xa(s):(s=fo(e)?Xm:bs.current,i.context=Ty(n,s)),i.state=n.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(zI(n,e,s,t),i.state=n.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&sR.enqueueReplaceState(i,i.state,null),zT(n,t,i,r),i.state=n.memoizedState),typeof i.componentDidMount=="function"&&(n.flags|=4194308)}function GA(n,e,t){if(n=t.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(t._owner){if(t=t._owner,t){if(t.tag!==1)throw Error(ot(309));var r=t.stateNode}if(!r)throw Error(ot(147,n));var i=r,s=""+n;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;a===oX&&(a=i.refs={}),o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof n!="string")throw Error(ot(284));if(!t._owner)throw Error(ot(290,n))}return n}function SE(n,e){throw n=Object.prototype.toString.call(e),Error(ot(31,n==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":n))}function MH(n){var e=n._init;return e(n._payload)}function lX(n){function e(g,M){if(n){var _=g.deletions;_===null?(g.deletions=[M],g.flags|=16):_.push(M)}}function t(g,M){if(!n)return null;for(;M!==null;)e(g,M),M=M.sibling;return null}function r(g,M){for(g=new Map;M!==null;)M.key!==null?g.set(M.key,M):g.set(M.index,M),M=M.sibling;return g}function i(g,M){return g=Gd(g,M),g.index=0,g.sibling=null,g}function s(g,M,_){return g.index=_,n?(_=g.alternate,_!==null?(_=_.index,_<M?(g.flags|=2,M):_):(g.flags|=2,M)):(g.flags|=1048576,M)}function o(g){return n&&g.alternate===null&&(g.flags|=2),g}function a(g,M,_,b){return M===null||M.tag!==6?(M=_B(_,g.mode,b),M.return=g,M):(M=i(M,_),M.return=g,M)}function l(g,M,_,b){var T=_.type;return T===m0?h(g,M,_.props.children,b,_.key):M!==null&&(M.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===md&&MH(T)===M.type)?(b=i(M,_.props),b.ref=GA(g,M,_),b.return=g,b):(b=Jw(_.type,_.key,_.props,null,g.mode,b),b.ref=GA(g,M,_),b.return=g,b)}function u(g,M,_,b){return M===null||M.tag!==4||M.stateNode.containerInfo!==_.containerInfo||M.stateNode.implementation!==_.implementation?(M=MB(_,g.mode,b),M.return=g,M):(M=i(M,_.children||[]),M.return=g,M)}function h(g,M,_,b,T){return M===null||M.tag!==7?(M=Lm(_,g.mode,b,T),M.return=g,M):(M=i(M,_),M.return=g,M)}function f(g,M,_){if(typeof M=="string"&&M!==""||typeof M=="number")return M=_B(""+M,g.mode,_),M.return=g,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case dE:return _=Jw(M.type,M.key,M.props,null,g.mode,_),_.ref=GA(g,null,M),_.return=g,_;case p0:return M=MB(M,g.mode,_),M.return=g,M;case md:var b=M._init;return f(g,b(M._payload),_)}if(N1(M)||FA(M))return M=Lm(M,g.mode,_,null),M.return=g,M;SE(g,M)}return null}function p(g,M,_,b){var T=M!==null?M.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return T!==null?null:a(g,M,""+_,b);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case dE:return _.key===T?l(g,M,_,b):null;case p0:return _.key===T?u(g,M,_,b):null;case md:return T=_._init,p(g,M,T(_._payload),b)}if(N1(_)||FA(_))return T!==null?null:h(g,M,_,b,null);SE(g,_)}return null}function m(g,M,_,b,T){if(typeof b=="string"&&b!==""||typeof b=="number")return g=g.get(_)||null,a(M,g,""+b,T);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case dE:return g=g.get(b.key===null?_:b.key)||null,l(M,g,b,T);case p0:return g=g.get(b.key===null?_:b.key)||null,u(M,g,b,T);case md:var C=b._init;return m(g,M,_,C(b._payload),T)}if(N1(b)||FA(b))return g=g.get(_)||null,h(M,g,b,T,null);SE(M,b)}return null}function v(g,M,_,b){for(var T=null,C=null,B=M,P=M=0,R=null;B!==null&&P<_.length;P++){B.index>P?(R=B,B=null):R=B.sibling;var L=p(g,B,_[P],b);if(L===null){B===null&&(B=R);break}n&&B&&L.alternate===null&&e(g,B),M=s(L,M,P),C===null?T=L:C.sibling=L,C=L,B=R}if(P===_.length)return t(g,B),lr&&jp(g,P),T;if(B===null){for(;P<_.length;P++)B=f(g,_[P],b),B!==null&&(M=s(B,M,P),C===null?T=B:C.sibling=B,C=B);return lr&&jp(g,P),T}for(B=r(g,B);P<_.length;P++)R=m(B,g,P,_[P],b),R!==null&&(n&&R.alternate!==null&&B.delete(R.key===null?P:R.key),M=s(R,M,P),C===null?T=R:C.sibling=R,C=R);return n&&B.forEach(function(U){return e(g,U)}),lr&&jp(g,P),T}function S(g,M,_,b){var T=FA(_);if(typeof T!="function")throw Error(ot(150));if(_=T.call(_),_==null)throw Error(ot(151));for(var C=T=null,B=M,P=M=0,R=null,L=_.next();B!==null&&!L.done;P++,L=_.next()){B.index>P?(R=B,B=null):R=B.sibling;var U=p(g,B,L.value,b);if(U===null){B===null&&(B=R);break}n&&B&&U.alternate===null&&e(g,B),M=s(U,M,P),C===null?T=U:C.sibling=U,C=U,B=R}if(L.done)return t(g,B),lr&&jp(g,P),T;if(B===null){for(;!L.done;P++,L=_.next())L=f(g,L.value,b),L!==null&&(M=s(L,M,P),C===null?T=L:C.sibling=L,C=L);return lr&&jp(g,P),T}for(B=r(g,B);!L.done;P++,L=_.next())L=m(B,g,P,L.value,b),L!==null&&(n&&L.alternate!==null&&B.delete(L.key===null?P:L.key),M=s(L,M,P),C===null?T=L:C.sibling=L,C=L);return n&&B.forEach(function(Q){return e(g,Q)}),lr&&jp(g,P),T}function A(g,M,_,b){if(typeof _=="object"&&_!==null&&_.type===m0&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case dE:e:{for(var T=_.key,C=M;C!==null;){if(C.key===T){if(T=_.type,T===m0){if(C.tag===7){t(g,C.sibling),M=i(C,_.props.children),M.return=g,g=M;break e}}else if(C.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===md&&MH(T)===C.type){t(g,C.sibling),M=i(C,_.props),M.ref=GA(g,C,_),M.return=g,g=M;break e}t(g,C);break}else e(g,C);C=C.sibling}_.type===m0?(M=Lm(_.props.children,g.mode,b,_.key),M.return=g,g=M):(b=Jw(_.type,_.key,_.props,null,g.mode,b),b.ref=GA(g,M,_),b.return=g,g=b)}return o(g);case p0:e:{for(C=_.key;M!==null;){if(M.key===C)if(M.tag===4&&M.stateNode.containerInfo===_.containerInfo&&M.stateNode.implementation===_.implementation){t(g,M.sibling),M=i(M,_.children||[]),M.return=g,g=M;break e}else{t(g,M);break}else e(g,M);M=M.sibling}M=MB(_,g.mode,b),M.return=g,g=M}return o(g);case md:return C=_._init,A(g,M,C(_._payload),b)}if(N1(_))return v(g,M,_,b);if(FA(_))return S(g,M,_,b);SE(g,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,M!==null&&M.tag===6?(t(g,M.sibling),M=i(M,_),M.return=g,g=M):(t(g,M),M=_B(_,g.mode,b),M.return=g,g=M),o(g)):t(g,M)}return A}var Ry=lX(!0),uX=lX(!1),QM={},Fu=wf(QM),H_=wf(QM),V_=wf(QM);function dm(n){if(n===QM)throw Error(ot(174));return n}function ZN(n,e){switch(Yn(V_,e),Yn(H_,n),Yn(Fu,QM),n=e.nodeType,n){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:AI(null,"");break;default:n=n===8?e.parentNode:e,e=n.namespaceURI||null,n=n.tagName,e=AI(e,n)}rr(Fu),Yn(Fu,e)}function Py(){rr(Fu),rr(H_),rr(V_)}function cX(n){dm(V_.current);var e=dm(Fu.current),t=AI(e,n.type);e!==t&&(Yn(H_,n),Yn(Fu,t))}function $N(n){H_.current===n&&(rr(Fu),rr(H_))}var yr=wf(0);function HT(n){for(var e=n;e!==null;){if(e.tag===13){var t=e.memoizedState;if(t!==null&&(t=t.dehydrated,t===null||t.data==="$?"||t.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var mB=[];function eU(){for(var n=0;n<mB.length;n++)mB[n]._workInProgressVersionPrimary=null;mB.length=0}var Hw=Th.ReactCurrentDispatcher,gB=Th.ReactCurrentBatchConfig,Ym=0,Cr=null,vi=null,Oi=null,VT=!1,e_=!1,W_=0,ooe=0;function ms(){throw Error(ot(321))}function tU(n,e){if(e===null)return!1;for(var t=0;t<e.length&&t<n.length;t++)if(!Ol(n[t],e[t]))return!1;return!0}function nU(n,e,t,r,i,s){if(Ym=s,Cr=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Hw.current=n===null||n.memoizedState===null?coe:hoe,n=t(r,i),e_){s=0;do{if(e_=!1,W_=0,25<=s)throw Error(ot(301));s+=1,Oi=vi=null,e.updateQueue=null,Hw.current=doe,n=t(r,i)}while(e_)}if(Hw.current=WT,e=vi!==null&&vi.next!==null,Ym=0,Oi=vi=Cr=null,VT=!1,e)throw Error(ot(300));return n}function rU(){var n=W_!==0;return W_=0,n}function Mu(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Oi===null?Cr.memoizedState=Oi=n:Oi=Oi.next=n,Oi}function Ja(){if(vi===null){var n=Cr.alternate;n=n!==null?n.memoizedState:null}else n=vi.next;var e=Oi===null?Cr.memoizedState:Oi.next;if(e!==null)Oi=e,vi=n;else{if(n===null)throw Error(ot(310));vi=n,n={memoizedState:vi.memoizedState,baseState:vi.baseState,baseQueue:vi.baseQueue,queue:vi.queue,next:null},Oi===null?Cr.memoizedState=Oi=n:Oi=Oi.next=n}return Oi}function j_(n,e){return typeof e=="function"?e(n):e}function vB(n){var e=Ja(),t=e.queue;if(t===null)throw Error(ot(311));t.lastRenderedReducer=n;var r=vi,i=r.baseQueue,s=t.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,t.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,u=s;do{var h=u.lane;if((Ym&h)===h)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:n(r,u.action);else{var f={lane:h,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=f,o=r):l=l.next=f,Cr.lanes|=h,Km|=h}u=u.next}while(u!==null&&u!==s);l===null?o=r:l.next=a,Ol(r,e.memoizedState)||(uo=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,t.lastRenderedState=r}if(n=t.interleaved,n!==null){i=n;do s=i.lane,Cr.lanes|=s,Km|=s,i=i.next;while(i!==n)}else i===null&&(t.lanes=0);return[e.memoizedState,t.dispatch]}function yB(n){var e=Ja(),t=e.queue;if(t===null)throw Error(ot(311));t.lastRenderedReducer=n;var r=t.dispatch,i=t.pending,s=e.memoizedState;if(i!==null){t.pending=null;var o=i=i.next;do s=n(s,o.action),o=o.next;while(o!==i);Ol(s,e.memoizedState)||(uo=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),t.lastRenderedState=s}return[s,r]}function hX(){}function dX(n,e){var t=Cr,r=Ja(),i=e(),s=!Ol(r.memoizedState,i);if(s&&(r.memoizedState=i,uo=!0),r=r.queue,iU(mX.bind(null,t,r,n),[n]),r.getSnapshot!==e||s||Oi!==null&&Oi.memoizedState.tag&1){if(t.flags|=2048,X_(9,pX.bind(null,t,r,i,e),void 0,null),zi===null)throw Error(ot(349));Ym&30||fX(t,e,i)}return i}function fX(n,e,t){n.flags|=16384,n={getSnapshot:e,value:t},e=Cr.updateQueue,e===null?(e={lastEffect:null,stores:null},Cr.updateQueue=e,e.stores=[n]):(t=e.stores,t===null?e.stores=[n]:t.push(n))}function pX(n,e,t,r){e.value=t,e.getSnapshot=r,gX(e)&&vX(n)}function mX(n,e,t){return t(function(){gX(e)&&vX(n)})}function gX(n){var e=n.getSnapshot;n=n.value;try{var t=e();return!Ol(n,t)}catch{return!0}}function vX(n){var e=vh(n,1);e!==null&&Rl(e,n,1,-1)}function SH(n){var e=Mu();return typeof n=="function"&&(n=n()),e.memoizedState=e.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:j_,lastRenderedState:n},e.queue=n,n=n.dispatch=uoe.bind(null,Cr,n),[e.memoizedState,n]}function X_(n,e,t,r){return n={tag:n,create:e,destroy:t,deps:r,next:null},e=Cr.updateQueue,e===null?(e={lastEffect:null,stores:null},Cr.updateQueue=e,e.lastEffect=n.next=n):(t=e.lastEffect,t===null?e.lastEffect=n.next=n:(r=t.next,t.next=n,n.next=r,e.lastEffect=n)),n}function yX(){return Ja().memoizedState}function Vw(n,e,t,r){var i=Mu();Cr.flags|=n,i.memoizedState=X_(1|e,t,void 0,r===void 0?null:r)}function oR(n,e,t,r){var i=Ja();r=r===void 0?null:r;var s=void 0;if(vi!==null){var o=vi.memoizedState;if(s=o.destroy,r!==null&&tU(r,o.deps)){i.memoizedState=X_(e,t,s,r);return}}Cr.flags|=n,i.memoizedState=X_(1|e,t,s,r)}function EH(n,e){return Vw(8390656,8,n,e)}function iU(n,e){return oR(2048,8,n,e)}function xX(n,e){return oR(4,2,n,e)}function AX(n,e){return oR(4,4,n,e)}function _X(n,e){if(typeof e=="function")return n=n(),e(n),function(){e(null)};if(e!=null)return n=n(),e.current=n,function(){e.current=null}}function MX(n,e,t){return t=t!=null?t.concat([n]):null,oR(4,4,_X.bind(null,e,n),t)}function sU(){}function SX(n,e){var t=Ja();e=e===void 0?null:e;var r=t.memoizedState;return r!==null&&e!==null&&tU(e,r[1])?r[0]:(t.memoizedState=[n,e],n)}function EX(n,e){var t=Ja();e=e===void 0?null:e;var r=t.memoizedState;return r!==null&&e!==null&&tU(e,r[1])?r[0]:(n=n(),t.memoizedState=[n,e],n)}function bX(n,e,t){return Ym&21?(Ol(t,e)||(t=C7(),Cr.lanes|=t,Km|=t,n.baseState=!0),e):(n.baseState&&(n.baseState=!1,uo=!0),n.memoizedState=t)}function aoe(n,e){var t=zn;zn=t!==0&&4>t?t:4,n(!0);var r=gB.transition;gB.transition={};try{n(!1),e()}finally{zn=t,gB.transition=r}}function wX(){return Ja().memoizedState}function loe(n,e,t){var r=kd(n);if(t={lane:r,action:t,hasEagerState:!1,eagerState:null,next:null},TX(n))CX(e,t);else if(t=iX(n,e,t,r),t!==null){var i=Hs();Rl(t,n,r,i),RX(t,e,r)}}function uoe(n,e,t){var r=kd(n),i={lane:r,action:t,hasEagerState:!1,eagerState:null,next:null};if(TX(n))CX(e,i);else{var s=n.alternate;if(n.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,t);if(i.hasEagerState=!0,i.eagerState=a,Ol(a,o)){var l=e.interleaved;l===null?(i.next=i,QN(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}t=iX(n,e,i,r),t!==null&&(i=Hs(),Rl(t,n,r,i),RX(t,e,r))}}function TX(n){var e=n.alternate;return n===Cr||e!==null&&e===Cr}function CX(n,e){e_=VT=!0;var t=n.pending;t===null?e.next=e:(e.next=t.next,t.next=e),n.pending=e}function RX(n,e,t){if(t&4194240){var r=e.lanes;r&=n.pendingLanes,t|=r,e.lanes=t,NN(n,t)}}var WT={readContext:Xa,useCallback:ms,useContext:ms,useEffect:ms,useImperativeHandle:ms,useInsertionEffect:ms,useLayoutEffect:ms,useMemo:ms,useReducer:ms,useRef:ms,useState:ms,useDebugValue:ms,useDeferredValue:ms,useTransition:ms,useMutableSource:ms,useSyncExternalStore:ms,useId:ms,unstable_isNewReconciler:!1},coe={readContext:Xa,useCallback:function(n,e){return Mu().memoizedState=[n,e===void 0?null:e],n},useContext:Xa,useEffect:EH,useImperativeHandle:function(n,e,t){return t=t!=null?t.concat([n]):null,Vw(4194308,4,_X.bind(null,e,n),t)},useLayoutEffect:function(n,e){return Vw(4194308,4,n,e)},useInsertionEffect:function(n,e){return Vw(4,2,n,e)},useMemo:function(n,e){var t=Mu();return e=e===void 0?null:e,n=n(),t.memoizedState=[n,e],n},useReducer:function(n,e,t){var r=Mu();return e=t!==void 0?t(e):e,r.memoizedState=r.baseState=e,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:e},r.queue=n,n=n.dispatch=loe.bind(null,Cr,n),[r.memoizedState,n]},useRef:function(n){var e=Mu();return n={current:n},e.memoizedState=n},useState:SH,useDebugValue:sU,useDeferredValue:function(n){return Mu().memoizedState=n},useTransition:function(){var n=SH(!1),e=n[0];return n=aoe.bind(null,n[1]),Mu().memoizedState=n,[e,n]},useMutableSource:function(){},useSyncExternalStore:function(n,e,t){var r=Cr,i=Mu();if(lr){if(t===void 0)throw Error(ot(407));t=t()}else{if(t=e(),zi===null)throw Error(ot(349));Ym&30||fX(r,e,t)}i.memoizedState=t;var s={value:t,getSnapshot:e};return i.queue=s,EH(mX.bind(null,r,s,n),[n]),r.flags|=2048,X_(9,pX.bind(null,r,s,t,e),void 0,null),t},useId:function(){var n=Mu(),e=zi.identifierPrefix;if(lr){var t=Zc,r=qc;t=(r&~(1<<32-Cl(r)-1)).toString(32)+t,e=":"+e+"R"+t,t=W_++,0<t&&(e+="H"+t.toString(32)),e+=":"}else t=ooe++,e=":"+e+"r"+t.toString(32)+":";return n.memoizedState=e},unstable_isNewReconciler:!1},hoe={readContext:Xa,useCallback:SX,useContext:Xa,useEffect:iU,useImperativeHandle:MX,useInsertionEffect:xX,useLayoutEffect:AX,useMemo:EX,useReducer:vB,useRef:yX,useState:function(){return vB(j_)},useDebugValue:sU,useDeferredValue:function(n){var e=Ja();return bX(e,vi.memoizedState,n)},useTransition:function(){var n=vB(j_)[0],e=Ja().memoizedState;return[n,e]},useMutableSource:hX,useSyncExternalStore:dX,useId:wX,unstable_isNewReconciler:!1},doe={readContext:Xa,useCallback:SX,useContext:Xa,useEffect:iU,useImperativeHandle:MX,useInsertionEffect:xX,useLayoutEffect:AX,useMemo:EX,useReducer:yB,useRef:yX,useState:function(){return yB(j_)},useDebugValue:sU,useDeferredValue:function(n){var e=Ja();return vi===null?e.memoizedState=n:bX(e,vi.memoizedState,n)},useTransition:function(){var n=yB(j_)[0],e=Ja().memoizedState;return[n,e]},useMutableSource:hX,useSyncExternalStore:dX,useId:wX,unstable_isNewReconciler:!1};function By(n,e){try{var t="",r=e;do t+=Gie(r),r=r.return;while(r);var i=t}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:n,source:e,stack:i,digest:null}}function xB(n,e,t){return{value:n,source:null,stack:t??null,digest:e??null}}function VI(n,e){try{console.error(e.value)}catch(t){setTimeout(function(){throw t})}}var foe=typeof WeakMap=="function"?WeakMap:Map;function PX(n,e,t){t=ah(-1,t),t.tag=3,t.payload={element:null};var r=e.value;return t.callback=function(){XT||(XT=!0,ZI=r),VI(n,e)},t}function BX(n,e,t){t=ah(-1,t),t.tag=3;var r=n.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;t.payload=function(){return r(i)},t.callback=function(){VI(n,e)}}var s=n.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(t.callback=function(){VI(n,e),typeof r!="function"&&(Od===null?Od=new Set([this]):Od.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),t}function bH(n,e,t){var r=n.pingCache;if(r===null){r=n.pingCache=new foe;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(t)||(i.add(t),n=Toe.bind(null,n,e,t),e.then(n,n))}function wH(n){do{var e;if((e=n.tag===13)&&(e=n.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return n;n=n.return}while(n!==null);return null}function TH(n,e,t,r,i){return n.mode&1?(n.flags|=65536,n.lanes=i,n):(n===e?n.flags|=65536:(n.flags|=128,t.flags|=131072,t.flags&=-52805,t.tag===1&&(t.alternate===null?t.tag=17:(e=ah(-1,1),e.tag=2,Ud(t,e,1))),t.lanes|=1),n)}var poe=Th.ReactCurrentOwner,uo=!1;function Gs(n,e,t,r){e.child=n===null?uX(e,null,t,r):Ry(e,n.child,t,r)}function CH(n,e,t,r,i){t=t.render;var s=e.ref;return oy(e,i),r=nU(n,e,t,r,s,i),t=rU(),n!==null&&!uo?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~i,yh(n,e,i)):(lr&&t&&WN(e),e.flags|=1,Gs(n,e,r,i),e.child)}function RH(n,e,t,r,i){if(n===null){var s=t.type;return typeof s=="function"&&!fU(s)&&s.defaultProps===void 0&&t.compare===null&&t.defaultProps===void 0?(e.tag=15,e.type=s,LX(n,e,s,r,i)):(n=Jw(t.type,null,r,e,e.mode,i),n.ref=e.ref,n.return=e,e.child=n)}if(s=n.child,!(n.lanes&i)){var o=s.memoizedProps;if(t=t.compare,t=t!==null?t:O_,t(o,r)&&n.ref===e.ref)return yh(n,e,i)}return e.flags|=1,n=Gd(s,r),n.ref=e.ref,n.return=e,e.child=n}function LX(n,e,t,r,i){if(n!==null){var s=n.memoizedProps;if(O_(s,r)&&n.ref===e.ref)if(uo=!1,e.pendingProps=r=s,(n.lanes&i)!==0)n.flags&131072&&(uo=!0);else return e.lanes=n.lanes,yh(n,e,i)}return WI(n,e,t,r,i)}function IX(n,e,t){var r=e.pendingProps,i=r.children,s=n!==null?n.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Yn(b0,Uo),Uo|=t;else{if(!(t&1073741824))return n=s!==null?s.baseLanes|t:t,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:n,cachePool:null,transitions:null},e.updateQueue=null,Yn(b0,Uo),Uo|=n,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:t,Yn(b0,Uo),Uo|=r}else s!==null?(r=s.baseLanes|t,e.memoizedState=null):r=t,Yn(b0,Uo),Uo|=r;return Gs(n,e,i,t),e.child}function DX(n,e){var t=e.ref;(n===null&&t!==null||n!==null&&n.ref!==t)&&(e.flags|=512,e.flags|=2097152)}function WI(n,e,t,r,i){var s=fo(t)?Xm:bs.current;return s=Ty(e,s),oy(e,i),t=nU(n,e,t,r,s,i),r=rU(),n!==null&&!uo?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~i,yh(n,e,i)):(lr&&r&&WN(e),e.flags|=1,Gs(n,e,t,i),e.child)}function PH(n,e,t,r,i){if(fo(t)){var s=!0;NT(e)}else s=!1;if(oy(e,i),e.stateNode===null)Ww(n,e),aX(e,t,r),HI(e,t,r,i),r=!0;else if(n===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=t.contextType;typeof u=="object"&&u!==null?u=Xa(u):(u=fo(t)?Xm:bs.current,u=Ty(e,u));var h=t.getDerivedStateFromProps,f=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&_H(e,o,r,u),gd=!1;var p=e.memoizedState;o.state=p,zT(e,r,o,i),l=e.memoizedState,a!==r||p!==l||ho.current||gd?(typeof h=="function"&&(zI(e,t,h,r),l=e.memoizedState),(a=gd||AH(e,t,a,r,p,l,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,sX(n,e),a=e.memoizedProps,u=e.type===e.elementType?a:yl(e.type,a),o.props=u,f=e.pendingProps,p=o.context,l=t.contextType,typeof l=="object"&&l!==null?l=Xa(l):(l=fo(t)?Xm:bs.current,l=Ty(e,l));var m=t.getDerivedStateFromProps;(h=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==f||p!==l)&&_H(e,o,r,l),gd=!1,p=e.memoizedState,o.state=p,zT(e,r,o,i);var v=e.memoizedState;a!==f||p!==v||ho.current||gd?(typeof m=="function"&&(zI(e,t,m,r),v=e.memoizedState),(u=gd||AH(e,t,u,r,p,v,l)||!1)?(h||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,v,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,v,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===n.memoizedProps&&p===n.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===n.memoizedProps&&p===n.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=v),o.props=r,o.state=v,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===n.memoizedProps&&p===n.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===n.memoizedProps&&p===n.memoizedState||(e.flags|=1024),r=!1)}return jI(n,e,t,r,s,i)}function jI(n,e,t,r,i,s){DX(n,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&mH(e,t,!1),yh(n,e,s);r=e.stateNode,poe.current=e;var a=o&&typeof t.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,n!==null&&o?(e.child=Ry(e,n.child,null,s),e.child=Ry(e,null,a,s)):Gs(n,e,a,s),e.memoizedState=r.state,i&&mH(e,t,!0),e.child}function FX(n){var e=n.stateNode;e.pendingContext?pH(n,e.pendingContext,e.pendingContext!==e.context):e.context&&pH(n,e.context,!1),ZN(n,e.containerInfo)}function BH(n,e,t,r,i){return Cy(),XN(i),e.flags|=256,Gs(n,e,t,r),e.child}var XI={dehydrated:null,treeContext:null,retryLane:0};function JI(n){return{baseLanes:n,cachePool:null,transitions:null}}function NX(n,e,t){var r=e.pendingProps,i=yr.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=n!==null&&n.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(n===null||n.memoizedState!==null)&&(i|=1),Yn(yr,i&1),n===null)return kI(e),n=e.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?(e.mode&1?n.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,n=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=uR(o,r,0,null),n=Lm(n,r,t,null),s.return=e,n.return=e,s.sibling=n,e.child=s,e.child.memoizedState=JI(t),e.memoizedState=XI,n):oU(e,o));if(i=n.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return moe(n,e,o,r,a,i,t);if(s){s=r.fallback,o=e.mode,i=n.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Gd(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Gd(a,s):(s=Lm(s,o,t,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=n.child.memoizedState,o=o===null?JI(t):{baseLanes:o.baseLanes|t,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=n.childLanes&~t,e.memoizedState=XI,r}return s=n.child,n=s.sibling,r=Gd(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=t),r.return=e,r.sibling=null,n!==null&&(t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)),e.child=r,e.memoizedState=null,r}function oU(n,e){return e=uR({mode:"visible",children:e},n.mode,0,null),e.return=n,n.child=e}function EE(n,e,t,r){return r!==null&&XN(r),Ry(e,n.child,null,t),n=oU(e,e.pendingProps.children),n.flags|=2,e.memoizedState=null,n}function moe(n,e,t,r,i,s,o){if(t)return e.flags&256?(e.flags&=-257,r=xB(Error(ot(422))),EE(n,e,o,r)):e.memoizedState!==null?(e.child=n.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=uR({mode:"visible",children:r.children},i,0,null),s=Lm(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Ry(e,n.child,null,o),e.child.memoizedState=JI(o),e.memoizedState=XI,s);if(!(e.mode&1))return EE(n,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(ot(419)),r=xB(s,r,void 0),EE(n,e,o,r)}if(a=(o&n.childLanes)!==0,uo||a){if(r=zi,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,vh(n,i),Rl(r,n,i,-1))}return dU(),r=xB(Error(ot(421))),EE(n,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=n.child,e=Coe.bind(null,n),i._reactRetry=e,null):(n=s.treeContext,zo=Nd(i.nextSibling),Jo=e,lr=!0,El=null,n!==null&&(Na[Ua++]=qc,Na[Ua++]=Zc,Na[Ua++]=Jm,qc=n.id,Zc=n.overflow,Jm=e),e=oU(e,r.children),e.flags|=4096,e)}function LH(n,e,t){n.lanes|=e;var r=n.alternate;r!==null&&(r.lanes|=e),GI(n.return,e,t)}function AB(n,e,t,r,i){var s=n.memoizedState;s===null?n.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:t,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=t,s.tailMode=i)}function UX(n,e,t){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Gs(n,e,r.children,t),r=yr.current,r&2)r=r&1|2,e.flags|=128;else{if(n!==null&&n.flags&128)e:for(n=e.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&LH(n,t,e);else if(n.tag===19)LH(n,t,e);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}r&=1}if(Yn(yr,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(t=e.child,i=null;t!==null;)n=t.alternate,n!==null&&HT(n)===null&&(i=t),t=t.sibling;t=i,t===null?(i=e.child,e.child=null):(i=t.sibling,t.sibling=null),AB(e,!1,i,t,s);break;case"backwards":for(t=null,i=e.child,e.child=null;i!==null;){if(n=i.alternate,n!==null&&HT(n)===null){e.child=i;break}n=i.sibling,i.sibling=t,t=i,i=n}AB(e,!0,t,null,s);break;case"together":AB(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Ww(n,e){!(e.mode&1)&&n!==null&&(n.alternate=null,e.alternate=null,e.flags|=2)}function yh(n,e,t){if(n!==null&&(e.dependencies=n.dependencies),Km|=e.lanes,!(t&e.childLanes))return null;if(n!==null&&e.child!==n.child)throw Error(ot(153));if(e.child!==null){for(n=e.child,t=Gd(n,n.pendingProps),e.child=t,t.return=e;n.sibling!==null;)n=n.sibling,t=t.sibling=Gd(n,n.pendingProps),t.return=e;t.sibling=null}return e.child}function goe(n,e,t){switch(e.tag){case 3:FX(e),Cy();break;case 5:cX(e);break;case 1:fo(e.type)&&NT(e);break;case 4:ZN(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Yn(kT,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Yn(yr,yr.current&1),e.flags|=128,null):t&e.child.childLanes?NX(n,e,t):(Yn(yr,yr.current&1),n=yh(n,e,t),n!==null?n.sibling:null);Yn(yr,yr.current&1);break;case 19:if(r=(t&e.childLanes)!==0,n.flags&128){if(r)return UX(n,e,t);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Yn(yr,yr.current),r)break;return null;case 22:case 23:return e.lanes=0,IX(n,e,t)}return yh(n,e,t)}var OX,YI,kX,GX;OX=function(n,e){for(var t=e.child;t!==null;){if(t.tag===5||t.tag===6)n.appendChild(t.stateNode);else if(t.tag!==4&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return;t=t.return}t.sibling.return=t.return,t=t.sibling}};YI=function(){};kX=function(n,e,t,r){var i=n.memoizedProps;if(i!==r){n=e.stateNode,dm(Fu.current);var s=null;switch(t){case"input":i=gI(n,i),r=gI(n,r),s=[];break;case"select":i=Pr({},i,{value:void 0}),r=Pr({},r,{value:void 0}),s=[];break;case"textarea":i=xI(n,i),r=xI(n,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(n.onclick=DT)}_I(t,r);var o;t=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(t||(t={}),t[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(B_.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(t||(t={}),t[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(t||(t={}),t[o]=l[o])}else t||(s||(s=[]),s.push(u,t)),t=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(B_.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&$n("scroll",n),s||a===l||(s=[])):(s=s||[]).push(u,l))}t&&(s=s||[]).push("style",t);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};GX=function(n,e,t,r){t!==r&&(e.flags|=4)};function zA(n,e){if(!lr)switch(n.tailMode){case"hidden":e=n.tail;for(var t=null;e!==null;)e.alternate!==null&&(t=e),e=e.sibling;t===null?n.tail=null:t.sibling=null;break;case"collapsed":t=n.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e||n.tail===null?n.tail=null:n.tail.sibling=null:r.sibling=null}}function gs(n){var e=n.alternate!==null&&n.alternate.child===n.child,t=0,r=0;if(e)for(var i=n.child;i!==null;)t|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=n,i=i.sibling;else for(i=n.child;i!==null;)t|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=n,i=i.sibling;return n.subtreeFlags|=r,n.childLanes=t,e}function voe(n,e,t){var r=e.pendingProps;switch(jN(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return gs(e),null;case 1:return fo(e.type)&&FT(),gs(e),null;case 3:return r=e.stateNode,Py(),rr(ho),rr(bs),eU(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(n===null||n.child===null)&&(ME(e)?e.flags|=4:n===null||n.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,El!==null&&(tD(El),El=null))),YI(n,e),gs(e),null;case 5:$N(e);var i=dm(V_.current);if(t=e.type,n!==null&&e.stateNode!=null)kX(n,e,t,r,i),n.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(ot(166));return gs(e),null}if(n=dm(Fu.current),ME(e)){r=e.stateNode,t=e.type;var s=e.memoizedProps;switch(r[Cu]=e,r[z_]=s,n=(e.mode&1)!==0,t){case"dialog":$n("cancel",r),$n("close",r);break;case"iframe":case"object":case"embed":$n("load",r);break;case"video":case"audio":for(i=0;i<O1.length;i++)$n(O1[i],r);break;case"source":$n("error",r);break;case"img":case"image":case"link":$n("error",r),$n("load",r);break;case"details":$n("toggle",r);break;case"input":zz(r,s),$n("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},$n("invalid",r);break;case"textarea":Vz(r,s),$n("invalid",r)}_I(t,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&_E(r.textContent,a,n),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&_E(r.textContent,a,n),i=["children",""+a]):B_.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&$n("scroll",r)}switch(t){case"input":fE(r),Hz(r,s,!0);break;case"textarea":fE(r),Wz(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=DT)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=f7(t)),n==="http://www.w3.org/1999/xhtml"?t==="script"?(n=o.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof r.is=="string"?n=o.createElement(t,{is:r.is}):(n=o.createElement(t),t==="select"&&(o=n,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):n=o.createElementNS(n,t),n[Cu]=e,n[z_]=r,OX(n,e,!1,!1),e.stateNode=n;e:{switch(o=MI(t,r),t){case"dialog":$n("cancel",n),$n("close",n),i=r;break;case"iframe":case"object":case"embed":$n("load",n),i=r;break;case"video":case"audio":for(i=0;i<O1.length;i++)$n(O1[i],n);i=r;break;case"source":$n("error",n),i=r;break;case"img":case"image":case"link":$n("error",n),$n("load",n),i=r;break;case"details":$n("toggle",n),i=r;break;case"input":zz(n,r),i=gI(n,r),$n("invalid",n);break;case"option":i=r;break;case"select":n._wrapperState={wasMultiple:!!r.multiple},i=Pr({},r,{value:void 0}),$n("invalid",n);break;case"textarea":Vz(n,r),i=xI(n,r),$n("invalid",n);break;default:i=r}_I(t,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?g7(n,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&p7(n,l)):s==="children"?typeof l=="string"?(t!=="textarea"||l!=="")&&L_(n,l):typeof l=="number"&&L_(n,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(B_.hasOwnProperty(s)?l!=null&&s==="onScroll"&&$n("scroll",n):l!=null&&PN(n,s,l,o))}switch(t){case"input":fE(n),Hz(n,r,!1);break;case"textarea":fE(n),Wz(n);break;case"option":r.value!=null&&n.setAttribute("value",""+af(r.value));break;case"select":n.multiple=!!r.multiple,s=r.value,s!=null?ny(n,!!r.multiple,s,!1):r.defaultValue!=null&&ny(n,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(n.onclick=DT)}switch(t){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return gs(e),null;case 6:if(n&&e.stateNode!=null)GX(n,e,n.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(ot(166));if(t=dm(V_.current),dm(Fu.current),ME(e)){if(r=e.stateNode,t=e.memoizedProps,r[Cu]=e,(s=r.nodeValue!==t)&&(n=Jo,n!==null))switch(n.tag){case 3:_E(r.nodeValue,t,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&_E(r.nodeValue,t,(n.mode&1)!==0)}s&&(e.flags|=4)}else r=(t.nodeType===9?t:t.ownerDocument).createTextNode(r),r[Cu]=e,e.stateNode=r}return gs(e),null;case 13:if(rr(yr),r=e.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(lr&&zo!==null&&e.mode&1&&!(e.flags&128))rX(),Cy(),e.flags|=98560,s=!1;else if(s=ME(e),r!==null&&r.dehydrated!==null){if(n===null){if(!s)throw Error(ot(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(ot(317));s[Cu]=e}else Cy(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;gs(e),s=!1}else El!==null&&(tD(El),El=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=t,e):(r=r!==null,r!==(n!==null&&n.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(n===null||yr.current&1?Ai===0&&(Ai=3):dU())),e.updateQueue!==null&&(e.flags|=4),gs(e),null);case 4:return Py(),YI(n,e),n===null&&k_(e.stateNode.containerInfo),gs(e),null;case 10:return KN(e.type._context),gs(e),null;case 17:return fo(e.type)&&FT(),gs(e),null;case 19:if(rr(yr),s=e.memoizedState,s===null)return gs(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)zA(s,!1);else{if(Ai!==0||n!==null&&n.flags&128)for(n=e.child;n!==null;){if(o=HT(n),o!==null){for(e.flags|=128,zA(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=t,t=e.child;t!==null;)s=t,n=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=n,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,n=o.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t=t.sibling;return Yn(yr,yr.current&1|2),e.child}n=n.sibling}s.tail!==null&&Jr()>Ly&&(e.flags|=128,r=!0,zA(s,!1),e.lanes=4194304)}else{if(!r)if(n=HT(o),n!==null){if(e.flags|=128,r=!0,t=n.updateQueue,t!==null&&(e.updateQueue=t,e.flags|=4),zA(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!lr)return gs(e),null}else 2*Jr()-s.renderingStartTime>Ly&&t!==1073741824&&(e.flags|=128,r=!0,zA(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(t=s.last,t!==null?t.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Jr(),e.sibling=null,t=yr.current,Yn(yr,r?t&1|2:t&1),e):(gs(e),null);case 22:case 23:return hU(),r=e.memoizedState!==null,n!==null&&n.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Uo&1073741824&&(gs(e),e.subtreeFlags&6&&(e.flags|=8192)):gs(e),null;case 24:return null;case 25:return null}throw Error(ot(156,e.tag))}function yoe(n,e){switch(jN(e),e.tag){case 1:return fo(e.type)&&FT(),n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 3:return Py(),rr(ho),rr(bs),eU(),n=e.flags,n&65536&&!(n&128)?(e.flags=n&-65537|128,e):null;case 5:return $N(e),null;case 13:if(rr(yr),n=e.memoizedState,n!==null&&n.dehydrated!==null){if(e.alternate===null)throw Error(ot(340));Cy()}return n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 19:return rr(yr),null;case 4:return Py(),null;case 10:return KN(e.type._context),null;case 22:case 23:return hU(),null;case 24:return null;default:return null}}var bE=!1,Ss=!1,xoe=typeof WeakSet=="function"?WeakSet:Set,Et=null;function E0(n,e){var t=n.ref;if(t!==null)if(typeof t=="function")try{t(null)}catch(r){Ur(n,e,r)}else t.current=null}function zX(n,e,t){try{t()}catch(r){Ur(n,e,r)}}var IH=!1;function Aoe(n,e){if(LI=BT,n=W7(),VN(n)){if("selectionStart"in n)var t={start:n.selectionStart,end:n.selectionEnd};else e:{t=(t=n.ownerDocument)&&t.defaultView||window;var r=t.getSelection&&t.getSelection();if(r&&r.rangeCount!==0){t=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{t.nodeType,s.nodeType}catch{t=null;break e}var o=0,a=-1,l=-1,u=0,h=0,f=n,p=null;t:for(;;){for(var m;f!==t||i!==0&&f.nodeType!==3||(a=o+i),f!==s||r!==0&&f.nodeType!==3||(l=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(m=f.firstChild)!==null;)p=f,f=m;for(;;){if(f===n)break t;if(p===t&&++u===i&&(a=o),p===s&&++h===r&&(l=o),(m=f.nextSibling)!==null)break;f=p,p=f.parentNode}f=m}t=a===-1||l===-1?null:{start:a,end:l}}else t=null}t=t||{start:0,end:0}}else t=null;for(II={focusedElem:n,selectionRange:t},BT=!1,Et=e;Et!==null;)if(e=Et,n=e.child,(e.subtreeFlags&1028)!==0&&n!==null)n.return=e,Et=n;else for(;Et!==null;){e=Et;try{var v=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var S=v.memoizedProps,A=v.memoizedState,g=e.stateNode,M=g.getSnapshotBeforeUpdate(e.elementType===e.type?S:yl(e.type,S),A);g.__reactInternalSnapshotBeforeUpdate=M}break;case 3:var _=e.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ot(163))}}catch(b){Ur(e,e.return,b)}if(n=e.sibling,n!==null){n.return=e.return,Et=n;break}Et=e.return}return v=IH,IH=!1,v}function t_(n,e,t){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&n)===n){var s=i.destroy;i.destroy=void 0,s!==void 0&&zX(e,t,s)}i=i.next}while(i!==r)}}function aR(n,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var t=e=e.next;do{if((t.tag&n)===n){var r=t.create;t.destroy=r()}t=t.next}while(t!==e)}}function KI(n){var e=n.ref;if(e!==null){var t=n.stateNode;switch(n.tag){case 5:n=t;break;default:n=t}typeof e=="function"?e(n):e.current=n}}function HX(n){var e=n.alternate;e!==null&&(n.alternate=null,HX(e)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(e=n.stateNode,e!==null&&(delete e[Cu],delete e[z_],delete e[NI],delete e[noe],delete e[roe])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function VX(n){return n.tag===5||n.tag===3||n.tag===4}function DH(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||VX(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function QI(n,e,t){var r=n.tag;if(r===5||r===6)n=n.stateNode,e?t.nodeType===8?t.parentNode.insertBefore(n,e):t.insertBefore(n,e):(t.nodeType===8?(e=t.parentNode,e.insertBefore(n,t)):(e=t,e.appendChild(n)),t=t._reactRootContainer,t!=null||e.onclick!==null||(e.onclick=DT));else if(r!==4&&(n=n.child,n!==null))for(QI(n,e,t),n=n.sibling;n!==null;)QI(n,e,t),n=n.sibling}function qI(n,e,t){var r=n.tag;if(r===5||r===6)n=n.stateNode,e?t.insertBefore(n,e):t.appendChild(n);else if(r!==4&&(n=n.child,n!==null))for(qI(n,e,t),n=n.sibling;n!==null;)qI(n,e,t),n=n.sibling}var ns=null,Ml=!1;function Kh(n,e,t){for(t=t.child;t!==null;)WX(n,e,t),t=t.sibling}function WX(n,e,t){if(Du&&typeof Du.onCommitFiberUnmount=="function")try{Du.onCommitFiberUnmount($C,t)}catch{}switch(t.tag){case 5:Ss||E0(t,e);case 6:var r=ns,i=Ml;ns=null,Kh(n,e,t),ns=r,Ml=i,ns!==null&&(Ml?(n=ns,t=t.stateNode,n.nodeType===8?n.parentNode.removeChild(t):n.removeChild(t)):ns.removeChild(t.stateNode));break;case 18:ns!==null&&(Ml?(n=ns,t=t.stateNode,n.nodeType===8?fB(n.parentNode,t):n.nodeType===1&&fB(n,t),N_(n)):fB(ns,t.stateNode));break;case 4:r=ns,i=Ml,ns=t.stateNode.containerInfo,Ml=!0,Kh(n,e,t),ns=r,Ml=i;break;case 0:case 11:case 14:case 15:if(!Ss&&(r=t.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&zX(t,e,o),i=i.next}while(i!==r)}Kh(n,e,t);break;case 1:if(!Ss&&(E0(t,e),r=t.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=t.memoizedProps,r.state=t.memoizedState,r.componentWillUnmount()}catch(a){Ur(t,e,a)}Kh(n,e,t);break;case 21:Kh(n,e,t);break;case 22:t.mode&1?(Ss=(r=Ss)||t.memoizedState!==null,Kh(n,e,t),Ss=r):Kh(n,e,t);break;default:Kh(n,e,t)}}function FH(n){var e=n.updateQueue;if(e!==null){n.updateQueue=null;var t=n.stateNode;t===null&&(t=n.stateNode=new xoe),e.forEach(function(r){var i=Roe.bind(null,n,r);t.has(r)||(t.add(r),r.then(i,i))})}}function cl(n,e){var t=e.deletions;if(t!==null)for(var r=0;r<t.length;r++){var i=t[r];try{var s=n,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:ns=a.stateNode,Ml=!1;break e;case 3:ns=a.stateNode.containerInfo,Ml=!0;break e;case 4:ns=a.stateNode.containerInfo,Ml=!0;break e}a=a.return}if(ns===null)throw Error(ot(160));WX(s,o,i),ns=null,Ml=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){Ur(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)jX(e,n),e=e.sibling}function jX(n,e){var t=n.alternate,r=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(cl(e,n),Au(n),r&4){try{t_(3,n,n.return),aR(3,n)}catch(S){Ur(n,n.return,S)}try{t_(5,n,n.return)}catch(S){Ur(n,n.return,S)}}break;case 1:cl(e,n),Au(n),r&512&&t!==null&&E0(t,t.return);break;case 5:if(cl(e,n),Au(n),r&512&&t!==null&&E0(t,t.return),n.flags&32){var i=n.stateNode;try{L_(i,"")}catch(S){Ur(n,n.return,S)}}if(r&4&&(i=n.stateNode,i!=null)){var s=n.memoizedProps,o=t!==null?t.memoizedProps:s,a=n.type,l=n.updateQueue;if(n.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&h7(i,s),MI(a,o);var u=MI(a,s);for(o=0;o<l.length;o+=2){var h=l[o],f=l[o+1];h==="style"?g7(i,f):h==="dangerouslySetInnerHTML"?p7(i,f):h==="children"?L_(i,f):PN(i,h,f,u)}switch(a){case"input":vI(i,s);break;case"textarea":d7(i,s);break;case"select":var p=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var m=s.value;m!=null?ny(i,!!s.multiple,m,!1):p!==!!s.multiple&&(s.defaultValue!=null?ny(i,!!s.multiple,s.defaultValue,!0):ny(i,!!s.multiple,s.multiple?[]:"",!1))}i[z_]=s}catch(S){Ur(n,n.return,S)}}break;case 6:if(cl(e,n),Au(n),r&4){if(n.stateNode===null)throw Error(ot(162));i=n.stateNode,s=n.memoizedProps;try{i.nodeValue=s}catch(S){Ur(n,n.return,S)}}break;case 3:if(cl(e,n),Au(n),r&4&&t!==null&&t.memoizedState.isDehydrated)try{N_(e.containerInfo)}catch(S){Ur(n,n.return,S)}break;case 4:cl(e,n),Au(n);break;case 13:cl(e,n),Au(n),i=n.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(uU=Jr())),r&4&&FH(n);break;case 22:if(h=t!==null&&t.memoizedState!==null,n.mode&1?(Ss=(u=Ss)||h,cl(e,n),Ss=u):cl(e,n),Au(n),r&8192){if(u=n.memoizedState!==null,(n.stateNode.isHidden=u)&&!h&&n.mode&1)for(Et=n,h=n.child;h!==null;){for(f=Et=h;Et!==null;){switch(p=Et,m=p.child,p.tag){case 0:case 11:case 14:case 15:t_(4,p,p.return);break;case 1:E0(p,p.return);var v=p.stateNode;if(typeof v.componentWillUnmount=="function"){r=p,t=p.return;try{e=r,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(S){Ur(r,t,S)}}break;case 5:E0(p,p.return);break;case 22:if(p.memoizedState!==null){UH(f);continue}}m!==null?(m.return=p,Et=m):UH(f)}h=h.sibling}e:for(h=null,f=n;;){if(f.tag===5){if(h===null){h=f;try{i=f.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=f.stateNode,l=f.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=m7("display",o))}catch(S){Ur(n,n.return,S)}}}else if(f.tag===6){if(h===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(S){Ur(n,n.return,S)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===n)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===n)break e;for(;f.sibling===null;){if(f.return===null||f.return===n)break e;h===f&&(h=null),f=f.return}h===f&&(h=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:cl(e,n),Au(n),r&4&&FH(n);break;case 21:break;default:cl(e,n),Au(n)}}function Au(n){var e=n.flags;if(e&2){try{e:{for(var t=n.return;t!==null;){if(VX(t)){var r=t;break e}t=t.return}throw Error(ot(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(L_(i,""),r.flags&=-33);var s=DH(n);qI(n,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=DH(n);QI(n,a,o);break;default:throw Error(ot(161))}}catch(l){Ur(n,n.return,l)}n.flags&=-3}e&4096&&(n.flags&=-4097)}function _oe(n,e,t){Et=n,XX(n)}function XX(n,e,t){for(var r=(n.mode&1)!==0;Et!==null;){var i=Et,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||bE;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Ss;a=bE;var u=Ss;if(bE=o,(Ss=l)&&!u)for(Et=i;Et!==null;)o=Et,l=o.child,o.tag===22&&o.memoizedState!==null?OH(i):l!==null?(l.return=o,Et=l):OH(i);for(;s!==null;)Et=s,XX(s),s=s.sibling;Et=i,bE=a,Ss=u}NH(n)}else i.subtreeFlags&8772&&s!==null?(s.return=i,Et=s):NH(n)}}function NH(n){for(;Et!==null;){var e=Et;if(e.flags&8772){var t=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Ss||aR(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Ss)if(t===null)r.componentDidMount();else{var i=e.elementType===e.type?t.memoizedProps:yl(e.type,t.memoizedProps);r.componentDidUpdate(i,t.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&xH(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(t=null,e.child!==null)switch(e.child.tag){case 5:t=e.child.stateNode;break;case 1:t=e.child.stateNode}xH(e,o,t)}break;case 5:var a=e.stateNode;if(t===null&&e.flags&4){t=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&t.focus();break;case"img":l.src&&(t.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var h=u.memoizedState;if(h!==null){var f=h.dehydrated;f!==null&&N_(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ot(163))}Ss||e.flags&512&&KI(e)}catch(p){Ur(e,e.return,p)}}if(e===n){Et=null;break}if(t=e.sibling,t!==null){t.return=e.return,Et=t;break}Et=e.return}}function UH(n){for(;Et!==null;){var e=Et;if(e===n){Et=null;break}var t=e.sibling;if(t!==null){t.return=e.return,Et=t;break}Et=e.return}}function OH(n){for(;Et!==null;){var e=Et;try{switch(e.tag){case 0:case 11:case 15:var t=e.return;try{aR(4,e)}catch(l){Ur(e,t,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){Ur(e,i,l)}}var s=e.return;try{KI(e)}catch(l){Ur(e,s,l)}break;case 5:var o=e.return;try{KI(e)}catch(l){Ur(e,o,l)}}}catch(l){Ur(e,e.return,l)}if(e===n){Et=null;break}var a=e.sibling;if(a!==null){a.return=e.return,Et=a;break}Et=e.return}}var Moe=Math.ceil,jT=Th.ReactCurrentDispatcher,aU=Th.ReactCurrentOwner,Wa=Th.ReactCurrentBatchConfig,Cn=0,zi=null,li=null,ls=0,Uo=0,b0=wf(0),Ai=0,J_=null,Km=0,lR=0,lU=0,n_=null,io=null,uU=0,Ly=1/0,jc=null,XT=!1,ZI=null,Od=null,wE=!1,Pd=null,JT=0,r_=0,$I=null,jw=-1,Xw=0;function Hs(){return Cn&6?Jr():jw!==-1?jw:jw=Jr()}function kd(n){return n.mode&1?Cn&2&&ls!==0?ls&-ls:soe.transition!==null?(Xw===0&&(Xw=C7()),Xw):(n=zn,n!==0||(n=window.event,n=n===void 0?16:F7(n.type)),n):1}function Rl(n,e,t,r){if(50<r_)throw r_=0,$I=null,Error(ot(185));JM(n,t,r),(!(Cn&2)||n!==zi)&&(n===zi&&(!(Cn&2)&&(lR|=t),Ai===4&&wd(n,ls)),po(n,r),t===1&&Cn===0&&!(e.mode&1)&&(Ly=Jr()+500,iR&&Tf()))}function po(n,e){var t=n.callbackNode;sse(n,e);var r=PT(n,n===zi?ls:0);if(r===0)t!==null&&Jz(t),n.callbackNode=null,n.callbackPriority=0;else if(e=r&-r,n.callbackPriority!==e){if(t!=null&&Jz(t),e===1)n.tag===0?ioe(kH.bind(null,n)):eX(kH.bind(null,n)),eoe(function(){!(Cn&6)&&Tf()}),t=null;else{switch(R7(r)){case 1:t=FN;break;case 4:t=w7;break;case 16:t=RT;break;case 536870912:t=T7;break;default:t=RT}t=eJ(t,JX.bind(null,n))}n.callbackPriority=e,n.callbackNode=t}}function JX(n,e){if(jw=-1,Xw=0,Cn&6)throw Error(ot(327));var t=n.callbackNode;if(ay()&&n.callbackNode!==t)return null;var r=PT(n,n===zi?ls:0);if(r===0)return null;if(r&30||r&n.expiredLanes||e)e=YT(n,r);else{e=r;var i=Cn;Cn|=2;var s=KX();(zi!==n||ls!==e)&&(jc=null,Ly=Jr()+500,Bm(n,e));do try{boe();break}catch(a){YX(n,a)}while(1);YN(),jT.current=s,Cn=i,li!==null?e=0:(zi=null,ls=0,e=Ai)}if(e!==0){if(e===2&&(i=TI(n),i!==0&&(r=i,e=eD(n,i))),e===1)throw t=J_,Bm(n,0),wd(n,r),po(n,Jr()),t;if(e===6)wd(n,r);else{if(i=n.current.alternate,!(r&30)&&!Soe(i)&&(e=YT(n,r),e===2&&(s=TI(n),s!==0&&(r=s,e=eD(n,s))),e===1))throw t=J_,Bm(n,0),wd(n,r),po(n,Jr()),t;switch(n.finishedWork=i,n.finishedLanes=r,e){case 0:case 1:throw Error(ot(345));case 2:Xp(n,io,jc);break;case 3:if(wd(n,r),(r&130023424)===r&&(e=uU+500-Jr(),10<e)){if(PT(n,0)!==0)break;if(i=n.suspendedLanes,(i&r)!==r){Hs(),n.pingedLanes|=n.suspendedLanes&i;break}n.timeoutHandle=FI(Xp.bind(null,n,io,jc),e);break}Xp(n,io,jc);break;case 4:if(wd(n,r),(r&4194240)===r)break;for(e=n.eventTimes,i=-1;0<r;){var o=31-Cl(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=Jr()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Moe(r/1960))-r,10<r){n.timeoutHandle=FI(Xp.bind(null,n,io,jc),r);break}Xp(n,io,jc);break;case 5:Xp(n,io,jc);break;default:throw Error(ot(329))}}}return po(n,Jr()),n.callbackNode===t?JX.bind(null,n):null}function eD(n,e){var t=n_;return n.current.memoizedState.isDehydrated&&(Bm(n,e).flags|=256),n=YT(n,e),n!==2&&(e=io,io=t,e!==null&&tD(e)),n}function tD(n){io===null?io=n:io.push.apply(io,n)}function Soe(n){for(var e=n;;){if(e.flags&16384){var t=e.updateQueue;if(t!==null&&(t=t.stores,t!==null))for(var r=0;r<t.length;r++){var i=t[r],s=i.getSnapshot;i=i.value;try{if(!Ol(s(),i))return!1}catch{return!1}}}if(t=e.child,e.subtreeFlags&16384&&t!==null)t.return=e,e=t;else{if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function wd(n,e){for(e&=~lU,e&=~lR,n.suspendedLanes|=e,n.pingedLanes&=~e,n=n.expirationTimes;0<e;){var t=31-Cl(e),r=1<<t;n[t]=-1,e&=~r}}function kH(n){if(Cn&6)throw Error(ot(327));ay();var e=PT(n,0);if(!(e&1))return po(n,Jr()),null;var t=YT(n,e);if(n.tag!==0&&t===2){var r=TI(n);r!==0&&(e=r,t=eD(n,r))}if(t===1)throw t=J_,Bm(n,0),wd(n,e),po(n,Jr()),t;if(t===6)throw Error(ot(345));return n.finishedWork=n.current.alternate,n.finishedLanes=e,Xp(n,io,jc),po(n,Jr()),null}function cU(n,e){var t=Cn;Cn|=1;try{return n(e)}finally{Cn=t,Cn===0&&(Ly=Jr()+500,iR&&Tf())}}function Qm(n){Pd!==null&&Pd.tag===0&&!(Cn&6)&&ay();var e=Cn;Cn|=1;var t=Wa.transition,r=zn;try{if(Wa.transition=null,zn=1,n)return n()}finally{zn=r,Wa.transition=t,Cn=e,!(Cn&6)&&Tf()}}function hU(){Uo=b0.current,rr(b0)}function Bm(n,e){n.finishedWork=null,n.finishedLanes=0;var t=n.timeoutHandle;if(t!==-1&&(n.timeoutHandle=-1,$se(t)),li!==null)for(t=li.return;t!==null;){var r=t;switch(jN(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&FT();break;case 3:Py(),rr(ho),rr(bs),eU();break;case 5:$N(r);break;case 4:Py();break;case 13:rr(yr);break;case 19:rr(yr);break;case 10:KN(r.type._context);break;case 22:case 23:hU()}t=t.return}if(zi=n,li=n=Gd(n.current,null),ls=Uo=e,Ai=0,J_=null,lU=lR=Km=0,io=n_=null,hm!==null){for(e=0;e<hm.length;e++)if(t=hm[e],r=t.interleaved,r!==null){t.interleaved=null;var i=r.next,s=t.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}t.pending=r}hm=null}return n}function YX(n,e){do{var t=li;try{if(YN(),Hw.current=WT,VT){for(var r=Cr.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}VT=!1}if(Ym=0,Oi=vi=Cr=null,e_=!1,W_=0,aU.current=null,t===null||t.return===null){Ai=1,J_=e,li=null;break}e:{var s=n,o=t.return,a=t,l=e;if(e=ls,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,h=a,f=h.tag;if(!(h.mode&1)&&(f===0||f===11||f===15)){var p=h.alternate;p?(h.updateQueue=p.updateQueue,h.memoizedState=p.memoizedState,h.lanes=p.lanes):(h.updateQueue=null,h.memoizedState=null)}var m=wH(o);if(m!==null){m.flags&=-257,TH(m,o,a,s,e),m.mode&1&&bH(s,u,e),e=m,l=u;var v=e.updateQueue;if(v===null){var S=new Set;S.add(l),e.updateQueue=S}else v.add(l);break e}else{if(!(e&1)){bH(s,u,e),dU();break e}l=Error(ot(426))}}else if(lr&&a.mode&1){var A=wH(o);if(A!==null){!(A.flags&65536)&&(A.flags|=256),TH(A,o,a,s,e),XN(By(l,a));break e}}s=l=By(l,a),Ai!==4&&(Ai=2),n_===null?n_=[s]:n_.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var g=PX(s,l,e);yH(s,g);break e;case 1:a=l;var M=s.type,_=s.stateNode;if(!(s.flags&128)&&(typeof M.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(Od===null||!Od.has(_)))){s.flags|=65536,e&=-e,s.lanes|=e;var b=BX(s,a,e);yH(s,b);break e}}s=s.return}while(s!==null)}qX(t)}catch(T){e=T,li===t&&t!==null&&(li=t=t.return);continue}break}while(1)}function KX(){var n=jT.current;return jT.current=WT,n===null?WT:n}function dU(){(Ai===0||Ai===3||Ai===2)&&(Ai=4),zi===null||!(Km&268435455)&&!(lR&268435455)||wd(zi,ls)}function YT(n,e){var t=Cn;Cn|=2;var r=KX();(zi!==n||ls!==e)&&(jc=null,Bm(n,e));do try{Eoe();break}catch(i){YX(n,i)}while(1);if(YN(),Cn=t,jT.current=r,li!==null)throw Error(ot(261));return zi=null,ls=0,Ai}function Eoe(){for(;li!==null;)QX(li)}function boe(){for(;li!==null&&!Qie();)QX(li)}function QX(n){var e=$X(n.alternate,n,Uo);n.memoizedProps=n.pendingProps,e===null?qX(n):li=e,aU.current=null}function qX(n){var e=n;do{var t=e.alternate;if(n=e.return,e.flags&32768){if(t=yoe(t,e),t!==null){t.flags&=32767,li=t;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{Ai=6,li=null;return}}else if(t=voe(t,e,Uo),t!==null){li=t;return}if(e=e.sibling,e!==null){li=e;return}li=e=n}while(e!==null);Ai===0&&(Ai=5)}function Xp(n,e,t){var r=zn,i=Wa.transition;try{Wa.transition=null,zn=1,woe(n,e,t,r)}finally{Wa.transition=i,zn=r}return null}function woe(n,e,t,r){do ay();while(Pd!==null);if(Cn&6)throw Error(ot(327));t=n.finishedWork;var i=n.finishedLanes;if(t===null)return null;if(n.finishedWork=null,n.finishedLanes=0,t===n.current)throw Error(ot(177));n.callbackNode=null,n.callbackPriority=0;var s=t.lanes|t.childLanes;if(ose(n,s),n===zi&&(li=zi=null,ls=0),!(t.subtreeFlags&2064)&&!(t.flags&2064)||wE||(wE=!0,eJ(RT,function(){return ay(),null})),s=(t.flags&15990)!==0,t.subtreeFlags&15990||s){s=Wa.transition,Wa.transition=null;var o=zn;zn=1;var a=Cn;Cn|=4,aU.current=null,Aoe(n,t),jX(t,n),Xse(II),BT=!!LI,II=LI=null,n.current=t,_oe(t),qie(),Cn=a,zn=o,Wa.transition=s}else n.current=t;if(wE&&(wE=!1,Pd=n,JT=i),s=n.pendingLanes,s===0&&(Od=null),ese(t.stateNode),po(n,Jr()),e!==null)for(r=n.onRecoverableError,t=0;t<e.length;t++)i=e[t],r(i.value,{componentStack:i.stack,digest:i.digest});if(XT)throw XT=!1,n=ZI,ZI=null,n;return JT&1&&n.tag!==0&&ay(),s=n.pendingLanes,s&1?n===$I?r_++:(r_=0,$I=n):r_=0,Tf(),null}function ay(){if(Pd!==null){var n=R7(JT),e=Wa.transition,t=zn;try{if(Wa.transition=null,zn=16>n?16:n,Pd===null)var r=!1;else{if(n=Pd,Pd=null,JT=0,Cn&6)throw Error(ot(331));var i=Cn;for(Cn|=4,Et=n.current;Et!==null;){var s=Et,o=s.child;if(Et.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(Et=u;Et!==null;){var h=Et;switch(h.tag){case 0:case 11:case 15:t_(8,h,s)}var f=h.child;if(f!==null)f.return=h,Et=f;else for(;Et!==null;){h=Et;var p=h.sibling,m=h.return;if(HX(h),h===u){Et=null;break}if(p!==null){p.return=m,Et=p;break}Et=m}}}var v=s.alternate;if(v!==null){var S=v.child;if(S!==null){v.child=null;do{var A=S.sibling;S.sibling=null,S=A}while(S!==null)}}Et=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,Et=o;else e:for(;Et!==null;){if(s=Et,s.flags&2048)switch(s.tag){case 0:case 11:case 15:t_(9,s,s.return)}var g=s.sibling;if(g!==null){g.return=s.return,Et=g;break e}Et=s.return}}var M=n.current;for(Et=M;Et!==null;){o=Et;var _=o.child;if(o.subtreeFlags&2064&&_!==null)_.return=o,Et=_;else e:for(o=M;Et!==null;){if(a=Et,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:aR(9,a)}}catch(T){Ur(a,a.return,T)}if(a===o){Et=null;break e}var b=a.sibling;if(b!==null){b.return=a.return,Et=b;break e}Et=a.return}}if(Cn=i,Tf(),Du&&typeof Du.onPostCommitFiberRoot=="function")try{Du.onPostCommitFiberRoot($C,n)}catch{}r=!0}return r}finally{zn=t,Wa.transition=e}}return!1}function GH(n,e,t){e=By(t,e),e=PX(n,e,1),n=Ud(n,e,1),e=Hs(),n!==null&&(JM(n,1,e),po(n,e))}function Ur(n,e,t){if(n.tag===3)GH(n,n,t);else for(;e!==null;){if(e.tag===3){GH(e,n,t);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Od===null||!Od.has(r))){n=By(t,n),n=BX(e,n,1),e=Ud(e,n,1),n=Hs(),e!==null&&(JM(e,1,n),po(e,n));break}}e=e.return}}function Toe(n,e,t){var r=n.pingCache;r!==null&&r.delete(e),e=Hs(),n.pingedLanes|=n.suspendedLanes&t,zi===n&&(ls&t)===t&&(Ai===4||Ai===3&&(ls&130023424)===ls&&500>Jr()-uU?Bm(n,0):lU|=t),po(n,e)}function ZX(n,e){e===0&&(n.mode&1?(e=gE,gE<<=1,!(gE&130023424)&&(gE=4194304)):e=1);var t=Hs();n=vh(n,e),n!==null&&(JM(n,e,t),po(n,t))}function Coe(n){var e=n.memoizedState,t=0;e!==null&&(t=e.retryLane),ZX(n,t)}function Roe(n,e){var t=0;switch(n.tag){case 13:var r=n.stateNode,i=n.memoizedState;i!==null&&(t=i.retryLane);break;case 19:r=n.stateNode;break;default:throw Error(ot(314))}r!==null&&r.delete(e),ZX(n,t)}var $X;$X=function(n,e,t){if(n!==null)if(n.memoizedProps!==e.pendingProps||ho.current)uo=!0;else{if(!(n.lanes&t)&&!(e.flags&128))return uo=!1,goe(n,e,t);uo=!!(n.flags&131072)}else uo=!1,lr&&e.flags&1048576&&tX(e,OT,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Ww(n,e),n=e.pendingProps;var i=Ty(e,bs.current);oy(e,t),i=nU(null,e,r,n,i,t);var s=rU();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,fo(r)?(s=!0,NT(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,qN(e),i.updater=sR,e.stateNode=i,i._reactInternals=e,HI(e,r,n,t),e=jI(null,e,r,!0,s,t)):(e.tag=0,lr&&s&&WN(e),Gs(null,e,i,t),e=e.child),e;case 16:r=e.elementType;e:{switch(Ww(n,e),n=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=Boe(r),n=yl(r,n),i){case 0:e=WI(null,e,r,n,t);break e;case 1:e=PH(null,e,r,n,t);break e;case 11:e=CH(null,e,r,n,t);break e;case 14:e=RH(null,e,r,yl(r.type,n),t);break e}throw Error(ot(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:yl(r,i),WI(n,e,r,i,t);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:yl(r,i),PH(n,e,r,i,t);case 3:e:{if(FX(e),n===null)throw Error(ot(387));r=e.pendingProps,s=e.memoizedState,i=s.element,sX(n,e),zT(e,r,null,t);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=By(Error(ot(423)),e),e=BH(n,e,r,t,i);break e}else if(r!==i){i=By(Error(ot(424)),e),e=BH(n,e,r,t,i);break e}else for(zo=Nd(e.stateNode.containerInfo.firstChild),Jo=e,lr=!0,El=null,t=uX(e,null,r,t),e.child=t;t;)t.flags=t.flags&-3|4096,t=t.sibling;else{if(Cy(),r===i){e=yh(n,e,t);break e}Gs(n,e,r,t)}e=e.child}return e;case 5:return cX(e),n===null&&kI(e),r=e.type,i=e.pendingProps,s=n!==null?n.memoizedProps:null,o=i.children,DI(r,i)?o=null:s!==null&&DI(r,s)&&(e.flags|=32),DX(n,e),Gs(n,e,o,t),e.child;case 6:return n===null&&kI(e),null;case 13:return NX(n,e,t);case 4:return ZN(e,e.stateNode.containerInfo),r=e.pendingProps,n===null?e.child=Ry(e,null,r,t):Gs(n,e,r,t),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:yl(r,i),CH(n,e,r,i,t);case 7:return Gs(n,e,e.pendingProps,t),e.child;case 8:return Gs(n,e,e.pendingProps.children,t),e.child;case 12:return Gs(n,e,e.pendingProps.children,t),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,Yn(kT,r._currentValue),r._currentValue=o,s!==null)if(Ol(s.value,o)){if(s.children===i.children&&!ho.current){e=yh(n,e,t);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=ah(-1,t&-t),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var h=u.pending;h===null?l.next=l:(l.next=h.next,h.next=l),u.pending=l}}s.lanes|=t,l=s.alternate,l!==null&&(l.lanes|=t),GI(s.return,t,e),a.lanes|=t;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(ot(341));o.lanes|=t,a=o.alternate,a!==null&&(a.lanes|=t),GI(o,t,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Gs(n,e,i.children,t),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,oy(e,t),i=Xa(i),r=r(i),e.flags|=1,Gs(n,e,r,t),e.child;case 14:return r=e.type,i=yl(r,e.pendingProps),i=yl(r.type,i),RH(n,e,r,i,t);case 15:return LX(n,e,e.type,e.pendingProps,t);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:yl(r,i),Ww(n,e),e.tag=1,fo(r)?(n=!0,NT(e)):n=!1,oy(e,t),aX(e,r,i),HI(e,r,i,t),jI(null,e,r,!0,n,t);case 19:return UX(n,e,t);case 22:return IX(n,e,t)}throw Error(ot(156,e.tag))};function eJ(n,e){return b7(n,e)}function Poe(n,e,t,r){this.tag=n,this.key=t,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ha(n,e,t,r){return new Poe(n,e,t,r)}function fU(n){return n=n.prototype,!(!n||!n.isReactComponent)}function Boe(n){if(typeof n=="function")return fU(n)?1:0;if(n!=null){if(n=n.$$typeof,n===LN)return 11;if(n===IN)return 14}return 2}function Gd(n,e){var t=n.alternate;return t===null?(t=Ha(n.tag,e,n.key,n.mode),t.elementType=n.elementType,t.type=n.type,t.stateNode=n.stateNode,t.alternate=n,n.alternate=t):(t.pendingProps=e,t.type=n.type,t.flags=0,t.subtreeFlags=0,t.deletions=null),t.flags=n.flags&14680064,t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},t.sibling=n.sibling,t.index=n.index,t.ref=n.ref,t}function Jw(n,e,t,r,i,s){var o=2;if(r=n,typeof n=="function")fU(n)&&(o=1);else if(typeof n=="string")o=5;else e:switch(n){case m0:return Lm(t.children,i,s,e);case BN:o=8,i|=8;break;case dI:return n=Ha(12,t,e,i|2),n.elementType=dI,n.lanes=s,n;case fI:return n=Ha(13,t,e,i),n.elementType=fI,n.lanes=s,n;case pI:return n=Ha(19,t,e,i),n.elementType=pI,n.lanes=s,n;case l7:return uR(t,i,s,e);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case o7:o=10;break e;case a7:o=9;break e;case LN:o=11;break e;case IN:o=14;break e;case md:o=16,r=null;break e}throw Error(ot(130,n==null?n:typeof n,""))}return e=Ha(o,t,e,i),e.elementType=n,e.type=r,e.lanes=s,e}function Lm(n,e,t,r){return n=Ha(7,n,r,e),n.lanes=t,n}function uR(n,e,t,r){return n=Ha(22,n,r,e),n.elementType=l7,n.lanes=t,n.stateNode={isHidden:!1},n}function _B(n,e,t){return n=Ha(6,n,null,e),n.lanes=t,n}function MB(n,e,t){return e=Ha(4,n.children!==null?n.children:[],n.key,e),e.lanes=t,e.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},e}function Loe(n,e,t,r,i){this.tag=e,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=nB(0),this.expirationTimes=nB(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=nB(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function pU(n,e,t,r,i,s,o,a,l){return n=new Loe(n,e,t,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Ha(3,null,null,e),n.current=s,s.stateNode=n,s.memoizedState={element:r,isDehydrated:t,cache:null,transitions:null,pendingSuspenseBoundaries:null},qN(s),n}function Ioe(n,e,t){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:p0,key:r==null?null:""+r,children:n,containerInfo:e,implementation:t}}function tJ(n){if(!n)return lf;n=n._reactInternals;e:{if(hg(n)!==n||n.tag!==1)throw Error(ot(170));var e=n;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(fo(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(ot(171))}if(n.tag===1){var t=n.type;if(fo(t))return $7(n,t,e)}return e}function nJ(n,e,t,r,i,s,o,a,l){return n=pU(t,r,!0,n,i,s,o,a,l),n.context=tJ(null),t=n.current,r=Hs(),i=kd(t),s=ah(r,i),s.callback=e??null,Ud(t,s,i),n.current.lanes=i,JM(n,i,r),po(n,r),n}function cR(n,e,t,r){var i=e.current,s=Hs(),o=kd(i);return t=tJ(t),e.context===null?e.context=t:e.pendingContext=t,e=ah(s,o),e.payload={element:n},r=r===void 0?null:r,r!==null&&(e.callback=r),n=Ud(i,e,o),n!==null&&(Rl(n,i,o,s),zw(n,i,o)),o}function KT(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function zH(n,e){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var t=n.retryLane;n.retryLane=t!==0&&t<e?t:e}}function mU(n,e){zH(n,e),(n=n.alternate)&&zH(n,e)}function Doe(){return null}var rJ=typeof reportError=="function"?reportError:function(n){console.error(n)};function gU(n){this._internalRoot=n}hR.prototype.render=gU.prototype.render=function(n){var e=this._internalRoot;if(e===null)throw Error(ot(409));cR(n,e,null,null)};hR.prototype.unmount=gU.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var e=n.containerInfo;Qm(function(){cR(null,n,null,null)}),e[gh]=null}};function hR(n){this._internalRoot=n}hR.prototype.unstable_scheduleHydration=function(n){if(n){var e=L7();n={blockedOn:null,target:n,priority:e};for(var t=0;t<bd.length&&e!==0&&e<bd[t].priority;t++);bd.splice(t,0,n),t===0&&D7(n)}};function vU(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function dR(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function HH(){}function Foe(n,e,t,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=KT(o);s.call(u)}}var o=nJ(e,r,n,0,null,!1,!1,"",HH);return n._reactRootContainer=o,n[gh]=o.current,k_(n.nodeType===8?n.parentNode:n),Qm(),o}for(;i=n.lastChild;)n.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=KT(l);a.call(u)}}var l=pU(n,0,!1,null,null,!1,!1,"",HH);return n._reactRootContainer=l,n[gh]=l.current,k_(n.nodeType===8?n.parentNode:n),Qm(function(){cR(e,l,t,r)}),l}function fR(n,e,t,r,i){var s=t._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=KT(o);a.call(l)}}cR(e,o,n,i)}else o=Foe(t,e,n,i,r);return KT(o)}P7=function(n){switch(n.tag){case 3:var e=n.stateNode;if(e.current.memoizedState.isDehydrated){var t=U1(e.pendingLanes);t!==0&&(NN(e,t|1),po(e,Jr()),!(Cn&6)&&(Ly=Jr()+500,Tf()))}break;case 13:Qm(function(){var r=vh(n,1);if(r!==null){var i=Hs();Rl(r,n,1,i)}}),mU(n,1)}};UN=function(n){if(n.tag===13){var e=vh(n,134217728);if(e!==null){var t=Hs();Rl(e,n,134217728,t)}mU(n,134217728)}};B7=function(n){if(n.tag===13){var e=kd(n),t=vh(n,e);if(t!==null){var r=Hs();Rl(t,n,e,r)}mU(n,e)}};L7=function(){return zn};I7=function(n,e){var t=zn;try{return zn=n,e()}finally{zn=t}};EI=function(n,e,t){switch(e){case"input":if(vI(n,t),e=t.name,t.type==="radio"&&e!=null){for(t=n;t.parentNode;)t=t.parentNode;for(t=t.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<t.length;e++){var r=t[e];if(r!==n&&r.form===n.form){var i=rR(r);if(!i)throw Error(ot(90));c7(r),vI(r,i)}}}break;case"textarea":d7(n,t);break;case"select":e=t.value,e!=null&&ny(n,!!t.multiple,e,!1)}};x7=cU;A7=Qm;var Noe={usingClientEntryPoint:!1,Events:[KM,x0,rR,v7,y7,cU]},HA={findFiberByHostInstance:cm,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},Uoe={bundleType:HA.bundleType,version:HA.version,rendererPackageName:HA.rendererPackageName,rendererConfig:HA.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Th.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=S7(n),n===null?null:n.stateNode},findFiberByHostInstance:HA.findFiberByHostInstance||Doe,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var TE=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!TE.isDisabled&&TE.supportsFiber)try{$C=TE.inject(Uoe),Du=TE}catch{}}sa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Noe;sa.createPortal=function(n,e){var t=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!vU(e))throw Error(ot(200));return Ioe(n,e,null,t)};sa.createRoot=function(n,e){if(!vU(n))throw Error(ot(299));var t=!1,r="",i=rJ;return e!=null&&(e.unstable_strictMode===!0&&(t=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=pU(n,1,!1,null,null,t,!1,r,i),n[gh]=e.current,k_(n.nodeType===8?n.parentNode:n),new gU(e)};sa.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var e=n._reactInternals;if(e===void 0)throw typeof n.render=="function"?Error(ot(188)):(n=Object.keys(n).join(","),Error(ot(268,n)));return n=S7(e),n=n===null?null:n.stateNode,n};sa.flushSync=function(n){return Qm(n)};sa.hydrate=function(n,e,t){if(!dR(e))throw Error(ot(200));return fR(null,n,e,!0,t)};sa.hydrateRoot=function(n,e,t){if(!vU(n))throw Error(ot(405));var r=t!=null&&t.hydratedSources||null,i=!1,s="",o=rJ;if(t!=null&&(t.unstable_strictMode===!0&&(i=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),e=nJ(e,null,n,1,t??null,i,!1,s,o),n[gh]=e.current,k_(n),r)for(n=0;n<r.length;n++)t=r[n],i=t._getVersion,i=i(t._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[t,i]:e.mutableSourceEagerHydrationData.push(t,i);return new hR(e)};sa.render=function(n,e,t){if(!dR(e))throw Error(ot(200));return fR(null,n,e,!1,t)};sa.unmountComponentAtNode=function(n){if(!dR(n))throw Error(ot(40));return n._reactRootContainer?(Qm(function(){fR(null,null,n,!1,function(){n._reactRootContainer=null,n[gh]=null})}),!0):!1};sa.unstable_batchedUpdates=cU;sa.unstable_renderSubtreeIntoContainer=function(n,e,t,r){if(!dR(t))throw Error(ot(200));if(n==null||n._reactInternals===void 0)throw Error(ot(38));return fR(n,e,t,!1,r)};sa.version="18.2.0-next-9e3b772b8-20220608";function iJ(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(iJ)}catch(n){console.error(n)}}iJ(),t7.exports=sa;var Ooe=t7.exports,sJ,VH=Ooe;sJ=cI.createRoot=VH.createRoot,cI.hydrateRoot=VH.hydrateRoot;/**
* @remix-run/router v1.6.3
*
* Copyright (c) Remix Software Inc.
*
* This source code is licensed under the MIT license found in the
* LICENSE.md file in the root directory of this source tree.
*
* @license MIT
*/function Y_(){return Y_=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Y_.apply(this,arguments)}var fm;(function(n){n.Pop="POP",n.Push="PUSH",n.Replace="REPLACE"})(fm||(fm={}));const WH="popstate";function koe(n){n===void 0&&(n={});function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return nD("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function t(r,i){return typeof i=="string"?i:QT(i)}return zoe(e,t,null,n)}function Pl(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Goe(){return Math.random().toString(36).substr(2,8)}function jH(n,e){return{usr:n.state,key:n.key,idx:e}}function nD(n,e,t,r){return t===void 0&&(t=null),Y_({pathname:typeof n=="string"?n:n.pathname,search:"",hash:""},typeof e=="string"?pR(e):e,{state:t,key:e&&e.key||r||Goe()})}function QT(n){let{pathname:e="/",search:t="",hash:r=""}=n;return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function pR(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substr(t),n=n.substr(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substr(r),n=n.substr(0,r)),n&&(e.pathname=n)}return e}function zoe(n,e,t,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=fm.Pop,l=null,u=h();u==null&&(u=0,o.replaceState(Y_({},o.state,{idx:u}),""));function h(){return(o.state||{idx:null}).idx}function f(){a=fm.Pop;let A=h(),g=A==null?null:A-u;u=A,l&&l({action:a,location:S.location,delta:g})}function p(A,g){a=fm.Push;let M=nD(S.location,A,g);t&&t(M,A),u=h()+1;let _=jH(M,u),b=S.createHref(M);try{o.pushState(_,"",b)}catch(T){if(T instanceof DOMException&&T.name==="DataCloneError")throw T;i.location.assign(b)}s&&l&&l({action:a,location:S.location,delta:1})}function m(A,g){a=fm.Replace;let M=nD(S.location,A,g);t&&t(M,A),u=h();let _=jH(M,u),b=S.createHref(M);o.replaceState(_,"",b),s&&l&&l({action:a,location:S.location,delta:0})}function v(A){let g=i.location.origin!=="null"?i.location.origin:i.location.href,M=typeof A=="string"?A:QT(A);return Pl(g,"No window.location.(origin|href) available to create URL for href: "+M),new URL(M,g)}let S={get action(){return a},get location(){return n(i,o)},listen(A){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(WH,f),l=A,()=>{i.removeEventListener(WH,f),l=null}},createHref(A){return e(i,A)},createURL:v,encodeLocation(A){let g=v(A);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:p,replace:m,go(A){return o.go(A)}};return S}var XH;(function(n){n.data="data",n.deferred="deferred",n.redirect="redirect",n.error="error"})(XH||(XH={}));function oJ(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function Hoe(n,e){e===void 0&&(e="/");let{pathname:t,search:r="",hash:i=""}=typeof n=="string"?pR(n):n;return{pathname:t?t.startsWith("/")?t:Voe(t,e):e,search:Woe(r),hash:joe(i)}}function Voe(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(r=>{r===".."?t.length>1&&t.pop():r!=="."&&t.push(r)}),t.length>1?t.join("/"):"/"}function SB(n,e,t,r){return"Cannot include a '"+n+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+t+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function aJ(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function lJ(n,e,t,r){r===void 0&&(r=!1);let i;typeof n=="string"?i=pR(n):(i=Y_({},n),Pl(!i.pathname||!i.pathname.includes("?"),SB("?","pathname","search",i)),Pl(!i.pathname||!i.pathname.includes("#"),SB("#","pathname","hash",i)),Pl(!i.search||!i.search.includes("#"),SB("#","search","hash",i)));let s=n===""||i.pathname==="",o=s?"/":i.pathname,a;if(r||o==null)a=t;else{let f=e.length-1;if(o.startsWith("..")){let p=o.split("/");for(;p[0]==="..";)p.shift(),f-=1;i.pathname=p.join("/")}a=f>=0?e[f]:"/"}let l=Hoe(i,a),u=o&&o!=="/"&&o.endsWith("/"),h=(s||o===".")&&t.endsWith("/");return!l.pathname.endsWith("/")&&(u||h)&&(l.pathname+="/"),l}const uJ=n=>n.join("/").replace(/\/\/+/g,"/"),Woe=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,joe=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n,cJ=["post","put","patch","delete"];new Set(cJ);const Xoe=["get",...cJ];new Set(Xoe);/**
* React Router v6.12.1
*
* Copyright (c) Remix Software Inc.
*
* This source code is licensed under the MIT license found in the
* LICENSE.md file in the root directory of this source tree.
*
* @license MIT
*/function rD(){return rD=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},rD.apply(this,arguments)}const hJ=pe.createContext(null),qM=pe.createContext(null),yU=pe.createContext(null),mR=pe.createContext({outlet:null,matches:[],isDataRoute:!1});function Joe(n,e){let{relative:t}=e===void 0?{}:e;gR()||Pl(!1);let{basename:r,navigator:i}=pe.useContext(qM),{hash:s,pathname:o,search:a}=fJ(n,{relative:t}),l=o;return r!=="/"&&(l=o==="/"?r:uJ([r,o])),i.createHref({pathname:l,search:a,hash:s})}function gR(){return pe.useContext(yU)!=null}function xU(){return gR()||Pl(!1),pe.useContext(yU).location}function dJ(n){pe.useContext(qM).static||pe.useLayoutEffect(n)}function Yoe(){let{isDataRoute:n}=pe.useContext(mR);return n?$oe():Koe()}function Koe(){gR()||Pl(!1);let n=pe.useContext(hJ),{basename:e,navigator:t}=pe.useContext(qM),{matches:r}=pe.useContext(mR),{pathname:i}=xU(),s=JSON.stringify(aJ(r).map(a=>a.pathnameBase)),o=pe.useRef(!1);return dJ(()=>{o.current=!0}),pe.useCallback(function(a,l){if(l===void 0&&(l={}),!o.current)return;if(typeof a=="number"){t.go(a);return}let u=lJ(a,JSON.parse(s),i,l.relative==="path");n==null&&e!=="/"&&(u.pathname=u.pathname==="/"?e:uJ([e,u.pathname])),(l.replace?t.replace:t.push)(u,l.state,l)},[e,t,s,i,n])}function fJ(n,e){let{relative:t}=e===void 0?{}:e,{matches:r}=pe.useContext(mR),{pathname:i}=xU(),s=JSON.stringify(aJ(r).map(o=>o.pathnameBase));return pe.useMemo(()=>lJ(n,JSON.parse(s),i,t==="path"),[n,s,i,t])}var iD;(function(n){n.UseBlocker="useBlocker",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate"})(iD||(iD={}));var sD;(function(n){n.UseBlocker="useBlocker",n.UseLoaderData="useLoaderData",n.UseActionData="useActionData",n.UseRouteError="useRouteError",n.UseNavigation="useNavigation",n.UseRouteLoaderData="useRouteLoaderData",n.UseMatches="useMatches",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n.UseRouteId="useRouteId"})(sD||(sD={}));function Qoe(n){let e=pe.useContext(hJ);return e||Pl(!1),e}function qoe(n){let e=pe.useContext(mR);return e||Pl(!1),e}function Zoe(n){let e=qoe(),t=e.matches[e.matches.length-1];return t.route.id||Pl(!1),t.route.id}function $oe(){let{router:n}=Qoe(iD.UseNavigateStable),e=Zoe(sD.UseNavigateStable),t=pe.useRef(!1);return dJ(()=>{t.current=!0}),pe.useCallback(function(r,i){i===void 0&&(i={}),t.current&&(typeof r=="number"?n.navigate(r):n.navigate(r,rD({fromRouteId:e},i)))},[n,e])}function eae(n){let{basename:e="/",children:t=null,location:r,navigationType:i=fm.Pop,navigator:s,static:o=!1}=n;gR()&&Pl(!1);let a=e.replace(/^\/*/,"/"),l=pe.useMemo(()=>({basename:a,navigator:s,static:o}),[a,s,o]);typeof r=="string"&&(r=pR(r));let{pathname:u="/",search:h="",hash:f="",state:p=null,key:m="default"}=r,v=pe.useMemo(()=>{let S=oJ(u,a);return S==null?null:{location:{pathname:S,search:h,hash:f,state:p,key:m},navigationType:i}},[a,u,h,f,p,m,i]);return v==null?null:pe.createElement(qM.Provider,{value:l},pe.createElement(yU.Provider,{children:t,value:v}))}var JH;(function(n){n[n.pending=0]="pending",n[n.success=1]="success",n[n.error=2]="error"})(JH||(JH={}));new Promise(()=>{});/**
* React Router DOM v6.12.1
*
* Copyright (c) Remix Software Inc.
*
* This source code is licensed under the MIT license found in the
* LICENSE.md file in the root directory of this source tree.
*
* @license MIT
*/function oD(){return oD=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},oD.apply(this,arguments)}function tae(n,e){if(n==null)return{};var t={},r=Object.keys(n),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(t[i]=n[i]);return t}function nae(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function rae(n,e){return n.button===0&&(!e||e==="_self")&&!nae(n)}const iae=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"],YH="startTransition";function sae(n){let{basename:e,children:t,window:r}=n,i=pe.useRef();i.current==null&&(i.current=koe({window:r,v5Compat:!0}));let s=i.current,[o,a]=pe.useState({action:s.action,location:s.location}),l=pe.useCallback(u=>{YH in Uz?Uz[YH](()=>a(u)):a(u)},[a]);return pe.useLayoutEffect(()=>s.listen(l),[s,l]),pe.createElement(eae,{basename:e,children:t,location:o.location,navigationType:o.action,navigator:s})}const oae=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",aae=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,lae=pe.forwardRef(function(n,e){let{onClick:t,relative:r,reloadDocument:i,replace:s,state:o,target:a,to:l,preventScrollReset:u}=n,h=tae(n,iae),{basename:f}=pe.useContext(qM),p,m=!1;if(typeof l=="string"&&aae.test(l)&&(p=l,oae))try{let g=new URL(window.location.href),M=l.startsWith("//")?new URL(g.protocol+l):new URL(l),_=oJ(M.pathname,f);M.origin===g.origin&&_!=null?l=_+M.search+M.hash:m=!0}catch{}let v=Joe(l,{relative:r}),S=uae(l,{replace:s,state:o,target:a,preventScrollReset:u,relative:r});function A(g){t&&t(g),g.defaultPrevented||S(g)}return pe.createElement("a",oD({},h,{href:p||v,onClick:m||i?t:A,ref:e,target:a}))});var KH;(function(n){n.UseScrollRestoration="useScrollRestoration",n.UseSubmitImpl="useSubmitImpl",n.UseFetcher="useFetcher"})(KH||(KH={}));var QH;(function(n){n.UseFetchers="useFetchers",n.UseScrollRestoration="useScrollRestoration"})(QH||(QH={}));function uae(n,e){let{target:t,replace:r,state:i,preventScrollReset:s,relative:o}=e===void 0?{}:e,a=Yoe(),l=xU(),u=fJ(n,{relative:o});return pe.useCallback(h=>{if(rae(h,t)){h.preventDefault();let f=r!==void 0?r:QT(l)===QT(u);a(n,{replace:f,state:i,preventScrollReset:s,relative:o})}},[l,a,u,r,i,t,n,s,o])}/**
* @license
* Copyright 2010-2023 Three.js Authors
* SPDX-License-Identifier: MIT
*/const ZM="153",Jp={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},Yp={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},pJ=0,aD=1,mJ=2,cae=3,gJ=0,vR=1,i_=2,xl=3,Xu=0,Vs=1,Ga=2,hae=2,lh=0,Im=1,lD=2,uD=3,cD=4,vJ=5,om=100,yJ=101,xJ=102,hD=103,dD=104,AJ=200,_J=201,MJ=202,SJ=203,AU=204,_U=205,EJ=206,bJ=207,wJ=208,TJ=209,CJ=210,RJ=0,PJ=1,BJ=2,qT=3,LJ=4,IJ=5,DJ=6,FJ=7,$M=0,NJ=1,UJ=2,Bl=0,OJ=1,kJ=2,GJ=3,MU=4,zJ=5,yR=300,uf=301,cf=302,K_=303,Q_=304,hx=306,hf=1e3,is=1001,Iy=1002,kr=1003,q_=1004,dae=1004,ly=1005,fae=1005,Ar=1006,xR=1007,pae=1007,Ju=1008,mae=1008,Nu=1009,HJ=1010,VJ=1011,AR=1012,SU=1013,$c=1014,Pu=1015,Dy=1016,EU=1017,bU=1018,zd=1020,WJ=1021,ao=1023,jJ=1024,XJ=1025,Hd=1026,qm=1027,JJ=1028,wU=1029,YJ=1030,TU=1031,CU=1033,Yw=33776,Kw=33777,Qw=33778,qw=33779,fD=35840,pD=35841,mD=35842,gD=35843,KJ=36196,vD=37492,yD=37496,xD=37808,AD=37809,_D=37810,MD=37811,SD=37812,ED=37813,bD=37814,wD=37815,TD=37816,CD=37817,RD=37818,PD=37819,BD=37820,LD=37821,Zw=36492,QJ=36283,ID=36284,DD=36285,FD=36286,qJ=2200,ZJ=2201,$J=2202,Fy=2300,Zm=2301,$w=2302,pm=2400,mm=2401,Z_=2402,_R=2500,RU=2501,eY=0,PU=1,ZT=2,BU=3e3,Vd=3001,tY=3200,nY=3201,Cf=0,rY=1,Wd="",qt="srgb",kl="srgb-linear",LU="display-p3",gae=0,eT=7680,vae=7681,yae=7682,xae=7683,Aae=34055,_ae=34056,Mae=5386,Sae=512,Eae=513,bae=514,wae=515,Tae=516,Cae=517,Rae=518,iY=519,sY=512,oY=513,aY=514,lY=515,uY=516,cY=517,hY=518,dY=519,$_=35044,Dm=35048,Pae=35040,Bae=35045,Lae=35049,Iae=35041,Dae=35046,Fae=35050,Nae=35042,Uae="100",ND="300 es",$T=1035,Bu=2e3,eM=2001;class Zu{addEventListener(e,t){this._listeners===void 0&&(this._listeners={});const r=this._listeners;r[e]===void 0&&(r[e]=[]),r[e].indexOf(t)===-1&&r[e].push(t)}hasEventListener(e,t){if(this._listeners===void 0)return!1;const r=this._listeners;return r[e]!==void 0&&r[e].indexOf(t)!==-1}removeEventListener(e,t){if(this._listeners===void 0)return;const r=this._listeners[e];if(r!==void 0){const i=r.indexOf(t);i!==-1&&r.splice(i,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const t=this._listeners[e.type];if(t!==void 0){e.target=this;const r=t.slice(0);for(let i=0,s=r.length;i<s;i++)r[i].call(this,e);e.target=null}}}const vs=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let qH=1234567;const Fm=Math.PI/180,Ny=180/Math.PI;function Yo(){const n=Math.random()*4294967295|0,e=Math.random()*4294967295|0,t=Math.random()*4294967295|0,r=Math.random()*4294967295|0;return(vs[n&255]+vs[n>>8&255]+vs[n>>16&255]+vs[n>>24&255]+"-"+vs[e&255]+vs[e>>8&255]+"-"+vs[e>>16&15|64]+vs[e>>24&255]+"-"+vs[t&63|128]+vs[t>>8&255]+"-"+vs[t>>16&255]+vs[t>>24&255]+vs[r&255]+vs[r>>8&255]+vs[r>>16&255]+vs[r>>24&255]).toLowerCase()}function zr(n,e,t){return Math.max(e,Math.min(t,n))}function IU(n,e){return(n%e+e)%e}function Oae(n,e,t,r,i){return r+(n-e)*(i-r)/(t-e)}function kae(n,e,t){return n!==e?(t-n)/(e-n):0}function s_(n,e,t){return(1-t)*n+t*e}function Gae(n,e,t,r){return s_(n,e,1-Math.exp(-t*r))}function zae(n,e=1){return e-Math.abs(IU(n,e*2)-e)}function Hae(n,e,t){return n<=e?0:n>=t?1:(n=(n-e)/(t-e),n*n*(3-2*n))}function Vae(n,e,t){return n<=e?0:n>=t?1:(n=(n-e)/(t-e),n*n*n*(n*(n*6-15)+10))}function Wae(n,e){return n+Math.floor(Math.random()*(e-n+1))}function jae(n,e){return n+Math.random()*(e-n)}function Xae(n){return n*(.5-Math.random())}function Jae(n){n!==void 0&&(qH=n);let e=qH+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function Yae(n){return n*Fm}function Kae(n){return n*Ny}function UD(n){return(n&n-1)===0&&n!==0}function fY(n){return Math.pow(2,Math.ceil(Math.log(n)/Math.LN2))}function eC(n){return Math.pow(2,Math.floor(Math.log(n)/Math.LN2))}function Qae(n,e,t,r,i){const s=Math.cos,o=Math.sin,a=s(t/2),l=o(t/2),u=s((e+r)/2),h=o((e+r)/2),f=s((e-r)/2),p=o((e-r)/2),m=s((r-e)/2),v=o((r-e)/2);switch(i){case"XYX":n.set(a*h,l*f,l*p,a*u);break;case"YZY":n.set(l*p,a*h,l*f,a*u);break;case"ZXZ":n.set(l*f,l*p,a*h,a*u);break;case"XZX":n.set(a*h,l*v,l*m,a*u);break;case"YXY":n.set(l*m,a*h,l*v,a*u);break;case"ZYZ":n.set(l*v,l*m,a*h,a*u);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+i)}}function Ho(n,e){switch(e.constructor){case Float32Array:return n;case Uint32Array:return n/4294967295;case Uint16Array:return n/65535;case Uint8Array:return n/255;case Int32Array:return Math.max(n/2147483647,-1);case Int16Array:return Math.max(n/32767,-1);case Int8Array:return Math.max(n/127,-1);default:throw new Error("Invalid component type.")}}function an(n,e){switch(e.constructor){case Float32Array:return n;case Uint32Array:return Math.round(n*4294967295);case Uint16Array:return Math.round(n*65535);case Uint8Array:return Math.round(n*255);case Int32Array:return Math.round(n*2147483647);case Int16Array:return Math.round(n*32767);case Int8Array:return Math.round(n*127);default:throw new Error("Invalid component type.")}}const DU={DEG2RAD:Fm,RAD2DEG:Ny,generateUUID:Yo,clamp:zr,euclideanModulo:IU,mapLinear:Oae,inverseLerp:kae,lerp:s_,damp:Gae,pingpong:zae,smoothstep:Hae,smootherstep:Vae,randInt:Wae,randFloat:jae,randFloatSpread:Xae,seededRandom:Jae,degToRad:Yae,radToDeg:Kae,isPowerOfTwo:UD,ceilPowerOfTwo:fY,floorPowerOfTwo:eC,setQuaternionFromProperEuler:Qae,normalize:an,denormalize:Ho};let Ye=class pY{constructor(e=0,t=0){pY.prototype.isVector2=!0,this.x=e,this.y=t}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,t){return this.x=e,this.y=t,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const t=this.x,r=this.y,i=e.elements;return this.x=i[0]*t+i[3]*r+i[6],this.y=i[1]*t+i[4]*r+i[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this}clampLength(e,t){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(t,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const r=this.dot(e)/t;return Math.acos(zr(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,r=this.y-e.y;return t*t+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}lerpVectors(e,t,r){return this.x=e.x+(t.x-e.x)*r,this.y=e.y+(t.y-e.y)*r,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this}rotateAround(e,t){const r=Math.cos(t),i=Math.sin(t),s=this.x-e.x,o=this.y-e.y;return this.x=s*r-o*i+e.x,this.y=s*i+o*r+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}};class sn{constructor(e,t,r,i,s,o,a,l,u){sn.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],e!==void 0&&this.set(e,t,r,i,s,o,a,l,u)}set(e,t,r,i,s,o,a,l,u){const h=this.elements;return h[0]=e,h[1]=i,h[2]=a,h[3]=t,h[4]=s,h[5]=l,h[6]=r,h[7]=o,h[8]=u,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const t=this.elements,r=e.elements;return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[4]=r[4],t[5]=r[5],t[6]=r[6],t[7]=r[7],t[8]=r[8],this}extractBasis(e,t,r){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),r.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const r=e.elements,i=t.elements,s=this.elements,o=r[0],a=r[3],l=r[6],u=r[1],h=r[4],f=r[7],p=r[2],m=r[5],v=r[8],S=i[0],A=i[3],g=i[6],M=i[1],_=i[4],b=i[7],T=i[2],C=i[5],B=i[8];return s[0]=o*S+a*M+l*T,s[3]=o*A+a*_+l*C,s[6]=o*g+a*b+l*B,s[1]=u*S+h*M+f*T,s[4]=u*A+h*_+f*C,s[7]=u*g+h*b+f*B,s[2]=p*S+m*M+v*T,s[5]=p*A+m*_+v*C,s[8]=p*g+m*b+v*B,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}determinant(){const e=this.elements,t=e[0],r=e[1],i=e[2],s=e[3],o=e[4],a=e[5],l=e[6],u=e[7],h=e[8];return t*o*h-t*a*u-r*s*h+r*a*l+i*s*u-i*o*l}invert(){const e=this.elements,t=e[0],r=e[1],i=e[2],s=e[3],o=e[4],a=e[5],l=e[6],u=e[7],h=e[8],f=h*o-a*u,p=a*l-h*s,m=u*s-o*l,v=t*f+r*p+i*m;if(v===0)return this.set(0,0,0,0,0,0,0,0,0);const S=1/v;return e[0]=f*S,e[1]=(i*u-h*r)*S,e[2]=(a*r-i*o)*S,e[3]=p*S,e[4]=(h*t-i*l)*S,e[5]=(i*s-a*t)*S,e[6]=m*S,e[7]=(r*l-u*t)*S,e[8]=(o*t-r*s)*S,this}transpose(){let e;const t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}setUvTransform(e,t,r,i,s,o,a){const l=Math.cos(s),u=Math.sin(s);return this.set(r*l,r*u,-r*(l*o+u*a)+o+e,-i*u,i*l,-i*(-u*o+l*a)+a+t,0,0,1),this}scale(e,t){return this.premultiply(EB.makeScale(e,t)),this}rotate(e){return this.premultiply(EB.makeRotation(-e)),this}translate(e,t){return this.premultiply(EB.makeTranslation(e,t)),this}makeTranslation(e,t){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,t,0,0,1),this}makeRotation(e){const t=Math.cos(e),r=Math.sin(e);return this.set(t,-r,0,r,t,0,0,0,1),this}makeScale(e,t){return this.set(e,0,0,0,t,0,0,0,1),this}equals(e){const t=this.elements,r=e.elements;for(let i=0;i<9;i++)if(t[i]!==r[i])return!1;return!0}fromArray(e,t=0){for(let r=0;r<9;r++)this.elements[r]=e[r+t];return this}toArray(e=[],t=0){const r=this.elements;return e[t]=r[0],e[t+1]=r[1],e[t+2]=r[2],e[t+3]=r[3],e[t+4]=r[4],e[t+5]=r[5],e[t+6]=r[6],e[t+7]=r[7],e[t+8]=r[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const EB=new sn;function mY(n){for(let e=n.length-1;e>=0;--e)if(n[e]>=65535)return!0;return!1}const qae={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function w0(n,e){return new qae[n](e)}function tM(n){return document.createElementNS("http://www.w3.org/1999/xhtml",n)}const ZH={};function o_(n){n in ZH||(ZH[n]=!0,console.warn(n))}function uy(n){return n<.04045?n*.0773993808:Math.pow(n*.9478672986+.0521327014,2.4)}function bB(n){return n<.0031308?n*12.92:1.055*Math.pow(n,.41666)-.055}const Zae=new sn().fromArray([.8224621,.0331941,.0170827,.177538,.9668058,.0723974,-1e-7,1e-7,.9105199]),$ae=new sn().fromArray([1.2249401,-.0420569,-.0196376,-.2249404,1.0420571,-.0786361,1e-7,0,1.0982735]);function ele(n){return n.convertSRGBToLinear().applyMatrix3($ae)}function tle(n){return n.applyMatrix3(Zae).convertLinearToSRGB()}const nle={[kl]:n=>n,[qt]:n=>n.convertSRGBToLinear(),[LU]:ele},rle={[kl]:n=>n,[qt]:n=>n.convertLinearToSRGB(),[LU]:tle},Pa={enabled:!0,get legacyMode(){return console.warn("THREE.ColorManagement: .legacyMode=false renamed to .enabled=true in r150."),!this.enabled},set legacyMode(n){console.warn("THREE.ColorManagement: .legacyMode=false renamed to .enabled=true in r150."),this.enabled=!n},get workingColorSpace(){return kl},set workingColorSpace(n){console.warn("THREE.ColorManagement: .workingColorSpace is readonly.")},convert:function(n,e,t){if(this.enabled===!1||e===t||!e||!t)return n;const r=nle[e],i=rle[t];if(r===void 0||i===void 0)throw new Error(`Unsupported color space conversion, "${e}" to "${t}".`);return i(r(n))},fromWorkingColorSpace:function(n,e){return this.convert(n,this.workingColorSpace,e)},toWorkingColorSpace:function(n,e){return this.convert(n,e,this.workingColorSpace)}};let vv;class FU{static getDataURL(e){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let t;if(e instanceof HTMLCanvasElement)t=e;else{vv===void 0&&(vv=tM("canvas")),vv.width=e.width,vv.height=e.height;const r=vv.getContext("2d");e instanceof ImageData?r.putImageData(e,0,0):r.drawImage(e,0,0,e.width,e.height),t=vv}return t.width>2048||t.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),t.toDataURL("image/jpeg",.6)):t.toDataURL("image/png")}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const t=tM("canvas");t.width=e.width,t.height=e.height;const r=t.getContext("2d");r.drawImage(e,0,0,e.width,e.height);const i=r.getImageData(0,0,e.width,e.height),s=i.data;for(let o=0;o<s.length;o++)s[o]=uy(s[o]/255)*255;return r.putImageData(i,0,0),t}else if(e.data){const t=e.data.slice(0);for(let r=0;r<t.length;r++)t instanceof Uint8Array||t instanceof Uint8ClampedArray?t[r]=Math.floor(uy(t[r]/255)*255):t[r]=uy(t[r]);return{data:t,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}let ile=0,gm=class{constructor(e=null){this.isSource=!0,Object.defineProperty(this,"id",{value:ile++}),this.uuid=Yo(),this.data=e,this.version=0}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const r={uuid:this.uuid,url:""},i=this.data;if(i!==null){let s;if(Array.isArray(i)){s=[];for(let o=0,a=i.length;o<a;o++)i[o].isDataTexture?s.push(wB(i[o].image)):s.push(wB(i[o]))}else s=wB(i);r.url=s}return t||(e.images[this.uuid]=r),r}};function wB(n){return typeof HTMLImageElement<"u"&&n instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&n instanceof ImageBitmap?FU.getDataURL(n):n.data?{data:Array.from(n.data),width:n.width,height:n.height,type:n.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let sle=0;class dr extends Zu{constructor(e=dr.DEFAULT_IMAGE,t=dr.DEFAULT_MAPPING,r=is,i=is,s=Ar,o=Ju,a=ao,l=Nu,u=dr.DEFAULT_ANISOTROPY,h=Wd){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:sle++}),this.uuid=Yo(),this.name="",this.source=new gm(e),this.mipmaps=[],this.mapping=t,this.channel=0,this.wrapS=r,this.wrapT=i,this.magFilter=s,this.minFilter=o,this.anisotropy=u,this.format=a,this.internalFormat=null,this.type=l,this.offset=new Ye(0,0),this.repeat=new Ye(1,1),this.center=new Ye(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new sn,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,typeof h=="string"?this.colorSpace=h:(o_("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace=h===Vd?qt:Wd),this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.needsPMREMUpdate=!1}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const r={metadata:{version:4.6,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(r.userData=this.userData),t||(e.textures[this.uuid]=r),r}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==yR)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case hf:e.x=e.x-Math.floor(e.x);break;case is:e.x=e.x<0?0:1;break;case Iy:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case hf:e.y=e.y-Math.floor(e.y);break;case is:e.y=e.y<0?0:1;break;case Iy:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}get encoding(){return o_("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace===qt?Vd:BU}set encoding(e){o_("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace=e===Vd?qt:Wd}}dr.DEFAULT_IMAGE=null;dr.DEFAULT_MAPPING=yR;dr.DEFAULT_ANISOTROPY=1;class kn{constructor(e=0,t=0,r=0,i=1){kn.prototype.isVector4=!0,this.x=e,this.y=t,this.z=r,this.w=i}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,t,r,i){return this.x=e,this.y=t,this.z=r,this.w=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const t=this.x,r=this.y,i=this.z,s=this.w,o=e.elements;return this.x=o[0]*t+o[4]*r+o[8]*i+o[12]*s,this.y=o[1]*t+o[5]*r+o[9]*i+o[13]*s,this.z=o[2]*t+o[6]*r+o[10]*i+o[14]*s,this.w=o[3]*t+o[7]*r+o[11]*i+o[15]*s,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}setAxisAngleFromRotationMatrix(e){let t,r,i,s;const o=e.elements,a=o[0],l=o[4],u=o[8],h=o[1],f=o[5],p=o[9],m=o[2],v=o[6],S=o[10];if(Math.abs(l-h)<.01&&Math.abs(u-m)<.01&&Math.abs(p-v)<.01){if(Math.abs(l+h)<.1&&Math.abs(u+m)<.1&&Math.abs(p+v)<.1&&Math.abs(a+f+S-3)<.1)return this.set(1,0,0,0),this;t=Math.PI;const g=(a+1)/2,M=(f+1)/2,_=(S+1)/2,b=(l+h)/4,T=(u+m)/4,C=(p+v)/4;return g>M&&g>_?g<.01?(r=0,i=.707106781,s=.707106781):(r=Math.sqrt(g),i=b/r,s=T/r):M>_?M<.01?(r=.707106781,i=0,s=.707106781):(i=Math.sqrt(M),r=b/i,s=C/i):_<.01?(r=.707106781,i=.707106781,s=0):(s=Math.sqrt(_),r=T/s,i=C/s),this.set(r,i,s,t),this}let A=Math.sqrt((v-p)*(v-p)+(u-m)*(u-m)+(h-l)*(h-l));return Math.abs(A)<.001&&(A=1),this.x=(v-p)/A,this.y=(u-m)/A,this.z=(h-l)/A,this.w=Math.acos((a+f+S-1)/2),this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this.w=Math.max(e.w,Math.min(t.w,this.w)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this.w=Math.max(e,Math.min(t,this.w)),this}clampLength(e,t){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(t,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}lerpVectors(e,t,r){return this.x=e.x+(t.x-e.x)*r,this.y=e.y+(t.y-e.y)*r,this.z=e.z+(t.z-e.z)*r,this.w=e.w+(t.w-e.w)*r,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class Gl extends Zu{constructor(e=1,t=1,r={}){super(),this.isWebGLRenderTarget=!0,this.width=e,this.height=t,this.depth=1,this.scissor=new kn(0,0,e,t),this.scissorTest=!1,this.viewport=new kn(0,0,e,t);const i={width:e,height:t,depth:1};r.encoding!==void 0&&(o_("THREE.WebGLRenderTarget: option.encoding has been replaced by option.colorSpace."),r.colorSpace=r.encoding===Vd?qt:Wd),this.texture=new dr(i,r.mapping,r.wrapS,r.wrapT,r.magFilter,r.minFilter,r.format,r.type,r.anisotropy,r.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.flipY=!1,this.texture.generateMipmaps=r.generateMipmaps!==void 0?r.generateMipmaps:!1,this.texture.internalFormat=r.internalFormat!==void 0?r.internalFormat:null,this.texture.minFilter=r.minFilter!==void 0?r.minFilter:Ar,this.depthBuffer=r.depthBuffer!==void 0?r.depthBuffer:!0,this.stencilBuffer=r.stencilBuffer!==void 0?r.stencilBuffer:!1,this.depthTexture=r.depthTexture!==void 0?r.depthTexture:null,this.samples=r.samples!==void 0?r.samples:0}setSize(e,t,r=1){(this.width!==e||this.height!==t||this.depth!==r)&&(this.width=e,this.height=t,this.depth=r,this.texture.image.width=e,this.texture.image.height=t,this.texture.image.depth=r,this.dispose()),this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.texture.isRenderTargetTexture=!0;const t=Object.assign({},e.texture.image);return this.texture.source=new gm(t),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}let MR=class extends dr{constructor(e=null,t=1,r=1,i=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:t,height:r,depth:i},this.magFilter=kr,this.minFilter=kr,this.wrapR=is,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}};class ole extends Gl{constructor(e=1,t=1,r=1){super(e,t),this.isWebGLArrayRenderTarget=!0,this.depth=r,this.texture=new MR(null,e,t,r),this.texture.isRenderTargetTexture=!0}}class NU extends dr{constructor(e=null,t=1,r=1,i=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:t,height:r,depth:i},this.magFilter=kr,this.minFilter=kr,this.wrapR=is,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class ale extends Gl{constructor(e=1,t=1,r=1){super(e,t),this.isWebGL3DRenderTarget=!0,this.depth=r,this.texture=new NU(null,e,t,r),this.texture.isRenderTargetTexture=!0}}class lle extends Gl{constructor(e=1,t=1,r=1,i={}){super(e,t,i),this.isWebGLMultipleRenderTargets=!0;const s=this.texture;this.texture=[];for(let o=0;o<r;o++)this.texture[o]=s.clone(),this.texture[o].isRenderTargetTexture=!0}setSize(e,t,r=1){if(this.width!==e||this.height!==t||this.depth!==r){this.width=e,this.height=t,this.depth=r;for(let i=0,s=this.texture.length;i<s;i++)this.texture[i].image.width=e,this.texture[i].image.height=t,this.texture[i].image.depth=r;this.dispose()}return this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t),this}copy(e){this.dispose(),this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.texture.length=0;for(let t=0,r=e.texture.length;t<r;t++)this.texture[t]=e.texture[t].clone(),this.texture[t].isRenderTargetTexture=!0;return this}}class Hi{constructor(e=0,t=0,r=0,i=1){this.isQuaternion=!0,this._x=e,this._y=t,this._z=r,this._w=i}static slerpFlat(e,t,r,i,s,o,a){let l=r[i+0],u=r[i+1],h=r[i+2],f=r[i+3];const p=s[o+0],m=s[o+1],v=s[o+2],S=s[o+3];if(a===0){e[t+0]=l,e[t+1]=u,e[t+2]=h,e[t+3]=f;return}if(a===1){e[t+0]=p,e[t+1]=m,e[t+2]=v,e[t+3]=S;return}if(f!==S||l!==p||u!==m||h!==v){let A=1-a;const g=l*p+u*m+h*v+f*S,M=g>=0?1:-1,_=1-g*g;if(_>Number.EPSILON){const T=Math.sqrt(_),C=Math.atan2(T,g*M);A=Math.sin(A*C)/T,a=Math.sin(a*C)/T}const b=a*M;if(l=l*A+p*b,u=u*A+m*b,h=h*A+v*b,f=f*A+S*b,A===1-a){const T=1/Math.sqrt(l*l+u*u+h*h+f*f);l*=T,u*=T,h*=T,f*=T}}e[t]=l,e[t+1]=u,e[t+2]=h,e[t+3]=f}static multiplyQuaternionsFlat(e,t,r,i,s,o){const a=r[i],l=r[i+1],u=r[i+2],h=r[i+3],f=s[o],p=s[o+1],m=s[o+2],v=s[o+3];return e[t]=a*v+h*f+l*m-u*p,e[t+1]=l*v+h*p+u*f-a*m,e[t+2]=u*v+h*m+a*p-l*f,e[t+3]=h*v-a*f-l*p-u*m,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,t,r,i){return this._x=e,this._y=t,this._z=r,this._w=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,t){const r=e._x,i=e._y,s=e._z,o=e._order,a=Math.cos,l=Math.sin,u=a(r/2),h=a(i/2),f=a(s/2),p=l(r/2),m=l(i/2),v=l(s/2);switch(o){case"XYZ":this._x=p*h*f+u*m*v,this._y=u*m*f-p*h*v,this._z=u*h*v+p*m*f,this._w=u*h*f-p*m*v;break;case"YXZ":this._x=p*h*f+u*m*v,this._y=u*m*f-p*h*v,this._z=u*h*v-p*m*f,this._w=u*h*f+p*m*v;break;case"ZXY":this._x=p*h*f-u*m*v,this._y=u*m*f+p*h*v,this._z=u*h*v+p*m*f,this._w=u*h*f-p*m*v;break;case"ZYX":this._x=p*h*f-u*m*v,this._y=u*m*f+p*h*v,this._z=u*h*v-p*m*f,this._w=u*h*f+p*m*v;break;case"YZX":this._x=p*h*f+u*m*v,this._y=u*m*f+p*h*v,this._z=u*h*v-p*m*f,this._w=u*h*f-p*m*v;break;case"XZY":this._x=p*h*f-u*m*v,this._y=u*m*f-p*h*v,this._z=u*h*v+p*m*f,this._w=u*h*f+p*m*v;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+o)}return t!==!1&&this._onChangeCallback(),this}setFromAxisAngle(e,t){const r=t/2,i=Math.sin(r);return this._x=e.x*i,this._y=e.y*i,this._z=e.z*i,this._w=Math.cos(r),this._onChangeCallback(),this}setFromRotationMatrix(e){const t=e.elements,r=t[0],i=t[4],s=t[8],o=t[1],a=t[5],l=t[9],u=t[2],h=t[6],f=t[10],p=r+a+f;if(p>0){const m=.5/Math.sqrt(p+1);this._w=.25/m,this._x=(h-l)*m,this._y=(s-u)*m,this._z=(o-i)*m}else if(r>a&&r>f){const m=2*Math.sqrt(1+r-a-f);this._w=(h-l)/m,this._x=.25*m,this._y=(i+o)/m,this._z=(s+u)/m}else if(a>f){const m=2*Math.sqrt(1+a-r-f);this._w=(s-u)/m,this._x=(i+o)/m,this._y=.25*m,this._z=(l+h)/m}else{const m=2*Math.sqrt(1+f-r-a);this._w=(o-i)/m,this._x=(s+u)/m,this._y=(l+h)/m,this._z=.25*m}return this._onChangeCallback(),this}setFromUnitVectors(e,t){let r=e.dot(t)+1;return r<Number.EPSILON?(r=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=r):(this._x=0,this._y=-e.z,this._z=e.y,this._w=r)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=r),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(zr(this.dot(e),-1,1)))}rotateTowards(e,t){const r=this.angleTo(e);if(r===0)return this;const i=Math.min(1,t/r);return this.slerp(e,i),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,t){const r=e._x,i=e._y,s=e._z,o=e._w,a=t._x,l=t._y,u=t._z,h=t._w;return this._x=r*h+o*a+i*u-s*l,this._y=i*h+o*l+s*a-r*u,this._z=s*h+o*u+r*l-i*a,this._w=o*h-r*a-i*l-s*u,this._onChangeCallback(),this}slerp(e,t){if(t===0)return this;if(t===1)return this.copy(e);const r=this._x,i=this._y,s=this._z,o=this._w;let a=o*e._w+r*e._x+i*e._y+s*e._z;if(a<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,a=-a):this.copy(e),a>=1)return this._w=o,this._x=r,this._y=i,this._z=s,this;const l=1-a*a;if(l<=Number.EPSILON){const m=1-t;return this._w=m*o+t*this._w,this._x=m*r+t*this._x,this._y=m*i+t*this._y,this._z=m*s+t*this._z,this.normalize(),this._onChangeCallback(),this}const u=Math.sqrt(l),h=Math.atan2(u,a),f=Math.sin((1-t)*h)/u,p=Math.sin(t*h)/u;return this._w=o*f+this._w*p,this._x=r*f+this._x*p,this._y=i*f+this._y*p,this._z=s*f+this._z*p,this._onChangeCallback(),this}slerpQuaternions(e,t,r){return this.copy(e).slerp(t,r)}random(){const e=Math.random(),t=Math.sqrt(1-e),r=Math.sqrt(e),i=2*Math.PI*Math.random(),s=2*Math.PI*Math.random();return this.set(t*Math.cos(i),r*Math.sin(s),r*Math.cos(s),t*Math.sin(i))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,t=0){return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}fromBufferAttribute(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}let se=class gY{constructor(e=0,t=0,r=0){gY.prototype.isVector3=!0,this.x=e,this.y=t,this.z=r}set(e,t,r){return r===void 0&&(r=this.z),this.x=e,this.y=t,this.z=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}applyEuler(e){return this.applyQuaternion($H.setFromEuler(e))}applyAxisAngle(e,t){return this.applyQuaternion($H.setFromAxisAngle(e,t))}applyMatrix3(e){const t=this.x,r=this.y,i=this.z,s=e.elements;return this.x=s[0]*t+s[3]*r+s[6]*i,this.y=s[1]*t+s[4]*r+s[7]*i,this.z=s[2]*t+s[5]*r+s[8]*i,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const t=this.x,r=this.y,i=this.z,s=e.elements,o=1/(s[3]*t+s[7]*r+s[11]*i+s[15]);return this.x=(s[0]*t+s[4]*r+s[8]*i+s[12])*o,this.y=(s[1]*t+s[5]*r+s[9]*i+s[13])*o,this.z=(s[2]*t+s[6]*r+s[10]*i+s[14])*o,this}applyQuaternion(e){const t=this.x,r=this.y,i=this.z,s=e.x,o=e.y,a=e.z,l=e.w,u=l*t+o*i-a*r,h=l*r+a*t-s*i,f=l*i+s*r-o*t,p=-s*t-o*r-a*i;return this.x=u*l+p*-s+h*-a-f*-o,this.y=h*l+p*-o+f*-s-u*-a,this.z=f*l+p*-a+u*-o-h*-s,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const t=this.x,r=this.y,i=this.z,s=e.elements;return this.x=s[0]*t+s[4]*r+s[8]*i,this.y=s[1]*t+s[5]*r+s[9]*i,this.z=s[2]*t+s[6]*r+s[10]*i,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this}clampLength(e,t){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(t,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}lerpVectors(e,t,r){return this.x=e.x+(t.x-e.x)*r,this.y=e.y+(t.y-e.y)*r,this.z=e.z+(t.z-e.z)*r,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,t){const r=e.x,i=e.y,s=e.z,o=t.x,a=t.y,l=t.z;return this.x=i*l-s*a,this.y=s*o-r*l,this.z=r*a-i*o,this}projectOnVector(e){const t=e.lengthSq();if(t===0)return this.set(0,0,0);const r=e.dot(this)/t;return this.copy(e).multiplyScalar(r)}projectOnPlane(e){return TB.copy(this).projectOnVector(e),this.sub(TB)}reflect(e){return this.sub(TB.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const r=this.dot(e)/t;return Math.acos(zr(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,r=this.y-e.y,i=this.z-e.z;return t*t+r*r+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,t,r){const i=Math.sin(t)*e;return this.x=i*Math.sin(r),this.y=Math.cos(t)*e,this.z=i*Math.cos(r),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,t,r){return this.x=e*Math.sin(t),this.y=r,this.z=e*Math.cos(t),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}setFromMatrixScale(e){const t=this.setFromMatrixColumn(e,0).length(),r=this.setFromMatrixColumn(e,1).length(),i=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=r,this.z=i,this}setFromMatrixColumn(e,t){return this.fromArray(e.elements,t*4)}setFromMatrix3Column(e,t){return this.fromArray(e.elements,t*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=(Math.random()-.5)*2,t=Math.random()*Math.PI*2,r=Math.sqrt(1-e**2);return this.x=r*Math.cos(t),this.y=r*Math.sin(t),this.z=e,this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}};const TB=new se,$H=new Hi;class Wl{constructor(e=new se(1/0,1/0,1/0),t=new se(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromArray(e){this.makeEmpty();for(let t=0,r=e.length;t<r;t+=3)this.expandByPoint(Lc.fromArray(e,t));return this}setFromBufferAttribute(e){this.makeEmpty();for(let t=0,r=e.count;t<r;t++)this.expandByPoint(Lc.fromBufferAttribute(e,t));return this}setFromPoints(e){this.makeEmpty();for(let t=0,r=e.length;t<r;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const r=Lc.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}setFromObject(e,t=!1){return this.makeEmpty(),this.expandByObject(e,t)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,t=!1){if(e.updateWorldMatrix(!1,!1),e.boundingBox!==void 0)e.boundingBox===null&&e.computeBoundingBox(),yv.copy(e.boundingBox),yv.applyMatrix4(e.matrixWorld),this.union(yv);else{const i=e.geometry;if(i!==void 0)if(t&&i.attributes!==void 0&&i.attributes.position!==void 0){const s=i.attributes.position;for(let o=0,a=s.count;o<a;o++)Lc.fromBufferAttribute(s,o).applyMatrix4(e.matrixWorld),this.expandByPoint(Lc)}else i.boundingBox===null&&i.computeBoundingBox(),yv.copy(i.boundingBox),yv.applyMatrix4(e.matrixWorld),this.union(yv)}const r=e.children;for(let i=0,s=r.length;i<s;i++)this.expandByObject(r[i],t);return this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}intersectsSphere(e){return this.clampPoint(e.center,Lc),Lc.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let t,r;return e.normal.x>0?(t=e.normal.x*this.min.x,r=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,r=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,r+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,r+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,r+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,r+=e.normal.z*this.min.z),t<=-e.constant&&r>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(VA),CE.subVectors(this.max,VA),xv.subVectors(e.a,VA),Av.subVectors(e.b,VA),_v.subVectors(e.c,VA),Qh.subVectors(Av,xv),qh.subVectors(_v,Av),_p.subVectors(xv,_v);let t=[0,-Qh.z,Qh.y,0,-qh.z,qh.y,0,-_p.z,_p.y,Qh.z,0,-Qh.x,qh.z,0,-qh.x,_p.z,0,-_p.x,-Qh.y,Qh.x,0,-qh.y,qh.x,0,-_p.y,_p.x,0];return!CB(t,xv,Av,_v,CE)||(t=[1,0,0,0,1,0,0,0,1],!CB(t,xv,Av,_v,CE))?!1:(RE.crossVectors(Qh,qh),t=[RE.x,RE.y,RE.z],CB(t,xv,Av,_v,CE))}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,Lc).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=this.getSize(Lc).length()*.5),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(Bc[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),Bc[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),Bc[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),Bc[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),Bc[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),Bc[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),Bc[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),Bc[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(Bc),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const Bc=[new se,new se,new se,new se,new se,new se,new se,new se],Lc=new se,yv=new Wl,xv=new se,Av=new se,_v=new se,Qh=new se,qh=new se,_p=new se,VA=new se,CE=new se,RE=new se,Mp=new se;function CB(n,e,t,r,i){for(let s=0,o=n.length-3;s<=o;s+=3){Mp.fromArray(n,s);const a=i.x*Math.abs(Mp.x)+i.y*Math.abs(Mp.y)+i.z*Math.abs(Mp.z),l=e.dot(Mp),u=t.dot(Mp),h=r.dot(Mp);if(Math.max(-Math.max(l,u,h),Math.min(l,u,h))>a)return!1}return!0}const ule=new Wl,WA=new se,RB=new se;class Za{constructor(e=new se,t=-1){this.center=e,this.radius=t}set(e,t){return this.center.copy(e),this.radius=t,this}setFromPoints(e,t){const r=this.center;t!==void 0?r.copy(t):ule.setFromPoints(e).getCenter(r);let i=0;for(let s=0,o=e.length;s<o;s++)i=Math.max(i,r.distanceToSquared(e[s]));return this.radius=Math.sqrt(i),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,t){const r=this.center.distanceToSquared(e);return t.copy(e),r>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;WA.subVectors(e,this.center);const t=WA.lengthSq();if(t>this.radius*this.radius){const r=Math.sqrt(t),i=(r-this.radius)*.5;this.center.addScaledVector(WA,i/r),this.radius+=i}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(RB.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(WA.copy(e.center).add(RB)),this.expandByPoint(WA.copy(e.center).sub(RB))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}}const Ic=new se,PB=new se,PE=new se,Zh=new se,BB=new se,BE=new se,LB=new se;class dx{constructor(e=new se,t=new se(0,0,-1)){this.origin=e,this.direction=t}set(e,t){return this.origin.copy(e),this.direction.copy(t),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,t){return t.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,Ic)),this}closestPointToPoint(e,t){t.subVectors(e,this.origin);const r=t.dot(this.direction);return r<0?t.copy(this.origin):t.copy(this.origin).addScaledVector(this.direction,r)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const t=Ic.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(Ic.copy(this.origin).addScaledVector(this.direction,t),Ic.distanceToSquared(e))}distanceSqToSegment(e,t,r,i){PB.copy(e).add(t).multiplyScalar(.5),PE.copy(t).sub(e).normalize(),Zh.copy(this.origin).sub(PB);const s=e.distanceTo(t)*.5,o=-this.direction.dot(PE),a=Zh.dot(this.direction),l=-Zh.dot(PE),u=Zh.lengthSq(),h=Math.abs(1-o*o);let f,p,m,v;if(h>0)if(f=o*l-a,p=o*a-l,v=s*h,f>=0)if(p>=-v)if(p<=v){const S=1/h;f*=S,p*=S,m=f*(f+o*p+2*a)+p*(o*f+p+2*l)+u}else p=s,f=Math.max(0,-(o*p+a)),m=-f*f+p*(p+2*l)+u;else p=-s,f=Math.max(0,-(o*p+a)),m=-f*f+p*(p+2*l)+u;else p<=-v?(f=Math.max(0,-(-o*s+a)),p=f>0?-s:Math.min(Math.max(-s,-l),s),m=-f*f+p*(p+2*l)+u):p<=v?(f=0,p=Math.min(Math.max(-s,-l),s),m=p*(p+2*l)+u):(f=Math.max(0,-(o*s+a)),p=f>0?s:Math.min(Math.max(-s,-l),s),m=-f*f+p*(p+2*l)+u);else p=o>0?-s:s,f=Math.max(0,-(o*p+a)),m=-f*f+p*(p+2*l)+u;return r&&r.copy(this.origin).addScaledVector(this.direction,f),i&&i.copy(PB).addScaledVector(PE,p),m}intersectSphere(e,t){Ic.subVectors(e.center,this.origin);const r=Ic.dot(this.direction),i=Ic.dot(Ic)-r*r,s=e.radius*e.radius;if(i>s)return null;const o=Math.sqrt(s-i),a=r-o,l=r+o;return l<0?null:a<0?this.at(l,t):this.at(a,t)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const t=e.normal.dot(this.direction);if(t===0)return e.distanceToPoint(this.origin)===0?0:null;const r=-(this.origin.dot(e.normal)+e.constant)/t;return r>=0?r:null}intersectPlane(e,t){const r=this.distanceToPlane(e);return r===null?null:this.at(r,t)}intersectsPlane(e){const t=e.distanceToPoint(this.origin);return t===0||e.normal.dot(this.direction)*t<0}intersectBox(e,t){let r,i,s,o,a,l;const u=1/this.direction.x,h=1/this.direction.y,f=1/this.direction.z,p=this.origin;return u>=0?(r=(e.min.x-p.x)*u,i=(e.max.x-p.x)*u):(r=(e.max.x-p.x)*u,i=(e.min.x-p.x)*u),h>=0?(s=(e.min.y-p.y)*h,o=(e.max.y-p.y)*h):(s=(e.max.y-p.y)*h,o=(e.min.y-p.y)*h),r>o||s>i||((s>r||isNaN(r))&&(r=s),(o<i||isNaN(i))&&(i=o),f>=0?(a=(e.min.z-p.z)*f,l=(e.max.z-p.z)*f):(a=(e.max.z-p.z)*f,l=(e.min.z-p.z)*f),r>l||a>i)||((a>r||r!==r)&&(r=a),(l<i||i!==i)&&(i=l),i<0)?null:this.at(r>=0?r:i,t)}intersectsBox(e){return this.intersectBox(e,Ic)!==null}intersectTriangle(e,t,r,i,s){BB.subVectors(t,e),BE.subVectors(r,e),LB.crossVectors(BB,BE);let o=this.direction.dot(LB),a;if(o>0){if(i)return null;a=1}else if(o<0)a=-1,o=-o;else return null;Zh.subVectors(this.origin,e);const l=a*this.direction.dot(BE.crossVectors(Zh,BE));if(l<0)return null;const u=a*this.direction.dot(BB.cross(Zh));if(u<0||l+u>o)return null;const h=-a*Zh.dot(LB);return h<0?null:this.at(h/o,s)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class zt{constructor(e,t,r,i,s,o,a,l,u,h,f,p,m,v,S,A){zt.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],e!==void 0&&this.set(e,t,r,i,s,o,a,l,u,h,f,p,m,v,S,A)}set(e,t,r,i,s,o,a,l,u,h,f,p,m,v,S,A){const g=this.elements;return g[0]=e,g[4]=t,g[8]=r,g[12]=i,g[1]=s,g[5]=o,g[9]=a,g[13]=l,g[2]=u,g[6]=h,g[10]=f,g[14]=p,g[3]=m,g[7]=v,g[11]=S,g[15]=A,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new zt().fromArray(this.elements)}copy(e){const t=this.elements,r=e.elements;return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[4]=r[4],t[5]=r[5],t[6]=r[6],t[7]=r[7],t[8]=r[8],t[9]=r[9],t[10]=r[10],t[11]=r[11],t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15],this}copyPosition(e){const t=this.elements,r=e.elements;return t[12]=r[12],t[13]=r[13],t[14]=r[14],this}setFromMatrix3(e){const t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}extractBasis(e,t,r){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),r.setFromMatrixColumn(this,2),this}makeBasis(e,t,r){return this.set(e.x,t.x,r.x,0,e.y,t.y,r.y,0,e.z,t.z,r.z,0,0,0,0,1),this}extractRotation(e){const t=this.elements,r=e.elements,i=1/Mv.setFromMatrixColumn(e,0).length(),s=1/Mv.setFromMatrixColumn(e,1).length(),o=1/Mv.setFromMatrixColumn(e,2).length();return t[0]=r[0]*i,t[1]=r[1]*i,t[2]=r[2]*i,t[3]=0,t[4]=r[4]*s,t[5]=r[5]*s,t[6]=r[6]*s,t[7]=0,t[8]=r[8]*o,t[9]=r[9]*o,t[10]=r[10]*o,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromEuler(e){const t=this.elements,r=e.x,i=e.y,s=e.z,o=Math.cos(r),a=Math.sin(r),l=Math.cos(i),u=Math.sin(i),h=Math.cos(s),f=Math.sin(s);if(e.order==="XYZ"){const p=o*h,m=o*f,v=a*h,S=a*f;t[0]=l*h,t[4]=-l*f,t[8]=u,t[1]=m+v*u,t[5]=p-S*u,t[9]=-a*l,t[2]=S-p*u,t[6]=v+m*u,t[10]=o*l}else if(e.order==="YXZ"){const p=l*h,m=l*f,v=u*h,S=u*f;t[0]=p+S*a,t[4]=v*a-m,t[8]=o*u,t[1]=o*f,t[5]=o*h,t[9]=-a,t[2]=m*a-v,t[6]=S+p*a,t[10]=o*l}else if(e.order==="ZXY"){const p=l*h,m=l*f,v=u*h,S=u*f;t[0]=p-S*a,t[4]=-o*f,t[8]=v+m*a,t[1]=m+v*a,t[5]=o*h,t[9]=S-p*a,t[2]=-o*u,t[6]=a,t[10]=o*l}else if(e.order==="ZYX"){const p=o*h,m=o*f,v=a*h,S=a*f;t[0]=l*h,t[4]=v*u-m,t[8]=p*u+S,t[1]=l*f,t[5]=S*u+p,t[9]=m*u-v,t[2]=-u,t[6]=a*l,t[10]=o*l}else if(e.order==="YZX"){const p=o*l,m=o*u,v=a*l,S=a*u;t[0]=l*h,t[4]=S-p*f,t[8]=v*f+m,t[1]=f,t[5]=o*h,t[9]=-a*h,t[2]=-u*h,t[6]=m*f+v,t[10]=p-S*f}else if(e.order==="XZY"){const p=o*l,m=o*u,v=a*l,S=a*u;t[0]=l*h,t[4]=-f,t[8]=u*h,t[1]=p*f+S,t[5]=o*h,t[9]=m*f-v,t[2]=v*f-m,t[6]=a*h,t[10]=S*f+p}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromQuaternion(e){return this.compose(cle,e,hle)}lookAt(e,t,r){const i=this.elements;return Io.subVectors(e,t),Io.lengthSq()===0&&(Io.z=1),Io.normalize(),$h.crossVectors(r,Io),$h.lengthSq()===0&&(Math.abs(r.z)===1?Io.x+=1e-4:Io.z+=1e-4,Io.normalize(),$h.crossVectors(r,Io)),$h.normalize(),LE.crossVectors(Io,$h),i[0]=$h.x,i[4]=LE.x,i[8]=Io.x,i[1]=$h.y,i[5]=LE.y,i[9]=Io.y,i[2]=$h.z,i[6]=LE.z,i[10]=Io.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const r=e.elements,i=t.elements,s=this.elements,o=r[0],a=r[4],l=r[8],u=r[12],h=r[1],f=r[5],p=r[9],m=r[13],v=r[2],S=r[6],A=r[10],g=r[14],M=r[3],_=r[7],b=r[11],T=r[15],C=i[0],B=i[4],P=i[8],R=i[12],L=i[1],U=i[5],Q=i[9],W=i[13],Y=i[2],X=i[6],ae=i[10],Z=i[14],D=i[3],k=i[7],G=i[11],K=i[15];return s[0]=o*C+a*L+l*Y+u*D,s[4]=o*B+a*U+l*X+u*k,s[8]=o*P+a*Q+l*ae+u*G,s[12]=o*R+a*W+l*Z+u*K,s[1]=h*C+f*L+p*Y+m*D,s[5]=h*B+f*U+p*X+m*k,s[9]=h*P+f*Q+p*ae+m*G,s[13]=h*R+f*W+p*Z+m*K,s[2]=v*C+S*L+A*Y+g*D,s[6]=v*B+S*U+A*X+g*k,s[10]=v*P+S*Q+A*ae+g*G,s[14]=v*R+S*W+A*Z+g*K,s[3]=M*C+_*L+b*Y+T*D,s[7]=M*B+_*U+b*X+T*k,s[11]=M*P+_*Q+b*ae+T*G,s[15]=M*R+_*W+b*Z+T*K,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}determinant(){const e=this.elements,t=e[0],r=e[4],i=e[8],s=e[12],o=e[1],a=e[5],l=e[9],u=e[13],h=e[2],f=e[6],p=e[10],m=e[14],v=e[3],S=e[7],A=e[11],g=e[15];return v*(+s*l*f-i*u*f-s*a*p+r*u*p+i*a*m-r*l*m)+S*(+t*l*m-t*u*p+s*o*p-i*o*m+i*u*h-s*l*h)+A*(+t*u*f-t*a*m-s*o*f+r*o*m+s*a*h-r*u*h)+g*(-i*a*h-t*l*f+t*a*p+i*o*f-r*o*p+r*l*h)}transpose(){const e=this.elements;let t;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this}setPosition(e,t,r){const i=this.elements;return e.isVector3?(i[12]=e.x,i[13]=e.y,i[14]=e.z):(i[12]=e,i[13]=t,i[14]=r),this}invert(){const e=this.elements,t=e[0],r=e[1],i=e[2],s=e[3],o=e[4],a=e[5],l=e[6],u=e[7],h=e[8],f=e[9],p=e[10],m=e[11],v=e[12],S=e[13],A=e[14],g=e[15],M=f*A*u-S*p*u+S*l*m-a*A*m-f*l*g+a*p*g,_=v*p*u-h*A*u-v*l*m+o*A*m+h*l*g-o*p*g,b=h*S*u-v*f*u+v*a*m-o*S*m-h*a*g+o*f*g,T=v*f*l-h*S*l-v*a*p+o*S*p+h*a*A-o*f*A,C=t*M+r*_+i*b+s*T;if(C===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const B=1/C;return e[0]=M*B,e[1]=(S*p*s-f*A*s-S*i*m+r*A*m+f*i*g-r*p*g)*B,e[2]=(a*A*s-S*l*s+S*i*u-r*A*u-a*i*g+r*l*g)*B,e[3]=(f*l*s-a*p*s-f*i*u+r*p*u+a*i*m-r*l*m)*B,e[4]=_*B,e[5]=(h*A*s-v*p*s+v*i*m-t*A*m-h*i*g+t*p*g)*B,e[6]=(v*l*s-o*A*s-v*i*u+t*A*u+o*i*g-t*l*g)*B,e[7]=(o*p*s-h*l*s+h*i*u-t*p*u-o*i*m+t*l*m)*B,e[8]=b*B,e[9]=(v*f*s-h*S*s-v*r*m+t*S*m+h*r*g-t*f*g)*B,e[10]=(o*S*s-v*a*s+v*r*u-t*S*u-o*r*g+t*a*g)*B,e[11]=(h*a*s-o*f*s-h*r*u+t*f*u+o*r*m-t*a*m)*B,e[12]=T*B,e[13]=(h*S*i-v*f*i+v*r*p-t*S*p-h*r*A+t*f*A)*B,e[14]=(v*a*i-o*S*i-v*r*l+t*S*l+o*r*A-t*a*A)*B,e[15]=(o*f*i-h*a*i+h*r*l-t*f*l-o*r*p+t*a*p)*B,this}scale(e){const t=this.elements,r=e.x,i=e.y,s=e.z;return t[0]*=r,t[4]*=i,t[8]*=s,t[1]*=r,t[5]*=i,t[9]*=s,t[2]*=r,t[6]*=i,t[10]*=s,t[3]*=r,t[7]*=i,t[11]*=s,this}getMaxScaleOnAxis(){const e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],r=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],i=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,r,i))}makeTranslation(e,t,r){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,t,0,0,1,r,0,0,0,1),this}makeRotationX(e){const t=Math.cos(e),r=Math.sin(e);return this.set(1,0,0,0,0,t,-r,0,0,r,t,0,0,0,0,1),this}makeRotationY(e){const t=Math.cos(e),r=Math.sin(e);return this.set(t,0,r,0,0,1,0,0,-r,0,t,0,0,0,0,1),this}makeRotationZ(e){const t=Math.cos(e),r=Math.sin(e);return this.set(t,-r,0,0,r,t,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,t){const r=Math.cos(t),i=Math.sin(t),s=1-r,o=e.x,a=e.y,l=e.z,u=s*o,h=s*a;return this.set(u*o+r,u*a-i*l,u*l+i*a,0,u*a+i*l,h*a+r,h*l-i*o,0,u*l-i*a,h*l+i*o,s*l*l+r,0,0,0,0,1),this}makeScale(e,t,r){return this.set(e,0,0,0,0,t,0,0,0,0,r,0,0,0,0,1),this}makeShear(e,t,r,i,s,o){return this.set(1,r,s,0,e,1,o,0,t,i,1,0,0,0,0,1),this}compose(e,t,r){const i=this.elements,s=t._x,o=t._y,a=t._z,l=t._w,u=s+s,h=o+o,f=a+a,p=s*u,m=s*h,v=s*f,S=o*h,A=o*f,g=a*f,M=l*u,_=l*h,b=l*f,T=r.x,C=r.y,B=r.z;return i[0]=(1-(S+g))*T,i[1]=(m+b)*T,i[2]=(v-_)*T,i[3]=0,i[4]=(m-b)*C,i[5]=(1-(p+g))*C,i[6]=(A+M)*C,i[7]=0,i[8]=(v+_)*B,i[9]=(A-M)*B,i[10]=(1-(p+S))*B,i[11]=0,i[12]=e.x,i[13]=e.y,i[14]=e.z,i[15]=1,this}decompose(e,t,r){const i=this.elements;let s=Mv.set(i[0],i[1],i[2]).length();const o=Mv.set(i[4],i[5],i[6]).length(),a=Mv.set(i[8],i[9],i[10]).length();this.determinant()<0&&(s=-s),e.x=i[12],e.y=i[13],e.z=i[14],hl.copy(this);const l=1/s,u=1/o,h=1/a;return hl.elements[0]*=l,hl.elements[1]*=l,hl.elements[2]*=l,hl.elements[4]*=u,hl.elements[5]*=u,hl.elements[6]*=u,hl.elements[8]*=h,hl.elements[9]*=h,hl.elements[10]*=h,t.setFromRotationMatrix(hl),r.x=s,r.y=o,r.z=a,this}makePerspective(e,t,r,i,s,o,a=Bu){const l=this.elements,u=2*s/(t-e),h=2*s/(r-i),f=(t+e)/(t-e),p=(r+i)/(r-i);let m,v;if(a===Bu)m=-(o+s)/(o-s),v=-2*o*s/(o-s);else if(a===eM)m=-o/(o-s),v=-o*s/(o-s);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+a);return l[0]=u,l[4]=0,l[8]=f,l[12]=0,l[1]=0,l[5]=h,l[9]=p,l[13]=0,l[2]=0,l[6]=0,l[10]=m,l[14]=v,l[3]=0,l[7]=0,l[11]=-1,l[15]=0,this}makeOrthographic(e,t,r,i,s,o,a=Bu){const l=this.elements,u=1/(t-e),h=1/(r-i),f=1/(o-s),p=(t+e)*u,m=(r+i)*h;let v,S;if(a===Bu)v=(o+s)*f,S=-2*f;else if(a===eM)v=s*f,S=-1*f;else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+a);return l[0]=2*u,l[4]=0,l[8]=0,l[12]=-p,l[1]=0,l[5]=2*h,l[9]=0,l[13]=-m,l[2]=0,l[6]=0,l[10]=S,l[14]=-v,l[3]=0,l[7]=0,l[11]=0,l[15]=1,this}equals(e){const t=this.elements,r=e.elements;for(let i=0;i<16;i++)if(t[i]!==r[i])return!1;return!0}fromArray(e,t=0){for(let r=0;r<16;r++)this.elements[r]=e[r+t];return this}toArray(e=[],t=0){const r=this.elements;return e[t]=r[0],e[t+1]=r[1],e[t+2]=r[2],e[t+3]=r[3],e[t+4]=r[4],e[t+5]=r[5],e[t+6]=r[6],e[t+7]=r[7],e[t+8]=r[8],e[t+9]=r[9],e[t+10]=r[10],e[t+11]=r[11],e[t+12]=r[12],e[t+13]=r[13],e[t+14]=r[14],e[t+15]=r[15],e}}const Mv=new se,hl=new zt,cle=new se(0,0,0),hle=new se(1,1,1),$h=new se,LE=new se,Io=new se,e4=new zt,t4=new Hi;let eS=class vY{constructor(e=0,t=0,r=0,i=vY.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=t,this._z=r,this._order=i}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,t,r,i=this._order){return this._x=e,this._y=t,this._z=r,this._order=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,t=this._order,r=!0){const i=e.elements,s=i[0],o=i[4],a=i[8],l=i[1],u=i[5],h=i[9],f=i[2],p=i[6],m=i[10];switch(t){case"XYZ":this._y=Math.asin(zr(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(-h,m),this._z=Math.atan2(-o,s)):(this._x=Math.atan2(p,u),this._z=0);break;case"YXZ":this._x=Math.asin(-zr(h,-1,1)),Math.abs(h)<.9999999?(this._y=Math.atan2(a,m),this._z=Math.atan2(l,u)):(this._y=Math.atan2(-f,s),this._z=0);break;case"ZXY":this._x=Math.asin(zr(p,-1,1)),Math.abs(p)<.9999999?(this._y=Math.atan2(-f,m),this._z=Math.atan2(-o,u)):(this._y=0,this._z=Math.atan2(l,s));break;case"ZYX":this._y=Math.asin(-zr(f,-1,1)),Math.abs(f)<.9999999?(this._x=Math.atan2(p,m),this._z=Math.atan2(l,s)):(this._x=0,this._z=Math.atan2(-o,u));break;case"YZX":this._z=Math.asin(zr(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-h,u),this._y=Math.atan2(-f,s)):(this._x=0,this._y=Math.atan2(a,m));break;case"XZY":this._z=Math.asin(-zr(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(p,u),this._y=Math.atan2(a,s)):(this._x=Math.atan2(-h,m),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+t)}return this._order=t,r===!0&&this._onChangeCallback(),this}setFromQuaternion(e,t,r){return e4.makeRotationFromQuaternion(e),this.setFromRotationMatrix(e4,t,r)}setFromVector3(e,t=this._order){return this.set(e.x,e.y,e.z,t)}reorder(e){return t4.setFromEuler(this),this.setFromQuaternion(t4,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}};eS.DEFAULT_ORDER="XYZ";let Nm=class{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}},dle=0;const n4=new se,Sv=new Hi,Dc=new zt,IE=new se,jA=new se,fle=new se,ple=new Hi,r4=new se(1,0,0),i4=new se(0,1,0),s4=new se(0,0,1),mle={type:"added"},o4={type:"removed"};class Mn extends Zu{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:dle++}),this.uuid=Yo(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=Mn.DEFAULT_UP.clone();const e=new se,t=new eS,r=new Hi,i=new se(1,1,1);function s(){r.setFromEuler(t,!1)}function o(){t.setFromQuaternion(r,void 0,!1)}t._onChange(s),r._onChange(o),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:r},scale:{configurable:!0,enumerable:!0,value:i},modelViewMatrix:{value:new zt},normalMatrix:{value:new sn}}),this.matrix=new zt,this.matrixWorld=new zt,this.matrixAutoUpdate=Mn.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.matrixWorldAutoUpdate=Mn.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.layers=new Nm,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,t){this.quaternion.setFromAxisAngle(e,t)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,t){return Sv.setFromAxisAngle(e,t),this.quaternion.multiply(Sv),this}rotateOnWorldAxis(e,t){return Sv.setFromAxisAngle(e,t),this.quaternion.premultiply(Sv),this}rotateX(e){return this.rotateOnAxis(r4,e)}rotateY(e){return this.rotateOnAxis(i4,e)}rotateZ(e){return this.rotateOnAxis(s4,e)}translateOnAxis(e,t){return n4.copy(e).applyQuaternion(this.quaternion),this.position.add(n4.multiplyScalar(t)),this}translateX(e){return this.translateOnAxis(r4,e)}translateY(e){return this.translateOnAxis(i4,e)}translateZ(e){return this.translateOnAxis(s4,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(Dc.copy(this.matrixWorld).invert())}lookAt(e,t,r){e.isVector3?IE.copy(e):IE.set(e,t,r);const i=this.parent;this.updateWorldMatrix(!0,!1),jA.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?Dc.lookAt(jA,IE,this.up):Dc.lookAt(IE,jA,this.up),this.quaternion.setFromRotationMatrix(Dc),i&&(Dc.extractRotation(i.matrixWorld),Sv.setFromRotationMatrix(Dc),this.quaternion.premultiply(Sv.invert()))}add(e){if(arguments.length>1){for(let t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.parent!==null&&e.parent.remove(e),e.parent=this,this.children.push(e),e.dispatchEvent(mle)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let r=0;r<arguments.length;r++)this.remove(arguments[r]);return this}const t=this.children.indexOf(e);return t!==-1&&(e.parent=null,this.children.splice(t,1),e.dispatchEvent(o4)),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){for(let e=0;e<this.children.length;e++){const t=this.children[e];t.parent=null,t.dispatchEvent(o4)}return this.children.length=0,this}attach(e){return this.updateWorldMatrix(!0,!1),Dc.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),Dc.multiply(e.parent.matrixWorld)),e.applyMatrix4(Dc),this.add(e),e.updateWorldMatrix(!1,!0),this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,t){if(this[e]===t)return this;for(let r=0,i=this.children.length;r<i;r++){const s=this.children[r].getObjectByProperty(e,t);if(s!==void 0)return s}}getObjectsByProperty(e,t){let r=[];this[e]===t&&r.push(this);for(let i=0,s=this.children.length;i<s;i++){const o=this.children[i].getObjectsByProperty(e,t);o.length>0&&(r=r.concat(o))}return r}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(jA,e,fle),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(jA,ple,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()}raycast(){}traverse(e){e(this);const t=this.children;for(let r=0,i=t.length;r<i;r++)t[r].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const t=this.children;for(let r=0,i=t.length;r<i;r++)t[r].traverseVisible(e)}traverseAncestors(e){const t=this.parent;t!==null&&(e(t),t.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);const t=this.children;for(let r=0,i=t.length;r<i;r++){const s=t[r];(s.matrixWorldAutoUpdate===!0||e===!0)&&s.updateMatrixWorld(e)}}updateWorldMatrix(e,t){const r=this.parent;if(e===!0&&r!==null&&r.matrixWorldAutoUpdate===!0&&r.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),t===!0){const i=this.children;for(let s=0,o=i.length;s<o;s++){const a=i[s];a.matrixWorldAutoUpdate===!0&&a.updateWorldMatrix(!1,!0)}}}toJSON(e){const t=e===void 0||typeof e=="string",r={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},r.metadata={version:4.6,type:"Object",generator:"Object3D.toJSON"});const i={};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.castShadow===!0&&(i.castShadow=!0),this.receiveShadow===!0&&(i.receiveShadow=!0),this.visible===!1&&(i.visible=!1),this.frustumCulled===!1&&(i.frustumCulled=!1),this.renderOrder!==0&&(i.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(i.userData=this.userData),i.layers=this.layers.mask,i.matrix=this.matrix.toArray(),i.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(i.matrixAutoUpdate=!1),this.isInstancedMesh&&(i.type="InstancedMesh",i.count=this.count,i.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(i.instanceColor=this.instanceColor.toJSON()));function s(a,l){return a[l.uuid]===void 0&&(a[l.uuid]=l.toJSON(e)),l.uuid}if(this.isScene)this.background&&(this.background.isColor?i.background=this.background.toJSON():this.background.isTexture&&(i.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(i.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){i.geometry=s(e.geometries,this.geometry);const a=this.geometry.parameters;if(a!==void 0&&a.shapes!==void 0){const l=a.shapes;if(Array.isArray(l))for(let u=0,h=l.length;u<h;u++){const f=l[u];s(e.shapes,f)}else s(e.shapes,l)}}if(this.isSkinnedMesh&&(i.bindMode=this.bindMode,i.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(s(e.skeletons,this.skeleton),i.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const a=[];for(let l=0,u=this.material.length;l<u;l++)a.push(s(e.materials,this.material[l]));i.material=a}else i.material=s(e.materials,this.material);if(this.children.length>0){i.children=[];for(let a=0;a<this.children.length;a++)i.children.push(this.children[a].toJSON(e).object)}if(this.animations.length>0){i.animations=[];for(let a=0;a<this.animations.length;a++){const l=this.animations[a];i.animations.push(s(e.animations,l))}}if(t){const a=o(e.geometries),l=o(e.materials),u=o(e.textures),h=o(e.images),f=o(e.shapes),p=o(e.skeletons),m=o(e.animations),v=o(e.nodes);a.length>0&&(r.geometries=a),l.length>0&&(r.materials=l),u.length>0&&(r.textures=u),h.length>0&&(r.images=h),f.length>0&&(r.shapes=f),p.length>0&&(r.skeletons=p),m.length>0&&(r.animations=m),v.length>0&&(r.nodes=v)}return r.object=i,r;function o(a){const l=[];for(const u in a){const h=a[u];delete h.metadata,l.push(h)}return l}}clone(e){return new this.constructor().copy(this,e)}copy(e,t=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations,this.userData=JSON.parse(JSON.stringify(e.userData)),t===!0)for(let r=0;r<e.children.length;r++){const i=e.children[r];this.add(i.clone())}return this}}Mn.DEFAULT_UP=new se(0,1,0);Mn.DEFAULT_MATRIX_AUTO_UPDATE=!0;Mn.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const dl=new se,Fc=new se,IB=new se,Nc=new se,Ev=new se,bv=new se,a4=new se,DB=new se,FB=new se,NB=new se;let DE=!1,vm=class Kp{constructor(e=new se,t=new se,r=new se){this.a=e,this.b=t,this.c=r}static getNormal(e,t,r,i){i.subVectors(r,t),dl.subVectors(e,t),i.cross(dl);const s=i.lengthSq();return s>0?i.multiplyScalar(1/Math.sqrt(s)):i.set(0,0,0)}static getBarycoord(e,t,r,i,s){dl.subVectors(i,t),Fc.subVectors(r,t),IB.subVectors(e,t);const o=dl.dot(dl),a=dl.dot(Fc),l=dl.dot(IB),u=Fc.dot(Fc),h=Fc.dot(IB),f=o*u-a*a;if(f===0)return s.set(-2,-1,-1);const p=1/f,m=(u*l-a*h)*p,v=(o*h-a*l)*p;return s.set(1-m-v,v,m)}static containsPoint(e,t,r,i){return this.getBarycoord(e,t,r,i,Nc),Nc.x>=0&&Nc.y>=0&&Nc.x+Nc.y<=1}static getUV(e,t,r,i,s,o,a,l){return DE===!1&&(console.warn("THREE.Triangle.getUV() has been renamed to THREE.Triangle.getInterpolation()."),DE=!0),this.getInterpolation(e,t,r,i,s,o,a,l)}static getInterpolation(e,t,r,i,s,o,a,l){return this.getBarycoord(e,t,r,i,Nc),l.setScalar(0),l.addScaledVector(s,Nc.x),l.addScaledVector(o,Nc.y),l.addScaledVector(a,Nc.z),l}static isFrontFacing(e,t,r,i){return dl.subVectors(r,t),Fc.subVectors(e,t),dl.cross(Fc).dot(i)<0}set(e,t,r){return this.a.copy(e),this.b.copy(t),this.c.copy(r),this}setFromPointsAndIndices(e,t,r,i){return this.a.copy(e[t]),this.b.copy(e[r]),this.c.copy(e[i]),this}setFromAttributeAndIndices(e,t,r,i){return this.a.fromBufferAttribute(e,t),this.b.fromBufferAttribute(e,r),this.c.fromBufferAttribute(e,i),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return dl.subVectors(this.c,this.b),Fc.subVectors(this.a,this.b),dl.cross(Fc).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return Kp.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,t){return Kp.getBarycoord(e,this.a,this.b,this.c,t)}getUV(e,t,r,i,s){return DE===!1&&(console.warn("THREE.Triangle.getUV() has been renamed to THREE.Triangle.getInterpolation()."),DE=!0),Kp.getInterpolation(e,this.a,this.b,this.c,t,r,i,s)}getInterpolation(e,t,r,i,s){return Kp.getInterpolation(e,this.a,this.b,this.c,t,r,i,s)}containsPoint(e){return Kp.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return Kp.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,t){const r=this.a,i=this.b,s=this.c;let o,a;Ev.subVectors(i,r),bv.subVectors(s,r),DB.subVectors(e,r);const l=Ev.dot(DB),u=bv.dot(DB);if(l<=0&&u<=0)return t.copy(r);FB.subVectors(e,i);const h=Ev.dot(FB),f=bv.dot(FB);if(h>=0&&f<=h)return t.copy(i);const p=l*f-h*u;if(p<=0&&l>=0&&h<=0)return o=l/(l-h),t.copy(r).addScaledVector(Ev,o);NB.subVectors(e,s);const m=Ev.dot(NB),v=bv.dot(NB);if(v>=0&&m<=v)return t.copy(s);const S=m*u-l*v;if(S<=0&&u>=0&&v<=0)return a=u/(u-v),t.copy(r).addScaledVector(bv,a);const A=h*v-m*f;if(A<=0&&f-h>=0&&m-v>=0)return a4.subVectors(s,i),a=(f-h)/(f-h+(m-v)),t.copy(i).addScaledVector(a4,a);const g=1/(A+S+p);return o=S*g,a=p*g,t.copy(r).addScaledVector(Ev,o).addScaledVector(bv,a)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}},gle=0;class ci extends Zu{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:gle++}),this.uuid=Yo(),this.name="",this.type="Material",this.blending=Im,this.side=Xu,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.blendSrc=AU,this.blendDst=_U,this.blendEquation=om,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=qT,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=iY,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=eT,this.stencilZFail=eT,this.stencilZPass=eT,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const t in e){const r=e[t];if(r===void 0){console.warn(`THREE.Material: parameter '${t}' has value of undefined.`);continue}const i=this[t];if(i===void 0){console.warn(`THREE.Material: '${t}' is not a property of THREE.${this.type}.`);continue}i&&i.isColor?i.set(r):i&&i.isVector3&&r&&r.isVector3?i.copy(r):this[t]=r}}toJSON(e){const t=e===void 0||typeof e=="string";t&&(e={textures:{},images:{}});const r={metadata:{version:4.6,type:"Material",generator:"Material.toJSON"}};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.color&&this.color.isColor&&(r.color=this.color.getHex()),this.roughness!==void 0&&(r.roughness=this.roughness),this.metalness!==void 0&&(r.metalness=this.metalness),this.sheen!==void 0&&(r.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(r.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(r.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(r.emissive=this.emissive.getHex()),this.emissiveIntensity&&this.emissiveIntensity!==1&&(r.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(r.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(r.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(r.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(r.shininess=this.shininess),this.clearcoat!==void 0&&(r.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(r.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(r.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(r.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(r.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,r.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.iridescence!==void 0&&(r.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(r.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(r.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(r.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(r.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.anisotropy!==void 0&&(r.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(r.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(r.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(r.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(r.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(r.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(r.lightMap=this.lightMap.toJSON(e).uuid,r.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(r.aoMap=this.aoMap.toJSON(e).uuid,r.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(r.bumpMap=this.bumpMap.toJSON(e).uuid,r.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(r.normalMap=this.normalMap.toJSON(e).uuid,r.normalMapType=this.normalMapType,r.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(r.displacementMap=this.displacementMap.toJSON(e).uuid,r.displacementScale=this.displacementScale,r.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(r.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(r.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(r.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(r.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(r.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(r.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(r.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(r.combine=this.combine)),this.envMapIntensity!==void 0&&(r.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(r.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(r.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(r.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(r.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(r.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(r.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(r.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(r.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(r.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(r.size=this.size),this.shadowSide!==null&&(r.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(r.sizeAttenuation=this.sizeAttenuation),this.blending!==Im&&(r.blending=this.blending),this.side!==Xu&&(r.side=this.side),this.vertexColors&&(r.vertexColors=!0),this.opacity<1&&(r.opacity=this.opacity),this.transparent===!0&&(r.transparent=this.transparent),r.depthFunc=this.depthFunc,r.depthTest=this.depthTest,r.depthWrite=this.depthWrite,r.colorWrite=this.colorWrite,r.stencilWrite=this.stencilWrite,r.stencilWriteMask=this.stencilWriteMask,r.stencilFunc=this.stencilFunc,r.stencilRef=this.stencilRef,r.stencilFuncMask=this.stencilFuncMask,r.stencilFail=this.stencilFail,r.stencilZFail=this.stencilZFail,r.stencilZPass=this.stencilZPass,this.rotation!==void 0&&this.rotation!==0&&(r.rotation=this.rotation),this.polygonOffset===!0&&(r.polygonOffset=!0),this.polygonOffsetFactor!==0&&(r.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(r.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(r.linewidth=this.linewidth),this.dashSize!==void 0&&(r.dashSize=this.dashSize),this.gapSize!==void 0&&(r.gapSize=this.gapSize),this.scale!==void 0&&(r.scale=this.scale),this.dithering===!0&&(r.dithering=!0),this.alphaTest>0&&(r.alphaTest=this.alphaTest),this.alphaToCoverage===!0&&(r.alphaToCoverage=this.alphaToCoverage),this.premultipliedAlpha===!0&&(r.premultipliedAlpha=this.premultipliedAlpha),this.forceSinglePass===!0&&(r.forceSinglePass=this.forceSinglePass),this.wireframe===!0&&(r.wireframe=this.wireframe),this.wireframeLinewidth>1&&(r.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(r.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(r.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(r.flatShading=this.flatShading),this.visible===!1&&(r.visible=!1),this.toneMapped===!1&&(r.toneMapped=!1),this.fog===!1&&(r.fog=!1),Object.keys(this.userData).length>0&&(r.userData=this.userData);function i(s){const o=[];for(const a in s){const l=s[a];delete l.metadata,o.push(l)}return o}if(t){const s=i(e.textures),o=i(e.images);s.length>0&&(r.textures=s),o.length>0&&(r.images=o)}return r}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const t=e.clippingPlanes;let r=null;if(t!==null){const i=t.length;r=new Array(i);for(let s=0;s!==i;++s)r[s]=t[s].clone()}return this.clippingPlanes=r,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}}const yY={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},fl={h:0,s:0,l:0},FE={h:0,s:0,l:0};function UB(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*6*(2/3-t):n}let xt=class{constructor(e,t,r){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,t,r)}set(e,t,r){if(t===void 0&&r===void 0){const i=e;i&&i.isColor?this.copy(i):typeof i=="number"?this.setHex(i):typeof i=="string"&&this.setStyle(i)}else this.setRGB(e,t,r);return this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,t=qt){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,Pa.toWorkingColorSpace(this,t),this}setRGB(e,t,r,i=Pa.workingColorSpace){return this.r=e,this.g=t,this.b=r,Pa.toWorkingColorSpace(this,i),this}setHSL(e,t,r,i=Pa.workingColorSpace){if(e=IU(e,1),t=zr(t,0,1),r=zr(r,0,1),t===0)this.r=this.g=this.b=r;else{const s=r<=.5?r*(1+t):r+t-r*t,o=2*r-s;this.r=UB(o,s,e+1/3),this.g=UB(o,s,e),this.b=UB(o,s,e-1/3)}return Pa.toWorkingColorSpace(this,i),this}setStyle(e,t=qt){function r(s){s!==void 0&&parseFloat(s)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let i;if(i=/^(\w+)\(([^\)]*)\)/.exec(e)){let s;const o=i[1],a=i[2];switch(o){case"rgb":case"rgba":if(s=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return r(s[4]),this.setRGB(Math.min(255,parseInt(s[1],10))/255,Math.min(255,parseInt(s[2],10))/255,Math.min(255,parseInt(s[3],10))/255,t);if(s=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return r(s[4]),this.setRGB(Math.min(100,parseInt(s[1],10))/100,Math.min(100,parseInt(s[2],10))/100,Math.min(100,parseInt(s[3],10))/100,t);break;case"hsl":case"hsla":if(s=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return r(s[4]),this.setHSL(parseFloat(s[1])/360,parseFloat(s[2])/100,parseFloat(s[3])/100,t);break;default:console.warn("THREE.Color: Unknown color model "+e)}}else if(i=/^\#([A-Fa-f\d]+)$/.exec(e)){const s=i[1],o=s.length;if(o===3)return this.setRGB(parseInt(s.charAt(0),16)/15,parseInt(s.charAt(1),16)/15,parseInt(s.charAt(2),16)/15,t);if(o===6)return this.setHex(parseInt(s,16),t);console.warn("THREE.Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,t);return this}setColorName(e,t=qt){const r=yY[e.toLowerCase()];return r!==void 0?this.setHex(r,t):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=uy(e.r),this.g=uy(e.g),this.b=uy(e.b),this}copyLinearToSRGB(e){return this.r=bB(e.r),this.g=bB(e.g),this.b=bB(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=qt){return Pa.fromWorkingColorSpace(ys.copy(this),e),Math.round(zr(ys.r*255,0,255))*65536+Math.round(zr(ys.g*255,0,255))*256+Math.round(zr(ys.b*255,0,255))}getHexString(e=qt){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,t=Pa.workingColorSpace){Pa.fromWorkingColorSpace(ys.copy(this),t);const r=ys.r,i=ys.g,s=ys.b,o=Math.max(r,i,s),a=Math.min(r,i,s);let l,u;const h=(a+o)/2;if(a===o)l=0,u=0;else{const f=o-a;switch(u=h<=.5?f/(o+a):f/(2-o-a),o){case r:l=(i-s)/f+(i<s?6:0);break;case i:l=(s-r)/f+2;break;case s:l=(r-i)/f+4;break}l/=6}return e.h=l,e.s=u,e.l=h,e}getRGB(e,t=Pa.workingColorSpace){return Pa.fromWorkingColorSpace(ys.copy(this),t),e.r=ys.r,e.g=ys.g,e.b=ys.b,e}getStyle(e=qt){Pa.fromWorkingColorSpace(ys.copy(this),e);const t=ys.r,r=ys.g,i=ys.b;return e!==qt?`color(${e} ${t.toFixed(3)} ${r.toFixed(3)} ${i.toFixed(3)})`:`rgb(${Math.round(t*255)},${Math.round(r*255)},${Math.round(i*255)})`}offsetHSL(e,t,r){return this.getHSL(fl),fl.h+=e,fl.s+=t,fl.l+=r,this.setHSL(fl.h,fl.s,fl.l),this}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}lerpColors(e,t,r){return this.r=e.r+(t.r-e.r)*r,this.g=e.g+(t.g-e.g)*r,this.b=e.b+(t.b-e.b)*r,this}lerpHSL(e,t){this.getHSL(fl),e.getHSL(FE);const r=s_(fl.h,FE.h,t),i=s_(fl.s,FE.s,t),s=s_(fl.l,FE.l,t);return this.setHSL(r,i,s),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const t=this.r,r=this.g,i=this.b,s=e.elements;return this.r=s[0]*t+s[3]*r+s[6]*i,this.g=s[1]*t+s[4]*r+s[7]*i,this.b=s[2]*t+s[5]*r+s[8]*i,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,t=0){return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}toArray(e=[],t=0){return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}fromBufferAttribute(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}};const ys=new xt;xt.NAMES=yY;let Vo=class extends ci{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new xt(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=$M,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}};const Kc=vle();function vle(){const n=new ArrayBuffer(4),e=new Float32Array(n),t=new Uint32Array(n),r=new Uint32Array(512),i=new Uint32Array(512);for(let l=0;l<256;++l){const u=l-127;u<-27?(r[l]=0,r[l|256]=32768,i[l]=24,i[l|256]=24):u<-14?(r[l]=1024>>-u-14,r[l|256]=1024>>-u-14|32768,i[l]=-u-1,i[l|256]=-u-1):u<=15?(r[l]=u+15<<10,r[l|256]=u+15<<10|32768,i[l]=13,i[l|256]=13):u<128?(r[l]=31744,r[l|256]=64512,i[l]=24,i[l|256]=24):(r[l]=31744,r[l|256]=64512,i[l]=13,i[l|256]=13)}const s=new Uint32Array(2048),o=new Uint32Array(64),a=new Uint32Array(64);for(let l=1;l<1024;++l){let u=l<<13,h=0;for(;!(u&8388608);)u<<=1,h-=8388608;u&=-8388609,h+=947912704,s[l]=u|h}for(let l=1024;l<2048;++l)s[l]=939524096+(l-1024<<13);for(let l=1;l<31;++l)o[l]=l<<23;o[31]=1199570944,o[32]=2147483648;for(let l=33;l<63;++l)o[l]=2147483648+(l-32<<23);o[63]=3347054592;for(let l=1;l<64;++l)l!==32&&(a[l]=1024);return{floatView:e,uint32View:t,baseTable:r,shiftTable:i,mantissaTable:s,exponentTable:o,offsetTable:a}}function no(n){Math.abs(n)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),n=zr(n,-65504,65504),Kc.floatView[0]=n;const e=Kc.uint32View[0],t=e>>23&511;return Kc.baseTable[t]+((e&8388607)>>Kc.shiftTable[t])}function k1(n){const e=n>>10;return Kc.uint32View[0]=Kc.mantissaTable[Kc.offsetTable[e]+(n&1023)]+Kc.exponentTable[e],Kc.floatView[0]}const yle={toHalfFloat:no,fromHalfFloat:k1},ii=new se,NE=new Ye;class Pn{constructor(e,t,r=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=e,this.itemSize=t,this.count=e!==void 0?e.length/t:0,this.normalized=r,this.usage=$_,this.updateRange={offset:0,count:-1},this.gpuType=Pu,this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}copyAt(e,t,r){e*=this.itemSize,r*=t.itemSize;for(let i=0,s=this.itemSize;i<s;i++)this.array[e+i]=t.array[r+i];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let t=0,r=this.count;t<r;t++)NE.fromBufferAttribute(this,t),NE.applyMatrix3(e),this.setXY(t,NE.x,NE.y);else if(this.itemSize===3)for(let t=0,r=this.count;t<r;t++)ii.fromBufferAttribute(this,t),ii.applyMatrix3(e),this.setXYZ(t,ii.x,ii.y,ii.z);return this}applyMatrix4(e){for(let t=0,r=this.count;t<r;t++)ii.fromBufferAttribute(this,t),ii.applyMatrix4(e),this.setXYZ(t,ii.x,ii.y,ii.z);return this}applyNormalMatrix(e){for(let t=0,r=this.count;t<r;t++)ii.fromBufferAttribute(this,t),ii.applyNormalMatrix(e),this.setXYZ(t,ii.x,ii.y,ii.z);return this}transformDirection(e){for(let t=0,r=this.count;t<r;t++)ii.fromBufferAttribute(this,t),ii.transformDirection(e),this.setXYZ(t,ii.x,ii.y,ii.z);return this}set(e,t=0){return this.array.set(e,t),this}getX(e){let t=this.array[e*this.itemSize];return this.normalized&&(t=Ho(t,this.array)),t}setX(e,t){return this.normalized&&(t=an(t,this.array)),this.array[e*this.itemSize]=t,this}getY(e){let t=this.array[e*this.itemSize+1];return this.normalized&&(t=Ho(t,this.array)),t}setY(e,t){return this.normalized&&(t=an(t,this.array)),this.array[e*this.itemSize+1]=t,this}getZ(e){let t=this.array[e*this.itemSize+2];return this.normalized&&(t=Ho(t,this.array)),t}setZ(e,t){return this.normalized&&(t=an(t,this.array)),this.array[e*this.itemSize+2]=t,this}getW(e){let t=this.array[e*this.itemSize+3];return this.normalized&&(t=Ho(t,this.array)),t}setW(e,t){return this.normalized&&(t=an(t,this.array)),this.array[e*this.itemSize+3]=t,this}setXY(e,t,r){return e*=this.itemSize,this.normalized&&(t=an(t,this.array),r=an(r,this.array)),this.array[e+0]=t,this.array[e+1]=r,this}setXYZ(e,t,r,i){return e*=this.itemSize,this.normalized&&(t=an(t,this.array),r=an(r,this.array),i=an(i,this.array)),this.array[e+0]=t,this.array[e+1]=r,this.array[e+2]=i,this}setXYZW(e,t,r,i,s){return e*=this.itemSize,this.normalized&&(t=an(t,this.array),r=an(r,this.array),i=an(i,this.array),s=an(s,this.array)),this.array[e+0]=t,this.array[e+1]=r,this.array[e+2]=i,this.array[e+3]=s,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==$_&&(e.usage=this.usage),(this.updateRange.offset!==0||this.updateRange.count!==-1)&&(e.updateRange=this.updateRange),e}copyColorsArray(){console.error("THREE.BufferAttribute: copyColorsArray() was removed in r144.")}copyVector2sArray(){console.error("THREE.BufferAttribute: copyVector2sArray() was removed in r144.")}copyVector3sArray(){console.error("THREE.BufferAttribute: copyVector3sArray() was removed in r144.")}copyVector4sArray(){console.error("THREE.BufferAttribute: copyVector4sArray() was removed in r144.")}}class xle extends Pn{constructor(e,t,r){super(new Int8Array(e),t,r)}}class Ale extends Pn{constructor(e,t,r){super(new Uint8Array(e),t,r)}}class _le extends Pn{constructor(e,t,r){super(new Uint8ClampedArray(e),t,r)}}class Mle extends Pn{constructor(e,t,r){super(new Int16Array(e),t,r)}}class UU extends Pn{constructor(e,t,r){super(new Uint16Array(e),t,r)}}class Sle extends Pn{constructor(e,t,r){super(new Int32Array(e),t,r)}}class OU extends Pn{constructor(e,t,r){super(new Uint32Array(e),t,r)}}class Ele extends Pn{constructor(e,t,r){super(new Uint16Array(e),t,r),this.isFloat16BufferAttribute=!0}getX(e){let t=k1(this.array[e*this.itemSize]);return this.normalized&&(t=Ho(t,this.array)),t}setX(e,t){return this.normalized&&(t=an(t,this.array)),this.array[e*this.itemSize]=no(t),this}getY(e){let t=k1(this.array[e*this.itemSize+1]);return this.normalized&&(t=Ho(t,this.array)),t}setY(e,t){return this.normalized&&(t=an(t,this.array)),this.array[e*this.itemSize+1]=no(t),this}getZ(e){let t=k1(this.array[e*this.itemSize+2]);return this.normalized&&(t=Ho(t,this.array)),t}setZ(e,t){return this.normalized&&(t=an(t,this.array)),this.array[e*this.itemSize+2]=no(t),this}getW(e){let t=k1(this.array[e*this.itemSize+3]);return this.normalized&&(t=Ho(t,this.array)),t}setW(e,t){return this.normalized&&(t=an(t,this.array)),this.array[e*this.itemSize+3]=no(t),this}setXY(e,t,r){return e*=this.itemSize,this.normalized&&(t=an(t,this.array),r=an(r,this.array)),this.array[e+0]=no(t),this.array[e+1]=no(r),this}setXYZ(e,t,r,i){return e*=this.itemSize,this.normalized&&(t=an(t,this.array),r=an(r,this.array),i=an(i,this.array)),this.array[e+0]=no(t),this.array[e+1]=no(r),this.array[e+2]=no(i),this}setXYZW(e,t,r,i,s){return e*=this.itemSize,this.normalized&&(t=an(t,this.array),r=an(r,this.array),i=an(i,this.array),s=an(s,this.array)),this.array[e+0]=no(t),this.array[e+1]=no(r),this.array[e+2]=no(i),this.array[e+3]=no(s),this}}let Tt=class extends Pn{constructor(e,t,r){super(new Float32Array(e),t,r)}};class ble extends Pn{constructor(e,t,r){super(new Float64Array(e),t,r)}}let wle=0;const Ea=new zt,OB=new Mn,wv=new se,Do=new Wl,XA=new Wl,Ni=new se;class Kt extends Zu{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:wle++}),this.uuid=Yo(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(mY(e)?OU:UU)(e,1):this.index=e,this}getAttribute(e){return this.attributes[e]}setAttribute(e,t){return this.attributes[e]=t,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,t,r=0){this.groups.push({start:e,count:t,materialIndex:r})}clearGroups(){this.groups=[]}setDrawRange(e,t){this.drawRange.start=e,this.drawRange.count=t}applyMatrix4(e){const t=this.attributes.position;t!==void 0&&(t.applyMatrix4(e),t.needsUpdate=!0);const r=this.attributes.normal;if(r!==void 0){const s=new sn().getNormalMatrix(e);r.applyNormalMatrix(s),r.needsUpdate=!0}const i=this.attributes.tangent;return i!==void 0&&(i.transformDirection(e),i.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return Ea.makeRotationFromQuaternion(e),this.applyMatrix4(Ea),this}rotateX(e){return Ea.makeRotationX(e),this.applyMatrix4(Ea),this}rotateY(e){return Ea.makeRotationY(e),this.applyMatrix4(Ea),this}rotateZ(e){return Ea.makeRotationZ(e),this.applyMatrix4(Ea),this}translate(e,t,r){return Ea.makeTranslation(e,t,r),this.applyMatrix4(Ea),this}scale(e,t,r){return Ea.makeScale(e,t,r),this.applyMatrix4(Ea),this}lookAt(e){return OB.lookAt(e),OB.updateMatrix(),this.applyMatrix4(OB.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(wv).negate(),this.translate(wv.x,wv.y,wv.z),this}setFromPoints(e){const t=[];for(let r=0,i=e.length;r<i;r++){const s=e[r];t.push(s.x,s.y,s.z||0)}return this.setAttribute("position",new Tt(t,3)),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Wl);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingBox.set(new se(-1/0,-1/0,-1/0),new se(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),t)for(let r=0,i=t.length;r<i;r++){const s=t[r];Do.setFromBufferAttribute(s),this.morphTargetsRelative?(Ni.addVectors(this.boundingBox.min,Do.min),this.boundingBox.expandByPoint(Ni),Ni.addVectors(this.boundingBox.max,Do.max),this.boundingBox.expandByPoint(Ni)):(this.boundingBox.expandByPoint(Do.min),this.boundingBox.expandByPoint(Do.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Za);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingSphere.set(new se,1/0);return}if(e){const r=this.boundingSphere.center;if(Do.setFromBufferAttribute(e),t)for(let s=0,o=t.length;s<o;s++){const a=t[s];XA.setFromBufferAttribute(a),this.morphTargetsRelative?(Ni.addVectors(Do.min,XA.min),Do.expandByPoint(Ni),Ni.addVectors(Do.max,XA.max),Do.expandByPoint(Ni)):(Do.expandByPoint(XA.min),Do.expandByPoint(XA.max))}Do.getCenter(r);let i=0;for(let s=0,o=e.count;s<o;s++)Ni.fromBufferAttribute(e,s),i=Math.max(i,r.distanceToSquared(Ni));if(t)for(let s=0,o=t.length;s<o;s++){const a=t[s],l=this.morphTargetsRelative;for(let u=0,h=a.count;u<h;u++)Ni.fromBufferAttribute(a,u),l&&(wv.fromBufferAttribute(e,u),Ni.add(wv)),i=Math.max(i,r.distanceToSquared(Ni))}this.boundingSphere.radius=Math.sqrt(i),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,t=this.attributes;if(e===null||t.position===void 0||t.normal===void 0||t.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const r=e.array,i=t.position.array,s=t.normal.array,o=t.uv.array,a=i.length/3;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new Pn(new Float32Array(4*a),4));const l=this.getAttribute("tangent").array,u=[],h=[];for(let L=0;L<a;L++)u[L]=new se,h[L]=new se;const f=new se,p=new se,m=new se,v=new Ye,S=new Ye,A=new Ye,g=new se,M=new se;function _(L,U,Q){f.fromArray(i,L*3),p.fromArray(i,U*3),m.fromArray(i,Q*3),v.fromArray(o,L*2),S.fromArray(o,U*2),A.fromArray(o,Q*2),p.sub(f),m.sub(f),S.sub(v),A.sub(v);const W=1/(S.x*A.y-A.x*S.y);isFinite(W)&&(g.copy(p).multiplyScalar(A.y).addScaledVector(m,-S.y).multiplyScalar(W),M.copy(m).multiplyScalar(S.x).addScaledVector(p,-A.x).multiplyScalar(W),u[L].add(g),u[U].add(g),u[Q].add(g),h[L].add(M),h[U].add(M),h[Q].add(M))}let b=this.groups;b.length===0&&(b=[{start:0,count:r.length}]);for(let L=0,U=b.length;L<U;++L){const Q=b[L],W=Q.start,Y=Q.count;for(let X=W,ae=W+Y;X<ae;X+=3)_(r[X+0],r[X+1],r[X+2])}const T=new se,C=new se,B=new se,P=new se;function R(L){B.fromArray(s,L*3),P.copy(B);const U=u[L];T.copy(U),T.sub(B.multiplyScalar(B.dot(U))).normalize(),C.crossVectors(P,U);const Q=C.dot(h[L])<0?-1:1;l[L*4]=T.x,l[L*4+1]=T.y,l[L*4+2]=T.z,l[L*4+3]=Q}for(let L=0,U=b.length;L<U;++L){const Q=b[L],W=Q.start,Y=Q.count;for(let X=W,ae=W+Y;X<ae;X+=3)R(r[X+0]),R(r[X+1]),R(r[X+2])}}computeVertexNormals(){const e=this.index,t=this.getAttribute("position");if(t!==void 0){let r=this.getAttribute("normal");if(r===void 0)r=new Pn(new Float32Array(t.count*3),3),this.setAttribute("normal",r);else for(let p=0,m=r.count;p<m;p++)r.setXYZ(p,0,0,0);const i=new se,s=new se,o=new se,a=new se,l=new se,u=new se,h=new se,f=new se;if(e)for(let p=0,m=e.count;p<m;p+=3){const v=e.getX(p+0),S=e.getX(p+1),A=e.getX(p+2);i.fromBufferAttribute(t,v),s.fromBufferAttribute(t,S),o.fromBufferAttribute(t,A),h.subVectors(o,s),f.subVectors(i,s),h.cross(f),a.fromBufferAttribute(r,v),l.fromBufferAttribute(r,S),u.fromBufferAttribute(r,A),a.add(h),l.add(h),u.add(h),r.setXYZ(v,a.x,a.y,a.z),r.setXYZ(S,l.x,l.y,l.z),r.setXYZ(A,u.x,u.y,u.z)}else for(let p=0,m=t.count;p<m;p+=3)i.fromBufferAttribute(t,p+0),s.fromBufferAttribute(t,p+1),o.fromBufferAttribute(t,p+2),h.subVectors(o,s),f.subVectors(i,s),h.cross(f),r.setXYZ(p+0,h.x,h.y,h.z),r.setXYZ(p+1,h.x,h.y,h.z),r.setXYZ(p+2,h.x,h.y,h.z);this.normalizeNormals(),r.needsUpdate=!0}}merge(){return console.error("THREE.BufferGeometry.merge() has been removed. Use THREE.BufferGeometryUtils.mergeGeometries() instead."),this}normalizeNormals(){const e=this.attributes.normal;for(let t=0,r=e.count;t<r;t++)Ni.fromBufferAttribute(e,t),Ni.normalize(),e.setXYZ(t,Ni.x,Ni.y,Ni.z)}toNonIndexed(){function e(a,l){const u=a.array,h=a.itemSize,f=a.normalized,p=new u.constructor(l.length*h);let m=0,v=0;for(let S=0,A=l.length;S<A;S++){a.isInterleavedBufferAttribute?m=l[S]*a.data.stride+a.offset:m=l[S]*h;for(let g=0;g<h;g++)p[v++]=u[m++]}return new Pn(p,h,f)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const t=new Kt,r=this.index.array,i=this.attributes;for(const a in i){const l=i[a],u=e(l,r);t.setAttribute(a,u)}const s=this.morphAttributes;for(const a in s){const l=[],u=s[a];for(let h=0,f=u.length;h<f;h++){const p=u[h],m=e(p,r);l.push(m)}t.morphAttributes[a]=l}t.morphTargetsRelative=this.morphTargetsRelative;const o=this.groups;for(let a=0,l=o.length;a<l;a++){const u=o[a];t.addGroup(u.start,u.count,u.materialIndex)}return t}toJSON(){const e={metadata:{version:4.6,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const l=this.parameters;for(const u in l)l[u]!==void 0&&(e[u]=l[u]);return e}e.data={attributes:{}};const t=this.index;t!==null&&(e.data.index={type:t.array.constructor.name,array:Array.prototype.slice.call(t.array)});const r=this.attributes;for(const l in r){const u=r[l];e.data.attributes[l]=u.toJSON(e.data)}const i={};let s=!1;for(const l in this.morphAttributes){const u=this.morphAttributes[l],h=[];for(let f=0,p=u.length;f<p;f++){const m=u[f];h.push(m.toJSON(e.data))}h.length>0&&(i[l]=h,s=!0)}s&&(e.data.morphAttributes=i,e.data.morphTargetsRelative=this.morphTargetsRelative);const o=this.groups;o.length>0&&(e.data.groups=JSON.parse(JSON.stringify(o)));const a=this.boundingSphere;return a!==null&&(e.data.boundingSphere={center:a.center.toArray(),radius:a.radius}),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const t={};this.name=e.name;const r=e.index;r!==null&&this.setIndex(r.clone(t));const i=e.attributes;for(const u in i){const h=i[u];this.setAttribute(u,h.clone(t))}const s=e.morphAttributes;for(const u in s){const h=[],f=s[u];for(let p=0,m=f.length;p<m;p++)h.push(f[p].clone(t));this.morphAttributes[u]=h}this.morphTargetsRelative=e.morphTargetsRelative;const o=e.groups;for(let u=0,h=o.length;u<h;u++){const f=o[u];this.addGroup(f.start,f.count,f.materialIndex)}const a=e.boundingBox;a!==null&&(this.boundingBox=a.clone());const l=e.boundingSphere;return l!==null&&(this.boundingSphere=l.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const l4=new zt,Sp=new dx,UE=new Za,u4=new se,Tv=new se,Cv=new se,Rv=new se,kB=new se,OE=new se,kE=new Ye,GE=new Ye,zE=new Ye,c4=new se,h4=new se,d4=new se,HE=new se,VE=new se;class _i extends Mn{constructor(e=new Kt,t=new Vo){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=e.material,this.geometry=e.geometry,this}updateMorphTargets(){const e=this.geometry.morphAttributes,t=Object.keys(e);if(t.length>0){const r=e[t[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let i=0,s=r.length;i<s;i++){const o=r[i].name||String(i);this.morphTargetInfluences.push(0),this.morphTargetDictionary[o]=i}}}}getVertexPosition(e,t){const r=this.geometry,i=r.attributes.position,s=r.morphAttributes.position,o=r.morphTargetsRelative;t.fromBufferAttribute(i,e);const a=this.morphTargetInfluences;if(s&&a){OE.set(0,0,0);for(let l=0,u=s.length;l<u;l++){const h=a[l],f=s[l];h!==0&&(kB.fromBufferAttribute(f,e),o?OE.addScaledVector(kB,h):OE.addScaledVector(kB.sub(t),h))}t.add(OE)}return t}raycast(e,t){const r=this.geometry,i=this.material,s=this.matrixWorld;i!==void 0&&(r.boundingSphere===null&&r.computeBoundingSphere(),UE.copy(r.boundingSphere),UE.applyMatrix4(s),Sp.copy(e.ray).recast(e.near),!(UE.containsPoint(Sp.origin)===!1&&(Sp.intersectSphere(UE,u4)===null||Sp.origin.distanceToSquared(u4)>(e.far-e.near)**2))&&(l4.copy(s).invert(),Sp.copy(e.ray).applyMatrix4(l4),!(r.boundingBox!==null&&Sp.intersectsBox(r.boundingBox)===!1)&&this._computeIntersections(e,t,Sp)))}_computeIntersections(e,t,r){let i;const s=this.geometry,o=this.material,a=s.index,l=s.attributes.position,u=s.attributes.uv,h=s.attributes.uv1,f=s.attributes.normal,p=s.groups,m=s.drawRange;if(a!==null)if(Array.isArray(o))for(let v=0,S=p.length;v<S;v++){const A=p[v],g=o[A.materialIndex],M=Math.max(A.start,m.start),_=Math.min(a.count,Math.min(A.start+A.count,m.start+m.count));for(let b=M,T=_;b<T;b+=3){const C=a.getX(b),B=a.getX(b+1),P=a.getX(b+2);i=WE(this,g,e,r,u,h,f,C,B,P),i&&(i.faceIndex=Math.floor(b/3),i.face.materialIndex=A.materialIndex,t.push(i))}}else{const v=Math.max(0,m.start),S=Math.min(a.count,m.start+m.count);for(let A=v,g=S;A<g;A+=3){const M=a.getX(A),_=a.getX(A+1),b=a.getX(A+2);i=WE(this,o,e,r,u,h,f,M,_,b),i&&(i.faceIndex=Math.floor(A/3),t.push(i))}}else if(l!==void 0)if(Array.isArray(o))for(let v=0,S=p.length;v<S;v++){const A=p[v],g=o[A.materialIndex],M=Math.max(A.start,m.start),_=Math.min(l.count,Math.min(A.start+A.count,m.start+m.count));for(let b=M,T=_;b<T;b+=3){const C=b,B=b+1,P=b+2;i=WE(this,g,e,r,u,h,f,C,B,P),i&&(i.faceIndex=Math.floor(b/3),i.face.materialIndex=A.materialIndex,t.push(i))}}else{const v=Math.max(0,m.start),S=Math.min(l.count,m.start+m.count);for(let A=v,g=S;A<g;A+=3){const M=A,_=A+1,b=A+2;i=WE(this,o,e,r,u,h,f,M,_,b),i&&(i.faceIndex=Math.floor(A/3),t.push(i))}}}}function Tle(n,e,t,r,i,s,o,a){let l;if(e.side===Vs?l=r.intersectTriangle(o,s,i,!0,a):l=r.intersectTriangle(i,s,o,e.side===Xu,a),l===null)return null;VE.copy(a),VE.applyMatrix4(n.matrixWorld);const u=t.ray.origin.distanceTo(VE);return u<t.near||u>t.far?null:{distance:u,point:VE.clone(),object:n}}function WE(n,e,t,r,i,s,o,a,l,u){n.getVertexPosition(a,Tv),n.getVertexPosition(l,Cv),n.getVertexPosition(u,Rv);const h=Tle(n,e,t,r,Tv,Cv,Rv,HE);if(h){i&&(kE.fromBufferAttribute(i,a),GE.fromBufferAttribute(i,l),zE.fromBufferAttribute(i,u),h.uv=vm.getInterpolation(HE,Tv,Cv,Rv,kE,GE,zE,new Ye)),s&&(kE.fromBufferAttribute(s,a),GE.fromBufferAttribute(s,l),zE.fromBufferAttribute(s,u),h.uv1=vm.getInterpolation(HE,Tv,Cv,Rv,kE,GE,zE,new Ye),h.uv2=h.uv1),o&&(c4.fromBufferAttribute(o,a),h4.fromBufferAttribute(o,l),d4.fromBufferAttribute(o,u),h.normal=vm.getInterpolation(HE,Tv,Cv,Rv,c4,h4,d4,new se),h.normal.dot(r.direction)>0&&h.normal.multiplyScalar(-1));const f={a,b:l,c:u,normal:new se,materialIndex:0};vm.getNormal(Tv,Cv,Rv,f.normal),h.face=f}return h}let fx=class xY extends Kt{constructor(e=1,t=1,r=1,i=1,s=1,o=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:r,widthSegments:i,heightSegments:s,depthSegments:o};const a=this;i=Math.floor(i),s=Math.floor(s),o=Math.floor(o);const l=[],u=[],h=[],f=[];let p=0,m=0;v("z","y","x",-1,-1,r,t,e,o,s,0),v("z","y","x",1,-1,r,t,-e,o,s,1),v("x","z","y",1,1,e,r,t,i,o,2),v("x","z","y",1,-1,e,r,-t,i,o,3),v("x","y","z",1,-1,e,t,r,i,s,4),v("x","y","z",-1,-1,e,t,-r,i,s,5),this.setIndex(l),this.setAttribute("position",new Tt(u,3)),this.setAttribute("normal",new Tt(h,3)),this.setAttribute("uv",new Tt(f,2));function v(S,A,g,M,_,b,T,C,B,P,R){const L=b/B,U=T/P,Q=b/2,W=T/2,Y=C/2,X=B+1,ae=P+1;let Z=0,D=0;const k=new se;for(let G=0;G<ae;G++){const K=G*U-W;for(let H=0;H<X;H++){const ue=H*L-Q;k[S]=ue*M,k[A]=K*_,k[g]=Y,u.push(k.x,k.y,k.z),k[S]=0,k[A]=0,k[g]=C>0?1:-1,h.push(k.x,k.y,k.z),f.push(H/B),f.push(1-G/P),Z+=1}}for(let G=0;G<P;G++)for(let K=0;K<B;K++){const H=p+K+X*G,ue=p+K+X*(G+1),le=p+(K+1)+X*(G+1),Ce=p+(K+1)+X*G;l.push(H,ue,Ce),l.push(ue,le,Ce),D+=6}a.addGroup(m,D,R),m+=D,p+=Z}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new xY(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}};function Uy(n){const e={};for(const t in n){e[t]={};for(const r in n[t]){const i=n[t][r];i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture||i.isQuaternion)?i.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),e[t][r]=null):e[t][r]=i.clone():Array.isArray(i)?e[t][r]=i.slice():e[t][r]=i}}return e}function Ns(n){const e={};for(let t=0;t<n.length;t++){const r=Uy(n[t]);for(const i in r)e[i]=r[i]}return e}function Cle(n){const e=[];for(let t=0;t<n.length;t++)e.push(n[t].clone());return e}function AY(n){return n.getRenderTarget()===null?n.outputColorSpace:kl}const _Y={clone:Uy,merge:Ns};var Rle=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,Ple=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class Yu extends ci{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=Rle,this.fragmentShader=Ple,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=Uy(e.uniforms),this.uniformsGroups=Cle(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const t=super.toJSON(e);t.glslVersion=this.glslVersion,t.uniforms={};for(const i in this.uniforms){const s=this.uniforms[i].value;s&&s.isTexture?t.uniforms[i]={type:"t",value:s.toJSON(e).uuid}:s&&s.isColor?t.uniforms[i]={type:"c",value:s.getHex()}:s&&s.isVector2?t.uniforms[i]={type:"v2",value:s.toArray()}:s&&s.isVector3?t.uniforms[i]={type:"v3",value:s.toArray()}:s&&s.isVector4?t.uniforms[i]={type:"v4",value:s.toArray()}:s&&s.isMatrix3?t.uniforms[i]={type:"m3",value:s.toArray()}:s&&s.isMatrix4?t.uniforms[i]={type:"m4",value:s.toArray()}:t.uniforms[i]={value:s}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader,t.lights=this.lights,t.clipping=this.clipping;const r={};for(const i in this.extensions)this.extensions[i]===!0&&(r[i]=!0);return Object.keys(r).length>0&&(t.extensions=r),t}}let tS=class extends Mn{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new zt,this.projectionMatrix=new zt,this.projectionMatrixInverse=new zt,this.coordinateSystem=Bu}copy(e,t){return super.copy(e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(-t[8],-t[9],-t[10]).normalize()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,t){super.updateWorldMatrix(e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}};class ur extends tS{constructor(e=50,t=1,r=.1,i=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=r,this.far=i,this.focus=10,this.aspect=t,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const t=.5*this.getFilmHeight()/e;this.fov=Ny*2*Math.atan(t),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(Fm*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return Ny*2*Math.atan(Math.tan(Fm*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}setViewOffset(e,t,r,i,s,o){this.aspect=e/t,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=r,this.view.offsetY=i,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let t=e*Math.tan(Fm*.5*this.fov)/this.zoom,r=2*t,i=this.aspect*r,s=-.5*i;const o=this.view;if(this.view!==null&&this.view.enabled){const l=o.fullWidth,u=o.fullHeight;s+=o.offsetX*i/l,t-=o.offsetY*r/u,i*=o.width/l,r*=o.height/u}const a=this.filmOffset;a!==0&&(s+=e*a/this.getFilmWidth()),this.projectionMatrix.makePerspective(s,s+i,t,t-r,e,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,this.view!==null&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}}const Pv=-90,Bv=1;class kU extends Mn{constructor(e,t,r){super(),this.type="CubeCamera",this.renderTarget=r,this.coordinateSystem=null;const i=new ur(Pv,Bv,e,t);i.layers=this.layers,this.add(i);const s=new ur(Pv,Bv,e,t);s.layers=this.layers,this.add(s);const o=new ur(Pv,Bv,e,t);o.layers=this.layers,this.add(o);const a=new ur(Pv,Bv,e,t);a.layers=this.layers,this.add(a);const l=new ur(Pv,Bv,e,t);l.layers=this.layers,this.add(l);const u=new ur(Pv,Bv,e,t);u.layers=this.layers,this.add(u)}updateCoordinateSystem(){const e=this.coordinateSystem,t=this.children.concat(),[r,i,s,o,a,l]=t;for(const u of t)this.remove(u);if(e===Bu)r.up.set(0,1,0),r.lookAt(1,0,0),i.up.set(0,1,0),i.lookAt(-1,0,0),s.up.set(0,0,-1),s.lookAt(0,1,0),o.up.set(0,0,1),o.lookAt(0,-1,0),a.up.set(0,1,0),a.lookAt(0,0,1),l.up.set(0,1,0),l.lookAt(0,0,-1);else if(e===eM)r.up.set(0,-1,0),r.lookAt(-1,0,0),i.up.set(0,-1,0),i.lookAt(1,0,0),s.up.set(0,0,1),s.lookAt(0,1,0),o.up.set(0,0,-1),o.lookAt(0,-1,0),a.up.set(0,-1,0),a.lookAt(0,0,1),l.up.set(0,-1,0),l.lookAt(0,0,-1);else throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+e);for(const u of t)this.add(u),u.updateMatrixWorld()}update(e,t){this.parent===null&&this.updateMatrixWorld();const r=this.renderTarget;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());const[i,s,o,a,l,u]=this.children,h=e.getRenderTarget(),f=e.toneMapping,p=e.xr.enabled;e.toneMapping=Bl,e.xr.enabled=!1;const m=r.texture.generateMipmaps;r.texture.generateMipmaps=!1,e.setRenderTarget(r,0),e.render(t,i),e.setRenderTarget(r,1),e.render(t,s),e.setRenderTarget(r,2),e.render(t,o),e.setRenderTarget(r,3),e.render(t,a),e.setRenderTarget(r,4),e.render(t,l),r.texture.generateMipmaps=m,e.setRenderTarget(r,5),e.render(t,u),e.setRenderTarget(h),e.toneMapping=f,e.xr.enabled=p,r.texture.needsPMREMUpdate=!0}}let nS=class extends dr{constructor(e,t,r,i,s,o,a,l,u,h){e=e!==void 0?e:[],t=t!==void 0?t:uf,super(e,t,r,i,s,o,a,l,u,h),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}};class GU extends Gl{constructor(e=1,t={}){super(e,e,t),this.isWebGLCubeRenderTarget=!0;const r={width:e,height:e,depth:1},i=[r,r,r,r,r,r];t.encoding!==void 0&&(o_("THREE.WebGLCubeRenderTarget: option.encoding has been replaced by option.colorSpace."),t.colorSpace=t.encoding===Vd?qt:Wd),this.texture=new nS(i,t.mapping,t.wrapS,t.wrapT,t.magFilter,t.minFilter,t.format,t.type,t.anisotropy,t.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=t.generateMipmaps!==void 0?t.generateMipmaps:!1,this.texture.minFilter=t.minFilter!==void 0?t.minFilter:Ar}fromEquirectangularTexture(e,t){this.texture.type=t.type,this.texture.colorSpace=t.colorSpace,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;const r={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},i=new fx(5,5,5),s=new Yu({name:"CubemapFromEquirect",uniforms:Uy(r.uniforms),vertexShader:r.vertexShader,fragmentShader:r.fragmentShader,side:Vs,blending:lh});s.uniforms.tEquirect.value=t;const o=new _i(i,s),a=t.minFilter;return t.minFilter===Ju&&(t.minFilter=Ar),new kU(1,10,this).update(e,o),t.minFilter=a,o.geometry.dispose(),o.material.dispose(),this}clear(e,t,r,i){const s=e.getRenderTarget();for(let o=0;o<6;o++)e.setRenderTarget(this,o),e.clear(t,r,i);e.setRenderTarget(s)}}const GB=new se,Ble=new se,Lle=new sn;class vd{constructor(e=new se(1,0,0),t=0){this.isPlane=!0,this.normal=e,this.constant=t}set(e,t){return this.normal.copy(e),this.constant=t,this}setComponents(e,t,r,i){return this.normal.set(e,t,r),this.constant=i,this}setFromNormalAndCoplanarPoint(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}setFromCoplanarPoints(e,t,r){const i=GB.subVectors(r,t).cross(Ble.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(i,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,t){return t.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,t){const r=e.delta(GB),i=this.normal.dot(r);if(i===0)return this.distanceToPoint(e.start)===0?t.copy(e.start):null;const s=-(e.start.dot(this.normal)+this.constant)/i;return s<0||s>1?null:t.copy(e.start).addScaledVector(r,s)}intersectsLine(e){const t=this.distanceToPoint(e.start),r=this.distanceToPoint(e.end);return t<0&&r>0||r<0&&t>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,t){const r=t||Lle.getNormalMatrix(e),i=this.coplanarPoint(GB).applyMatrix4(e),s=this.normal.applyMatrix3(r).normalize();return this.constant=-i.dot(s),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const Ep=new Za,jE=new se;let SR=class{constructor(e=new vd,t=new vd,r=new vd,i=new vd,s=new vd,o=new vd){this.planes=[e,t,r,i,s,o]}set(e,t,r,i,s,o){const a=this.planes;return a[0].copy(e),a[1].copy(t),a[2].copy(r),a[3].copy(i),a[4].copy(s),a[5].copy(o),this}copy(e){const t=this.planes;for(let r=0;r<6;r++)t[r].copy(e.planes[r]);return this}setFromProjectionMatrix(e,t=Bu){const r=this.planes,i=e.elements,s=i[0],o=i[1],a=i[2],l=i[3],u=i[4],h=i[5],f=i[6],p=i[7],m=i[8],v=i[9],S=i[10],A=i[11],g=i[12],M=i[13],_=i[14],b=i[15];if(r[0].setComponents(l-s,p-u,A-m,b-g).normalize(),r[1].setComponents(l+s,p+u,A+m,b+g).normalize(),r[2].setComponents(l+o,p+h,A+v,b+M).normalize(),r[3].setComponents(l-o,p-h,A-v,b-M).normalize(),r[4].setComponents(l-a,p-f,A-S,b-_).normalize(),t===Bu)r[5].setComponents(l+a,p+f,A+S,b+_).normalize();else if(t===eM)r[5].setComponents(a,f,S,_).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+t);return this}intersectsObject(e){if(e.boundingSphere!==void 0)e.boundingSphere===null&&e.computeBoundingSphere(),Ep.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const t=e.geometry;t.boundingSphere===null&&t.computeBoundingSphere(),Ep.copy(t.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(Ep)}intersectsSprite(e){return Ep.center.set(0,0,0),Ep.radius=.7071067811865476,Ep.applyMatrix4(e.matrixWorld),this.intersectsSphere(Ep)}intersectsSphere(e){const t=this.planes,r=e.center,i=-e.radius;for(let s=0;s<6;s++)if(t[s].distanceToPoint(r)<i)return!1;return!0}intersectsBox(e){const t=this.planes;for(let r=0;r<6;r++){const i=t[r];if(jE.x=i.normal.x>0?e.max.x:e.min.x,jE.y=i.normal.y>0?e.max.y:e.min.y,jE.z=i.normal.z>0?e.max.z:e.min.z,i.distanceToPoint(jE)<0)return!1}return!0}containsPoint(e){const t=this.planes;for(let r=0;r<6;r++)if(t[r].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}};function MY(){let n=null,e=!1,t=null,r=null;function i(s,o){t(s,o),r=n.requestAnimationFrame(i)}return{start:function(){e!==!0&&t!==null&&(r=n.requestAnimationFrame(i),e=!0)},stop:function(){n.cancelAnimationFrame(r),e=!1},setAnimationLoop:function(s){t=s},setContext:function(s){n=s}}}function Ile(n,e){const t=e.isWebGL2,r=new WeakMap;function i(u,h){const f=u.array,p=u.usage,m=n.createBuffer();n.bindBuffer(h,m),n.bufferData(h,f,p),u.onUploadCallback();let v;if(f instanceof Float32Array)v=n.FLOAT;else if(f instanceof Uint16Array)if(u.isFloat16BufferAttribute)if(t)v=n.HALF_FLOAT;else throw new Error("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2.");else v=n.UNSIGNED_SHORT;else if(f instanceof Int16Array)v=n.SHORT;else if(f instanceof Uint32Array)v=n.UNSIGNED_INT;else if(f instanceof Int32Array)v=n.INT;else if(f instanceof Int8Array)v=n.BYTE;else if(f instanceof Uint8Array)v=n.UNSIGNED_BYTE;else if(f instanceof Uint8ClampedArray)v=n.UNSIGNED_BYTE;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+f);return{buffer:m,type:v,bytesPerElement:f.BYTES_PER_ELEMENT,version:u.version}}function s(u,h,f){const p=h.array,m=h.updateRange;n.bindBuffer(f,u),m.count===-1?n.bufferSubData(f,0,p):(t?n.bufferSubData(f,m.offset*p.BYTES_PER_ELEMENT,p,m.offset,m.count):n.bufferSubData(f,m.offset*p.BYTES_PER_ELEMENT,p.subarray(m.offset,m.offset+m.count)),m.count=-1),h.onUploadCallback()}function o(u){return u.isInterleavedBufferAttribute&&(u=u.data),r.get(u)}function a(u){u.isInterleavedBufferAttribute&&(u=u.data);const h=r.get(u);h&&(n.deleteBuffer(h.buffer),r.delete(u))}function l(u,h){if(u.isGLBufferAttribute){const p=r.get(u);(!p||p.version<u.version)&&r.set(u,{buffer:u.buffer,type:u.type,bytesPerElement:u.elementSize,version:u.version});return}u.isInterleavedBufferAttribute&&(u=u.data);const f=r.get(u);f===void 0?r.set(u,i(u,h)):f.version<u.version&&(s(f.buffer,u,h),f.version=u.version)}return{get:o,remove:a,update:l}}class px extends Kt{constructor(e=1,t=1,r=1,i=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:r,heightSegments:i};const s=e/2,o=t/2,a=Math.floor(r),l=Math.floor(i),u=a+1,h=l+1,f=e/a,p=t/l,m=[],v=[],S=[],A=[];for(let g=0;g<h;g++){const M=g*p-o;for(let _=0;_<u;_++){const b=_*f-s;v.push(b,-M,0),S.push(0,0,1),A.push(_/a),A.push(1-g/l)}}for(let g=0;g<l;g++)for(let M=0;M<a;M++){const _=M+u*g,b=M+u*(g+1),T=M+1+u*(g+1),C=M+1+u*g;m.push(_,b,C),m.push(b,T,C)}this.setIndex(m),this.setAttribute("position",new Tt(v,3)),this.setAttribute("normal",new Tt(S,3)),this.setAttribute("uv",new Tt(A,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new px(e.width,e.height,e.widthSegments,e.heightSegments)}}var Dle=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,Fle=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,Nle=`#ifdef USE_ALPHATEST
	if ( diffuseColor.a < alphaTest ) discard;
#endif`,Ule=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,Ole=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,kle=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,Gle="vec3 transformed = vec3( position );",zle=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,Hle=`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,Vle=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			 return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float R21 = R12;
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,Wle=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = dFdx( surf_pos.xyz );
		vec3 vSigmaY = dFdy( surf_pos.xyz );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,jle=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#pragma unroll_loop_start
	for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
		plane = clippingPlanes[ i ];
		if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
	}
	#pragma unroll_loop_end
	#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
		bool clipped = true;
		#pragma unroll_loop_start
		for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
		}
		#pragma unroll_loop_end
		if ( clipped ) discard;
	#endif
#endif`,Xle=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,Jle=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,Yle=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,Kle=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,Qle=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,qle=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	varying vec3 vColor;
#endif`,Zle=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif`,$le=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
struct GeometricContext {
	vec3 position;
	vec3 normal;
	vec3 viewDir;
#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal;
#endif
};
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
float luminance( const in vec3 rgb ) {
	const vec3 weights = vec3( 0.2126729, 0.7151522, 0.0721750 );
	return dot( weights, rgb );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,eue=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_v0 0.339
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_v1 0.276
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_v4 0.046
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_v5 0.016
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_v6 0.0038
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,tue=`vec3 transformedNormal = objectNormal;
#ifdef USE_INSTANCING
	mat3 m = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );
	transformedNormal = m * transformedNormal;
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	vec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,nue=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,rue=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,iue=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,sue=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,oue="gl_FragColor = linearToOutputTexel( gl_FragColor );",aue=`vec4 LinearToLinear( in vec4 value ) {
	return value;
}
vec4 LinearTosRGB( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,lue=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,uue=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,cue=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,hue=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,due=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,fue=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,pue=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,mue=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,gue=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,vue=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,yue=`#ifdef USE_LIGHTMAP
	vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
	vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
	reflectedLight.indirectDiffuse += lightMapIrradiance;
#endif`,xue=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,Aue=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,_ue=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,Mue=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
uniform vec3 lightProbe[ 9 ];
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	#if defined ( LEGACY_LIGHTS )
		if ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {
			return pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );
		}
		return 1.0;
	#else
		float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
		if ( cutoffDistance > 0.0 ) {
			distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
		}
		return distanceFalloff;
	#endif
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometry.position;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometry.position;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,Sue=`#ifdef USE_ENVMAP
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	#ifdef USE_ANISOTROPY
		vec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {
			#ifdef ENVMAP_TYPE_CUBE_UV
				vec3 bentNormal = cross( bitangent, viewDir );
				bentNormal = normalize( cross( bentNormal, bitangent ) );
				bentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );
				return getIBLRadiance( viewDir, bentNormal, roughness );
			#else
				return vec3( 0.0 );
			#endif
		}
	#endif
#endif`,Eue=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,bue=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,wue=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,Tue=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,Cue=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif
#ifdef USE_ANISOTROPY
	#ifdef USE_ANISOTROPYMAP
		mat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );
		vec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;
		vec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;
	#else
		vec2 anisotropyV = anisotropyVector;
	#endif
	material.anisotropy = length( anisotropyV );
	anisotropyV /= material.anisotropy;
	material.anisotropy = saturate( material.anisotropy );
	material.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );
	material.anisotropyT = tbn[ 0 ] * anisotropyV.x - tbn[ 1 ] * anisotropyV.y;
	material.anisotropyB = tbn[ 1 ] * anisotropyV.x + tbn[ 0 ] * anisotropyV.y;
#endif`,Rue=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
	#ifdef USE_ANISOTROPY
		float anisotropy;
		float alphaT;
		vec3 anisotropyT;
		vec3 anisotropyB;
	#endif
};
vec3 clearcoatSpecular = vec3( 0.0 );
vec3 sheenSpecular = vec3( 0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_ANISOTROPY
	float V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {
		float gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );
		float gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );
		float v = 0.5 / ( gv + gl );
		return saturate(v);
	}
	float D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {
		float a2 = alphaT * alphaB;
		highp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );
		highp float v2 = dot( v, v );
		float w2 = a2 / v2;
		return RECIPROCAL_PI * a2 * pow2 ( w2 );
	}
#endif
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColor;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	#ifdef USE_ANISOTROPY
		float dotTL = dot( material.anisotropyT, lightDir );
		float dotTV = dot( material.anisotropyT, viewDir );
		float dotTH = dot( material.anisotropyT, halfDir );
		float dotBL = dot( material.anisotropyB, lightDir );
		float dotBV = dot( material.anisotropyB, viewDir );
		float dotBH = dot( material.anisotropyB, halfDir );
		float V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );
		float D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );
	#else
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
	#endif
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometry.normal;
		vec3 viewDir = geometry.viewDir;
		vec3 position = geometry.position;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecular += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometry.viewDir, geometry.clearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * BRDF_Sheen( directLight.direction, geometry.viewDir, geometry.normal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.normal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecular += clearcoatRadiance * EnvironmentBRDF( geometry.clearcoatNormal, geometry.viewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * material.sheenColor * IBLSheenBRDF( geometry.normal, geometry.viewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,Pue=`
GeometricContext geometry;
geometry.position = - vViewPosition;
geometry.normal = normal;
geometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
#ifdef USE_CLEARCOAT
	geometry.clearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometry.viewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometry, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	irradiance += getLightProbeIrradiance( lightProbe, geometry.normal );
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,Bue=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometry.normal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	#ifdef USE_ANISOTROPY
		radiance += getIBLAnisotropyRadiance( geometry.viewDir, geometry.normal, material.roughness, material.anisotropyB, material.anisotropy );
	#else
		radiance += getIBLRadiance( geometry.viewDir, geometry.normal, material.roughness );
	#endif
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,Lue=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );
#endif`,Iue=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	gl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,Due=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,Fue=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		varying float vFragDepth;
		varying float vIsPerspective;
	#else
		uniform float logDepthBufFC;
	#endif
#endif`,Nue=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		vFragDepth = 1.0 + gl_Position.w;
		vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
	#else
		if ( isPerspectiveMatrix( projectionMatrix ) ) {
			gl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;
			gl_Position.z *= gl_Position.w;
		}
	#endif
#endif`,Uue=`#ifdef USE_MAP
	diffuseColor *= texture2D( map, vMapUv );
#endif`,Oue=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,kue=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,Gue=`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,zue=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,Hue=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,Vue=`#if defined( USE_MORPHCOLORS ) && defined( MORPHTARGETS_TEXTURE )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,Wue=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		objectNormal += morphNormal0 * morphTargetInfluences[ 0 ];
		objectNormal += morphNormal1 * morphTargetInfluences[ 1 ];
		objectNormal += morphNormal2 * morphTargetInfluences[ 2 ];
		objectNormal += morphNormal3 * morphTargetInfluences[ 3 ];
	#endif
#endif`,jue=`#ifdef USE_MORPHTARGETS
	uniform float morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
		uniform sampler2DArray morphTargetsTexture;
		uniform ivec2 morphTargetsTextureSize;
		vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
			int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
			int y = texelIndex / morphTargetsTextureSize.x;
			int x = texelIndex - y * morphTargetsTextureSize.x;
			ivec3 morphUV = ivec3( x, y, morphTargetIndex );
			return texelFetch( morphTargetsTexture, morphUV, 0 );
		}
	#else
		#ifndef USE_MORPHNORMALS
			uniform float morphTargetInfluences[ 8 ];
		#else
			uniform float morphTargetInfluences[ 4 ];
		#endif
	#endif
#endif`,Xue=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		transformed += morphTarget0 * morphTargetInfluences[ 0 ];
		transformed += morphTarget1 * morphTargetInfluences[ 1 ];
		transformed += morphTarget2 * morphTargetInfluences[ 2 ];
		transformed += morphTarget3 * morphTargetInfluences[ 3 ];
		#ifndef USE_MORPHNORMALS
			transformed += morphTarget4 * morphTargetInfluences[ 4 ];
			transformed += morphTarget5 * morphTargetInfluences[ 5 ];
			transformed += morphTarget6 * morphTargetInfluences[ 6 ];
			transformed += morphTarget7 * morphTargetInfluences[ 7 ];
		#endif
	#endif
#endif`,Jue=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal, vNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 geometryNormal = normal;`,Yue=`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,Kue=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,Que=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,que=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,Zue=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,$ue=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = geometryNormal;
#endif`,ece=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,tce=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,nce=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,rce=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,ice=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;
const vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );
const vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );
const float ShiftRight8 = 1. / 256.;
vec4 packDepthToRGBA( const in float v ) {
	vec4 r = vec4( fract( v * PackFactors ), v );
	r.yzw -= r.xyz * ShiftRight8;	return r * PackUpscale;
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors );
}
vec2 packDepthToRG( in highp float v ) {
	return packDepthToRGBA( v ).yx;
}
float unpackRGToDepth( const in highp vec2 v ) {
	return unpackRGBAToDepth( vec4( v.xy, 0.0, 0.0 ) );
}
vec4 pack2HalfToRGBA( vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return depth * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * depth - far );
}`,sce=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,oce=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,ace=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,lce=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,uce=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,cce=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,hce=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return shadow;
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
		vec3 lightToPosition = shadowCoord.xyz;
		float dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );		dp += shadowBias;
		vec3 bd3D = normalize( lightToPosition );
		#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
			vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
			return (
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
			) * ( 1.0 / 9.0 );
		#else
			return texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
		#endif
	}
#endif`,dce=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,fce=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,pce=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,mce=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,gce=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	uniform int boneTextureSize;
	mat4 getBoneMatrix( const in float i ) {
		float j = i * 4.0;
		float x = mod( j, float( boneTextureSize ) );
		float y = floor( j / float( boneTextureSize ) );
		float dx = 1.0 / float( boneTextureSize );
		float dy = 1.0 / float( boneTextureSize );
		y = dy * ( y + 0.5 );
		vec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );
		vec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );
		vec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );
		vec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );
		mat4 bone = mat4( v1, v2, v3, v4 );
		return bone;
	}
#endif`,vce=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,yce=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,xce=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,Ace=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,_ce=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,Mce=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return saturate( toneMappingExposure * color );
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 OptimizedCineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,Sce=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmitted = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );
#endif`,Ece=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return vec3( 1.0 );
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
		vec3 refractedRayExit = position + transmissionRay;
		vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
		vec2 refractionCoords = ndcPos.xy / ndcPos.w;
		refractionCoords += 1.0;
		refractionCoords /= 2.0;
		vec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
		vec3 transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );
		vec3 attenuatedColor = transmittance * transmittedLight.rgb;
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		float transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;
		return vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );
	}
#endif`,bce=`#ifdef USE_UV
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,wce=`#ifdef USE_UV
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	uniform mat3 anisotropyMapTransform;
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,Tce=`#ifdef USE_UV
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ANISOTROPYMAP
	vAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,Cce=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const Rce=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,Pce=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,Bce=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,Lce=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,Ice=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,Dce=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,Fce=`#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,Nce=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#endif
}`,Uce=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,Oce=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,kce=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,Gce=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,zce=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,Hce=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,Vce=`#include <common>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,Wce=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,jce=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Xce=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Jce=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,Yce=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Kce=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,Qce=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), opacity );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,qce=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Zce=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,$ce=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,ehe=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
#ifdef USE_ANISOTROPY
	uniform vec2 anisotropyVector;
	#ifdef USE_ANISOTROPYMAP
		uniform sampler2D anisotropyMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecular;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + clearcoatSpecular * material.clearcoat;
	#endif
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,the=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,nhe=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,rhe=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,ihe=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,she=`#include <common>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,ohe=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,ahe=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
	vec2 scale;
	scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
	scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,lhe=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,nn={alphamap_fragment:Dle,alphamap_pars_fragment:Fle,alphatest_fragment:Nle,alphatest_pars_fragment:Ule,aomap_fragment:Ole,aomap_pars_fragment:kle,begin_vertex:Gle,beginnormal_vertex:zle,bsdfs:Hle,iridescence_fragment:Vle,bumpmap_pars_fragment:Wle,clipping_planes_fragment:jle,clipping_planes_pars_fragment:Xle,clipping_planes_pars_vertex:Jle,clipping_planes_vertex:Yle,color_fragment:Kle,color_pars_fragment:Qle,color_pars_vertex:qle,color_vertex:Zle,common:$le,cube_uv_reflection_fragment:eue,defaultnormal_vertex:tue,displacementmap_pars_vertex:nue,displacementmap_vertex:rue,emissivemap_fragment:iue,emissivemap_pars_fragment:sue,encodings_fragment:oue,encodings_pars_fragment:aue,envmap_fragment:lue,envmap_common_pars_fragment:uue,envmap_pars_fragment:cue,envmap_pars_vertex:hue,envmap_physical_pars_fragment:Sue,envmap_vertex:due,fog_vertex:fue,fog_pars_vertex:pue,fog_fragment:mue,fog_pars_fragment:gue,gradientmap_pars_fragment:vue,lightmap_fragment:yue,lightmap_pars_fragment:xue,lights_lambert_fragment:Aue,lights_lambert_pars_fragment:_ue,lights_pars_begin:Mue,lights_toon_fragment:Eue,lights_toon_pars_fragment:bue,lights_phong_fragment:wue,lights_phong_pars_fragment:Tue,lights_physical_fragment:Cue,lights_physical_pars_fragment:Rue,lights_fragment_begin:Pue,lights_fragment_maps:Bue,lights_fragment_end:Lue,logdepthbuf_fragment:Iue,logdepthbuf_pars_fragment:Due,logdepthbuf_pars_vertex:Fue,logdepthbuf_vertex:Nue,map_fragment:Uue,map_pars_fragment:Oue,map_particle_fragment:kue,map_particle_pars_fragment:Gue,metalnessmap_fragment:zue,metalnessmap_pars_fragment:Hue,morphcolor_vertex:Vue,morphnormal_vertex:Wue,morphtarget_pars_vertex:jue,morphtarget_vertex:Xue,normal_fragment_begin:Jue,normal_fragment_maps:Yue,normal_pars_fragment:Kue,normal_pars_vertex:Que,normal_vertex:que,normalmap_pars_fragment:Zue,clearcoat_normal_fragment_begin:$ue,clearcoat_normal_fragment_maps:ece,clearcoat_pars_fragment:tce,iridescence_pars_fragment:nce,output_fragment:rce,packing:ice,premultiplied_alpha_fragment:sce,project_vertex:oce,dithering_fragment:ace,dithering_pars_fragment:lce,roughnessmap_fragment:uce,roughnessmap_pars_fragment:cce,shadowmap_pars_fragment:hce,shadowmap_pars_vertex:dce,shadowmap_vertex:fce,shadowmask_pars_fragment:pce,skinbase_vertex:mce,skinning_pars_vertex:gce,skinning_vertex:vce,skinnormal_vertex:yce,specularmap_fragment:xce,specularmap_pars_fragment:Ace,tonemapping_fragment:_ce,tonemapping_pars_fragment:Mce,transmission_fragment:Sce,transmission_pars_fragment:Ece,uv_pars_fragment:bce,uv_pars_vertex:wce,uv_vertex:Tce,worldpos_vertex:Cce,background_vert:Rce,background_frag:Pce,backgroundCube_vert:Bce,backgroundCube_frag:Lce,cube_vert:Ice,cube_frag:Dce,depth_vert:Fce,depth_frag:Nce,distanceRGBA_vert:Uce,distanceRGBA_frag:Oce,equirect_vert:kce,equirect_frag:Gce,linedashed_vert:zce,linedashed_frag:Hce,meshbasic_vert:Vce,meshbasic_frag:Wce,meshlambert_vert:jce,meshlambert_frag:Xce,meshmatcap_vert:Jce,meshmatcap_frag:Yce,meshnormal_vert:Kce,meshnormal_frag:Qce,meshphong_vert:qce,meshphong_frag:Zce,meshphysical_vert:$ce,meshphysical_frag:ehe,meshtoon_vert:the,meshtoon_frag:nhe,points_vert:rhe,points_frag:ihe,shadow_vert:she,shadow_frag:ohe,sprite_vert:ahe,sprite_frag:lhe},yt={common:{diffuse:{value:new xt(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new sn},alphaMap:{value:null},alphaMapTransform:{value:new sn},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new sn}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new sn}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new sn}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new sn},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new sn},normalScale:{value:new Ye(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new sn},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new sn}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new sn}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new sn}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new xt(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new xt(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new sn},alphaTest:{value:0},uvTransform:{value:new sn}},sprite:{diffuse:{value:new xt(16777215)},opacity:{value:1},center:{value:new Ye(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new sn},alphaMap:{value:null},alphaMapTransform:{value:new sn},alphaTest:{value:0}}},bl={basic:{uniforms:Ns([yt.common,yt.specularmap,yt.envmap,yt.aomap,yt.lightmap,yt.fog]),vertexShader:nn.meshbasic_vert,fragmentShader:nn.meshbasic_frag},lambert:{uniforms:Ns([yt.common,yt.specularmap,yt.envmap,yt.aomap,yt.lightmap,yt.emissivemap,yt.bumpmap,yt.normalmap,yt.displacementmap,yt.fog,yt.lights,{emissive:{value:new xt(0)}}]),vertexShader:nn.meshlambert_vert,fragmentShader:nn.meshlambert_frag},phong:{uniforms:Ns([yt.common,yt.specularmap,yt.envmap,yt.aomap,yt.lightmap,yt.emissivemap,yt.bumpmap,yt.normalmap,yt.displacementmap,yt.fog,yt.lights,{emissive:{value:new xt(0)},specular:{value:new xt(1118481)},shininess:{value:30}}]),vertexShader:nn.meshphong_vert,fragmentShader:nn.meshphong_frag},standard:{uniforms:Ns([yt.common,yt.envmap,yt.aomap,yt.lightmap,yt.emissivemap,yt.bumpmap,yt.normalmap,yt.displacementmap,yt.roughnessmap,yt.metalnessmap,yt.fog,yt.lights,{emissive:{value:new xt(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:nn.meshphysical_vert,fragmentShader:nn.meshphysical_frag},toon:{uniforms:Ns([yt.common,yt.aomap,yt.lightmap,yt.emissivemap,yt.bumpmap,yt.normalmap,yt.displacementmap,yt.gradientmap,yt.fog,yt.lights,{emissive:{value:new xt(0)}}]),vertexShader:nn.meshtoon_vert,fragmentShader:nn.meshtoon_frag},matcap:{uniforms:Ns([yt.common,yt.bumpmap,yt.normalmap,yt.displacementmap,yt.fog,{matcap:{value:null}}]),vertexShader:nn.meshmatcap_vert,fragmentShader:nn.meshmatcap_frag},points:{uniforms:Ns([yt.points,yt.fog]),vertexShader:nn.points_vert,fragmentShader:nn.points_frag},dashed:{uniforms:Ns([yt.common,yt.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:nn.linedashed_vert,fragmentShader:nn.linedashed_frag},depth:{uniforms:Ns([yt.common,yt.displacementmap]),vertexShader:nn.depth_vert,fragmentShader:nn.depth_frag},normal:{uniforms:Ns([yt.common,yt.bumpmap,yt.normalmap,yt.displacementmap,{opacity:{value:1}}]),vertexShader:nn.meshnormal_vert,fragmentShader:nn.meshnormal_frag},sprite:{uniforms:Ns([yt.sprite,yt.fog]),vertexShader:nn.sprite_vert,fragmentShader:nn.sprite_frag},background:{uniforms:{uvTransform:{value:new sn},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:nn.background_vert,fragmentShader:nn.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1}},vertexShader:nn.backgroundCube_vert,fragmentShader:nn.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:nn.cube_vert,fragmentShader:nn.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:nn.equirect_vert,fragmentShader:nn.equirect_frag},distanceRGBA:{uniforms:Ns([yt.common,yt.displacementmap,{referencePosition:{value:new se},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:nn.distanceRGBA_vert,fragmentShader:nn.distanceRGBA_frag},shadow:{uniforms:Ns([yt.lights,yt.fog,{color:{value:new xt(0)},opacity:{value:1}}]),vertexShader:nn.shadow_vert,fragmentShader:nn.shadow_frag}};bl.physical={uniforms:Ns([bl.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new sn},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new sn},clearcoatNormalScale:{value:new Ye(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new sn},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new sn},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new sn},sheen:{value:0},sheenColor:{value:new xt(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new sn},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new sn},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new sn},transmissionSamplerSize:{value:new Ye},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new sn},attenuationDistance:{value:0},attenuationColor:{value:new xt(0)},specularColor:{value:new xt(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new sn},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new sn},anisotropyVector:{value:new Ye},anisotropyMap:{value:null},anisotropyMapTransform:{value:new sn}}]),vertexShader:nn.meshphysical_vert,fragmentShader:nn.meshphysical_frag};const XE={r:0,b:0,g:0};function uhe(n,e,t,r,i,s,o){const a=new xt(0);let l=s===!0?0:1,u,h,f=null,p=0,m=null;function v(A,g){let M=!1,_=g.isScene===!0?g.background:null;switch(_&&_.isTexture&&(_=(g.backgroundBlurriness>0?t:e).get(_)),_===null?S(a,l):_&&_.isColor&&(S(_,1),M=!0),n.xr.getEnvironmentBlendMode()){case"opaque":M=!0;break;case"additive":r.buffers.color.setClear(0,0,0,1,o),M=!0;break;case"alpha-blend":r.buffers.color.setClear(0,0,0,0,o),M=!0;break}(n.autoClear||M)&&n.clear(n.autoClearColor,n.autoClearDepth,n.autoClearStencil),_&&(_.isCubeTexture||_.mapping===hx)?(h===void 0&&(h=new _i(new fx(1,1,1),new Yu({name:"BackgroundCubeMaterial",uniforms:Uy(bl.backgroundCube.uniforms),vertexShader:bl.backgroundCube.vertexShader,fragmentShader:bl.backgroundCube.fragmentShader,side:Vs,depthTest:!1,depthWrite:!1,fog:!1})),h.geometry.deleteAttribute("normal"),h.geometry.deleteAttribute("uv"),h.onBeforeRender=function(b,T,C){this.matrixWorld.copyPosition(C.matrixWorld)},Object.defineProperty(h.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),i.update(h)),h.material.uniforms.envMap.value=_,h.material.uniforms.flipEnvMap.value=_.isCubeTexture&&_.isRenderTargetTexture===!1?-1:1,h.material.uniforms.backgroundBlurriness.value=g.backgroundBlurriness,h.material.uniforms.backgroundIntensity.value=g.backgroundIntensity,h.material.toneMapped=_.colorSpace!==qt,(f!==_||p!==_.version||m!==n.toneMapping)&&(h.material.needsUpdate=!0,f=_,p=_.version,m=n.toneMapping),h.layers.enableAll(),A.unshift(h,h.geometry,h.material,0,0,null)):_&&_.isTexture&&(u===void 0&&(u=new _i(new px(2,2),new Yu({name:"BackgroundMaterial",uniforms:Uy(bl.background.uniforms),vertexShader:bl.background.vertexShader,fragmentShader:bl.background.fragmentShader,side:Xu,depthTest:!1,depthWrite:!1,fog:!1})),u.geometry.deleteAttribute("normal"),Object.defineProperty(u.material,"map",{get:function(){return this.uniforms.t2D.value}}),i.update(u)),u.material.uniforms.t2D.value=_,u.material.uniforms.backgroundIntensity.value=g.backgroundIntensity,u.material.toneMapped=_.colorSpace!==qt,_.matrixAutoUpdate===!0&&_.updateMatrix(),u.material.uniforms.uvTransform.value.copy(_.matrix),(f!==_||p!==_.version||m!==n.toneMapping)&&(u.material.needsUpdate=!0,f=_,p=_.version,m=n.toneMapping),u.layers.enableAll(),A.unshift(u,u.geometry,u.material,0,0,null))}function S(A,g){A.getRGB(XE,AY(n)),r.buffers.color.setClear(XE.r,XE.g,XE.b,g,o)}return{getClearColor:function(){return a},setClearColor:function(A,g=1){a.set(A),l=g,S(a,l)},getClearAlpha:function(){return l},setClearAlpha:function(A){l=A,S(a,l)},render:v}}function che(n,e,t,r){const i=n.getParameter(n.MAX_VERTEX_ATTRIBS),s=r.isWebGL2?null:e.get("OES_vertex_array_object"),o=r.isWebGL2||s!==null,a={},l=A(null);let u=l,h=!1;function f(Y,X,ae,Z,D){let k=!1;if(o){const G=S(Z,ae,X);u!==G&&(u=G,m(u.object)),k=g(Y,Z,ae,D),k&&M(Y,Z,ae,D)}else{const G=X.wireframe===!0;(u.geometry!==Z.id||u.program!==ae.id||u.wireframe!==G)&&(u.geometry=Z.id,u.program=ae.id,u.wireframe=G,k=!0)}D!==null&&t.update(D,n.ELEMENT_ARRAY_BUFFER),(k||h)&&(h=!1,P(Y,X,ae,Z),D!==null&&n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,t.get(D).buffer))}function p(){return r.isWebGL2?n.createVertexArray():s.createVertexArrayOES()}function m(Y){return r.isWebGL2?n.bindVertexArray(Y):s.bindVertexArrayOES(Y)}function v(Y){return r.isWebGL2?n.deleteVertexArray(Y):s.deleteVertexArrayOES(Y)}function S(Y,X,ae){const Z=ae.wireframe===!0;let D=a[Y.id];D===void 0&&(D={},a[Y.id]=D);let k=D[X.id];k===void 0&&(k={},D[X.id]=k);let G=k[Z];return G===void 0&&(G=A(p()),k[Z]=G),G}function A(Y){const X=[],ae=[],Z=[];for(let D=0;D<i;D++)X[D]=0,ae[D]=0,Z[D]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:X,enabledAttributes:ae,attributeDivisors:Z,object:Y,attributes:{},index:null}}function g(Y,X,ae,Z){const D=u.attributes,k=X.attributes;let G=0;const K=ae.getAttributes();for(const H in K)if(K[H].location>=0){const ue=D[H];let le=k[H];if(le===void 0&&(H==="instanceMatrix"&&Y.instanceMatrix&&(le=Y.instanceMatrix),H==="instanceColor"&&Y.instanceColor&&(le=Y.instanceColor)),ue===void 0||ue.attribute!==le||le&&ue.data!==le.data)return!0;G++}return u.attributesNum!==G||u.index!==Z}function M(Y,X,ae,Z){const D={},k=X.attributes;let G=0;const K=ae.getAttributes();for(const H in K)if(K[H].location>=0){let ue=k[H];ue===void 0&&(H==="instanceMatrix"&&Y.instanceMatrix&&(ue=Y.instanceMatrix),H==="instanceColor"&&Y.instanceColor&&(ue=Y.instanceColor));const le={};le.attribute=ue,ue&&ue.data&&(le.data=ue.data),D[H]=le,G++}u.attributes=D,u.attributesNum=G,u.index=Z}function _(){const Y=u.newAttributes;for(let X=0,ae=Y.length;X<ae;X++)Y[X]=0}function b(Y){T(Y,0)}function T(Y,X){const ae=u.newAttributes,Z=u.enabledAttributes,D=u.attributeDivisors;ae[Y]=1,Z[Y]===0&&(n.enableVertexAttribArray(Y),Z[Y]=1),D[Y]!==X&&((r.isWebGL2?n:e.get("ANGLE_instanced_arrays"))[r.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](Y,X),D[Y]=X)}function C(){const Y=u.newAttributes,X=u.enabledAttributes;for(let ae=0,Z=X.length;ae<Z;ae++)X[ae]!==Y[ae]&&(n.disableVertexAttribArray(ae),X[ae]=0)}function B(Y,X,ae,Z,D,k,G){G===!0?n.vertexAttribIPointer(Y,X,ae,D,k):n.vertexAttribPointer(Y,X,ae,Z,D,k)}function P(Y,X,ae,Z){if(r.isWebGL2===!1&&(Y.isInstancedMesh||Z.isInstancedBufferGeometry)&&e.get("ANGLE_instanced_arrays")===null)return;_();const D=Z.attributes,k=ae.getAttributes(),G=X.defaultAttributeValues;for(const K in k){const H=k[K];if(H.location>=0){let ue=D[K];if(ue===void 0&&(K==="instanceMatrix"&&Y.instanceMatrix&&(ue=Y.instanceMatrix),K==="instanceColor"&&Y.instanceColor&&(ue=Y.instanceColor)),ue!==void 0){const le=ue.normalized,Ce=ue.itemSize,xe=t.get(ue);if(xe===void 0)continue;const Be=xe.buffer,Qe=xe.type,je=xe.bytesPerElement,Ke=r.isWebGL2===!0&&(Qe===n.INT||Qe===n.UNSIGNED_INT||ue.gpuType===SU);if(ue.isInterleavedBufferAttribute){const fe=ue.data,z=fe.stride,Ae=ue.offset;if(fe.isInstancedInterleavedBuffer){for(let ge=0;ge<H.locationSize;ge++)T(H.location+ge,fe.meshPerAttribute);Y.isInstancedMesh!==!0&&Z._maxInstanceCount===void 0&&(Z._maxInstanceCount=fe.meshPerAttribute*fe.count)}else for(let ge=0;ge<H.locationSize;ge++)b(H.location+ge);n.bindBuffer(n.ARRAY_BUFFER,Be);for(let ge=0;ge<H.locationSize;ge++)B(H.location+ge,Ce/H.locationSize,Qe,le,z*je,(Ae+Ce/H.locationSize*ge)*je,Ke)}else{if(ue.isInstancedBufferAttribute){for(let fe=0;fe<H.locationSize;fe++)T(H.location+fe,ue.meshPerAttribute);Y.isInstancedMesh!==!0&&Z._maxInstanceCount===void 0&&(Z._maxInstanceCount=ue.meshPerAttribute*ue.count)}else for(let fe=0;fe<H.locationSize;fe++)b(H.location+fe);n.bindBuffer(n.ARRAY_BUFFER,Be);for(let fe=0;fe<H.locationSize;fe++)B(H.location+fe,Ce/H.locationSize,Qe,le,Ce*je,Ce/H.locationSize*fe*je,Ke)}}else if(G!==void 0){const le=G[K];if(le!==void 0)switch(le.length){case 2:n.vertexAttrib2fv(H.location,le);break;case 3:n.vertexAttrib3fv(H.location,le);break;case 4:n.vertexAttrib4fv(H.location,le);break;default:n.vertexAttrib1fv(H.location,le)}}}}C()}function R(){Q();for(const Y in a){const X=a[Y];for(const ae in X){const Z=X[ae];for(const D in Z)v(Z[D].object),delete Z[D];delete X[ae]}delete a[Y]}}function L(Y){if(a[Y.id]===void 0)return;const X=a[Y.id];for(const ae in X){const Z=X[ae];for(const D in Z)v(Z[D].object),delete Z[D];delete X[ae]}delete a[Y.id]}function U(Y){for(const X in a){const ae=a[X];if(ae[Y.id]===void 0)continue;const Z=ae[Y.id];for(const D in Z)v(Z[D].object),delete Z[D];delete ae[Y.id]}}function Q(){W(),h=!0,u!==l&&(u=l,m(u.object))}function W(){l.geometry=null,l.program=null,l.wireframe=!1}return{setup:f,reset:Q,resetDefaultState:W,dispose:R,releaseStatesOfGeometry:L,releaseStatesOfProgram:U,initAttributes:_,enableAttribute:b,disableUnusedAttributes:C}}function hhe(n,e,t,r){const i=r.isWebGL2;let s;function o(u){s=u}function a(u,h){n.drawArrays(s,u,h),t.update(h,s,1)}function l(u,h,f){if(f===0)return;let p,m;if(i)p=n,m="drawArraysInstanced";else if(p=e.get("ANGLE_instanced_arrays"),m="drawArraysInstancedANGLE",p===null){console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}p[m](s,u,h,f),t.update(h,s,f)}this.setMode=o,this.render=a,this.renderInstances=l}function dhe(n,e,t){let r;function i(){if(r!==void 0)return r;if(e.has("EXT_texture_filter_anisotropic")===!0){const B=e.get("EXT_texture_filter_anisotropic");r=n.getParameter(B.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else r=0;return r}function s(B){if(B==="highp"){if(n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.HIGH_FLOAT).precision>0&&n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.HIGH_FLOAT).precision>0)return"highp";B="mediump"}return B==="mediump"&&n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.MEDIUM_FLOAT).precision>0&&n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}const o=typeof WebGL2RenderingContext<"u"&&n.constructor.name==="WebGL2RenderingContext";let a=t.precision!==void 0?t.precision:"highp";const l=s(a);l!==a&&(console.warn("THREE.WebGLRenderer:",a,"not supported, using",l,"instead."),a=l);const u=o||e.has("WEBGL_draw_buffers"),h=t.logarithmicDepthBuffer===!0,f=n.getParameter(n.MAX_TEXTURE_IMAGE_UNITS),p=n.getParameter(n.MAX_VERTEX_TEXTURE_IMAGE_UNITS),m=n.getParameter(n.MAX_TEXTURE_SIZE),v=n.getParameter(n.MAX_CUBE_MAP_TEXTURE_SIZE),S=n.getParameter(n.MAX_VERTEX_ATTRIBS),A=n.getParameter(n.MAX_VERTEX_UNIFORM_VECTORS),g=n.getParameter(n.MAX_VARYING_VECTORS),M=n.getParameter(n.MAX_FRAGMENT_UNIFORM_VECTORS),_=p>0,b=o||e.has("OES_texture_float"),T=_&&b,C=o?n.getParameter(n.MAX_SAMPLES):0;return{isWebGL2:o,drawBuffers:u,getMaxAnisotropy:i,getMaxPrecision:s,precision:a,logarithmicDepthBuffer:h,maxTextures:f,maxVertexTextures:p,maxTextureSize:m,maxCubemapSize:v,maxAttributes:S,maxVertexUniforms:A,maxVaryings:g,maxFragmentUniforms:M,vertexTextures:_,floatFragmentTextures:b,floatVertexTextures:T,maxSamples:C}}function fhe(n){const e=this;let t=null,r=0,i=!1,s=!1;const o=new vd,a=new sn,l={value:null,needsUpdate:!1};this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(f,p){const m=f.length!==0||p||r!==0||i;return i=p,r=f.length,m},this.beginShadows=function(){s=!0,h(null)},this.endShadows=function(){s=!1},this.setGlobalState=function(f,p){t=h(f,p,0)},this.setState=function(f,p,m){const v=f.clippingPlanes,S=f.clipIntersection,A=f.clipShadows,g=n.get(f);if(!i||v===null||v.length===0||s&&!A)s?h(null):u();else{const M=s?0:r,_=M*4;let b=g.clippingState||null;l.value=b,b=h(v,p,_,m);for(let T=0;T!==_;++T)b[T]=t[T];g.clippingState=b,this.numIntersection=S?this.numPlanes:0,this.numPlanes+=M}};function u(){l.value!==t&&(l.value=t,l.needsUpdate=r>0),e.numPlanes=r,e.numIntersection=0}function h(f,p,m,v){const S=f!==null?f.length:0;let A=null;if(S!==0){if(A=l.value,v!==!0||A===null){const g=m+S*4,M=p.matrixWorldInverse;a.getNormalMatrix(M),(A===null||A.length<g)&&(A=new Float32Array(g));for(let _=0,b=m;_!==S;++_,b+=4)o.copy(f[_]).applyMatrix4(M,a),o.normal.toArray(A,b),A[b+3]=o.constant}l.value=A,l.needsUpdate=!0}return e.numPlanes=S,e.numIntersection=0,A}}function phe(n){let e=new WeakMap;function t(o,a){return a===K_?o.mapping=uf:a===Q_&&(o.mapping=cf),o}function r(o){if(o&&o.isTexture&&o.isRenderTargetTexture===!1){const a=o.mapping;if(a===K_||a===Q_)if(e.has(o)){const l=e.get(o).texture;return t(l,o.mapping)}else{const l=o.image;if(l&&l.height>0){const u=new GU(l.height/2);return u.fromEquirectangularTexture(n,o),e.set(o,u),o.addEventListener("dispose",i),t(u.texture,o.mapping)}else return null}}return o}function i(o){const a=o.target;a.removeEventListener("dispose",i);const l=e.get(a);l!==void 0&&(e.delete(a),l.dispose())}function s(){e=new WeakMap}return{get:r,dispose:s}}class Ll extends tS{constructor(e=-1,t=1,r=1,i=-1,s=.1,o=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=t,this.top=r,this.bottom=i,this.near=s,this.far=o,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,t,r,i,s,o){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=r,this.view.offsetY=i,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),r=(this.right+this.left)/2,i=(this.top+this.bottom)/2;let s=r-e,o=r+e,a=i+t,l=i-t;if(this.view!==null&&this.view.enabled){const u=(this.right-this.left)/this.view.fullWidth/this.zoom,h=(this.top-this.bottom)/this.view.fullHeight/this.zoom;s+=u*this.view.offsetX,o=s+u*this.view.width,a-=h*this.view.offsetY,l=a-h*this.view.height}this.projectionMatrix.makeOrthographic(s,o,a,l,this.near,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,this.view!==null&&(t.object.view=Object.assign({},this.view)),t}}const T0=4,f4=[.125,.215,.35,.446,.526,.582],am=20,zB=new Ll,p4=new xt;let HB=null;const Qp=(1+Math.sqrt(5))/2,Lv=1/Qp,m4=[new se(1,1,1),new se(-1,1,1),new se(1,1,-1),new se(-1,1,-1),new se(0,Qp,Lv),new se(0,Qp,-Lv),new se(Lv,0,Qp),new se(-Lv,0,Qp),new se(Qp,Lv,0),new se(-Qp,Lv,0)];class OD{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,t=0,r=.1,i=100){HB=this._renderer.getRenderTarget(),this._setSize(256);const s=this._allocateTargets();return s.depthBuffer=!0,this._sceneToCubeUV(e,r,i,s),t>0&&this._blur(s,0,0,t),this._applyPMREM(s),this._cleanup(s),s}fromEquirectangular(e,t=null){return this._fromTexture(e,t)}fromCubemap(e,t=null){return this._fromTexture(e,t)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=y4(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=v4(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(HB),e.scissorTest=!1,JE(e,0,0,e.width,e.height)}_fromTexture(e,t){e.mapping===uf||e.mapping===cf?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),HB=this._renderer.getRenderTarget();const r=t||this._allocateTargets();return this._textureToCubeUV(e,r),this._applyPMREM(r),this._cleanup(r),r}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),t=4*this._cubeSize,r={magFilter:Ar,minFilter:Ar,generateMipmaps:!1,type:Dy,format:ao,colorSpace:kl,depthBuffer:!1},i=g4(e,t,r);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==t){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=g4(e,t,r);const{_lodMax:s}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=mhe(s)),this._blurMaterial=ghe(s,e,t)}return i}_compileMaterial(e){const t=new _i(this._lodPlanes[0],e);this._renderer.compile(t,zB)}_sceneToCubeUV(e,t,r,i){const s=new ur(90,1,t,r),o=[1,-1,1,1,1,1],a=[1,1,1,-1,-1,-1],l=this._renderer,u=l.autoClear,h=l.toneMapping;l.getClearColor(p4),l.toneMapping=Bl,l.autoClear=!1;const f=new Vo({name:"PMREM.Background",side:Vs,depthWrite:!1,depthTest:!1}),p=new _i(new fx,f);let m=!1;const v=e.background;v?v.isColor&&(f.color.copy(v),e.background=null,m=!0):(f.color.copy(p4),m=!0);for(let S=0;S<6;S++){const A=S%3;A===0?(s.up.set(0,o[S],0),s.lookAt(a[S],0,0)):A===1?(s.up.set(0,0,o[S]),s.lookAt(0,a[S],0)):(s.up.set(0,o[S],0),s.lookAt(0,0,a[S]));const g=this._cubeSize;JE(i,A*g,S>2?g:0,g,g),l.setRenderTarget(i),m&&l.render(p,s),l.render(e,s)}p.geometry.dispose(),p.material.dispose(),l.toneMapping=h,l.autoClear=u,e.background=v}_textureToCubeUV(e,t){const r=this._renderer,i=e.mapping===uf||e.mapping===cf;i?(this._cubemapMaterial===null&&(this._cubemapMaterial=y4()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=v4());const s=i?this._cubemapMaterial:this._equirectMaterial,o=new _i(this._lodPlanes[0],s),a=s.uniforms;a.envMap.value=e;const l=this._cubeSize;JE(t,0,0,3*l,2*l),r.setRenderTarget(t),r.render(o,zB)}_applyPMREM(e){const t=this._renderer,r=t.autoClear;t.autoClear=!1;for(let i=1;i<this._lodPlanes.length;i++){const s=Math.sqrt(this._sigmas[i]*this._sigmas[i]-this._sigmas[i-1]*this._sigmas[i-1]),o=m4[(i-1)%m4.length];this._blur(e,i-1,i,s,o)}t.autoClear=r}_blur(e,t,r,i,s){const o=this._pingPongRenderTarget;this._halfBlur(e,o,t,r,i,"latitudinal",s),this._halfBlur(o,e,r,r,i,"longitudinal",s)}_halfBlur(e,t,r,i,s,o,a){const l=this._renderer,u=this._blurMaterial;o!=="latitudinal"&&o!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const h=3,f=new _i(this._lodPlanes[i],u),p=u.uniforms,m=this._sizeLods[r]-1,v=isFinite(s)?Math.PI/(2*m):2*Math.PI/(2*am-1),S=s/v,A=isFinite(s)?1+Math.floor(h*S):am;A>am&&console.warn(`sigmaRadians, ${s}, is too large and will clip, as it requested ${A} samples when the maximum is set to ${am}`);const g=[];let M=0;for(let B=0;B<am;++B){const P=B/S,R=Math.exp(-P*P/2);g.push(R),B===0?M+=R:B<A&&(M+=2*R)}for(let B=0;B<g.length;B++)g[B]=g[B]/M;p.envMap.value=e.texture,p.samples.value=A,p.weights.value=g,p.latitudinal.value=o==="latitudinal",a&&(p.poleAxis.value=a);const{_lodMax:_}=this;p.dTheta.value=v,p.mipInt.value=_-r;const b=this._sizeLods[i],T=3*b*(i>_-T0?i-_+T0:0),C=4*(this._cubeSize-b);JE(t,T,C,3*b,2*b),l.setRenderTarget(t),l.render(f,zB)}}function mhe(n){const e=[],t=[],r=[];let i=n;const s=n-T0+1+f4.length;for(let o=0;o<s;o++){const a=Math.pow(2,i);t.push(a);let l=1/a;o>n-T0?l=f4[o-n+T0-1]:o===0&&(l=0),r.push(l);const u=1/(a-2),h=-u,f=1+u,p=[h,h,f,h,f,f,h,h,f,f,h,f],m=6,v=6,S=3,A=2,g=1,M=new Float32Array(S*v*m),_=new Float32Array(A*v*m),b=new Float32Array(g*v*m);for(let C=0;C<m;C++){const B=C%3*2/3-1,P=C>2?0:-1,R=[B,P,0,B+2/3,P,0,B+2/3,P+1,0,B,P,0,B+2/3,P+1,0,B,P+1,0];M.set(R,S*v*C),_.set(p,A*v*C);const L=[C,C,C,C,C,C];b.set(L,g*v*C)}const T=new Kt;T.setAttribute("position",new Pn(M,S)),T.setAttribute("uv",new Pn(_,A)),T.setAttribute("faceIndex",new Pn(b,g)),e.push(T),i>T0&&i--}return{lodPlanes:e,sizeLods:t,sigmas:r}}function g4(n,e,t){const r=new Gl(n,e,t);return r.texture.mapping=hx,r.texture.name="PMREM.cubeUv",r.scissorTest=!0,r}function JE(n,e,t,r,i){n.viewport.set(e,t,r,i),n.scissor.set(e,t,r,i)}function ghe(n,e,t){const r=new Float32Array(am),i=new se(0,1,0);return new Yu({name:"SphericalGaussianBlur",defines:{n:am,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/t,CUBEUV_MAX_MIP:`${n}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:r},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:i}},vertexShader:zU(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:lh,depthTest:!1,depthWrite:!1})}function v4(){return new Yu({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:zU(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:lh,depthTest:!1,depthWrite:!1})}function y4(){return new Yu({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:zU(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:lh,depthTest:!1,depthWrite:!1})}function zU(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function vhe(n){let e=new WeakMap,t=null;function r(a){if(a&&a.isTexture){const l=a.mapping,u=l===K_||l===Q_,h=l===uf||l===cf;if(u||h)if(a.isRenderTargetTexture&&a.needsPMREMUpdate===!0){a.needsPMREMUpdate=!1;let f=e.get(a);return t===null&&(t=new OD(n)),f=u?t.fromEquirectangular(a,f):t.fromCubemap(a,f),e.set(a,f),f.texture}else{if(e.has(a))return e.get(a).texture;{const f=a.image;if(u&&f&&f.height>0||h&&f&&i(f)){t===null&&(t=new OD(n));const p=u?t.fromEquirectangular(a):t.fromCubemap(a);return e.set(a,p),a.addEventListener("dispose",s),p.texture}else return null}}}return a}function i(a){let l=0;const u=6;for(let h=0;h<u;h++)a[h]!==void 0&&l++;return l===u}function s(a){const l=a.target;l.removeEventListener("dispose",s);const u=e.get(l);u!==void 0&&(e.delete(l),u.dispose())}function o(){e=new WeakMap,t!==null&&(t.dispose(),t=null)}return{get:r,dispose:o}}function yhe(n){const e={};function t(r){if(e[r]!==void 0)return e[r];let i;switch(r){case"WEBGL_depth_texture":i=n.getExtension("WEBGL_depth_texture")||n.getExtension("MOZ_WEBGL_depth_texture")||n.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":i=n.getExtension("EXT_texture_filter_anisotropic")||n.getExtension("MOZ_EXT_texture_filter_anisotropic")||n.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":i=n.getExtension("WEBGL_compressed_texture_s3tc")||n.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":i=n.getExtension("WEBGL_compressed_texture_pvrtc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:i=n.getExtension(r)}return e[r]=i,i}return{has:function(r){return t(r)!==null},init:function(r){r.isWebGL2?t("EXT_color_buffer_float"):(t("WEBGL_depth_texture"),t("OES_texture_float"),t("OES_texture_half_float"),t("OES_texture_half_float_linear"),t("OES_standard_derivatives"),t("OES_element_index_uint"),t("OES_vertex_array_object"),t("ANGLE_instanced_arrays")),t("OES_texture_float_linear"),t("EXT_color_buffer_half_float"),t("WEBGL_multisampled_render_to_texture")},get:function(r){const i=t(r);return i===null&&console.warn("THREE.WebGLRenderer: "+r+" extension not supported."),i}}}function xhe(n,e,t,r){const i={},s=new WeakMap;function o(f){const p=f.target;p.index!==null&&e.remove(p.index);for(const v in p.attributes)e.remove(p.attributes[v]);for(const v in p.morphAttributes){const S=p.morphAttributes[v];for(let A=0,g=S.length;A<g;A++)e.remove(S[A])}p.removeEventListener("dispose",o),delete i[p.id];const m=s.get(p);m&&(e.remove(m),s.delete(p)),r.releaseStatesOfGeometry(p),p.isInstancedBufferGeometry===!0&&delete p._maxInstanceCount,t.memory.geometries--}function a(f,p){return i[p.id]===!0||(p.addEventListener("dispose",o),i[p.id]=!0,t.memory.geometries++),p}function l(f){const p=f.attributes;for(const v in p)e.update(p[v],n.ARRAY_BUFFER);const m=f.morphAttributes;for(const v in m){const S=m[v];for(let A=0,g=S.length;A<g;A++)e.update(S[A],n.ARRAY_BUFFER)}}function u(f){const p=[],m=f.index,v=f.attributes.position;let S=0;if(m!==null){const M=m.array;S=m.version;for(let _=0,b=M.length;_<b;_+=3){const T=M[_+0],C=M[_+1],B=M[_+2];p.push(T,C,C,B,B,T)}}else{const M=v.array;S=v.version;for(let _=0,b=M.length/3-1;_<b;_+=3){const T=_+0,C=_+1,B=_+2;p.push(T,C,C,B,B,T)}}const A=new(mY(p)?OU:UU)(p,1);A.version=S;const g=s.get(f);g&&e.remove(g),s.set(f,A)}function h(f){const p=s.get(f);if(p){const m=f.index;m!==null&&p.version<m.version&&u(f)}else u(f);return s.get(f)}return{get:a,update:l,getWireframeAttribute:h}}function Ahe(n,e,t,r){const i=r.isWebGL2;let s;function o(p){s=p}let a,l;function u(p){a=p.type,l=p.bytesPerElement}function h(p,m){n.drawElements(s,m,a,p*l),t.update(m,s,1)}function f(p,m,v){if(v===0)return;let S,A;if(i)S=n,A="drawElementsInstanced";else if(S=e.get("ANGLE_instanced_arrays"),A="drawElementsInstancedANGLE",S===null){console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}S[A](s,m,a,p*l,v),t.update(m,s,v)}this.setMode=o,this.setIndex=u,this.render=h,this.renderInstances=f}function _he(n){const e={geometries:0,textures:0},t={frame:0,calls:0,triangles:0,points:0,lines:0};function r(s,o,a){switch(t.calls++,o){case n.TRIANGLES:t.triangles+=a*(s/3);break;case n.LINES:t.lines+=a*(s/2);break;case n.LINE_STRIP:t.lines+=a*(s-1);break;case n.LINE_LOOP:t.lines+=a*s;break;case n.POINTS:t.points+=a*s;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",o);break}}function i(){t.calls=0,t.triangles=0,t.points=0,t.lines=0}return{memory:e,render:t,programs:null,autoReset:!0,reset:i,update:r}}function Mhe(n,e){return n[0]-e[0]}function She(n,e){return Math.abs(e[1])-Math.abs(n[1])}function Ehe(n,e,t){const r={},i=new Float32Array(8),s=new WeakMap,o=new kn,a=[];for(let u=0;u<8;u++)a[u]=[u,0];function l(u,h,f){const p=u.morphTargetInfluences;if(e.isWebGL2===!0){const m=h.morphAttributes.position||h.morphAttributes.normal||h.morphAttributes.color,v=m!==void 0?m.length:0;let S=s.get(h);if(S===void 0||S.count!==v){let M=function(){W.dispose(),s.delete(h),h.removeEventListener("dispose",M)};S!==void 0&&S.texture.dispose();const _=h.morphAttributes.position!==void 0,b=h.morphAttributes.normal!==void 0,T=h.morphAttributes.color!==void 0,C=h.morphAttributes.position||[],B=h.morphAttributes.normal||[],P=h.morphAttributes.color||[];let R=0;_===!0&&(R=1),b===!0&&(R=2),T===!0&&(R=3);let L=h.attributes.position.count*R,U=1;L>e.maxTextureSize&&(U=Math.ceil(L/e.maxTextureSize),L=e.maxTextureSize);const Q=new Float32Array(L*U*4*v),W=new MR(Q,L,U,v);W.type=Pu,W.needsUpdate=!0;const Y=R*4;for(let X=0;X<v;X++){const ae=C[X],Z=B[X],D=P[X],k=L*U*4*X;for(let G=0;G<ae.count;G++){const K=G*Y;_===!0&&(o.fromBufferAttribute(ae,G),Q[k+K+0]=o.x,Q[k+K+1]=o.y,Q[k+K+2]=o.z,Q[k+K+3]=0),b===!0&&(o.fromBufferAttribute(Z,G),Q[k+K+4]=o.x,Q[k+K+5]=o.y,Q[k+K+6]=o.z,Q[k+K+7]=0),T===!0&&(o.fromBufferAttribute(D,G),Q[k+K+8]=o.x,Q[k+K+9]=o.y,Q[k+K+10]=o.z,Q[k+K+11]=D.itemSize===4?o.w:1)}}S={count:v,texture:W,size:new Ye(L,U)},s.set(h,S),h.addEventListener("dispose",M)}let A=0;for(let M=0;M<p.length;M++)A+=p[M];const g=h.morphTargetsRelative?1:1-A;f.getUniforms().setValue(n,"morphTargetBaseInfluence",g),f.getUniforms().setValue(n,"morphTargetInfluences",p),f.getUniforms().setValue(n,"morphTargetsTexture",S.texture,t),f.getUniforms().setValue(n,"morphTargetsTextureSize",S.size)}else{const m=p===void 0?0:p.length;let v=r[h.id];if(v===void 0||v.length!==m){v=[];for(let _=0;_<m;_++)v[_]=[_,0];r[h.id]=v}for(let _=0;_<m;_++){const b=v[_];b[0]=_,b[1]=p[_]}v.sort(She);for(let _=0;_<8;_++)_<m&&v[_][1]?(a[_][0]=v[_][0],a[_][1]=v[_][1]):(a[_][0]=Number.MAX_SAFE_INTEGER,a[_][1]=0);a.sort(Mhe);const S=h.morphAttributes.position,A=h.morphAttributes.normal;let g=0;for(let _=0;_<8;_++){const b=a[_],T=b[0],C=b[1];T!==Number.MAX_SAFE_INTEGER&&C?(S&&h.getAttribute("morphTarget"+_)!==S[T]&&h.setAttribute("morphTarget"+_,S[T]),A&&h.getAttribute("morphNormal"+_)!==A[T]&&h.setAttribute("morphNormal"+_,A[T]),i[_]=C,g+=C):(S&&h.hasAttribute("morphTarget"+_)===!0&&h.deleteAttribute("morphTarget"+_),A&&h.hasAttribute("morphNormal"+_)===!0&&h.deleteAttribute("morphNormal"+_),i[_]=0)}const M=h.morphTargetsRelative?1:1-g;f.getUniforms().setValue(n,"morphTargetBaseInfluence",M),f.getUniforms().setValue(n,"morphTargetInfluences",i)}}return{update:l}}function bhe(n,e,t,r){let i=new WeakMap;function s(l){const u=r.render.frame,h=l.geometry,f=e.get(l,h);return i.get(f)!==u&&(e.update(f),i.set(f,u)),l.isInstancedMesh&&(l.hasEventListener("dispose",a)===!1&&l.addEventListener("dispose",a),t.update(l.instanceMatrix,n.ARRAY_BUFFER),l.instanceColor!==null&&t.update(l.instanceColor,n.ARRAY_BUFFER)),f}function o(){i=new WeakMap}function a(l){const u=l.target;u.removeEventListener("dispose",a),t.remove(u.instanceMatrix),u.instanceColor!==null&&t.remove(u.instanceColor)}return{update:s,dispose:o}}const SY=new dr,EY=new MR,bY=new NU,wY=new nS,x4=[],A4=[],_4=new Float32Array(16),M4=new Float32Array(9),S4=new Float32Array(4);function mx(n,e,t){const r=n[0];if(r<=0||r>0)return n;const i=e*t;let s=x4[i];if(s===void 0&&(s=new Float32Array(i),x4[i]=s),e!==0){r.toArray(s,0);for(let o=1,a=0;o!==e;++o)a+=t,n[o].toArray(s,a)}return s}function Ei(n,e){if(n.length!==e.length)return!1;for(let t=0,r=n.length;t<r;t++)if(n[t]!==e[t])return!1;return!0}function bi(n,e){for(let t=0,r=e.length;t<r;t++)n[t]=e[t]}function ER(n,e){let t=A4[e];t===void 0&&(t=new Int32Array(e),A4[e]=t);for(let r=0;r!==e;++r)t[r]=n.allocateTextureUnit();return t}function whe(n,e){const t=this.cache;t[0]!==e&&(n.uniform1f(this.addr,e),t[0]=e)}function The(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2f(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(Ei(t,e))return;n.uniform2fv(this.addr,e),bi(t,e)}}function Che(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3f(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else if(e.r!==void 0)(t[0]!==e.r||t[1]!==e.g||t[2]!==e.b)&&(n.uniform3f(this.addr,e.r,e.g,e.b),t[0]=e.r,t[1]=e.g,t[2]=e.b);else{if(Ei(t,e))return;n.uniform3fv(this.addr,e),bi(t,e)}}function Rhe(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4f(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(Ei(t,e))return;n.uniform4fv(this.addr,e),bi(t,e)}}function Phe(n,e){const t=this.cache,r=e.elements;if(r===void 0){if(Ei(t,e))return;n.uniformMatrix2fv(this.addr,!1,e),bi(t,e)}else{if(Ei(t,r))return;S4.set(r),n.uniformMatrix2fv(this.addr,!1,S4),bi(t,r)}}function Bhe(n,e){const t=this.cache,r=e.elements;if(r===void 0){if(Ei(t,e))return;n.uniformMatrix3fv(this.addr,!1,e),bi(t,e)}else{if(Ei(t,r))return;M4.set(r),n.uniformMatrix3fv(this.addr,!1,M4),bi(t,r)}}function Lhe(n,e){const t=this.cache,r=e.elements;if(r===void 0){if(Ei(t,e))return;n.uniformMatrix4fv(this.addr,!1,e),bi(t,e)}else{if(Ei(t,r))return;_4.set(r),n.uniformMatrix4fv(this.addr,!1,_4),bi(t,r)}}function Ihe(n,e){const t=this.cache;t[0]!==e&&(n.uniform1i(this.addr,e),t[0]=e)}function Dhe(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2i(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(Ei(t,e))return;n.uniform2iv(this.addr,e),bi(t,e)}}function Fhe(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3i(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(Ei(t,e))return;n.uniform3iv(this.addr,e),bi(t,e)}}function Nhe(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4i(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(Ei(t,e))return;n.uniform4iv(this.addr,e),bi(t,e)}}function Uhe(n,e){const t=this.cache;t[0]!==e&&(n.uniform1ui(this.addr,e),t[0]=e)}function Ohe(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2ui(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(Ei(t,e))return;n.uniform2uiv(this.addr,e),bi(t,e)}}function khe(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3ui(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(Ei(t,e))return;n.uniform3uiv(this.addr,e),bi(t,e)}}function Ghe(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4ui(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(Ei(t,e))return;n.uniform4uiv(this.addr,e),bi(t,e)}}function zhe(n,e,t){const r=this.cache,i=t.allocateTextureUnit();r[0]!==i&&(n.uniform1i(this.addr,i),r[0]=i),t.setTexture2D(e||SY,i)}function Hhe(n,e,t){const r=this.cache,i=t.allocateTextureUnit();r[0]!==i&&(n.uniform1i(this.addr,i),r[0]=i),t.setTexture3D(e||bY,i)}function Vhe(n,e,t){const r=this.cache,i=t.allocateTextureUnit();r[0]!==i&&(n.uniform1i(this.addr,i),r[0]=i),t.setTextureCube(e||wY,i)}function Whe(n,e,t){const r=this.cache,i=t.allocateTextureUnit();r[0]!==i&&(n.uniform1i(this.addr,i),r[0]=i),t.setTexture2DArray(e||EY,i)}function jhe(n){switch(n){case 5126:return whe;case 35664:return The;case 35665:return Che;case 35666:return Rhe;case 35674:return Phe;case 35675:return Bhe;case 35676:return Lhe;case 5124:case 35670:return Ihe;case 35667:case 35671:return Dhe;case 35668:case 35672:return Fhe;case 35669:case 35673:return Nhe;case 5125:return Uhe;case 36294:return Ohe;case 36295:return khe;case 36296:return Ghe;case 35678:case 36198:case 36298:case 36306:case 35682:return zhe;case 35679:case 36299:case 36307:return Hhe;case 35680:case 36300:case 36308:case 36293:return Vhe;case 36289:case 36303:case 36311:case 36292:return Whe}}function Xhe(n,e){n.uniform1fv(this.addr,e)}function Jhe(n,e){const t=mx(e,this.size,2);n.uniform2fv(this.addr,t)}function Yhe(n,e){const t=mx(e,this.size,3);n.uniform3fv(this.addr,t)}function Khe(n,e){const t=mx(e,this.size,4);n.uniform4fv(this.addr,t)}function Qhe(n,e){const t=mx(e,this.size,4);n.uniformMatrix2fv(this.addr,!1,t)}function qhe(n,e){const t=mx(e,this.size,9);n.uniformMatrix3fv(this.addr,!1,t)}function Zhe(n,e){const t=mx(e,this.size,16);n.uniformMatrix4fv(this.addr,!1,t)}function $he(n,e){n.uniform1iv(this.addr,e)}function ede(n,e){n.uniform2iv(this.addr,e)}function tde(n,e){n.uniform3iv(this.addr,e)}function nde(n,e){n.uniform4iv(this.addr,e)}function rde(n,e){n.uniform1uiv(this.addr,e)}function ide(n,e){n.uniform2uiv(this.addr,e)}function sde(n,e){n.uniform3uiv(this.addr,e)}function ode(n,e){n.uniform4uiv(this.addr,e)}function ade(n,e,t){const r=this.cache,i=e.length,s=ER(t,i);Ei(r,s)||(n.uniform1iv(this.addr,s),bi(r,s));for(let o=0;o!==i;++o)t.setTexture2D(e[o]||SY,s[o])}function lde(n,e,t){const r=this.cache,i=e.length,s=ER(t,i);Ei(r,s)||(n.uniform1iv(this.addr,s),bi(r,s));for(let o=0;o!==i;++o)t.setTexture3D(e[o]||bY,s[o])}function ude(n,e,t){const r=this.cache,i=e.length,s=ER(t,i);Ei(r,s)||(n.uniform1iv(this.addr,s),bi(r,s));for(let o=0;o!==i;++o)t.setTextureCube(e[o]||wY,s[o])}function cde(n,e,t){const r=this.cache,i=e.length,s=ER(t,i);Ei(r,s)||(n.uniform1iv(this.addr,s),bi(r,s));for(let o=0;o!==i;++o)t.setTexture2DArray(e[o]||EY,s[o])}function hde(n){switch(n){case 5126:return Xhe;case 35664:return Jhe;case 35665:return Yhe;case 35666:return Khe;case 35674:return Qhe;case 35675:return qhe;case 35676:return Zhe;case 5124:case 35670:return $he;case 35667:case 35671:return ede;case 35668:case 35672:return tde;case 35669:case 35673:return nde;case 5125:return rde;case 36294:return ide;case 36295:return sde;case 36296:return ode;case 35678:case 36198:case 36298:case 36306:case 35682:return ade;case 35679:case 36299:case 36307:return lde;case 35680:case 36300:case 36308:case 36293:return ude;case 36289:case 36303:case 36311:case 36292:return cde}}class dde{constructor(e,t,r){this.id=e,this.addr=r,this.cache=[],this.setValue=jhe(t.type)}}class fde{constructor(e,t,r){this.id=e,this.addr=r,this.cache=[],this.size=t.size,this.setValue=hde(t.type)}}class pde{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,t,r){const i=this.seq;for(let s=0,o=i.length;s!==o;++s){const a=i[s];a.setValue(e,t[a.id],r)}}}const VB=/(\w+)(\])?(\[|\.)?/g;function E4(n,e){n.seq.push(e),n.map[e.id]=e}function mde(n,e,t){const r=n.name,i=r.length;for(VB.lastIndex=0;;){const s=VB.exec(r),o=VB.lastIndex;let a=s[1];const l=s[2]==="]",u=s[3];if(l&&(a=a|0),u===void 0||u==="["&&o+2===i){E4(t,u===void 0?new dde(a,n,e):new fde(a,n,e));break}else{let h=t.map[a];h===void 0&&(h=new pde(a),E4(t,h)),t=h}}}class tT{constructor(e,t){this.seq=[],this.map={};const r=e.getProgramParameter(t,e.ACTIVE_UNIFORMS);for(let i=0;i<r;++i){const s=e.getActiveUniform(t,i),o=e.getUniformLocation(t,s.name);mde(s,o,this)}}setValue(e,t,r,i){const s=this.map[t];s!==void 0&&s.setValue(e,r,i)}setOptional(e,t,r){const i=t[r];i!==void 0&&this.setValue(e,r,i)}static upload(e,t,r,i){for(let s=0,o=t.length;s!==o;++s){const a=t[s],l=r[a.id];l.needsUpdate!==!1&&a.setValue(e,l.value,i)}}static seqWithValue(e,t){const r=[];for(let i=0,s=e.length;i!==s;++i){const o=e[i];o.id in t&&r.push(o)}return r}}function b4(n,e,t){const r=n.createShader(e);return n.shaderSource(r,t),n.compileShader(r),r}let gde=0;function vde(n,e){const t=n.split(`
`),r=[],i=Math.max(e-6,0),s=Math.min(e+6,t.length);for(let o=i;o<s;o++){const a=o+1;r.push(`${a===e?">":" "} ${a}: ${t[o]}`)}return r.join(`
`)}function yde(n){switch(n){case kl:return["Linear","( value )"];case qt:return["sRGB","( value )"];default:return console.warn("THREE.WebGLProgram: Unsupported color space:",n),["Linear","( value )"]}}function w4(n,e,t){const r=n.getShaderParameter(e,n.COMPILE_STATUS),i=n.getShaderInfoLog(e).trim();if(r&&i==="")return"";const s=/ERROR: 0:(\d+)/.exec(i);if(s){const o=parseInt(s[1]);return t.toUpperCase()+`

`+i+`

`+vde(n.getShaderSource(e),o)}else return i}function xde(n,e){const t=yde(e);return"vec4 "+n+"( vec4 value ) { return LinearTo"+t[0]+t[1]+"; }"}function Ade(n,e){let t;switch(e){case OJ:t="Linear";break;case kJ:t="Reinhard";break;case GJ:t="OptimizedCineon";break;case MU:t="ACESFilmic";break;case zJ:t="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),t="Linear"}return"vec3 "+n+"( vec3 color ) { return "+t+"ToneMapping( color ); }"}function _de(n){return[n.extensionDerivatives||n.envMapCubeUVHeight||n.bumpMap||n.normalMapTangentSpace||n.clearcoatNormalMap||n.flatShading||n.shaderID==="physical"?"#extension GL_OES_standard_derivatives : enable":"",(n.extensionFragDepth||n.logarithmicDepthBuffer)&&n.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",n.extensionDrawBuffers&&n.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(n.extensionShaderTextureLOD||n.envMap||n.transmission)&&n.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(G1).join(`
`)}function Mde(n){const e=[];for(const t in n){const r=n[t];r!==!1&&e.push("#define "+t+" "+r)}return e.join(`
`)}function Sde(n,e){const t={},r=n.getProgramParameter(e,n.ACTIVE_ATTRIBUTES);for(let i=0;i<r;i++){const s=n.getActiveAttrib(e,i),o=s.name;let a=1;s.type===n.FLOAT_MAT2&&(a=2),s.type===n.FLOAT_MAT3&&(a=3),s.type===n.FLOAT_MAT4&&(a=4),t[o]={type:s.type,location:n.getAttribLocation(e,o),locationSize:a}}return t}function G1(n){return n!==""}function T4(n,e){const t=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return n.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,t).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function C4(n,e){return n.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const Ede=/^[ \t]*#include +<([\w\d./]+)>/gm;function kD(n){return n.replace(Ede,bde)}function bde(n,e){const t=nn[e];if(t===void 0)throw new Error("Can not resolve #include <"+e+">");return kD(t)}const wde=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function R4(n){return n.replace(wde,Tde)}function Tde(n,e,t,r){let i="";for(let s=parseInt(e);s<parseInt(t);s++)i+=r.replace(/\[\s*i\s*\]/g,"[ "+s+" ]").replace(/UNROLLED_LOOP_INDEX/g,s);return i}function P4(n){let e="precision "+n.precision+` float;
precision `+n.precision+" int;";return n.precision==="highp"?e+=`
#define HIGH_PRECISION`:n.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:n.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function Cde(n){let e="SHADOWMAP_TYPE_BASIC";return n.shadowMapType===vR?e="SHADOWMAP_TYPE_PCF":n.shadowMapType===i_?e="SHADOWMAP_TYPE_PCF_SOFT":n.shadowMapType===xl&&(e="SHADOWMAP_TYPE_VSM"),e}function Rde(n){let e="ENVMAP_TYPE_CUBE";if(n.envMap)switch(n.envMapMode){case uf:case cf:e="ENVMAP_TYPE_CUBE";break;case hx:e="ENVMAP_TYPE_CUBE_UV";break}return e}function Pde(n){let e="ENVMAP_MODE_REFLECTION";if(n.envMap)switch(n.envMapMode){case cf:e="ENVMAP_MODE_REFRACTION";break}return e}function Bde(n){let e="ENVMAP_BLENDING_NONE";if(n.envMap)switch(n.combine){case $M:e="ENVMAP_BLENDING_MULTIPLY";break;case NJ:e="ENVMAP_BLENDING_MIX";break;case UJ:e="ENVMAP_BLENDING_ADD";break}return e}function Lde(n){const e=n.envMapCubeUVHeight;if(e===null)return null;const t=Math.log2(e)-2,r=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,t),7*16)),texelHeight:r,maxMip:t}}function Ide(n,e,t,r){const i=n.getContext(),s=t.defines;let o=t.vertexShader,a=t.fragmentShader;const l=Cde(t),u=Rde(t),h=Pde(t),f=Bde(t),p=Lde(t),m=t.isWebGL2?"":_de(t),v=Mde(s),S=i.createProgram();let A,g,M=t.glslVersion?"#version "+t.glslVersion+`
`:"";t.isRawShaderMaterial?(A=["#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,v].filter(G1).join(`
`),A.length>0&&(A+=`
`),g=[m,"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,v].filter(G1).join(`
`),g.length>0&&(g+=`
`)):(A=[P4(t),"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,v,t.instancing?"#define USE_INSTANCING":"",t.instancingColor?"#define USE_INSTANCING_COLOR":"",t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+h:"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",t.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",t.displacementMap?"#define USE_DISPLACEMENTMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.anisotropyMap?"#define USE_ANISOTROPYMAP":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",t.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",t.mapUv?"#define MAP_UV "+t.mapUv:"",t.alphaMapUv?"#define ALPHAMAP_UV "+t.alphaMapUv:"",t.lightMapUv?"#define LIGHTMAP_UV "+t.lightMapUv:"",t.aoMapUv?"#define AOMAP_UV "+t.aoMapUv:"",t.emissiveMapUv?"#define EMISSIVEMAP_UV "+t.emissiveMapUv:"",t.bumpMapUv?"#define BUMPMAP_UV "+t.bumpMapUv:"",t.normalMapUv?"#define NORMALMAP_UV "+t.normalMapUv:"",t.displacementMapUv?"#define DISPLACEMENTMAP_UV "+t.displacementMapUv:"",t.metalnessMapUv?"#define METALNESSMAP_UV "+t.metalnessMapUv:"",t.roughnessMapUv?"#define ROUGHNESSMAP_UV "+t.roughnessMapUv:"",t.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+t.anisotropyMapUv:"",t.clearcoatMapUv?"#define CLEARCOATMAP_UV "+t.clearcoatMapUv:"",t.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+t.clearcoatNormalMapUv:"",t.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+t.clearcoatRoughnessMapUv:"",t.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+t.iridescenceMapUv:"",t.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+t.iridescenceThicknessMapUv:"",t.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+t.sheenColorMapUv:"",t.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+t.sheenRoughnessMapUv:"",t.specularMapUv?"#define SPECULARMAP_UV "+t.specularMapUv:"",t.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+t.specularColorMapUv:"",t.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+t.specularIntensityMapUv:"",t.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+t.transmissionMapUv:"",t.thicknessMapUv?"#define THICKNESSMAP_UV "+t.thicknessMapUv:"",t.vertexTangents?"#define USE_TANGENT":"",t.vertexColors?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUv1s?"#define USE_UV1":"",t.vertexUv2s?"#define USE_UV2":"",t.vertexUv3s?"#define USE_UV3":"",t.pointsUvs?"#define USE_POINTS_UV":"",t.flatShading?"#define FLAT_SHADED":"",t.skinning?"#define USE_SKINNING":"",t.morphTargets?"#define USE_MORPHTARGETS":"",t.morphNormals&&t.flatShading===!1?"#define USE_MORPHNORMALS":"",t.morphColors&&t.isWebGL2?"#define USE_MORPHCOLORS":"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_TEXTURE_STRIDE "+t.morphTextureStride:"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_COUNT "+t.morphTargetsCount:"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+l:"",t.sizeAttenuation?"#define USE_SIZEATTENUATION":"",t.useLegacyLights?"#define LEGACY_LIGHTS":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.logarithmicDepthBuffer&&t.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","	attribute vec3 morphTarget0;","	attribute vec3 morphTarget1;","	attribute vec3 morphTarget2;","	attribute vec3 morphTarget3;","	#ifdef USE_MORPHNORMALS","		attribute vec3 morphNormal0;","		attribute vec3 morphNormal1;","		attribute vec3 morphNormal2;","		attribute vec3 morphNormal3;","	#else","		attribute vec3 morphTarget4;","		attribute vec3 morphTarget5;","		attribute vec3 morphTarget6;","		attribute vec3 morphTarget7;","	#endif","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(G1).join(`
`),g=[m,P4(t),"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,v,t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.matcap?"#define USE_MATCAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+u:"",t.envMap?"#define "+h:"",t.envMap?"#define "+f:"",p?"#define CUBEUV_TEXEL_WIDTH "+p.texelWidth:"",p?"#define CUBEUV_TEXEL_HEIGHT "+p.texelHeight:"",p?"#define CUBEUV_MAX_MIP "+p.maxMip+".0":"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",t.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.anisotropy?"#define USE_ANISOTROPY":"",t.anisotropyMap?"#define USE_ANISOTROPYMAP":"",t.clearcoat?"#define USE_CLEARCOAT":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescence?"#define USE_IRIDESCENCE":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",t.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaTest?"#define USE_ALPHATEST":"",t.sheen?"#define USE_SHEEN":"",t.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.vertexTangents?"#define USE_TANGENT":"",t.vertexColors||t.instancingColor?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUv1s?"#define USE_UV1":"",t.vertexUv2s?"#define USE_UV2":"",t.vertexUv3s?"#define USE_UV3":"",t.pointsUvs?"#define USE_POINTS_UV":"",t.gradientMap?"#define USE_GRADIENTMAP":"",t.flatShading?"#define FLAT_SHADED":"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+l:"",t.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",t.useLegacyLights?"#define LEGACY_LIGHTS":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.logarithmicDepthBuffer&&t.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",t.toneMapping!==Bl?"#define TONE_MAPPING":"",t.toneMapping!==Bl?nn.tonemapping_pars_fragment:"",t.toneMapping!==Bl?Ade("toneMapping",t.toneMapping):"",t.dithering?"#define DITHERING":"",t.opaque?"#define OPAQUE":"",nn.encodings_pars_fragment,xde("linearToOutputTexel",t.outputColorSpace),t.useDepthPacking?"#define DEPTH_PACKING "+t.depthPacking:"",`
`].filter(G1).join(`
`)),o=kD(o),o=T4(o,t),o=C4(o,t),a=kD(a),a=T4(a,t),a=C4(a,t),o=R4(o),a=R4(a),t.isWebGL2&&t.isRawShaderMaterial!==!0&&(M=`#version 300 es
`,A=["precision mediump sampler2DArray;","#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+A,g=["#define varying in",t.glslVersion===ND?"":"layout(location = 0) out highp vec4 pc_fragColor;",t.glslVersion===ND?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+g);const _=M+A+o,b=M+g+a,T=b4(i,i.VERTEX_SHADER,_),C=b4(i,i.FRAGMENT_SHADER,b);if(i.attachShader(S,T),i.attachShader(S,C),t.index0AttributeName!==void 0?i.bindAttribLocation(S,0,t.index0AttributeName):t.morphTargets===!0&&i.bindAttribLocation(S,0,"position"),i.linkProgram(S),n.debug.checkShaderErrors){const R=i.getProgramInfoLog(S).trim(),L=i.getShaderInfoLog(T).trim(),U=i.getShaderInfoLog(C).trim();let Q=!0,W=!0;if(i.getProgramParameter(S,i.LINK_STATUS)===!1)if(Q=!1,typeof n.debug.onShaderError=="function")n.debug.onShaderError(i,S,T,C);else{const Y=w4(i,T,"vertex"),X=w4(i,C,"fragment");console.error("THREE.WebGLProgram: Shader Error "+i.getError()+" - VALIDATE_STATUS "+i.getProgramParameter(S,i.VALIDATE_STATUS)+`

Program Info Log: `+R+`
`+Y+`
`+X)}else R!==""?console.warn("THREE.WebGLProgram: Program Info Log:",R):(L===""||U==="")&&(W=!1);W&&(this.diagnostics={runnable:Q,programLog:R,vertexShader:{log:L,prefix:A},fragmentShader:{log:U,prefix:g}})}i.deleteShader(T),i.deleteShader(C);let B;this.getUniforms=function(){return B===void 0&&(B=new tT(i,S)),B};let P;return this.getAttributes=function(){return P===void 0&&(P=Sde(i,S)),P},this.destroy=function(){r.releaseStatesOfProgram(this),i.deleteProgram(S),this.program=void 0},this.type=t.shaderType,this.name=t.shaderName,this.id=gde++,this.cacheKey=e,this.usedTimes=1,this.program=S,this.vertexShader=T,this.fragmentShader=C,this}let Dde=0;class Fde{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const t=e.vertexShader,r=e.fragmentShader,i=this._getShaderStage(t),s=this._getShaderStage(r),o=this._getShaderCacheForMaterial(e);return o.has(i)===!1&&(o.add(i),i.usedTimes++),o.has(s)===!1&&(o.add(s),s.usedTimes++),this}remove(e){const t=this.materialCache.get(e);for(const r of t)r.usedTimes--,r.usedTimes===0&&this.shaderCache.delete(r.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const t=this.materialCache;let r=t.get(e);return r===void 0&&(r=new Set,t.set(e,r)),r}_getShaderStage(e){const t=this.shaderCache;let r=t.get(e);return r===void 0&&(r=new Nde(e),t.set(e,r)),r}}class Nde{constructor(e){this.id=Dde++,this.code=e,this.usedTimes=0}}function Ude(n,e,t,r,i,s,o){const a=new Nm,l=new Fde,u=[],h=i.isWebGL2,f=i.logarithmicDepthBuffer,p=i.vertexTextures;let m=i.precision;const v={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function S(R){return R===0?"uv":`uv${R}`}function A(R,L,U,Q,W){const Y=Q.fog,X=W.geometry,ae=R.isMeshStandardMaterial?Q.environment:null,Z=(R.isMeshStandardMaterial?t:e).get(R.envMap||ae),D=Z&&Z.mapping===hx?Z.image.height:null,k=v[R.type];R.precision!==null&&(m=i.getMaxPrecision(R.precision),m!==R.precision&&console.warn("THREE.WebGLProgram.getParameters:",R.precision,"not supported, using",m,"instead."));const G=X.morphAttributes.position||X.morphAttributes.normal||X.morphAttributes.color,K=G!==void 0?G.length:0;let H=0;X.morphAttributes.position!==void 0&&(H=1),X.morphAttributes.normal!==void 0&&(H=2),X.morphAttributes.color!==void 0&&(H=3);let ue,le,Ce,xe;if(k){const Ut=bl[k];ue=Ut.vertexShader,le=Ut.fragmentShader}else ue=R.vertexShader,le=R.fragmentShader,l.update(R),Ce=l.getVertexShaderID(R),xe=l.getFragmentShaderID(R);const Be=n.getRenderTarget(),Qe=W.isInstancedMesh===!0,je=!!R.map,Ke=!!R.matcap,fe=!!Z,z=!!R.aoMap,Ae=!!R.lightMap,ge=!!R.bumpMap,Me=!!R.normalMap,Ee=!!R.displacementMap,Ve=!!R.emissiveMap,Ge=!!R.metalnessMap,ze=!!R.roughnessMap,Ze=R.anisotropy>0,St=R.clearcoat>0,Dt=R.iridescence>0,O=R.sheen>0,F=R.transmission>0,ce=Ze&&!!R.anisotropyMap,be=St&&!!R.clearcoatMap,Se=St&&!!R.clearcoatNormalMap,Fe=St&&!!R.clearcoatRoughnessMap,Xe=Dt&&!!R.iridescenceMap,De=Dt&&!!R.iridescenceThicknessMap,j=O&&!!R.sheenColorMap,q=O&&!!R.sheenRoughnessMap,ve=!!R.specularMap,Re=!!R.specularColorMap,Pe=!!R.specularIntensityMap,Ue=F&&!!R.transmissionMap,it=F&&!!R.thicknessMap,Mt=!!R.gradientMap,J=!!R.alphaMap,Ie=R.alphaTest>0,oe=!!R.extensions,Ne=!!X.attributes.uv1,Oe=!!X.attributes.uv2,wt=!!X.attributes.uv3;return{isWebGL2:h,shaderID:k,shaderType:R.type,shaderName:R.name,vertexShader:ue,fragmentShader:le,defines:R.defines,customVertexShaderID:Ce,customFragmentShaderID:xe,isRawShaderMaterial:R.isRawShaderMaterial===!0,glslVersion:R.glslVersion,precision:m,instancing:Qe,instancingColor:Qe&&W.instanceColor!==null,supportsVertexTextures:p,outputColorSpace:Be===null?n.outputColorSpace:Be.isXRRenderTarget===!0?Be.texture.colorSpace:kl,map:je,matcap:Ke,envMap:fe,envMapMode:fe&&Z.mapping,envMapCubeUVHeight:D,aoMap:z,lightMap:Ae,bumpMap:ge,normalMap:Me,displacementMap:p&&Ee,emissiveMap:Ve,normalMapObjectSpace:Me&&R.normalMapType===rY,normalMapTangentSpace:Me&&R.normalMapType===Cf,metalnessMap:Ge,roughnessMap:ze,anisotropy:Ze,anisotropyMap:ce,clearcoat:St,clearcoatMap:be,clearcoatNormalMap:Se,clearcoatRoughnessMap:Fe,iridescence:Dt,iridescenceMap:Xe,iridescenceThicknessMap:De,sheen:O,sheenColorMap:j,sheenRoughnessMap:q,specularMap:ve,specularColorMap:Re,specularIntensityMap:Pe,transmission:F,transmissionMap:Ue,thicknessMap:it,gradientMap:Mt,opaque:R.transparent===!1&&R.blending===Im,alphaMap:J,alphaTest:Ie,combine:R.combine,mapUv:je&&S(R.map.channel),aoMapUv:z&&S(R.aoMap.channel),lightMapUv:Ae&&S(R.lightMap.channel),bumpMapUv:ge&&S(R.bumpMap.channel),normalMapUv:Me&&S(R.normalMap.channel),displacementMapUv:Ee&&S(R.displacementMap.channel),emissiveMapUv:Ve&&S(R.emissiveMap.channel),metalnessMapUv:Ge&&S(R.metalnessMap.channel),roughnessMapUv:ze&&S(R.roughnessMap.channel),anisotropyMapUv:ce&&S(R.anisotropyMap.channel),clearcoatMapUv:be&&S(R.clearcoatMap.channel),clearcoatNormalMapUv:Se&&S(R.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:Fe&&S(R.clearcoatRoughnessMap.channel),iridescenceMapUv:Xe&&S(R.iridescenceMap.channel),iridescenceThicknessMapUv:De&&S(R.iridescenceThicknessMap.channel),sheenColorMapUv:j&&S(R.sheenColorMap.channel),sheenRoughnessMapUv:q&&S(R.sheenRoughnessMap.channel),specularMapUv:ve&&S(R.specularMap.channel),specularColorMapUv:Re&&S(R.specularColorMap.channel),specularIntensityMapUv:Pe&&S(R.specularIntensityMap.channel),transmissionMapUv:Ue&&S(R.transmissionMap.channel),thicknessMapUv:it&&S(R.thicknessMap.channel),alphaMapUv:J&&S(R.alphaMap.channel),vertexTangents:!!X.attributes.tangent&&(Me||Ze),vertexColors:R.vertexColors,vertexAlphas:R.vertexColors===!0&&!!X.attributes.color&&X.attributes.color.itemSize===4,vertexUv1s:Ne,vertexUv2s:Oe,vertexUv3s:wt,pointsUvs:W.isPoints===!0&&!!X.attributes.uv&&(je||J),fog:!!Y,useFog:R.fog===!0,fogExp2:Y&&Y.isFogExp2,flatShading:R.flatShading===!0,sizeAttenuation:R.sizeAttenuation===!0,logarithmicDepthBuffer:f,skinning:W.isSkinnedMesh===!0,morphTargets:X.morphAttributes.position!==void 0,morphNormals:X.morphAttributes.normal!==void 0,morphColors:X.morphAttributes.color!==void 0,morphTargetsCount:K,morphTextureStride:H,numDirLights:L.directional.length,numPointLights:L.point.length,numSpotLights:L.spot.length,numSpotLightMaps:L.spotLightMap.length,numRectAreaLights:L.rectArea.length,numHemiLights:L.hemi.length,numDirLightShadows:L.directionalShadowMap.length,numPointLightShadows:L.pointShadowMap.length,numSpotLightShadows:L.spotShadowMap.length,numSpotLightShadowsWithMaps:L.numSpotLightShadowsWithMaps,numClippingPlanes:o.numPlanes,numClipIntersection:o.numIntersection,dithering:R.dithering,shadowMapEnabled:n.shadowMap.enabled&&U.length>0,shadowMapType:n.shadowMap.type,toneMapping:R.toneMapped?n.toneMapping:Bl,useLegacyLights:n.useLegacyLights,premultipliedAlpha:R.premultipliedAlpha,doubleSided:R.side===Ga,flipSided:R.side===Vs,useDepthPacking:R.depthPacking>=0,depthPacking:R.depthPacking||0,index0AttributeName:R.index0AttributeName,extensionDerivatives:oe&&R.extensions.derivatives===!0,extensionFragDepth:oe&&R.extensions.fragDepth===!0,extensionDrawBuffers:oe&&R.extensions.drawBuffers===!0,extensionShaderTextureLOD:oe&&R.extensions.shaderTextureLOD===!0,rendererExtensionFragDepth:h||r.has("EXT_frag_depth"),rendererExtensionDrawBuffers:h||r.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:h||r.has("EXT_shader_texture_lod"),customProgramCacheKey:R.customProgramCacheKey()}}function g(R){const L=[];if(R.shaderID?L.push(R.shaderID):(L.push(R.customVertexShaderID),L.push(R.customFragmentShaderID)),R.defines!==void 0)for(const U in R.defines)L.push(U),L.push(R.defines[U]);return R.isRawShaderMaterial===!1&&(M(L,R),_(L,R),L.push(n.outputColorSpace)),L.push(R.customProgramCacheKey),L.join()}function M(R,L){R.push(L.precision),R.push(L.outputColorSpace),R.push(L.envMapMode),R.push(L.envMapCubeUVHeight),R.push(L.mapUv),R.push(L.alphaMapUv),R.push(L.lightMapUv),R.push(L.aoMapUv),R.push(L.bumpMapUv),R.push(L.normalMapUv),R.push(L.displacementMapUv),R.push(L.emissiveMapUv),R.push(L.metalnessMapUv),R.push(L.roughnessMapUv),R.push(L.anisotropyMapUv),R.push(L.clearcoatMapUv),R.push(L.clearcoatNormalMapUv),R.push(L.clearcoatRoughnessMapUv),R.push(L.iridescenceMapUv),R.push(L.iridescenceThicknessMapUv),R.push(L.sheenColorMapUv),R.push(L.sheenRoughnessMapUv),R.push(L.specularMapUv),R.push(L.specularColorMapUv),R.push(L.specularIntensityMapUv),R.push(L.transmissionMapUv),R.push(L.thicknessMapUv),R.push(L.combine),R.push(L.fogExp2),R.push(L.sizeAttenuation),R.push(L.morphTargetsCount),R.push(L.morphAttributeCount),R.push(L.numDirLights),R.push(L.numPointLights),R.push(L.numSpotLights),R.push(L.numSpotLightMaps),R.push(L.numHemiLights),R.push(L.numRectAreaLights),R.push(L.numDirLightShadows),R.push(L.numPointLightShadows),R.push(L.numSpotLightShadows),R.push(L.numSpotLightShadowsWithMaps),R.push(L.shadowMapType),R.push(L.toneMapping),R.push(L.numClippingPlanes),R.push(L.numClipIntersection),R.push(L.depthPacking)}function _(R,L){a.disableAll(),L.isWebGL2&&a.enable(0),L.supportsVertexTextures&&a.enable(1),L.instancing&&a.enable(2),L.instancingColor&&a.enable(3),L.matcap&&a.enable(4),L.envMap&&a.enable(5),L.normalMapObjectSpace&&a.enable(6),L.normalMapTangentSpace&&a.enable(7),L.clearcoat&&a.enable(8),L.iridescence&&a.enable(9),L.alphaTest&&a.enable(10),L.vertexColors&&a.enable(11),L.vertexAlphas&&a.enable(12),L.vertexUv1s&&a.enable(13),L.vertexUv2s&&a.enable(14),L.vertexUv3s&&a.enable(15),L.vertexTangents&&a.enable(16),L.anisotropy&&a.enable(17),R.push(a.mask),a.disableAll(),L.fog&&a.enable(0),L.useFog&&a.enable(1),L.flatShading&&a.enable(2),L.logarithmicDepthBuffer&&a.enable(3),L.skinning&&a.enable(4),L.morphTargets&&a.enable(5),L.morphNormals&&a.enable(6),L.morphColors&&a.enable(7),L.premultipliedAlpha&&a.enable(8),L.shadowMapEnabled&&a.enable(9),L.useLegacyLights&&a.enable(10),L.doubleSided&&a.enable(11),L.flipSided&&a.enable(12),L.useDepthPacking&&a.enable(13),L.dithering&&a.enable(14),L.transmission&&a.enable(15),L.sheen&&a.enable(16),L.opaque&&a.enable(17),L.pointsUvs&&a.enable(18),R.push(a.mask)}function b(R){const L=v[R.type];let U;if(L){const Q=bl[L];U=_Y.clone(Q.uniforms)}else U=R.uniforms;return U}function T(R,L){let U;for(let Q=0,W=u.length;Q<W;Q++){const Y=u[Q];if(Y.cacheKey===L){U=Y,++U.usedTimes;break}}return U===void 0&&(U=new Ide(n,L,R,s),u.push(U)),U}function C(R){if(--R.usedTimes===0){const L=u.indexOf(R);u[L]=u[u.length-1],u.pop(),R.destroy()}}function B(R){l.remove(R)}function P(){l.dispose()}return{getParameters:A,getProgramCacheKey:g,getUniforms:b,acquireProgram:T,releaseProgram:C,releaseShaderCache:B,programs:u,dispose:P}}function Ode(){let n=new WeakMap;function e(s){let o=n.get(s);return o===void 0&&(o={},n.set(s,o)),o}function t(s){n.delete(s)}function r(s,o,a){n.get(s)[o]=a}function i(){n=new WeakMap}return{get:e,remove:t,update:r,dispose:i}}function kde(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.material.id!==e.material.id?n.material.id-e.material.id:n.z!==e.z?n.z-e.z:n.id-e.id}function B4(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.z!==e.z?e.z-n.z:n.id-e.id}function L4(){const n=[];let e=0;const t=[],r=[],i=[];function s(){e=0,t.length=0,r.length=0,i.length=0}function o(f,p,m,v,S,A){let g=n[e];return g===void 0?(g={id:f.id,object:f,geometry:p,material:m,groupOrder:v,renderOrder:f.renderOrder,z:S,group:A},n[e]=g):(g.id=f.id,g.object=f,g.geometry=p,g.material=m,g.groupOrder=v,g.renderOrder=f.renderOrder,g.z=S,g.group=A),e++,g}function a(f,p,m,v,S,A){const g=o(f,p,m,v,S,A);m.transmission>0?r.push(g):m.transparent===!0?i.push(g):t.push(g)}function l(f,p,m,v,S,A){const g=o(f,p,m,v,S,A);m.transmission>0?r.unshift(g):m.transparent===!0?i.unshift(g):t.unshift(g)}function u(f,p){t.length>1&&t.sort(f||kde),r.length>1&&r.sort(p||B4),i.length>1&&i.sort(p||B4)}function h(){for(let f=e,p=n.length;f<p;f++){const m=n[f];if(m.id===null)break;m.id=null,m.object=null,m.geometry=null,m.material=null,m.group=null}}return{opaque:t,transmissive:r,transparent:i,init:s,push:a,unshift:l,finish:h,sort:u}}function Gde(){let n=new WeakMap;function e(r,i){const s=n.get(r);let o;return s===void 0?(o=new L4,n.set(r,[o])):i>=s.length?(o=new L4,s.push(o)):o=s[i],o}function t(){n=new WeakMap}return{get:e,dispose:t}}function zde(){const n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let t;switch(e.type){case"DirectionalLight":t={direction:new se,color:new xt};break;case"SpotLight":t={position:new se,direction:new se,color:new xt,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":t={position:new se,color:new xt,distance:0,decay:0};break;case"HemisphereLight":t={direction:new se,skyColor:new xt,groundColor:new xt};break;case"RectAreaLight":t={color:new xt,position:new se,halfWidth:new se,halfHeight:new se};break}return n[e.id]=t,t}}}function Hde(){const n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let t;switch(e.type){case"DirectionalLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Ye};break;case"SpotLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Ye};break;case"PointLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Ye,shadowCameraNear:1,shadowCameraFar:1e3};break}return n[e.id]=t,t}}}let Vde=0;function Wde(n,e){return(e.castShadow?2:0)-(n.castShadow?2:0)+(e.map?1:0)-(n.map?1:0)}function jde(n,e){const t=new zde,r=Hde(),i={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0};for(let h=0;h<9;h++)i.probe.push(new se);const s=new se,o=new zt,a=new zt;function l(h,f){let p=0,m=0,v=0;for(let U=0;U<9;U++)i.probe[U].set(0,0,0);let S=0,A=0,g=0,M=0,_=0,b=0,T=0,C=0,B=0,P=0;h.sort(Wde);const R=f===!0?Math.PI:1;for(let U=0,Q=h.length;U<Q;U++){const W=h[U],Y=W.color,X=W.intensity,ae=W.distance,Z=W.shadow&&W.shadow.map?W.shadow.map.texture:null;if(W.isAmbientLight)p+=Y.r*X*R,m+=Y.g*X*R,v+=Y.b*X*R;else if(W.isLightProbe)for(let D=0;D<9;D++)i.probe[D].addScaledVector(W.sh.coefficients[D],X);else if(W.isDirectionalLight){const D=t.get(W);if(D.color.copy(W.color).multiplyScalar(W.intensity*R),W.castShadow){const k=W.shadow,G=r.get(W);G.shadowBias=k.bias,G.shadowNormalBias=k.normalBias,G.shadowRadius=k.radius,G.shadowMapSize=k.mapSize,i.directionalShadow[S]=G,i.directionalShadowMap[S]=Z,i.directionalShadowMatrix[S]=W.shadow.matrix,b++}i.directional[S]=D,S++}else if(W.isSpotLight){const D=t.get(W);D.position.setFromMatrixPosition(W.matrixWorld),D.color.copy(Y).multiplyScalar(X*R),D.distance=ae,D.coneCos=Math.cos(W.angle),D.penumbraCos=Math.cos(W.angle*(1-W.penumbra)),D.decay=W.decay,i.spot[g]=D;const k=W.shadow;if(W.map&&(i.spotLightMap[B]=W.map,B++,k.updateMatrices(W),W.castShadow&&P++),i.spotLightMatrix[g]=k.matrix,W.castShadow){const G=r.get(W);G.shadowBias=k.bias,G.shadowNormalBias=k.normalBias,G.shadowRadius=k.radius,G.shadowMapSize=k.mapSize,i.spotShadow[g]=G,i.spotShadowMap[g]=Z,C++}g++}else if(W.isRectAreaLight){const D=t.get(W);D.color.copy(Y).multiplyScalar(X),D.halfWidth.set(W.width*.5,0,0),D.halfHeight.set(0,W.height*.5,0),i.rectArea[M]=D,M++}else if(W.isPointLight){const D=t.get(W);if(D.color.copy(W.color).multiplyScalar(W.intensity*R),D.distance=W.distance,D.decay=W.decay,W.castShadow){const k=W.shadow,G=r.get(W);G.shadowBias=k.bias,G.shadowNormalBias=k.normalBias,G.shadowRadius=k.radius,G.shadowMapSize=k.mapSize,G.shadowCameraNear=k.camera.near,G.shadowCameraFar=k.camera.far,i.pointShadow[A]=G,i.pointShadowMap[A]=Z,i.pointShadowMatrix[A]=W.shadow.matrix,T++}i.point[A]=D,A++}else if(W.isHemisphereLight){const D=t.get(W);D.skyColor.copy(W.color).multiplyScalar(X*R),D.groundColor.copy(W.groundColor).multiplyScalar(X*R),i.hemi[_]=D,_++}}M>0&&(e.isWebGL2||n.has("OES_texture_float_linear")===!0?(i.rectAreaLTC1=yt.LTC_FLOAT_1,i.rectAreaLTC2=yt.LTC_FLOAT_2):n.has("OES_texture_half_float_linear")===!0?(i.rectAreaLTC1=yt.LTC_HALF_1,i.rectAreaLTC2=yt.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),i.ambient[0]=p,i.ambient[1]=m,i.ambient[2]=v;const L=i.hash;(L.directionalLength!==S||L.pointLength!==A||L.spotLength!==g||L.rectAreaLength!==M||L.hemiLength!==_||L.numDirectionalShadows!==b||L.numPointShadows!==T||L.numSpotShadows!==C||L.numSpotMaps!==B)&&(i.directional.length=S,i.spot.length=g,i.rectArea.length=M,i.point.length=A,i.hemi.length=_,i.directionalShadow.length=b,i.directionalShadowMap.length=b,i.pointShadow.length=T,i.pointShadowMap.length=T,i.spotShadow.length=C,i.spotShadowMap.length=C,i.directionalShadowMatrix.length=b,i.pointShadowMatrix.length=T,i.spotLightMatrix.length=C+B-P,i.spotLightMap.length=B,i.numSpotLightShadowsWithMaps=P,L.directionalLength=S,L.pointLength=A,L.spotLength=g,L.rectAreaLength=M,L.hemiLength=_,L.numDirectionalShadows=b,L.numPointShadows=T,L.numSpotShadows=C,L.numSpotMaps=B,i.version=Vde++)}function u(h,f){let p=0,m=0,v=0,S=0,A=0;const g=f.matrixWorldInverse;for(let M=0,_=h.length;M<_;M++){const b=h[M];if(b.isDirectionalLight){const T=i.directional[p];T.direction.setFromMatrixPosition(b.matrixWorld),s.setFromMatrixPosition(b.target.matrixWorld),T.direction.sub(s),T.direction.transformDirection(g),p++}else if(b.isSpotLight){const T=i.spot[v];T.position.setFromMatrixPosition(b.matrixWorld),T.position.applyMatrix4(g),T.direction.setFromMatrixPosition(b.matrixWorld),s.setFromMatrixPosition(b.target.matrixWorld),T.direction.sub(s),T.direction.transformDirection(g),v++}else if(b.isRectAreaLight){const T=i.rectArea[S];T.position.setFromMatrixPosition(b.matrixWorld),T.position.applyMatrix4(g),a.identity(),o.copy(b.matrixWorld),o.premultiply(g),a.extractRotation(o),T.halfWidth.set(b.width*.5,0,0),T.halfHeight.set(0,b.height*.5,0),T.halfWidth.applyMatrix4(a),T.halfHeight.applyMatrix4(a),S++}else if(b.isPointLight){const T=i.point[m];T.position.setFromMatrixPosition(b.matrixWorld),T.position.applyMatrix4(g),m++}else if(b.isHemisphereLight){const T=i.hemi[A];T.direction.setFromMatrixPosition(b.matrixWorld),T.direction.transformDirection(g),A++}}}return{setup:l,setupView:u,state:i}}function I4(n,e){const t=new jde(n,e),r=[],i=[];function s(){r.length=0,i.length=0}function o(h){r.push(h)}function a(h){i.push(h)}function l(h){t.setup(r,h)}function u(h){t.setupView(r,h)}return{init:s,state:{lightsArray:r,shadowsArray:i,lights:t},setupLights:l,setupLightsView:u,pushLight:o,pushShadow:a}}function Xde(n,e){let t=new WeakMap;function r(s,o=0){const a=t.get(s);let l;return a===void 0?(l=new I4(n,e),t.set(s,[l])):o>=a.length?(l=new I4(n,e),a.push(l)):l=a[o],l}function i(){t=new WeakMap}return{get:r,dispose:i}}class HU extends ci{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=tY,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class VU extends ci{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}const Jde=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,Yde=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function Kde(n,e,t){let r=new SR;const i=new Ye,s=new Ye,o=new kn,a=new HU({depthPacking:nY}),l=new VU,u={},h=t.maxTextureSize,f={[Xu]:Vs,[Vs]:Xu,[Ga]:Ga},p=new Yu({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new Ye},radius:{value:4}},vertexShader:Jde,fragmentShader:Yde}),m=p.clone();m.defines.HORIZONTAL_PASS=1;const v=new Kt;v.setAttribute("position",new Pn(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const S=new _i(v,p),A=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=vR;let g=this.type;this.render=function(T,C,B){if(A.enabled===!1||A.autoUpdate===!1&&A.needsUpdate===!1||T.length===0)return;const P=n.getRenderTarget(),R=n.getActiveCubeFace(),L=n.getActiveMipmapLevel(),U=n.state;U.setBlending(lh),U.buffers.color.setClear(1,1,1,1),U.buffers.depth.setTest(!0),U.setScissorTest(!1);const Q=g!==xl&&this.type===xl,W=g===xl&&this.type!==xl;for(let Y=0,X=T.length;Y<X;Y++){const ae=T[Y],Z=ae.shadow;if(Z===void 0){console.warn("THREE.WebGLShadowMap:",ae,"has no shadow.");continue}if(Z.autoUpdate===!1&&Z.needsUpdate===!1)continue;i.copy(Z.mapSize);const D=Z.getFrameExtents();if(i.multiply(D),s.copy(Z.mapSize),(i.x>h||i.y>h)&&(i.x>h&&(s.x=Math.floor(h/D.x),i.x=s.x*D.x,Z.mapSize.x=s.x),i.y>h&&(s.y=Math.floor(h/D.y),i.y=s.y*D.y,Z.mapSize.y=s.y)),Z.map===null||Q===!0||W===!0){const G=this.type!==xl?{minFilter:kr,magFilter:kr}:{};Z.map!==null&&Z.map.dispose(),Z.map=new Gl(i.x,i.y,G),Z.map.texture.name=ae.name+".shadowMap",Z.camera.updateProjectionMatrix()}n.setRenderTarget(Z.map),n.clear();const k=Z.getViewportCount();for(let G=0;G<k;G++){const K=Z.getViewport(G);o.set(s.x*K.x,s.y*K.y,s.x*K.z,s.y*K.w),U.viewport(o),Z.updateMatrices(ae,G),r=Z.getFrustum(),b(C,B,Z.camera,ae,this.type)}Z.isPointLightShadow!==!0&&this.type===xl&&M(Z,B),Z.needsUpdate=!1}g=this.type,A.needsUpdate=!1,n.setRenderTarget(P,R,L)};function M(T,C){const B=e.update(S);p.defines.VSM_SAMPLES!==T.blurSamples&&(p.defines.VSM_SAMPLES=T.blurSamples,m.defines.VSM_SAMPLES=T.blurSamples,p.needsUpdate=!0,m.needsUpdate=!0),T.mapPass===null&&(T.mapPass=new Gl(i.x,i.y)),p.uniforms.shadow_pass.value=T.map.texture,p.uniforms.resolution.value=T.mapSize,p.uniforms.radius.value=T.radius,n.setRenderTarget(T.mapPass),n.clear(),n.renderBufferDirect(C,null,B,p,S,null),m.uniforms.shadow_pass.value=T.mapPass.texture,m.uniforms.resolution.value=T.mapSize,m.uniforms.radius.value=T.radius,n.setRenderTarget(T.map),n.clear(),n.renderBufferDirect(C,null,B,m,S,null)}function _(T,C,B,P){let R=null;const L=B.isPointLight===!0?T.customDistanceMaterial:T.customDepthMaterial;if(L!==void 0)R=L;else if(R=B.isPointLight===!0?l:a,n.localClippingEnabled&&C.clipShadows===!0&&Array.isArray(C.clippingPlanes)&&C.clippingPlanes.length!==0||C.displacementMap&&C.displacementScale!==0||C.alphaMap&&C.alphaTest>0||C.map&&C.alphaTest>0){const U=R.uuid,Q=C.uuid;let W=u[U];W===void 0&&(W={},u[U]=W);let Y=W[Q];Y===void 0&&(Y=R.clone(),W[Q]=Y),R=Y}if(R.visible=C.visible,R.wireframe=C.wireframe,P===xl?R.side=C.shadowSide!==null?C.shadowSide:C.side:R.side=C.shadowSide!==null?C.shadowSide:f[C.side],R.alphaMap=C.alphaMap,R.alphaTest=C.alphaTest,R.map=C.map,R.clipShadows=C.clipShadows,R.clippingPlanes=C.clippingPlanes,R.clipIntersection=C.clipIntersection,R.displacementMap=C.displacementMap,R.displacementScale=C.displacementScale,R.displacementBias=C.displacementBias,R.wireframeLinewidth=C.wireframeLinewidth,R.linewidth=C.linewidth,B.isPointLight===!0&&R.isMeshDistanceMaterial===!0){const U=n.properties.get(R);U.light=B}return R}function b(T,C,B,P,R){if(T.visible===!1)return;if(T.layers.test(C.layers)&&(T.isMesh||T.isLine||T.isPoints)&&(T.castShadow||T.receiveShadow&&R===xl)&&(!T.frustumCulled||r.intersectsObject(T))){T.modelViewMatrix.multiplyMatrices(B.matrixWorldInverse,T.matrixWorld);const U=e.update(T),Q=T.material;if(Array.isArray(Q)){const W=U.groups;for(let Y=0,X=W.length;Y<X;Y++){const ae=W[Y],Z=Q[ae.materialIndex];if(Z&&Z.visible){const D=_(T,Z,P,R);n.renderBufferDirect(B,null,U,D,T,ae)}}}else if(Q.visible){const W=_(T,Q,P,R);n.renderBufferDirect(B,null,U,W,T,null)}}const L=T.children;for(let U=0,Q=L.length;U<Q;U++)b(L[U],C,B,P,R)}}function Qde(n,e,t){const r=t.isWebGL2;function i(){let J=!1;const Ie=new kn;let oe=null;const Ne=new kn(0,0,0,0);return{setMask:function(Oe){oe!==Oe&&!J&&(n.colorMask(Oe,Oe,Oe,Oe),oe=Oe)},setLocked:function(Oe){J=Oe},setClear:function(Oe,wt,Ut,Xt,Vr){Vr===!0&&(Oe*=Xt,wt*=Xt,Ut*=Xt),Ie.set(Oe,wt,Ut,Xt),Ne.equals(Ie)===!1&&(n.clearColor(Oe,wt,Ut,Xt),Ne.copy(Ie))},reset:function(){J=!1,oe=null,Ne.set(-1,0,0,0)}}}function s(){let J=!1,Ie=null,oe=null,Ne=null;return{setTest:function(Oe){Oe?Be(n.DEPTH_TEST):Qe(n.DEPTH_TEST)},setMask:function(Oe){Ie!==Oe&&!J&&(n.depthMask(Oe),Ie=Oe)},setFunc:function(Oe){if(oe!==Oe){switch(Oe){case RJ:n.depthFunc(n.NEVER);break;case PJ:n.depthFunc(n.ALWAYS);break;case BJ:n.depthFunc(n.LESS);break;case qT:n.depthFunc(n.LEQUAL);break;case LJ:n.depthFunc(n.EQUAL);break;case IJ:n.depthFunc(n.GEQUAL);break;case DJ:n.depthFunc(n.GREATER);break;case FJ:n.depthFunc(n.NOTEQUAL);break;default:n.depthFunc(n.LEQUAL)}oe=Oe}},setLocked:function(Oe){J=Oe},setClear:function(Oe){Ne!==Oe&&(n.clearDepth(Oe),Ne=Oe)},reset:function(){J=!1,Ie=null,oe=null,Ne=null}}}function o(){let J=!1,Ie=null,oe=null,Ne=null,Oe=null,wt=null,Ut=null,Xt=null,Vr=null;return{setTest:function(Ot){J||(Ot?Be(n.STENCIL_TEST):Qe(n.STENCIL_TEST))},setMask:function(Ot){Ie!==Ot&&!J&&(n.stencilMask(Ot),Ie=Ot)},setFunc:function(Ot,Xn,gn){(oe!==Ot||Ne!==Xn||Oe!==gn)&&(n.stencilFunc(Ot,Xn,gn),oe=Ot,Ne=Xn,Oe=gn)},setOp:function(Ot,Xn,gn){(wt!==Ot||Ut!==Xn||Xt!==gn)&&(n.stencilOp(Ot,Xn,gn),wt=Ot,Ut=Xn,Xt=gn)},setLocked:function(Ot){J=Ot},setClear:function(Ot){Vr!==Ot&&(n.clearStencil(Ot),Vr=Ot)},reset:function(){J=!1,Ie=null,oe=null,Ne=null,Oe=null,wt=null,Ut=null,Xt=null,Vr=null}}}const a=new i,l=new s,u=new o,h=new WeakMap,f=new WeakMap;let p={},m={},v=new WeakMap,S=[],A=null,g=!1,M=null,_=null,b=null,T=null,C=null,B=null,P=null,R=!1,L=null,U=null,Q=null,W=null,Y=null;const X=n.getParameter(n.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let ae=!1,Z=0;const D=n.getParameter(n.VERSION);D.indexOf("WebGL")!==-1?(Z=parseFloat(/^WebGL (\d)/.exec(D)[1]),ae=Z>=1):D.indexOf("OpenGL ES")!==-1&&(Z=parseFloat(/^OpenGL ES (\d)/.exec(D)[1]),ae=Z>=2);let k=null,G={};const K=n.getParameter(n.SCISSOR_BOX),H=n.getParameter(n.VIEWPORT),ue=new kn().fromArray(K),le=new kn().fromArray(H);function Ce(J,Ie,oe,Ne){const Oe=new Uint8Array(4),wt=n.createTexture();n.bindTexture(J,wt),n.texParameteri(J,n.TEXTURE_MIN_FILTER,n.NEAREST),n.texParameteri(J,n.TEXTURE_MAG_FILTER,n.NEAREST);for(let Ut=0;Ut<oe;Ut++)r&&(J===n.TEXTURE_3D||J===n.TEXTURE_2D_ARRAY)?n.texImage3D(Ie,0,n.RGBA,1,1,Ne,0,n.RGBA,n.UNSIGNED_BYTE,Oe):n.texImage2D(Ie+Ut,0,n.RGBA,1,1,0,n.RGBA,n.UNSIGNED_BYTE,Oe);return wt}const xe={};xe[n.TEXTURE_2D]=Ce(n.TEXTURE_2D,n.TEXTURE_2D,1),xe[n.TEXTURE_CUBE_MAP]=Ce(n.TEXTURE_CUBE_MAP,n.TEXTURE_CUBE_MAP_POSITIVE_X,6),r&&(xe[n.TEXTURE_2D_ARRAY]=Ce(n.TEXTURE_2D_ARRAY,n.TEXTURE_2D_ARRAY,1,1),xe[n.TEXTURE_3D]=Ce(n.TEXTURE_3D,n.TEXTURE_3D,1,1)),a.setClear(0,0,0,1),l.setClear(1),u.setClear(0),Be(n.DEPTH_TEST),l.setFunc(qT),Ee(!1),Ve(aD),Be(n.CULL_FACE),ge(lh);function Be(J){p[J]!==!0&&(n.enable(J),p[J]=!0)}function Qe(J){p[J]!==!1&&(n.disable(J),p[J]=!1)}function je(J,Ie){return m[J]!==Ie?(n.bindFramebuffer(J,Ie),m[J]=Ie,r&&(J===n.DRAW_FRAMEBUFFER&&(m[n.FRAMEBUFFER]=Ie),J===n.FRAMEBUFFER&&(m[n.DRAW_FRAMEBUFFER]=Ie)),!0):!1}function Ke(J,Ie){let oe=S,Ne=!1;if(J)if(oe=v.get(Ie),oe===void 0&&(oe=[],v.set(Ie,oe)),J.isWebGLMultipleRenderTargets){const Oe=J.texture;if(oe.length!==Oe.length||oe[0]!==n.COLOR_ATTACHMENT0){for(let wt=0,Ut=Oe.length;wt<Ut;wt++)oe[wt]=n.COLOR_ATTACHMENT0+wt;oe.length=Oe.length,Ne=!0}}else oe[0]!==n.COLOR_ATTACHMENT0&&(oe[0]=n.COLOR_ATTACHMENT0,Ne=!0);else oe[0]!==n.BACK&&(oe[0]=n.BACK,Ne=!0);Ne&&(t.isWebGL2?n.drawBuffers(oe):e.get("WEBGL_draw_buffers").drawBuffersWEBGL(oe))}function fe(J){return A!==J?(n.useProgram(J),A=J,!0):!1}const z={[om]:n.FUNC_ADD,[yJ]:n.FUNC_SUBTRACT,[xJ]:n.FUNC_REVERSE_SUBTRACT};if(r)z[hD]=n.MIN,z[dD]=n.MAX;else{const J=e.get("EXT_blend_minmax");J!==null&&(z[hD]=J.MIN_EXT,z[dD]=J.MAX_EXT)}const Ae={[AJ]:n.ZERO,[_J]:n.ONE,[MJ]:n.SRC_COLOR,[AU]:n.SRC_ALPHA,[CJ]:n.SRC_ALPHA_SATURATE,[wJ]:n.DST_COLOR,[EJ]:n.DST_ALPHA,[SJ]:n.ONE_MINUS_SRC_COLOR,[_U]:n.ONE_MINUS_SRC_ALPHA,[TJ]:n.ONE_MINUS_DST_COLOR,[bJ]:n.ONE_MINUS_DST_ALPHA};function ge(J,Ie,oe,Ne,Oe,wt,Ut,Xt){if(J===lh){g===!0&&(Qe(n.BLEND),g=!1);return}if(g===!1&&(Be(n.BLEND),g=!0),J!==vJ){if(J!==M||Xt!==R){if((_!==om||C!==om)&&(n.blendEquation(n.FUNC_ADD),_=om,C=om),Xt)switch(J){case Im:n.blendFuncSeparate(n.ONE,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA);break;case lD:n.blendFunc(n.ONE,n.ONE);break;case uD:n.blendFuncSeparate(n.ZERO,n.ONE_MINUS_SRC_COLOR,n.ZERO,n.ONE);break;case cD:n.blendFuncSeparate(n.ZERO,n.SRC_COLOR,n.ZERO,n.SRC_ALPHA);break;default:console.error("THREE.WebGLState: Invalid blending: ",J);break}else switch(J){case Im:n.blendFuncSeparate(n.SRC_ALPHA,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA);break;case lD:n.blendFunc(n.SRC_ALPHA,n.ONE);break;case uD:n.blendFuncSeparate(n.ZERO,n.ONE_MINUS_SRC_COLOR,n.ZERO,n.ONE);break;case cD:n.blendFunc(n.ZERO,n.SRC_COLOR);break;default:console.error("THREE.WebGLState: Invalid blending: ",J);break}b=null,T=null,B=null,P=null,M=J,R=Xt}return}Oe=Oe||Ie,wt=wt||oe,Ut=Ut||Ne,(Ie!==_||Oe!==C)&&(n.blendEquationSeparate(z[Ie],z[Oe]),_=Ie,C=Oe),(oe!==b||Ne!==T||wt!==B||Ut!==P)&&(n.blendFuncSeparate(Ae[oe],Ae[Ne],Ae[wt],Ae[Ut]),b=oe,T=Ne,B=wt,P=Ut),M=J,R=!1}function Me(J,Ie){J.side===Ga?Qe(n.CULL_FACE):Be(n.CULL_FACE);let oe=J.side===Vs;Ie&&(oe=!oe),Ee(oe),J.blending===Im&&J.transparent===!1?ge(lh):ge(J.blending,J.blendEquation,J.blendSrc,J.blendDst,J.blendEquationAlpha,J.blendSrcAlpha,J.blendDstAlpha,J.premultipliedAlpha),l.setFunc(J.depthFunc),l.setTest(J.depthTest),l.setMask(J.depthWrite),a.setMask(J.colorWrite);const Ne=J.stencilWrite;u.setTest(Ne),Ne&&(u.setMask(J.stencilWriteMask),u.setFunc(J.stencilFunc,J.stencilRef,J.stencilFuncMask),u.setOp(J.stencilFail,J.stencilZFail,J.stencilZPass)),ze(J.polygonOffset,J.polygonOffsetFactor,J.polygonOffsetUnits),J.alphaToCoverage===!0?Be(n.SAMPLE_ALPHA_TO_COVERAGE):Qe(n.SAMPLE_ALPHA_TO_COVERAGE)}function Ee(J){L!==J&&(J?n.frontFace(n.CW):n.frontFace(n.CCW),L=J)}function Ve(J){J!==pJ?(Be(n.CULL_FACE),J!==U&&(J===aD?n.cullFace(n.BACK):J===mJ?n.cullFace(n.FRONT):n.cullFace(n.FRONT_AND_BACK))):Qe(n.CULL_FACE),U=J}function Ge(J){J!==Q&&(ae&&n.lineWidth(J),Q=J)}function ze(J,Ie,oe){J?(Be(n.POLYGON_OFFSET_FILL),(W!==Ie||Y!==oe)&&(n.polygonOffset(Ie,oe),W=Ie,Y=oe)):Qe(n.POLYGON_OFFSET_FILL)}function Ze(J){J?Be(n.SCISSOR_TEST):Qe(n.SCISSOR_TEST)}function St(J){J===void 0&&(J=n.TEXTURE0+X-1),k!==J&&(n.activeTexture(J),k=J)}function Dt(J,Ie,oe){oe===void 0&&(k===null?oe=n.TEXTURE0+X-1:oe=k);let Ne=G[oe];Ne===void 0&&(Ne={type:void 0,texture:void 0},G[oe]=Ne),(Ne.type!==J||Ne.texture!==Ie)&&(k!==oe&&(n.activeTexture(oe),k=oe),n.bindTexture(J,Ie||xe[J]),Ne.type=J,Ne.texture=Ie)}function O(){const J=G[k];J!==void 0&&J.type!==void 0&&(n.bindTexture(J.type,null),J.type=void 0,J.texture=void 0)}function F(){try{n.compressedTexImage2D.apply(n,arguments)}catch(J){console.error("THREE.WebGLState:",J)}}function ce(){try{n.compressedTexImage3D.apply(n,arguments)}catch(J){console.error("THREE.WebGLState:",J)}}function be(){try{n.texSubImage2D.apply(n,arguments)}catch(J){console.error("THREE.WebGLState:",J)}}function Se(){try{n.texSubImage3D.apply(n,arguments)}catch(J){console.error("THREE.WebGLState:",J)}}function Fe(){try{n.compressedTexSubImage2D.apply(n,arguments)}catch(J){console.error("THREE.WebGLState:",J)}}function Xe(){try{n.compressedTexSubImage3D.apply(n,arguments)}catch(J){console.error("THREE.WebGLState:",J)}}function De(){try{n.texStorage2D.apply(n,arguments)}catch(J){console.error("THREE.WebGLState:",J)}}function j(){try{n.texStorage3D.apply(n,arguments)}catch(J){console.error("THREE.WebGLState:",J)}}function q(){try{n.texImage2D.apply(n,arguments)}catch(J){console.error("THREE.WebGLState:",J)}}function ve(){try{n.texImage3D.apply(n,arguments)}catch(J){console.error("THREE.WebGLState:",J)}}function Re(J){ue.equals(J)===!1&&(n.scissor(J.x,J.y,J.z,J.w),ue.copy(J))}function Pe(J){le.equals(J)===!1&&(n.viewport(J.x,J.y,J.z,J.w),le.copy(J))}function Ue(J,Ie){let oe=f.get(Ie);oe===void 0&&(oe=new WeakMap,f.set(Ie,oe));let Ne=oe.get(J);Ne===void 0&&(Ne=n.getUniformBlockIndex(Ie,J.name),oe.set(J,Ne))}function it(J,Ie){const oe=f.get(Ie).get(J);h.get(Ie)!==oe&&(n.uniformBlockBinding(Ie,oe,J.__bindingPointIndex),h.set(Ie,oe))}function Mt(){n.disable(n.BLEND),n.disable(n.CULL_FACE),n.disable(n.DEPTH_TEST),n.disable(n.POLYGON_OFFSET_FILL),n.disable(n.SCISSOR_TEST),n.disable(n.STENCIL_TEST),n.disable(n.SAMPLE_ALPHA_TO_COVERAGE),n.blendEquation(n.FUNC_ADD),n.blendFunc(n.ONE,n.ZERO),n.blendFuncSeparate(n.ONE,n.ZERO,n.ONE,n.ZERO),n.colorMask(!0,!0,!0,!0),n.clearColor(0,0,0,0),n.depthMask(!0),n.depthFunc(n.LESS),n.clearDepth(1),n.stencilMask(4294967295),n.stencilFunc(n.ALWAYS,0,4294967295),n.stencilOp(n.KEEP,n.KEEP,n.KEEP),n.clearStencil(0),n.cullFace(n.BACK),n.frontFace(n.CCW),n.polygonOffset(0,0),n.activeTexture(n.TEXTURE0),n.bindFramebuffer(n.FRAMEBUFFER,null),r===!0&&(n.bindFramebuffer(n.DRAW_FRAMEBUFFER,null),n.bindFramebuffer(n.READ_FRAMEBUFFER,null)),n.useProgram(null),n.lineWidth(1),n.scissor(0,0,n.canvas.width,n.canvas.height),n.viewport(0,0,n.canvas.width,n.canvas.height),p={},k=null,G={},m={},v=new WeakMap,S=[],A=null,g=!1,M=null,_=null,b=null,T=null,C=null,B=null,P=null,R=!1,L=null,U=null,Q=null,W=null,Y=null,ue.set(0,0,n.canvas.width,n.canvas.height),le.set(0,0,n.canvas.width,n.canvas.height),a.reset(),l.reset(),u.reset()}return{buffers:{color:a,depth:l,stencil:u},enable:Be,disable:Qe,bindFramebuffer:je,drawBuffers:Ke,useProgram:fe,setBlending:ge,setMaterial:Me,setFlipSided:Ee,setCullFace:Ve,setLineWidth:Ge,setPolygonOffset:ze,setScissorTest:Ze,activeTexture:St,bindTexture:Dt,unbindTexture:O,compressedTexImage2D:F,compressedTexImage3D:ce,texImage2D:q,texImage3D:ve,updateUBOMapping:Ue,uniformBlockBinding:it,texStorage2D:De,texStorage3D:j,texSubImage2D:be,texSubImage3D:Se,compressedTexSubImage2D:Fe,compressedTexSubImage3D:Xe,scissor:Re,viewport:Pe,reset:Mt}}function qde(n,e,t,r,i,s,o){const a=i.isWebGL2,l=i.maxTextures,u=i.maxCubemapSize,h=i.maxTextureSize,f=i.maxSamples,p=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,m=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),v=new WeakMap;let S;const A=new WeakMap;let g=!1;try{g=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function M(O,F){return g?new OffscreenCanvas(O,F):tM("canvas")}function _(O,F,ce,be){let Se=1;if((O.width>be||O.height>be)&&(Se=be/Math.max(O.width,O.height)),Se<1||F===!0)if(typeof HTMLImageElement<"u"&&O instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&O instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&O instanceof ImageBitmap){const Fe=F?eC:Math.floor,Xe=Fe(Se*O.width),De=Fe(Se*O.height);S===void 0&&(S=M(Xe,De));const j=ce?M(Xe,De):S;return j.width=Xe,j.height=De,j.getContext("2d").drawImage(O,0,0,Xe,De),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+O.width+"x"+O.height+") to ("+Xe+"x"+De+")."),j}else return"data"in O&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+O.width+"x"+O.height+")."),O;return O}function b(O){return UD(O.width)&&UD(O.height)}function T(O){return a?!1:O.wrapS!==is||O.wrapT!==is||O.minFilter!==kr&&O.minFilter!==Ar}function C(O,F){return O.generateMipmaps&&F&&O.minFilter!==kr&&O.minFilter!==Ar}function B(O){n.generateMipmap(O)}function P(O,F,ce,be,Se=!1){if(a===!1)return F;if(O!==null){if(n[O]!==void 0)return n[O];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+O+"'")}let Fe=F;return F===n.RED&&(ce===n.FLOAT&&(Fe=n.R32F),ce===n.HALF_FLOAT&&(Fe=n.R16F),ce===n.UNSIGNED_BYTE&&(Fe=n.R8)),F===n.RG&&(ce===n.FLOAT&&(Fe=n.RG32F),ce===n.HALF_FLOAT&&(Fe=n.RG16F),ce===n.UNSIGNED_BYTE&&(Fe=n.RG8)),F===n.RGBA&&(ce===n.FLOAT&&(Fe=n.RGBA32F),ce===n.HALF_FLOAT&&(Fe=n.RGBA16F),ce===n.UNSIGNED_BYTE&&(Fe=be===qt&&Se===!1?n.SRGB8_ALPHA8:n.RGBA8),ce===n.UNSIGNED_SHORT_4_4_4_4&&(Fe=n.RGBA4),ce===n.UNSIGNED_SHORT_5_5_5_1&&(Fe=n.RGB5_A1)),(Fe===n.R16F||Fe===n.R32F||Fe===n.RG16F||Fe===n.RG32F||Fe===n.RGBA16F||Fe===n.RGBA32F)&&e.get("EXT_color_buffer_float"),Fe}function R(O,F,ce){return C(O,ce)===!0||O.isFramebufferTexture&&O.minFilter!==kr&&O.minFilter!==Ar?Math.log2(Math.max(F.width,F.height))+1:O.mipmaps!==void 0&&O.mipmaps.length>0?O.mipmaps.length:O.isCompressedTexture&&Array.isArray(O.image)?F.mipmaps.length:1}function L(O){return O===kr||O===q_||O===ly?n.NEAREST:n.LINEAR}function U(O){const F=O.target;F.removeEventListener("dispose",U),W(F),F.isVideoTexture&&v.delete(F)}function Q(O){const F=O.target;F.removeEventListener("dispose",Q),X(F)}function W(O){const F=r.get(O);if(F.__webglInit===void 0)return;const ce=O.source,be=A.get(ce);if(be){const Se=be[F.__cacheKey];Se.usedTimes--,Se.usedTimes===0&&Y(O),Object.keys(be).length===0&&A.delete(ce)}r.remove(O)}function Y(O){const F=r.get(O);n.deleteTexture(F.__webglTexture);const ce=O.source,be=A.get(ce);delete be[F.__cacheKey],o.memory.textures--}function X(O){const F=O.texture,ce=r.get(O),be=r.get(F);if(be.__webglTexture!==void 0&&(n.deleteTexture(be.__webglTexture),o.memory.textures--),O.depthTexture&&O.depthTexture.dispose(),O.isWebGLCubeRenderTarget)for(let Se=0;Se<6;Se++)n.deleteFramebuffer(ce.__webglFramebuffer[Se]),ce.__webglDepthbuffer&&n.deleteRenderbuffer(ce.__webglDepthbuffer[Se]);else{if(n.deleteFramebuffer(ce.__webglFramebuffer),ce.__webglDepthbuffer&&n.deleteRenderbuffer(ce.__webglDepthbuffer),ce.__webglMultisampledFramebuffer&&n.deleteFramebuffer(ce.__webglMultisampledFramebuffer),ce.__webglColorRenderbuffer)for(let Se=0;Se<ce.__webglColorRenderbuffer.length;Se++)ce.__webglColorRenderbuffer[Se]&&n.deleteRenderbuffer(ce.__webglColorRenderbuffer[Se]);ce.__webglDepthRenderbuffer&&n.deleteRenderbuffer(ce.__webglDepthRenderbuffer)}if(O.isWebGLMultipleRenderTargets)for(let Se=0,Fe=F.length;Se<Fe;Se++){const Xe=r.get(F[Se]);Xe.__webglTexture&&(n.deleteTexture(Xe.__webglTexture),o.memory.textures--),r.remove(F[Se])}r.remove(F),r.remove(O)}let ae=0;function Z(){ae=0}function D(){const O=ae;return O>=l&&console.warn("THREE.WebGLTextures: Trying to use "+O+" texture units while this GPU supports only "+l),ae+=1,O}function k(O){const F=[];return F.push(O.wrapS),F.push(O.wrapT),F.push(O.wrapR||0),F.push(O.magFilter),F.push(O.minFilter),F.push(O.anisotropy),F.push(O.internalFormat),F.push(O.format),F.push(O.type),F.push(O.generateMipmaps),F.push(O.premultiplyAlpha),F.push(O.flipY),F.push(O.unpackAlignment),F.push(O.colorSpace),F.join()}function G(O,F){const ce=r.get(O);if(O.isVideoTexture&&St(O),O.isRenderTargetTexture===!1&&O.version>0&&ce.__version!==O.version){const be=O.image;if(be===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(be.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{je(ce,O,F);return}}t.bindTexture(n.TEXTURE_2D,ce.__webglTexture,n.TEXTURE0+F)}function K(O,F){const ce=r.get(O);if(O.version>0&&ce.__version!==O.version){je(ce,O,F);return}t.bindTexture(n.TEXTURE_2D_ARRAY,ce.__webglTexture,n.TEXTURE0+F)}function H(O,F){const ce=r.get(O);if(O.version>0&&ce.__version!==O.version){je(ce,O,F);return}t.bindTexture(n.TEXTURE_3D,ce.__webglTexture,n.TEXTURE0+F)}function ue(O,F){const ce=r.get(O);if(O.version>0&&ce.__version!==O.version){Ke(ce,O,F);return}t.bindTexture(n.TEXTURE_CUBE_MAP,ce.__webglTexture,n.TEXTURE0+F)}const le={[hf]:n.REPEAT,[is]:n.CLAMP_TO_EDGE,[Iy]:n.MIRRORED_REPEAT},Ce={[kr]:n.NEAREST,[q_]:n.NEAREST_MIPMAP_NEAREST,[ly]:n.NEAREST_MIPMAP_LINEAR,[Ar]:n.LINEAR,[xR]:n.LINEAR_MIPMAP_NEAREST,[Ju]:n.LINEAR_MIPMAP_LINEAR},xe={[sY]:n.NEVER,[dY]:n.ALWAYS,[oY]:n.LESS,[lY]:n.LEQUAL,[aY]:n.EQUAL,[hY]:n.GEQUAL,[uY]:n.GREATER,[cY]:n.NOTEQUAL};function Be(O,F,ce){if(ce?(n.texParameteri(O,n.TEXTURE_WRAP_S,le[F.wrapS]),n.texParameteri(O,n.TEXTURE_WRAP_T,le[F.wrapT]),(O===n.TEXTURE_3D||O===n.TEXTURE_2D_ARRAY)&&n.texParameteri(O,n.TEXTURE_WRAP_R,le[F.wrapR]),n.texParameteri(O,n.TEXTURE_MAG_FILTER,Ce[F.magFilter]),n.texParameteri(O,n.TEXTURE_MIN_FILTER,Ce[F.minFilter])):(n.texParameteri(O,n.TEXTURE_WRAP_S,n.CLAMP_TO_EDGE),n.texParameteri(O,n.TEXTURE_WRAP_T,n.CLAMP_TO_EDGE),(O===n.TEXTURE_3D||O===n.TEXTURE_2D_ARRAY)&&n.texParameteri(O,n.TEXTURE_WRAP_R,n.CLAMP_TO_EDGE),(F.wrapS!==is||F.wrapT!==is)&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),n.texParameteri(O,n.TEXTURE_MAG_FILTER,L(F.magFilter)),n.texParameteri(O,n.TEXTURE_MIN_FILTER,L(F.minFilter)),F.minFilter!==kr&&F.minFilter!==Ar&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),F.compareFunction&&(n.texParameteri(O,n.TEXTURE_COMPARE_MODE,n.COMPARE_REF_TO_TEXTURE),n.texParameteri(O,n.TEXTURE_COMPARE_FUNC,xe[F.compareFunction])),e.has("EXT_texture_filter_anisotropic")===!0){const be=e.get("EXT_texture_filter_anisotropic");if(F.magFilter===kr||F.minFilter!==ly&&F.minFilter!==Ju||F.type===Pu&&e.has("OES_texture_float_linear")===!1||a===!1&&F.type===Dy&&e.has("OES_texture_half_float_linear")===!1)return;(F.anisotropy>1||r.get(F).__currentAnisotropy)&&(n.texParameterf(O,be.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(F.anisotropy,i.getMaxAnisotropy())),r.get(F).__currentAnisotropy=F.anisotropy)}}function Qe(O,F){let ce=!1;O.__webglInit===void 0&&(O.__webglInit=!0,F.addEventListener("dispose",U));const be=F.source;let Se=A.get(be);Se===void 0&&(Se={},A.set(be,Se));const Fe=k(F);if(Fe!==O.__cacheKey){Se[Fe]===void 0&&(Se[Fe]={texture:n.createTexture(),usedTimes:0},o.memory.textures++,ce=!0),Se[Fe].usedTimes++;const Xe=Se[O.__cacheKey];Xe!==void 0&&(Se[O.__cacheKey].usedTimes--,Xe.usedTimes===0&&Y(F)),O.__cacheKey=Fe,O.__webglTexture=Se[Fe].texture}return ce}function je(O,F,ce){let be=n.TEXTURE_2D;(F.isDataArrayTexture||F.isCompressedArrayTexture)&&(be=n.TEXTURE_2D_ARRAY),F.isData3DTexture&&(be=n.TEXTURE_3D);const Se=Qe(O,F),Fe=F.source;t.bindTexture(be,O.__webglTexture,n.TEXTURE0+ce);const Xe=r.get(Fe);if(Fe.version!==Xe.__version||Se===!0){t.activeTexture(n.TEXTURE0+ce),n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,F.flipY),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,F.premultiplyAlpha),n.pixelStorei(n.UNPACK_ALIGNMENT,F.unpackAlignment),n.pixelStorei(n.UNPACK_COLORSPACE_CONVERSION_WEBGL,n.NONE);const De=T(F)&&b(F.image)===!1;let j=_(F.image,De,!1,h);j=Dt(F,j);const q=b(j)||a,ve=s.convert(F.format,F.colorSpace);let Re=s.convert(F.type),Pe=P(F.internalFormat,ve,Re,F.colorSpace);Be(be,F,q);let Ue;const it=F.mipmaps,Mt=a&&F.isVideoTexture!==!0,J=Xe.__version===void 0||Se===!0,Ie=R(F,j,q);if(F.isDepthTexture)Pe=n.DEPTH_COMPONENT,a?F.type===Pu?Pe=n.DEPTH_COMPONENT32F:F.type===$c?Pe=n.DEPTH_COMPONENT24:F.type===zd?Pe=n.DEPTH24_STENCIL8:Pe=n.DEPTH_COMPONENT16:F.type===Pu&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),F.format===Hd&&Pe===n.DEPTH_COMPONENT&&F.type!==AR&&F.type!==$c&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),F.type=$c,Re=s.convert(F.type)),F.format===qm&&Pe===n.DEPTH_COMPONENT&&(Pe=n.DEPTH_STENCIL,F.type!==zd&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),F.type=zd,Re=s.convert(F.type))),J&&(Mt?t.texStorage2D(n.TEXTURE_2D,1,Pe,j.width,j.height):t.texImage2D(n.TEXTURE_2D,0,Pe,j.width,j.height,0,ve,Re,null));else if(F.isDataTexture)if(it.length>0&&q){Mt&&J&&t.texStorage2D(n.TEXTURE_2D,Ie,Pe,it[0].width,it[0].height);for(let oe=0,Ne=it.length;oe<Ne;oe++)Ue=it[oe],Mt?t.texSubImage2D(n.TEXTURE_2D,oe,0,0,Ue.width,Ue.height,ve,Re,Ue.data):t.texImage2D(n.TEXTURE_2D,oe,Pe,Ue.width,Ue.height,0,ve,Re,Ue.data);F.generateMipmaps=!1}else Mt?(J&&t.texStorage2D(n.TEXTURE_2D,Ie,Pe,j.width,j.height),t.texSubImage2D(n.TEXTURE_2D,0,0,0,j.width,j.height,ve,Re,j.data)):t.texImage2D(n.TEXTURE_2D,0,Pe,j.width,j.height,0,ve,Re,j.data);else if(F.isCompressedTexture)if(F.isCompressedArrayTexture){Mt&&J&&t.texStorage3D(n.TEXTURE_2D_ARRAY,Ie,Pe,it[0].width,it[0].height,j.depth);for(let oe=0,Ne=it.length;oe<Ne;oe++)Ue=it[oe],F.format!==ao?ve!==null?Mt?t.compressedTexSubImage3D(n.TEXTURE_2D_ARRAY,oe,0,0,0,Ue.width,Ue.height,j.depth,ve,Ue.data,0,0):t.compressedTexImage3D(n.TEXTURE_2D_ARRAY,oe,Pe,Ue.width,Ue.height,j.depth,0,Ue.data,0,0):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):Mt?t.texSubImage3D(n.TEXTURE_2D_ARRAY,oe,0,0,0,Ue.width,Ue.height,j.depth,ve,Re,Ue.data):t.texImage3D(n.TEXTURE_2D_ARRAY,oe,Pe,Ue.width,Ue.height,j.depth,0,ve,Re,Ue.data)}else{Mt&&J&&t.texStorage2D(n.TEXTURE_2D,Ie,Pe,it[0].width,it[0].height);for(let oe=0,Ne=it.length;oe<Ne;oe++)Ue=it[oe],F.format!==ao?ve!==null?Mt?t.compressedTexSubImage2D(n.TEXTURE_2D,oe,0,0,Ue.width,Ue.height,ve,Ue.data):t.compressedTexImage2D(n.TEXTURE_2D,oe,Pe,Ue.width,Ue.height,0,Ue.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):Mt?t.texSubImage2D(n.TEXTURE_2D,oe,0,0,Ue.width,Ue.height,ve,Re,Ue.data):t.texImage2D(n.TEXTURE_2D,oe,Pe,Ue.width,Ue.height,0,ve,Re,Ue.data)}else if(F.isDataArrayTexture)Mt?(J&&t.texStorage3D(n.TEXTURE_2D_ARRAY,Ie,Pe,j.width,j.height,j.depth),t.texSubImage3D(n.TEXTURE_2D_ARRAY,0,0,0,0,j.width,j.height,j.depth,ve,Re,j.data)):t.texImage3D(n.TEXTURE_2D_ARRAY,0,Pe,j.width,j.height,j.depth,0,ve,Re,j.data);else if(F.isData3DTexture)Mt?(J&&t.texStorage3D(n.TEXTURE_3D,Ie,Pe,j.width,j.height,j.depth),t.texSubImage3D(n.TEXTURE_3D,0,0,0,0,j.width,j.height,j.depth,ve,Re,j.data)):t.texImage3D(n.TEXTURE_3D,0,Pe,j.width,j.height,j.depth,0,ve,Re,j.data);else if(F.isFramebufferTexture){if(J)if(Mt)t.texStorage2D(n.TEXTURE_2D,Ie,Pe,j.width,j.height);else{let oe=j.width,Ne=j.height;for(let Oe=0;Oe<Ie;Oe++)t.texImage2D(n.TEXTURE_2D,Oe,Pe,oe,Ne,0,ve,Re,null),oe>>=1,Ne>>=1}}else if(it.length>0&&q){Mt&&J&&t.texStorage2D(n.TEXTURE_2D,Ie,Pe,it[0].width,it[0].height);for(let oe=0,Ne=it.length;oe<Ne;oe++)Ue=it[oe],Mt?t.texSubImage2D(n.TEXTURE_2D,oe,0,0,ve,Re,Ue):t.texImage2D(n.TEXTURE_2D,oe,Pe,ve,Re,Ue);F.generateMipmaps=!1}else Mt?(J&&t.texStorage2D(n.TEXTURE_2D,Ie,Pe,j.width,j.height),t.texSubImage2D(n.TEXTURE_2D,0,0,0,ve,Re,j)):t.texImage2D(n.TEXTURE_2D,0,Pe,ve,Re,j);C(F,q)&&B(be),Xe.__version=Fe.version,F.onUpdate&&F.onUpdate(F)}O.__version=F.version}function Ke(O,F,ce){if(F.image.length!==6)return;const be=Qe(O,F),Se=F.source;t.bindTexture(n.TEXTURE_CUBE_MAP,O.__webglTexture,n.TEXTURE0+ce);const Fe=r.get(Se);if(Se.version!==Fe.__version||be===!0){t.activeTexture(n.TEXTURE0+ce),n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,F.flipY),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,F.premultiplyAlpha),n.pixelStorei(n.UNPACK_ALIGNMENT,F.unpackAlignment),n.pixelStorei(n.UNPACK_COLORSPACE_CONVERSION_WEBGL,n.NONE);const Xe=F.isCompressedTexture||F.image[0].isCompressedTexture,De=F.image[0]&&F.image[0].isDataTexture,j=[];for(let oe=0;oe<6;oe++)!Xe&&!De?j[oe]=_(F.image[oe],!1,!0,u):j[oe]=De?F.image[oe].image:F.image[oe],j[oe]=Dt(F,j[oe]);const q=j[0],ve=b(q)||a,Re=s.convert(F.format,F.colorSpace),Pe=s.convert(F.type),Ue=P(F.internalFormat,Re,Pe,F.colorSpace),it=a&&F.isVideoTexture!==!0,Mt=Fe.__version===void 0||be===!0;let J=R(F,q,ve);Be(n.TEXTURE_CUBE_MAP,F,ve);let Ie;if(Xe){it&&Mt&&t.texStorage2D(n.TEXTURE_CUBE_MAP,J,Ue,q.width,q.height);for(let oe=0;oe<6;oe++){Ie=j[oe].mipmaps;for(let Ne=0;Ne<Ie.length;Ne++){const Oe=Ie[Ne];F.format!==ao?Re!==null?it?t.compressedTexSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+oe,Ne,0,0,Oe.width,Oe.height,Re,Oe.data):t.compressedTexImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+oe,Ne,Ue,Oe.width,Oe.height,0,Oe.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):it?t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+oe,Ne,0,0,Oe.width,Oe.height,Re,Pe,Oe.data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+oe,Ne,Ue,Oe.width,Oe.height,0,Re,Pe,Oe.data)}}}else{Ie=F.mipmaps,it&&Mt&&(Ie.length>0&&J++,t.texStorage2D(n.TEXTURE_CUBE_MAP,J,Ue,j[0].width,j[0].height));for(let oe=0;oe<6;oe++)if(De){it?t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+oe,0,0,0,j[oe].width,j[oe].height,Re,Pe,j[oe].data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+oe,0,Ue,j[oe].width,j[oe].height,0,Re,Pe,j[oe].data);for(let Ne=0;Ne<Ie.length;Ne++){const Oe=Ie[Ne].image[oe].image;it?t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+oe,Ne+1,0,0,Oe.width,Oe.height,Re,Pe,Oe.data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+oe,Ne+1,Ue,Oe.width,Oe.height,0,Re,Pe,Oe.data)}}else{it?t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+oe,0,0,0,Re,Pe,j[oe]):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+oe,0,Ue,Re,Pe,j[oe]);for(let Ne=0;Ne<Ie.length;Ne++){const Oe=Ie[Ne];it?t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+oe,Ne+1,0,0,Re,Pe,Oe.image[oe]):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+oe,Ne+1,Ue,Re,Pe,Oe.image[oe])}}}C(F,ve)&&B(n.TEXTURE_CUBE_MAP),Fe.__version=Se.version,F.onUpdate&&F.onUpdate(F)}O.__version=F.version}function fe(O,F,ce,be,Se){const Fe=s.convert(ce.format,ce.colorSpace),Xe=s.convert(ce.type),De=P(ce.internalFormat,Fe,Xe,ce.colorSpace);r.get(F).__hasExternalTextures||(Se===n.TEXTURE_3D||Se===n.TEXTURE_2D_ARRAY?t.texImage3D(Se,0,De,F.width,F.height,F.depth,0,Fe,Xe,null):t.texImage2D(Se,0,De,F.width,F.height,0,Fe,Xe,null)),t.bindFramebuffer(n.FRAMEBUFFER,O),Ze(F)?p.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,be,Se,r.get(ce).__webglTexture,0,ze(F)):(Se===n.TEXTURE_2D||Se>=n.TEXTURE_CUBE_MAP_POSITIVE_X&&Se<=n.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&n.framebufferTexture2D(n.FRAMEBUFFER,be,Se,r.get(ce).__webglTexture,0),t.bindFramebuffer(n.FRAMEBUFFER,null)}function z(O,F,ce){if(n.bindRenderbuffer(n.RENDERBUFFER,O),F.depthBuffer&&!F.stencilBuffer){let be=n.DEPTH_COMPONENT16;if(ce||Ze(F)){const Se=F.depthTexture;Se&&Se.isDepthTexture&&(Se.type===Pu?be=n.DEPTH_COMPONENT32F:Se.type===$c&&(be=n.DEPTH_COMPONENT24));const Fe=ze(F);Ze(F)?p.renderbufferStorageMultisampleEXT(n.RENDERBUFFER,Fe,be,F.width,F.height):n.renderbufferStorageMultisample(n.RENDERBUFFER,Fe,be,F.width,F.height)}else n.renderbufferStorage(n.RENDERBUFFER,be,F.width,F.height);n.framebufferRenderbuffer(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.RENDERBUFFER,O)}else if(F.depthBuffer&&F.stencilBuffer){const be=ze(F);ce&&Ze(F)===!1?n.renderbufferStorageMultisample(n.RENDERBUFFER,be,n.DEPTH24_STENCIL8,F.width,F.height):Ze(F)?p.renderbufferStorageMultisampleEXT(n.RENDERBUFFER,be,n.DEPTH24_STENCIL8,F.width,F.height):n.renderbufferStorage(n.RENDERBUFFER,n.DEPTH_STENCIL,F.width,F.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.RENDERBUFFER,O)}else{const be=F.isWebGLMultipleRenderTargets===!0?F.texture:[F.texture];for(let Se=0;Se<be.length;Se++){const Fe=be[Se],Xe=s.convert(Fe.format,Fe.colorSpace),De=s.convert(Fe.type),j=P(Fe.internalFormat,Xe,De,Fe.colorSpace),q=ze(F);ce&&Ze(F)===!1?n.renderbufferStorageMultisample(n.RENDERBUFFER,q,j,F.width,F.height):Ze(F)?p.renderbufferStorageMultisampleEXT(n.RENDERBUFFER,q,j,F.width,F.height):n.renderbufferStorage(n.RENDERBUFFER,j,F.width,F.height)}}n.bindRenderbuffer(n.RENDERBUFFER,null)}function Ae(O,F){if(F&&F.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(t.bindFramebuffer(n.FRAMEBUFFER,O),!(F.depthTexture&&F.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!r.get(F.depthTexture).__webglTexture||F.depthTexture.image.width!==F.width||F.depthTexture.image.height!==F.height)&&(F.depthTexture.image.width=F.width,F.depthTexture.image.height=F.height,F.depthTexture.needsUpdate=!0),G(F.depthTexture,0);const ce=r.get(F.depthTexture).__webglTexture,be=ze(F);if(F.depthTexture.format===Hd)Ze(F)?p.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,ce,0,be):n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,ce,0);else if(F.depthTexture.format===qm)Ze(F)?p.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.TEXTURE_2D,ce,0,be):n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.TEXTURE_2D,ce,0);else throw new Error("Unknown depthTexture format")}function ge(O){const F=r.get(O),ce=O.isWebGLCubeRenderTarget===!0;if(O.depthTexture&&!F.__autoAllocateDepthBuffer){if(ce)throw new Error("target.depthTexture not supported in Cube render targets");Ae(F.__webglFramebuffer,O)}else if(ce){F.__webglDepthbuffer=[];for(let be=0;be<6;be++)t.bindFramebuffer(n.FRAMEBUFFER,F.__webglFramebuffer[be]),F.__webglDepthbuffer[be]=n.createRenderbuffer(),z(F.__webglDepthbuffer[be],O,!1)}else t.bindFramebuffer(n.FRAMEBUFFER,F.__webglFramebuffer),F.__webglDepthbuffer=n.createRenderbuffer(),z(F.__webglDepthbuffer,O,!1);t.bindFramebuffer(n.FRAMEBUFFER,null)}function Me(O,F,ce){const be=r.get(O);F!==void 0&&fe(be.__webglFramebuffer,O,O.texture,n.COLOR_ATTACHMENT0,n.TEXTURE_2D),ce!==void 0&&ge(O)}function Ee(O){const F=O.texture,ce=r.get(O),be=r.get(F);O.addEventListener("dispose",Q),O.isWebGLMultipleRenderTargets!==!0&&(be.__webglTexture===void 0&&(be.__webglTexture=n.createTexture()),be.__version=F.version,o.memory.textures++);const Se=O.isWebGLCubeRenderTarget===!0,Fe=O.isWebGLMultipleRenderTargets===!0,Xe=b(O)||a;if(Se){ce.__webglFramebuffer=[];for(let De=0;De<6;De++)ce.__webglFramebuffer[De]=n.createFramebuffer()}else{if(ce.__webglFramebuffer=n.createFramebuffer(),Fe)if(i.drawBuffers){const De=O.texture;for(let j=0,q=De.length;j<q;j++){const ve=r.get(De[j]);ve.__webglTexture===void 0&&(ve.__webglTexture=n.createTexture(),o.memory.textures++)}}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");if(a&&O.samples>0&&Ze(O)===!1){const De=Fe?F:[F];ce.__webglMultisampledFramebuffer=n.createFramebuffer(),ce.__webglColorRenderbuffer=[],t.bindFramebuffer(n.FRAMEBUFFER,ce.__webglMultisampledFramebuffer);for(let j=0;j<De.length;j++){const q=De[j];ce.__webglColorRenderbuffer[j]=n.createRenderbuffer(),n.bindRenderbuffer(n.RENDERBUFFER,ce.__webglColorRenderbuffer[j]);const ve=s.convert(q.format,q.colorSpace),Re=s.convert(q.type),Pe=P(q.internalFormat,ve,Re,q.colorSpace,O.isXRRenderTarget===!0),Ue=ze(O);n.renderbufferStorageMultisample(n.RENDERBUFFER,Ue,Pe,O.width,O.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+j,n.RENDERBUFFER,ce.__webglColorRenderbuffer[j])}n.bindRenderbuffer(n.RENDERBUFFER,null),O.depthBuffer&&(ce.__webglDepthRenderbuffer=n.createRenderbuffer(),z(ce.__webglDepthRenderbuffer,O,!0)),t.bindFramebuffer(n.FRAMEBUFFER,null)}}if(Se){t.bindTexture(n.TEXTURE_CUBE_MAP,be.__webglTexture),Be(n.TEXTURE_CUBE_MAP,F,Xe);for(let De=0;De<6;De++)fe(ce.__webglFramebuffer[De],O,F,n.COLOR_ATTACHMENT0,n.TEXTURE_CUBE_MAP_POSITIVE_X+De);C(F,Xe)&&B(n.TEXTURE_CUBE_MAP),t.unbindTexture()}else if(Fe){const De=O.texture;for(let j=0,q=De.length;j<q;j++){const ve=De[j],Re=r.get(ve);t.bindTexture(n.TEXTURE_2D,Re.__webglTexture),Be(n.TEXTURE_2D,ve,Xe),fe(ce.__webglFramebuffer,O,ve,n.COLOR_ATTACHMENT0+j,n.TEXTURE_2D),C(ve,Xe)&&B(n.TEXTURE_2D)}t.unbindTexture()}else{let De=n.TEXTURE_2D;(O.isWebGL3DRenderTarget||O.isWebGLArrayRenderTarget)&&(a?De=O.isWebGL3DRenderTarget?n.TEXTURE_3D:n.TEXTURE_2D_ARRAY:console.error("THREE.WebGLTextures: THREE.Data3DTexture and THREE.DataArrayTexture only supported with WebGL2.")),t.bindTexture(De,be.__webglTexture),Be(De,F,Xe),fe(ce.__webglFramebuffer,O,F,n.COLOR_ATTACHMENT0,De),C(F,Xe)&&B(De),t.unbindTexture()}O.depthBuffer&&ge(O)}function Ve(O){const F=b(O)||a,ce=O.isWebGLMultipleRenderTargets===!0?O.texture:[O.texture];for(let be=0,Se=ce.length;be<Se;be++){const Fe=ce[be];if(C(Fe,F)){const Xe=O.isWebGLCubeRenderTarget?n.TEXTURE_CUBE_MAP:n.TEXTURE_2D,De=r.get(Fe).__webglTexture;t.bindTexture(Xe,De),B(Xe),t.unbindTexture()}}}function Ge(O){if(a&&O.samples>0&&Ze(O)===!1){const F=O.isWebGLMultipleRenderTargets?O.texture:[O.texture],ce=O.width,be=O.height;let Se=n.COLOR_BUFFER_BIT;const Fe=[],Xe=O.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,De=r.get(O),j=O.isWebGLMultipleRenderTargets===!0;if(j)for(let q=0;q<F.length;q++)t.bindFramebuffer(n.FRAMEBUFFER,De.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+q,n.RENDERBUFFER,null),t.bindFramebuffer(n.FRAMEBUFFER,De.__webglFramebuffer),n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0+q,n.TEXTURE_2D,null,0);t.bindFramebuffer(n.READ_FRAMEBUFFER,De.__webglMultisampledFramebuffer),t.bindFramebuffer(n.DRAW_FRAMEBUFFER,De.__webglFramebuffer);for(let q=0;q<F.length;q++){Fe.push(n.COLOR_ATTACHMENT0+q),O.depthBuffer&&Fe.push(Xe);const ve=De.__ignoreDepthValues!==void 0?De.__ignoreDepthValues:!1;if(ve===!1&&(O.depthBuffer&&(Se|=n.DEPTH_BUFFER_BIT),O.stencilBuffer&&(Se|=n.STENCIL_BUFFER_BIT)),j&&n.framebufferRenderbuffer(n.READ_FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.RENDERBUFFER,De.__webglColorRenderbuffer[q]),ve===!0&&(n.invalidateFramebuffer(n.READ_FRAMEBUFFER,[Xe]),n.invalidateFramebuffer(n.DRAW_FRAMEBUFFER,[Xe])),j){const Re=r.get(F[q]).__webglTexture;n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,Re,0)}n.blitFramebuffer(0,0,ce,be,0,0,ce,be,Se,n.NEAREST),m&&n.invalidateFramebuffer(n.READ_FRAMEBUFFER,Fe)}if(t.bindFramebuffer(n.READ_FRAMEBUFFER,null),t.bindFramebuffer(n.DRAW_FRAMEBUFFER,null),j)for(let q=0;q<F.length;q++){t.bindFramebuffer(n.FRAMEBUFFER,De.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+q,n.RENDERBUFFER,De.__webglColorRenderbuffer[q]);const ve=r.get(F[q]).__webglTexture;t.bindFramebuffer(n.FRAMEBUFFER,De.__webglFramebuffer),n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0+q,n.TEXTURE_2D,ve,0)}t.bindFramebuffer(n.DRAW_FRAMEBUFFER,De.__webglMultisampledFramebuffer)}}function ze(O){return Math.min(f,O.samples)}function Ze(O){const F=r.get(O);return a&&O.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&F.__useRenderToTexture!==!1}function St(O){const F=o.render.frame;v.get(O)!==F&&(v.set(O,F),O.update())}function Dt(O,F){const ce=O.colorSpace,be=O.format,Se=O.type;return O.isCompressedTexture===!0||O.format===$T||ce!==kl&&ce!==Wd&&(ce===qt?a===!1?e.has("EXT_sRGB")===!0&&be===ao?(O.format=$T,O.minFilter=Ar,O.generateMipmaps=!1):F=FU.sRGBToLinear(F):(be!==ao||Se!==Nu)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",ce)),F}this.allocateTextureUnit=D,this.resetTextureUnits=Z,this.setTexture2D=G,this.setTexture2DArray=K,this.setTexture3D=H,this.setTextureCube=ue,this.rebindTextures=Me,this.setupRenderTarget=Ee,this.updateRenderTargetMipmap=Ve,this.updateMultisampleRenderTarget=Ge,this.setupDepthRenderbuffer=ge,this.setupFrameBufferTexture=fe,this.useMultisampledRTT=Ze}function TY(n,e,t){const r=t.isWebGL2;function i(s,o=Wd){let a;if(s===Nu)return n.UNSIGNED_BYTE;if(s===EU)return n.UNSIGNED_SHORT_4_4_4_4;if(s===bU)return n.UNSIGNED_SHORT_5_5_5_1;if(s===HJ)return n.BYTE;if(s===VJ)return n.SHORT;if(s===AR)return n.UNSIGNED_SHORT;if(s===SU)return n.INT;if(s===$c)return n.UNSIGNED_INT;if(s===Pu)return n.FLOAT;if(s===Dy)return r?n.HALF_FLOAT:(a=e.get("OES_texture_half_float"),a!==null?a.HALF_FLOAT_OES:null);if(s===WJ)return n.ALPHA;if(s===ao)return n.RGBA;if(s===jJ)return n.LUMINANCE;if(s===XJ)return n.LUMINANCE_ALPHA;if(s===Hd)return n.DEPTH_COMPONENT;if(s===qm)return n.DEPTH_STENCIL;if(s===$T)return a=e.get("EXT_sRGB"),a!==null?a.SRGB_ALPHA_EXT:null;if(s===JJ)return n.RED;if(s===wU)return n.RED_INTEGER;if(s===YJ)return n.RG;if(s===TU)return n.RG_INTEGER;if(s===CU)return n.RGBA_INTEGER;if(s===Yw||s===Kw||s===Qw||s===qw)if(o===qt)if(a=e.get("WEBGL_compressed_texture_s3tc_srgb"),a!==null){if(s===Yw)return a.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(s===Kw)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(s===Qw)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(s===qw)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(a=e.get("WEBGL_compressed_texture_s3tc"),a!==null){if(s===Yw)return a.COMPRESSED_RGB_S3TC_DXT1_EXT;if(s===Kw)return a.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(s===Qw)return a.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(s===qw)return a.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(s===fD||s===pD||s===mD||s===gD)if(a=e.get("WEBGL_compressed_texture_pvrtc"),a!==null){if(s===fD)return a.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(s===pD)return a.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(s===mD)return a.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(s===gD)return a.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(s===KJ)return a=e.get("WEBGL_compressed_texture_etc1"),a!==null?a.COMPRESSED_RGB_ETC1_WEBGL:null;if(s===vD||s===yD)if(a=e.get("WEBGL_compressed_texture_etc"),a!==null){if(s===vD)return o===qt?a.COMPRESSED_SRGB8_ETC2:a.COMPRESSED_RGB8_ETC2;if(s===yD)return o===qt?a.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:a.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(s===xD||s===AD||s===_D||s===MD||s===SD||s===ED||s===bD||s===wD||s===TD||s===CD||s===RD||s===PD||s===BD||s===LD)if(a=e.get("WEBGL_compressed_texture_astc"),a!==null){if(s===xD)return o===qt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:a.COMPRESSED_RGBA_ASTC_4x4_KHR;if(s===AD)return o===qt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:a.COMPRESSED_RGBA_ASTC_5x4_KHR;if(s===_D)return o===qt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:a.COMPRESSED_RGBA_ASTC_5x5_KHR;if(s===MD)return o===qt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:a.COMPRESSED_RGBA_ASTC_6x5_KHR;if(s===SD)return o===qt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:a.COMPRESSED_RGBA_ASTC_6x6_KHR;if(s===ED)return o===qt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:a.COMPRESSED_RGBA_ASTC_8x5_KHR;if(s===bD)return o===qt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:a.COMPRESSED_RGBA_ASTC_8x6_KHR;if(s===wD)return o===qt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:a.COMPRESSED_RGBA_ASTC_8x8_KHR;if(s===TD)return o===qt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:a.COMPRESSED_RGBA_ASTC_10x5_KHR;if(s===CD)return o===qt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:a.COMPRESSED_RGBA_ASTC_10x6_KHR;if(s===RD)return o===qt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:a.COMPRESSED_RGBA_ASTC_10x8_KHR;if(s===PD)return o===qt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:a.COMPRESSED_RGBA_ASTC_10x10_KHR;if(s===BD)return o===qt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:a.COMPRESSED_RGBA_ASTC_12x10_KHR;if(s===LD)return o===qt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:a.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(s===Zw)if(a=e.get("EXT_texture_compression_bptc"),a!==null){if(s===Zw)return o===qt?a.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:a.COMPRESSED_RGBA_BPTC_UNORM_EXT}else return null;if(s===QJ||s===ID||s===DD||s===FD)if(a=e.get("EXT_texture_compression_rgtc"),a!==null){if(s===Zw)return a.COMPRESSED_RED_RGTC1_EXT;if(s===ID)return a.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(s===DD)return a.COMPRESSED_RED_GREEN_RGTC2_EXT;if(s===FD)return a.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return s===zd?r?n.UNSIGNED_INT_24_8:(a=e.get("WEBGL_depth_texture"),a!==null?a.UNSIGNED_INT_24_8_WEBGL:null):n[s]!==void 0?n[s]:null}return{convert:i}}class CY extends ur{constructor(e=[]){super(),this.isArrayCamera=!0,this.cameras=e}}class eh extends Mn{constructor(){super(),this.isGroup=!0,this.type="Group"}}const Zde={type:"move"};class WB{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new eh,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new eh,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new se,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new se),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new eh,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new se,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new se),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const t=this._hand;if(t)for(const r of e.hand.values())this._getHandJoint(t,r)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,t,r){let i=null,s=null,o=null;const a=this._targetRay,l=this._grip,u=this._hand;if(e&&t.session.visibilityState!=="visible-blurred"){if(u&&e.hand){o=!0;for(const S of e.hand.values()){const A=t.getJointPose(S,r),g=this._getHandJoint(u,S);A!==null&&(g.matrix.fromArray(A.transform.matrix),g.matrix.decompose(g.position,g.rotation,g.scale),g.matrixWorldNeedsUpdate=!0,g.jointRadius=A.radius),g.visible=A!==null}const h=u.joints["index-finger-tip"],f=u.joints["thumb-tip"],p=h.position.distanceTo(f.position),m=.02,v=.005;u.inputState.pinching&&p>m+v?(u.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!u.inputState.pinching&&p<=m-v&&(u.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else l!==null&&e.gripSpace&&(s=t.getPose(e.gripSpace,r),s!==null&&(l.matrix.fromArray(s.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),l.matrixWorldNeedsUpdate=!0,s.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(s.linearVelocity)):l.hasLinearVelocity=!1,s.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(s.angularVelocity)):l.hasAngularVelocity=!1));a!==null&&(i=t.getPose(e.targetRaySpace,r),i===null&&s!==null&&(i=s),i!==null&&(a.matrix.fromArray(i.transform.matrix),a.matrix.decompose(a.position,a.rotation,a.scale),a.matrixWorldNeedsUpdate=!0,i.linearVelocity?(a.hasLinearVelocity=!0,a.linearVelocity.copy(i.linearVelocity)):a.hasLinearVelocity=!1,i.angularVelocity?(a.hasAngularVelocity=!0,a.angularVelocity.copy(i.angularVelocity)):a.hasAngularVelocity=!1,this.dispatchEvent(Zde)))}return a!==null&&(a.visible=i!==null),l!==null&&(l.visible=s!==null),u!==null&&(u.visible=o!==null),this}_getHandJoint(e,t){if(e.joints[t.jointName]===void 0){const r=new eh;r.matrixAutoUpdate=!1,r.visible=!1,e.joints[t.jointName]=r,e.add(r)}return e.joints[t.jointName]}}class RY extends dr{constructor(e,t,r,i,s,o,a,l,u,h){if(h=h!==void 0?h:Hd,h!==Hd&&h!==qm)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");r===void 0&&h===Hd&&(r=$c),r===void 0&&h===qm&&(r=zd),super(null,i,s,o,a,l,h,r,u),this.isDepthTexture=!0,this.image={width:e,height:t},this.magFilter=a!==void 0?a:kr,this.minFilter=l!==void 0?l:kr,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(e){return super.copy(e),this.compareFunction=e.compareFunction,this}toJSON(e){const t=super.toJSON(e);return this.compareFunction!==null&&(t.compareFunction=this.compareFunction),t}}class $de extends Zu{constructor(e,t){super();const r=this;let i=null,s=1,o=null,a="local-floor",l=1,u=null,h=null,f=null,p=null,m=null,v=null;const S=t.getContextAttributes();let A=null,g=null;const M=[],_=[];let b=null;const T=new ur;T.layers.enable(1),T.viewport=new kn;const C=new ur;C.layers.enable(2),C.viewport=new kn;const B=[T,C],P=new CY;P.layers.enable(1),P.layers.enable(2);let R=null,L=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getCamera=function(){},this.setUserCamera=function(H){b=H},this.getController=function(H){let ue=M[H];return ue===void 0&&(ue=new WB,M[H]=ue),ue.getTargetRaySpace()},this.getControllerGrip=function(H){let ue=M[H];return ue===void 0&&(ue=new WB,M[H]=ue),ue.getGripSpace()},this.getHand=function(H){let ue=M[H];return ue===void 0&&(ue=new WB,M[H]=ue),ue.getHandSpace()};function U(H){const ue=_.indexOf(H.inputSource);if(ue===-1)return;const le=M[ue];le!==void 0&&(le.update(H.inputSource,H.frame,u||o),le.dispatchEvent({type:H.type,data:H.inputSource}))}function Q(){i.removeEventListener("select",U),i.removeEventListener("selectstart",U),i.removeEventListener("selectend",U),i.removeEventListener("squeeze",U),i.removeEventListener("squeezestart",U),i.removeEventListener("squeezeend",U),i.removeEventListener("end",Q),i.removeEventListener("inputsourceschange",W);for(let H=0;H<M.length;H++){const ue=_[H];ue!==null&&(_[H]=null,M[H].disconnect(ue))}R=null,L=null,e.setRenderTarget(A),m=null,p=null,f=null,i=null,g=null,K.stop(),r.isPresenting=!1,r.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(H){s=H,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(H){a=H,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return u||o},this.setReferenceSpace=function(H){u=H},this.getBaseLayer=function(){return p!==null?p:m},this.getBinding=function(){return f},this.getFrame=function(){return v},this.getSession=function(){return i},this.setSession=async function(H){if(i=H,i!==null){if(A=e.getRenderTarget(),i.addEventListener("select",U),i.addEventListener("selectstart",U),i.addEventListener("selectend",U),i.addEventListener("squeeze",U),i.addEventListener("squeezestart",U),i.addEventListener("squeezeend",U),i.addEventListener("end",Q),i.addEventListener("inputsourceschange",W),S.xrCompatible!==!0&&await t.makeXRCompatible(),i.renderState.layers===void 0||e.capabilities.isWebGL2===!1){const ue={antialias:i.renderState.layers===void 0?S.antialias:!0,alpha:!0,depth:S.depth,stencil:S.stencil,framebufferScaleFactor:s};m=new XRWebGLLayer(i,t,ue),i.updateRenderState({baseLayer:m}),g=new Gl(m.framebufferWidth,m.framebufferHeight,{format:ao,type:Nu,colorSpace:e.outputColorSpace,stencilBuffer:S.stencil})}else{let ue=null,le=null,Ce=null;S.depth&&(Ce=S.stencil?t.DEPTH24_STENCIL8:t.DEPTH_COMPONENT24,ue=S.stencil?qm:Hd,le=S.stencil?zd:$c);const xe={colorFormat:t.RGBA8,depthFormat:Ce,scaleFactor:s};f=new XRWebGLBinding(i,t),p=f.createProjectionLayer(xe),i.updateRenderState({layers:[p]}),g=new Gl(p.textureWidth,p.textureHeight,{format:ao,type:Nu,depthTexture:new RY(p.textureWidth,p.textureHeight,le,void 0,void 0,void 0,void 0,void 0,void 0,ue),stencilBuffer:S.stencil,colorSpace:e.outputColorSpace,samples:S.antialias?4:0});const Be=e.properties.get(g);Be.__ignoreDepthValues=p.ignoreDepthValues}g.isXRRenderTarget=!0,this.setFoveation(l),u=null,o=await i.requestReferenceSpace(a),K.setContext(i),K.start(),r.isPresenting=!0,r.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(i!==null)return i.environmentBlendMode};function W(H){for(let ue=0;ue<H.removed.length;ue++){const le=H.removed[ue],Ce=_.indexOf(le);Ce>=0&&(_[Ce]=null,M[Ce].disconnect(le))}for(let ue=0;ue<H.added.length;ue++){const le=H.added[ue];let Ce=_.indexOf(le);if(Ce===-1){for(let Be=0;Be<M.length;Be++)if(Be>=_.length){_.push(le),Ce=Be;break}else if(_[Be]===null){_[Be]=le,Ce=Be;break}if(Ce===-1)break}const xe=M[Ce];xe&&xe.connect(le)}}const Y=new se,X=new se;function ae(H,ue,le){Y.setFromMatrixPosition(ue.matrixWorld),X.setFromMatrixPosition(le.matrixWorld);const Ce=Y.distanceTo(X),xe=ue.projectionMatrix.elements,Be=le.projectionMatrix.elements,Qe=xe[14]/(xe[10]-1),je=xe[14]/(xe[10]+1),Ke=(xe[9]+1)/xe[5],fe=(xe[9]-1)/xe[5],z=(xe[8]-1)/xe[0],Ae=(Be[8]+1)/Be[0],ge=Qe*z,Me=Qe*Ae,Ee=Ce/(-z+Ae),Ve=Ee*-z;ue.matrixWorld.decompose(H.position,H.quaternion,H.scale),H.translateX(Ve),H.translateZ(Ee),H.matrixWorld.compose(H.position,H.quaternion,H.scale),H.matrixWorldInverse.copy(H.matrixWorld).invert();const Ge=Qe+Ee,ze=je+Ee,Ze=ge-Ve,St=Me+(Ce-Ve),Dt=Ke*je/ze*Ge,O=fe*je/ze*Ge;H.projectionMatrix.makePerspective(Ze,St,Dt,O,Ge,ze),H.projectionMatrixInverse.copy(H.projectionMatrix).invert()}function Z(H,ue){ue===null?H.matrixWorld.copy(H.matrix):H.matrixWorld.multiplyMatrices(ue.matrixWorld,H.matrix),H.matrixWorldInverse.copy(H.matrixWorld).invert()}this.updateCameraXR=function(H){if(i===null)return H;b&&(H=b),P.near=C.near=T.near=H.near,P.far=C.far=T.far=H.far,(R!==P.near||L!==P.far)&&(i.updateRenderState({depthNear:P.near,depthFar:P.far}),R=P.near,L=P.far);const ue=H.parent,le=P.cameras;Z(P,ue);for(let Ce=0;Ce<le.length;Ce++)Z(le[Ce],ue);return le.length===2?ae(P,T,C):P.projectionMatrix.copy(T.projectionMatrix),b&&D(P,ue),P};function D(H,ue){const le=b;ue===null?le.matrix.copy(H.matrixWorld):(le.matrix.copy(ue.matrixWorld),le.matrix.invert(),le.matrix.multiply(H.matrixWorld)),le.matrix.decompose(le.position,le.quaternion,le.scale),le.updateMatrixWorld(!0);const Ce=le.children;for(let xe=0,Be=Ce.length;xe<Be;xe++)Ce[xe].updateMatrixWorld(!0);le.projectionMatrix.copy(H.projectionMatrix),le.projectionMatrixInverse.copy(H.projectionMatrixInverse),le.isPerspectiveCamera&&(le.fov=Ny*2*Math.atan(1/le.projectionMatrix.elements[5]),le.zoom=1)}this.getFoveation=function(){if(!(p===null&&m===null))return l},this.setFoveation=function(H){l=H,p!==null&&(p.fixedFoveation=H),m!==null&&m.fixedFoveation!==void 0&&(m.fixedFoveation=H)};let k=null;function G(H,ue){if(h=ue.getViewerPose(u||o),v=ue,h!==null){const le=h.views;m!==null&&(e.setRenderTargetFramebuffer(g,m.framebuffer),e.setRenderTarget(g));let Ce=!1;le.length!==P.cameras.length&&(P.cameras.length=0,Ce=!0);for(let xe=0;xe<le.length;xe++){const Be=le[xe];let Qe=null;if(m!==null)Qe=m.getViewport(Be);else{const Ke=f.getViewSubImage(p,Be);Qe=Ke.viewport,xe===0&&(e.setRenderTargetTextures(g,Ke.colorTexture,p.ignoreDepthValues?void 0:Ke.depthStencilTexture),e.setRenderTarget(g))}let je=B[xe];je===void 0&&(je=new ur,je.layers.enable(xe),je.viewport=new kn,B[xe]=je),je.matrix.fromArray(Be.transform.matrix),je.matrix.decompose(je.position,je.quaternion,je.scale),je.projectionMatrix.fromArray(Be.projectionMatrix),je.projectionMatrixInverse.copy(je.projectionMatrix).invert(),je.viewport.set(Qe.x,Qe.y,Qe.width,Qe.height),xe===0&&(P.matrix.copy(je.matrix),P.matrix.decompose(P.position,P.quaternion,P.scale)),Ce===!0&&P.cameras.push(je)}}for(let le=0;le<M.length;le++){const Ce=_[le],xe=M[le];Ce!==null&&xe!==void 0&&xe.update(Ce,ue,u||o)}k&&k(H,ue),ue.detectedPlanes&&r.dispatchEvent({type:"planesdetected",data:ue}),v=null}const K=new MY;K.setAnimationLoop(G),this.setAnimationLoop=function(H){k=H},this.dispose=function(){}}}function efe(n,e){function t(A,g){A.matrixAutoUpdate===!0&&A.updateMatrix(),g.value.copy(A.matrix)}function r(A,g){g.color.getRGB(A.fogColor.value,AY(n)),g.isFog?(A.fogNear.value=g.near,A.fogFar.value=g.far):g.isFogExp2&&(A.fogDensity.value=g.density)}function i(A,g,M,_,b){g.isMeshBasicMaterial||g.isMeshLambertMaterial?s(A,g):g.isMeshToonMaterial?(s(A,g),f(A,g)):g.isMeshPhongMaterial?(s(A,g),h(A,g)):g.isMeshStandardMaterial?(s(A,g),p(A,g),g.isMeshPhysicalMaterial&&m(A,g,b)):g.isMeshMatcapMaterial?(s(A,g),v(A,g)):g.isMeshDepthMaterial?s(A,g):g.isMeshDistanceMaterial?(s(A,g),S(A,g)):g.isMeshNormalMaterial?s(A,g):g.isLineBasicMaterial?(o(A,g),g.isLineDashedMaterial&&a(A,g)):g.isPointsMaterial?l(A,g,M,_):g.isSpriteMaterial?u(A,g):g.isShadowMaterial?(A.color.value.copy(g.color),A.opacity.value=g.opacity):g.isShaderMaterial&&(g.uniformsNeedUpdate=!1)}function s(A,g){A.opacity.value=g.opacity,g.color&&A.diffuse.value.copy(g.color),g.emissive&&A.emissive.value.copy(g.emissive).multiplyScalar(g.emissiveIntensity),g.map&&(A.map.value=g.map,t(g.map,A.mapTransform)),g.alphaMap&&(A.alphaMap.value=g.alphaMap,t(g.alphaMap,A.alphaMapTransform)),g.bumpMap&&(A.bumpMap.value=g.bumpMap,t(g.bumpMap,A.bumpMapTransform),A.bumpScale.value=g.bumpScale,g.side===Vs&&(A.bumpScale.value*=-1)),g.normalMap&&(A.normalMap.value=g.normalMap,t(g.normalMap,A.normalMapTransform),A.normalScale.value.copy(g.normalScale),g.side===Vs&&A.normalScale.value.negate()),g.displacementMap&&(A.displacementMap.value=g.displacementMap,t(g.displacementMap,A.displacementMapTransform),A.displacementScale.value=g.displacementScale,A.displacementBias.value=g.displacementBias),g.emissiveMap&&(A.emissiveMap.value=g.emissiveMap,t(g.emissiveMap,A.emissiveMapTransform)),g.specularMap&&(A.specularMap.value=g.specularMap,t(g.specularMap,A.specularMapTransform)),g.alphaTest>0&&(A.alphaTest.value=g.alphaTest);const M=e.get(g).envMap;if(M&&(A.envMap.value=M,A.flipEnvMap.value=M.isCubeTexture&&M.isRenderTargetTexture===!1?-1:1,A.reflectivity.value=g.reflectivity,A.ior.value=g.ior,A.refractionRatio.value=g.refractionRatio),g.lightMap){A.lightMap.value=g.lightMap;const _=n.useLegacyLights===!0?Math.PI:1;A.lightMapIntensity.value=g.lightMapIntensity*_,t(g.lightMap,A.lightMapTransform)}g.aoMap&&(A.aoMap.value=g.aoMap,A.aoMapIntensity.value=g.aoMapIntensity,t(g.aoMap,A.aoMapTransform))}function o(A,g){A.diffuse.value.copy(g.color),A.opacity.value=g.opacity,g.map&&(A.map.value=g.map,t(g.map,A.mapTransform))}function a(A,g){A.dashSize.value=g.dashSize,A.totalSize.value=g.dashSize+g.gapSize,A.scale.value=g.scale}function l(A,g,M,_){A.diffuse.value.copy(g.color),A.opacity.value=g.opacity,A.size.value=g.size*M,A.scale.value=_*.5,g.map&&(A.map.value=g.map,t(g.map,A.uvTransform)),g.alphaMap&&(A.alphaMap.value=g.alphaMap,t(g.alphaMap,A.alphaMapTransform)),g.alphaTest>0&&(A.alphaTest.value=g.alphaTest)}function u(A,g){A.diffuse.value.copy(g.color),A.opacity.value=g.opacity,A.rotation.value=g.rotation,g.map&&(A.map.value=g.map,t(g.map,A.mapTransform)),g.alphaMap&&(A.alphaMap.value=g.alphaMap,t(g.alphaMap,A.alphaMapTransform)),g.alphaTest>0&&(A.alphaTest.value=g.alphaTest)}function h(A,g){A.specular.value.copy(g.specular),A.shininess.value=Math.max(g.shininess,1e-4)}function f(A,g){g.gradientMap&&(A.gradientMap.value=g.gradientMap)}function p(A,g){A.metalness.value=g.metalness,g.metalnessMap&&(A.metalnessMap.value=g.metalnessMap,t(g.metalnessMap,A.metalnessMapTransform)),A.roughness.value=g.roughness,g.roughnessMap&&(A.roughnessMap.value=g.roughnessMap,t(g.roughnessMap,A.roughnessMapTransform)),e.get(g).envMap&&(A.envMapIntensity.value=g.envMapIntensity)}function m(A,g,M){A.ior.value=g.ior,g.sheen>0&&(A.sheenColor.value.copy(g.sheenColor).multiplyScalar(g.sheen),A.sheenRoughness.value=g.sheenRoughness,g.sheenColorMap&&(A.sheenColorMap.value=g.sheenColorMap,t(g.sheenColorMap,A.sheenColorMapTransform)),g.sheenRoughnessMap&&(A.sheenRoughnessMap.value=g.sheenRoughnessMap,t(g.sheenRoughnessMap,A.sheenRoughnessMapTransform))),g.clearcoat>0&&(A.clearcoat.value=g.clearcoat,A.clearcoatRoughness.value=g.clearcoatRoughness,g.clearcoatMap&&(A.clearcoatMap.value=g.clearcoatMap,t(g.clearcoatMap,A.clearcoatMapTransform)),g.clearcoatRoughnessMap&&(A.clearcoatRoughnessMap.value=g.clearcoatRoughnessMap,t(g.clearcoatRoughnessMap,A.clearcoatRoughnessMapTransform)),g.clearcoatNormalMap&&(A.clearcoatNormalMap.value=g.clearcoatNormalMap,t(g.clearcoatNormalMap,A.clearcoatNormalMapTransform),A.clearcoatNormalScale.value.copy(g.clearcoatNormalScale),g.side===Vs&&A.clearcoatNormalScale.value.negate())),g.iridescence>0&&(A.iridescence.value=g.iridescence,A.iridescenceIOR.value=g.iridescenceIOR,A.iridescenceThicknessMinimum.value=g.iridescenceThicknessRange[0],A.iridescenceThicknessMaximum.value=g.iridescenceThicknessRange[1],g.iridescenceMap&&(A.iridescenceMap.value=g.iridescenceMap,t(g.iridescenceMap,A.iridescenceMapTransform)),g.iridescenceThicknessMap&&(A.iridescenceThicknessMap.value=g.iridescenceThicknessMap,t(g.iridescenceThicknessMap,A.iridescenceThicknessMapTransform))),g.transmission>0&&(A.transmission.value=g.transmission,A.transmissionSamplerMap.value=M.texture,A.transmissionSamplerSize.value.set(M.width,M.height),g.transmissionMap&&(A.transmissionMap.value=g.transmissionMap,t(g.transmissionMap,A.transmissionMapTransform)),A.thickness.value=g.thickness,g.thicknessMap&&(A.thicknessMap.value=g.thicknessMap,t(g.thicknessMap,A.thicknessMapTransform)),A.attenuationDistance.value=g.attenuationDistance,A.attenuationColor.value.copy(g.attenuationColor)),g.anisotropy>0&&(A.anisotropyVector.value.set(g.anisotropy*Math.cos(g.anisotropyRotation),g.anisotropy*Math.sin(g.anisotropyRotation)),g.anisotropyMap&&(A.anisotropyMap.value=g.anisotropyMap,t(g.anisotropyMap,A.anisotropyMapTransform))),A.specularIntensity.value=g.specularIntensity,A.specularColor.value.copy(g.specularColor),g.specularColorMap&&(A.specularColorMap.value=g.specularColorMap,t(g.specularColorMap,A.specularColorMapTransform)),g.specularIntensityMap&&(A.specularIntensityMap.value=g.specularIntensityMap,t(g.specularIntensityMap,A.specularIntensityMapTransform))}function v(A,g){g.matcap&&(A.matcap.value=g.matcap)}function S(A,g){const M=e.get(g).light;A.referencePosition.value.setFromMatrixPosition(M.matrixWorld),A.nearDistance.value=M.shadow.camera.near,A.farDistance.value=M.shadow.camera.far}return{refreshFogUniforms:r,refreshMaterialUniforms:i}}function tfe(n,e,t,r){let i={},s={},o=[];const a=t.isWebGL2?n.getParameter(n.MAX_UNIFORM_BUFFER_BINDINGS):0;function l(M,_){const b=_.program;r.uniformBlockBinding(M,b)}function u(M,_){let b=i[M.id];b===void 0&&(v(M),b=h(M),i[M.id]=b,M.addEventListener("dispose",A));const T=_.program;r.updateUBOMapping(M,T);const C=e.render.frame;s[M.id]!==C&&(p(M),s[M.id]=C)}function h(M){const _=f();M.__bindingPointIndex=_;const b=n.createBuffer(),T=M.__size,C=M.usage;return n.bindBuffer(n.UNIFORM_BUFFER,b),n.bufferData(n.UNIFORM_BUFFER,T,C),n.bindBuffer(n.UNIFORM_BUFFER,null),n.bindBufferBase(n.UNIFORM_BUFFER,_,b),b}function f(){for(let M=0;M<a;M++)if(o.indexOf(M)===-1)return o.push(M),M;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function p(M){const _=i[M.id],b=M.uniforms,T=M.__cache;n.bindBuffer(n.UNIFORM_BUFFER,_);for(let C=0,B=b.length;C<B;C++){const P=b[C];if(m(P,C,T)===!0){const R=P.__offset,L=Array.isArray(P.value)?P.value:[P.value];let U=0;for(let Q=0;Q<L.length;Q++){const W=L[Q],Y=S(W);typeof W=="number"?(P.__data[0]=W,n.bufferSubData(n.UNIFORM_BUFFER,R+U,P.__data)):W.isMatrix3?(P.__data[0]=W.elements[0],P.__data[1]=W.elements[1],P.__data[2]=W.elements[2],P.__data[3]=W.elements[0],P.__data[4]=W.elements[3],P.__data[5]=W.elements[4],P.__data[6]=W.elements[5],P.__data[7]=W.elements[0],P.__data[8]=W.elements[6],P.__data[9]=W.elements[7],P.__data[10]=W.elements[8],P.__data[11]=W.elements[0]):(W.toArray(P.__data,U),U+=Y.storage/Float32Array.BYTES_PER_ELEMENT)}n.bufferSubData(n.UNIFORM_BUFFER,R,P.__data)}}n.bindBuffer(n.UNIFORM_BUFFER,null)}function m(M,_,b){const T=M.value;if(b[_]===void 0){if(typeof T=="number")b[_]=T;else{const C=Array.isArray(T)?T:[T],B=[];for(let P=0;P<C.length;P++)B.push(C[P].clone());b[_]=B}return!0}else if(typeof T=="number"){if(b[_]!==T)return b[_]=T,!0}else{const C=Array.isArray(b[_])?b[_]:[b[_]],B=Array.isArray(T)?T:[T];for(let P=0;P<C.length;P++){const R=C[P];if(R.equals(B[P])===!1)return R.copy(B[P]),!0}}return!1}function v(M){const _=M.uniforms;let b=0;const T=16;let C=0;for(let B=0,P=_.length;B<P;B++){const R=_[B],L={boundary:0,storage:0},U=Array.isArray(R.value)?R.value:[R.value];for(let Q=0,W=U.length;Q<W;Q++){const Y=U[Q],X=S(Y);L.boundary+=X.boundary,L.storage+=X.storage}if(R.__data=new Float32Array(L.storage/Float32Array.BYTES_PER_ELEMENT),R.__offset=b,B>0){C=b%T;const Q=T-C;C!==0&&Q-L.boundary<0&&(b+=T-C,R.__offset=b)}b+=L.storage}return C=b%T,C>0&&(b+=T-C),M.__size=b,M.__cache={},this}function S(M){const _={boundary:0,storage:0};return typeof M=="number"?(_.boundary=4,_.storage=4):M.isVector2?(_.boundary=8,_.storage=8):M.isVector3||M.isColor?(_.boundary=16,_.storage=12):M.isVector4?(_.boundary=16,_.storage=16):M.isMatrix3?(_.boundary=48,_.storage=48):M.isMatrix4?(_.boundary=64,_.storage=64):M.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",M),_}function A(M){const _=M.target;_.removeEventListener("dispose",A);const b=o.indexOf(_.__bindingPointIndex);o.splice(b,1),n.deleteBuffer(i[_.id]),delete i[_.id],delete s[_.id]}function g(){for(const M in i)n.deleteBuffer(i[M]);o=[],i={},s={}}return{bind:l,update:u,dispose:g}}function nfe(){const n=tM("canvas");return n.style.display="block",n}class WU{constructor(e={}){const{canvas:t=nfe(),context:r=null,depth:i=!0,stencil:s=!0,alpha:o=!1,antialias:a=!1,premultipliedAlpha:l=!0,preserveDrawingBuffer:u=!1,powerPreference:h="default",failIfMajorPerformanceCaveat:f=!1}=e;this.isWebGLRenderer=!0;let p;r!==null?p=r.getContextAttributes().alpha:p=o;const m=new Uint32Array(4),v=new Int32Array(4);let S=null,A=null;const g=[],M=[];this.domElement=t,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.outputColorSpace=qt,this.useLegacyLights=!0,this.toneMapping=Bl,this.toneMappingExposure=1;const _=this;let b=!1,T=0,C=0,B=null,P=-1,R=null;const L=new kn,U=new kn;let Q=null;const W=new xt(0);let Y=0,X=t.width,ae=t.height,Z=1,D=null,k=null;const G=new kn(0,0,X,ae),K=new kn(0,0,X,ae);let H=!1;const ue=new SR;let le=!1,Ce=!1,xe=null;const Be=new zt,Qe=new Ye,je=new se,Ke={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function fe(){return B===null?Z:1}let z=r;function Ae(N,re){for(let he=0;he<N.length;he++){const ee=N[he],de=t.getContext(ee,re);if(de!==null)return de}return null}try{const N={alpha:!0,depth:i,stencil:s,antialias:a,premultipliedAlpha:l,preserveDrawingBuffer:u,powerPreference:h,failIfMajorPerformanceCaveat:f};if("setAttribute"in t&&t.setAttribute("data-engine",`three.js r${ZM}`),t.addEventListener("webglcontextlost",Ie,!1),t.addEventListener("webglcontextrestored",oe,!1),t.addEventListener("webglcontextcreationerror",Ne,!1),z===null){const re=["webgl2","webgl","experimental-webgl"];if(_.isWebGL1Renderer===!0&&re.shift(),z=Ae(re,N),z===null)throw Ae(re)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}z instanceof WebGLRenderingContext&&console.warn("THREE.WebGLRenderer: WebGL 1 support was deprecated in r153 and will be removed in r163."),z.getShaderPrecisionFormat===void 0&&(z.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(N){throw console.error("THREE.WebGLRenderer: "+N.message),N}let ge,Me,Ee,Ve,Ge,ze,Ze,St,Dt,O,F,ce,be,Se,Fe,Xe,De,j,q,ve,Re,Pe,Ue,it;function Mt(){ge=new yhe(z),Me=new dhe(z,ge,e),ge.init(Me),Pe=new TY(z,ge,Me),Ee=new Qde(z,ge,Me),Ve=new _he(z),Ge=new Ode,ze=new qde(z,ge,Ee,Ge,Me,Pe,Ve),Ze=new phe(_),St=new vhe(_),Dt=new Ile(z,Me),Ue=new che(z,ge,Dt,Me),O=new xhe(z,Dt,Ve,Ue),F=new bhe(z,O,Dt,Ve),q=new Ehe(z,Me,ze),Xe=new fhe(Ge),ce=new Ude(_,Ze,St,ge,Me,Ue,Xe),be=new efe(_,Ge),Se=new Gde,Fe=new Xde(ge,Me),j=new uhe(_,Ze,St,Ee,F,p,l),De=new Kde(_,F,Me),it=new tfe(z,Ve,Me,Ee),ve=new hhe(z,ge,Ve,Me),Re=new Ahe(z,ge,Ve,Me),Ve.programs=ce.programs,_.capabilities=Me,_.extensions=ge,_.properties=Ge,_.renderLists=Se,_.shadowMap=De,_.state=Ee,_.info=Ve}Mt();const J=new $de(_,z);this.xr=J,this.getContext=function(){return z},this.getContextAttributes=function(){return z.getContextAttributes()},this.forceContextLoss=function(){const N=ge.get("WEBGL_lose_context");N&&N.loseContext()},this.forceContextRestore=function(){const N=ge.get("WEBGL_lose_context");N&&N.restoreContext()},this.getPixelRatio=function(){return Z},this.setPixelRatio=function(N){N!==void 0&&(Z=N,this.setSize(X,ae,!1))},this.getSize=function(N){return N.set(X,ae)},this.setSize=function(N,re,he=!0){if(J.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}X=N,ae=re,t.width=Math.floor(N*Z),t.height=Math.floor(re*Z),he===!0&&(t.style.width=N+"px",t.style.height=re+"px"),this.setViewport(0,0,N,re)},this.getDrawingBufferSize=function(N){return N.set(X*Z,ae*Z).floor()},this.setDrawingBufferSize=function(N,re,he){X=N,ae=re,Z=he,t.width=Math.floor(N*he),t.height=Math.floor(re*he),this.setViewport(0,0,N,re)},this.getCurrentViewport=function(N){return N.copy(L)},this.getViewport=function(N){return N.copy(G)},this.setViewport=function(N,re,he,ee){N.isVector4?G.set(N.x,N.y,N.z,N.w):G.set(N,re,he,ee),Ee.viewport(L.copy(G).multiplyScalar(Z).floor())},this.getScissor=function(N){return N.copy(K)},this.setScissor=function(N,re,he,ee){N.isVector4?K.set(N.x,N.y,N.z,N.w):K.set(N,re,he,ee),Ee.scissor(U.copy(K).multiplyScalar(Z).floor())},this.getScissorTest=function(){return H},this.setScissorTest=function(N){Ee.setScissorTest(H=N)},this.setOpaqueSort=function(N){D=N},this.setTransparentSort=function(N){k=N},this.getClearColor=function(N){return N.copy(j.getClearColor())},this.setClearColor=function(){j.setClearColor.apply(j,arguments)},this.getClearAlpha=function(){return j.getClearAlpha()},this.setClearAlpha=function(){j.setClearAlpha.apply(j,arguments)},this.clear=function(N=!0,re=!0,he=!0){let ee=0;if(N){let de=!1;if(B!==null){const He=B.texture.format;de=He===CU||He===TU||He===wU}if(de){const He=B.texture.type,et=He===Nu||He===$c||He===AR||He===zd||He===EU||He===bU,nt=j.getClearColor(),lt=j.getClearAlpha(),mt=nt.r,st=nt.g,ut=nt.b,Ft=Ge.get(B).__webglFramebuffer;et?(m[0]=mt,m[1]=st,m[2]=ut,m[3]=lt,z.clearBufferuiv(z.COLOR,Ft,m)):(v[0]=mt,v[1]=st,v[2]=ut,v[3]=lt,z.clearBufferiv(z.COLOR,Ft,v))}else ee|=z.COLOR_BUFFER_BIT}re&&(ee|=z.DEPTH_BUFFER_BIT),he&&(ee|=z.STENCIL_BUFFER_BIT),z.clear(ee)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){t.removeEventListener("webglcontextlost",Ie,!1),t.removeEventListener("webglcontextrestored",oe,!1),t.removeEventListener("webglcontextcreationerror",Ne,!1),Se.dispose(),Fe.dispose(),Ge.dispose(),Ze.dispose(),St.dispose(),F.dispose(),Ue.dispose(),it.dispose(),ce.dispose(),J.dispose(),J.removeEventListener("sessionstart",Ot),J.removeEventListener("sessionend",Xn),xe&&(xe.dispose(),xe=null),gn.stop()};function Ie(N){N.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),b=!0}function oe(){console.log("THREE.WebGLRenderer: Context Restored."),b=!1;const N=Ve.autoReset,re=De.enabled,he=De.autoUpdate,ee=De.needsUpdate,de=De.type;Mt(),Ve.autoReset=N,De.enabled=re,De.autoUpdate=he,De.needsUpdate=ee,De.type=de}function Ne(N){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",N.statusMessage)}function Oe(N){const re=N.target;re.removeEventListener("dispose",Oe),wt(re)}function wt(N){Ut(N),Ge.remove(N)}function Ut(N){const re=Ge.get(N).programs;re!==void 0&&(re.forEach(function(he){ce.releaseProgram(he)}),N.isShaderMaterial&&ce.releaseShaderCache(N))}this.renderBufferDirect=function(N,re,he,ee,de,He){re===null&&(re=Ke);const et=de.isMesh&&de.matrixWorld.determinant()<0,nt=Gf(N,re,he,ee,de);Ee.setMaterial(ee,et);let lt=he.index,mt=1;ee.wireframe===!0&&(lt=O.getWireframeAttribute(he),mt=2);const st=he.drawRange,ut=he.attributes.position;let Ft=st.start*mt,Vt=(st.start+st.count)*mt;He!==null&&(Ft=Math.max(Ft,He.start*mt),Vt=Math.min(Vt,(He.start+He.count)*mt)),lt!==null?(Ft=Math.max(Ft,0),Vt=Math.min(Vt,lt.count)):ut!=null&&(Ft=Math.max(Ft,0),Vt=Math.min(Vt,ut.count));const Fn=Vt-Ft;if(Fn<0||Fn===1/0)return;Ue.setup(de,ee,nt,he,lt);let In,It=ve;if(lt!==null&&(In=Dt.get(lt),It=Re,It.setIndex(In)),de.isMesh)ee.wireframe===!0?(Ee.setLineWidth(ee.wireframeLinewidth*fe()),It.setMode(z.LINES)):It.setMode(z.TRIANGLES);else if(de.isLine){let $e=ee.linewidth;$e===void 0&&($e=1),Ee.setLineWidth($e*fe()),de.isLineSegments?It.setMode(z.LINES):de.isLineLoop?It.setMode(z.LINE_LOOP):It.setMode(z.LINE_STRIP)}else de.isPoints?It.setMode(z.POINTS):de.isSprite&&It.setMode(z.TRIANGLES);if(de.isInstancedMesh)It.renderInstances(Ft,Fn,de.count);else if(he.isInstancedBufferGeometry){const $e=he._maxInstanceCount!==void 0?he._maxInstanceCount:1/0,Pt=Math.min(he.instanceCount,$e);It.renderInstances(Ft,Fn,Pt)}else It.render(Ft,Fn)},this.compile=function(N,re){function he(ee,de,He){ee.transparent===!0&&ee.side===Ga&&ee.forceSinglePass===!1?(ee.side=Vs,ee.needsUpdate=!0,ji(ee,de,He),ee.side=Xu,ee.needsUpdate=!0,ji(ee,de,He),ee.side=Ga):ji(ee,de,He)}A=Fe.get(N),A.init(),M.push(A),N.traverseVisible(function(ee){ee.isLight&&ee.layers.test(re.layers)&&(A.pushLight(ee),ee.castShadow&&A.pushShadow(ee))}),A.setupLights(_.useLegacyLights),N.traverse(function(ee){const de=ee.material;if(de)if(Array.isArray(de))for(let He=0;He<de.length;He++){const et=de[He];he(et,N,ee)}else he(de,N,ee)}),M.pop(),A=null};let Xt=null;function Vr(N){Xt&&Xt(N)}function Ot(){gn.stop()}function Xn(){gn.start()}const gn=new MY;gn.setAnimationLoop(Vr),typeof self<"u"&&gn.setContext(self),this.setAnimationLoop=function(N){Xt=N,J.setAnimationLoop(N),N===null?gn.stop():gn.start()},J.addEventListener("sessionstart",Ot),J.addEventListener("sessionend",Xn),this.render=function(N,re){if(re!==void 0&&re.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(b===!0)return;N.matrixWorldAutoUpdate===!0&&N.updateMatrixWorld(),re.parent===null&&re.matrixWorldAutoUpdate===!0&&re.updateMatrixWorld(),J.enabled===!0&&J.isPresenting===!0&&(re=J.updateCameraXR(re)),N.isScene===!0&&N.onBeforeRender(_,N,re,B),A=Fe.get(N,M.length),A.init(),M.push(A),Be.multiplyMatrices(re.projectionMatrix,re.matrixWorldInverse),ue.setFromProjectionMatrix(Be),Ce=this.localClippingEnabled,le=Xe.init(this.clippingPlanes,Ce),S=Se.get(N,g.length),S.init(),g.push(S),nc(N,re,0,_.sortObjects),S.finish(),_.sortObjects===!0&&S.sort(D,k),le===!0&&Xe.beginShadows();const he=A.state.shadowsArray;if(De.render(he,N,re),le===!0&&Xe.endShadows(),this.info.autoReset===!0&&this.info.reset(),this.info.render.frame++,j.render(S,N),A.setupLights(_.useLegacyLights),re.isArrayCamera){const ee=re.cameras;for(let de=0,He=ee.length;de<He;de++){const et=ee[de];Zl(S,N,et,et.viewport)}}else Zl(S,N,re);B!==null&&(ze.updateMultisampleRenderTarget(B),ze.updateRenderTargetMipmap(B)),N.isScene===!0&&N.onAfterRender(_,N,re),Ue.resetDefaultState(),P=-1,R=null,M.pop(),M.length>0?A=M[M.length-1]:A=null,g.pop(),g.length>0?S=g[g.length-1]:S=null};function nc(N,re,he,ee){if(N.visible===!1)return;if(N.layers.test(re.layers)){if(N.isGroup)he=N.renderOrder;else if(N.isLOD)N.autoUpdate===!0&&N.update(re);else if(N.isLight)A.pushLight(N),N.castShadow&&A.pushShadow(N);else if(N.isSprite){if(!N.frustumCulled||ue.intersectsSprite(N)){ee&&je.setFromMatrixPosition(N.matrixWorld).applyMatrix4(Be);const He=F.update(N),et=N.material;et.visible&&S.push(N,He,et,he,je.z,null)}}else if((N.isMesh||N.isLine||N.isPoints)&&(!N.frustumCulled||ue.intersectsObject(N))){N.isSkinnedMesh&&N.skeleton.frame!==Ve.render.frame&&(N.skeleton.update(),N.skeleton.frame=Ve.render.frame);const He=F.update(N),et=N.material;if(ee&&(N.boundingSphere!==void 0?(N.boundingSphere===null&&N.computeBoundingSphere(),je.copy(N.boundingSphere.center)):(He.boundingSphere===null&&He.computeBoundingSphere(),je.copy(He.boundingSphere.center)),je.applyMatrix4(N.matrixWorld).applyMatrix4(Be)),Array.isArray(et)){const nt=He.groups;for(let lt=0,mt=nt.length;lt<mt;lt++){const st=nt[lt],ut=et[st.materialIndex];ut&&ut.visible&&S.push(N,He,ut,he,je.z,st)}}else et.visible&&S.push(N,He,et,he,je.z,null)}}const de=N.children;for(let He=0,et=de.length;He<et;He++)nc(de[He],re,he,ee)}function Zl(N,re,he,ee){const de=N.opaque,He=N.transmissive,et=N.transparent;A.setupLightsView(he),le===!0&&Xe.setGlobalState(_.clippingPlanes,he),He.length>0&&$l(de,He,re,he),ee&&Ee.viewport(L.copy(ee)),de.length>0&&Rs(de,re,he),He.length>0&&Rs(He,re,he),et.length>0&&Rs(et,re,he),Ee.buffers.depth.setTest(!0),Ee.buffers.depth.setMask(!0),Ee.buffers.color.setMask(!0),Ee.setPolygonOffset(!1)}function $l(N,re,he,ee){const de=Me.isWebGL2;xe===null&&(xe=new Gl(1,1,{generateMipmaps:!0,type:ge.has("EXT_color_buffer_half_float")?Dy:Nu,minFilter:Ju,samples:de&&a===!0?4:0})),_.getDrawingBufferSize(Qe),de?xe.setSize(Qe.x,Qe.y):xe.setSize(eC(Qe.x),eC(Qe.y));const He=_.getRenderTarget();_.setRenderTarget(xe),_.getClearColor(W),Y=_.getClearAlpha(),Y<1&&_.setClearColor(16777215,.5),_.clear();const et=_.toneMapping;_.toneMapping=Bl,Rs(N,he,ee),ze.updateMultisampleRenderTarget(xe),ze.updateRenderTargetMipmap(xe);let nt=!1;for(let lt=0,mt=re.length;lt<mt;lt++){const st=re[lt],ut=st.object,Ft=st.geometry,Vt=st.material,Fn=st.group;if(Vt.side===Ga&&ut.layers.test(ee.layers)){const In=Vt.side;Vt.side=Vs,Vt.needsUpdate=!0,Ao(ut,he,ee,Ft,Vt,Fn),Vt.side=In,Vt.needsUpdate=!0,nt=!0}}nt===!0&&(ze.updateMultisampleRenderTarget(xe),ze.updateRenderTargetMipmap(xe)),_.setRenderTarget(He),_.setClearColor(W,Y),_.toneMapping=et}function Rs(N,re,he){const ee=re.isScene===!0?re.overrideMaterial:null;for(let de=0,He=N.length;de<He;de++){const et=N[de],nt=et.object,lt=et.geometry,mt=ee===null?et.material:ee,st=et.group;nt.layers.test(he.layers)&&Ao(nt,re,he,lt,mt,st)}}function Ao(N,re,he,ee,de,He){N.onBeforeRender(_,re,he,ee,de,He),N.modelViewMatrix.multiplyMatrices(he.matrixWorldInverse,N.matrixWorld),N.normalMatrix.getNormalMatrix(N.modelViewMatrix),de.onBeforeRender(_,re,he,ee,N,He),de.transparent===!0&&de.side===Ga&&de.forceSinglePass===!1?(de.side=Vs,de.needsUpdate=!0,_.renderBufferDirect(he,re,ee,de,N,He),de.side=Xu,de.needsUpdate=!0,_.renderBufferDirect(he,re,ee,de,N,He),de.side=Ga):_.renderBufferDirect(he,re,ee,de,N,He),N.onAfterRender(_,re,he,ee,de,He)}function ji(N,re,he){re.isScene!==!0&&(re=Ke);const ee=Ge.get(N),de=A.state.lights,He=A.state.shadowsArray,et=de.state.version,nt=ce.getParameters(N,de.state,He,re,he),lt=ce.getProgramCacheKey(nt);let mt=ee.programs;ee.environment=N.isMeshStandardMaterial?re.environment:null,ee.fog=re.fog,ee.envMap=(N.isMeshStandardMaterial?St:Ze).get(N.envMap||ee.environment),mt===void 0&&(N.addEventListener("dispose",Oe),mt=new Map,ee.programs=mt);let st=mt.get(lt);if(st!==void 0){if(ee.currentProgram===st&&ee.lightsStateVersion===et)return rc(N,nt),st}else nt.uniforms=ce.getUniforms(N),N.onBuild(he,nt,_),N.onBeforeCompile(nt,_),st=ce.acquireProgram(nt,lt),mt.set(lt,st),ee.uniforms=nt.uniforms;const ut=ee.uniforms;(!N.isShaderMaterial&&!N.isRawShaderMaterial||N.clipping===!0)&&(ut.clippingPlanes=Xe.uniform),rc(N,nt),ee.needsLights=Hf(N),ee.lightsStateVersion=et,ee.needsLights&&(ut.ambientLightColor.value=de.state.ambient,ut.lightProbe.value=de.state.probe,ut.directionalLights.value=de.state.directional,ut.directionalLightShadows.value=de.state.directionalShadow,ut.spotLights.value=de.state.spot,ut.spotLightShadows.value=de.state.spotShadow,ut.rectAreaLights.value=de.state.rectArea,ut.ltc_1.value=de.state.rectAreaLTC1,ut.ltc_2.value=de.state.rectAreaLTC2,ut.pointLights.value=de.state.point,ut.pointLightShadows.value=de.state.pointShadow,ut.hemisphereLights.value=de.state.hemi,ut.directionalShadowMap.value=de.state.directionalShadowMap,ut.directionalShadowMatrix.value=de.state.directionalShadowMatrix,ut.spotShadowMap.value=de.state.spotShadowMap,ut.spotLightMatrix.value=de.state.spotLightMatrix,ut.spotLightMap.value=de.state.spotLightMap,ut.pointShadowMap.value=de.state.pointShadowMap,ut.pointShadowMatrix.value=de.state.pointShadowMatrix);const Ft=st.getUniforms(),Vt=tT.seqWithValue(Ft.seq,ut);return ee.currentProgram=st,ee.uniformsList=Vt,st}function rc(N,re){const he=Ge.get(N);he.outputColorSpace=re.outputColorSpace,he.instancing=re.instancing,he.skinning=re.skinning,he.morphTargets=re.morphTargets,he.morphNormals=re.morphNormals,he.morphColors=re.morphColors,he.morphTargetsCount=re.morphTargetsCount,he.numClippingPlanes=re.numClippingPlanes,he.numIntersection=re.numClipIntersection,he.vertexAlphas=re.vertexAlphas,he.vertexTangents=re.vertexTangents,he.toneMapping=re.toneMapping}function Gf(N,re,he,ee,de){re.isScene!==!0&&(re=Ke),ze.resetTextureUnits();const He=re.fog,et=ee.isMeshStandardMaterial?re.environment:null,nt=B===null?_.outputColorSpace:B.isXRRenderTarget===!0?B.texture.colorSpace:kl,lt=(ee.isMeshStandardMaterial?St:Ze).get(ee.envMap||et),mt=ee.vertexColors===!0&&!!he.attributes.color&&he.attributes.color.itemSize===4,st=!!he.attributes.tangent&&(!!ee.normalMap||ee.anisotropy>0),ut=!!he.morphAttributes.position,Ft=!!he.morphAttributes.normal,Vt=!!he.morphAttributes.color,Fn=ee.toneMapped?_.toneMapping:Bl,In=he.morphAttributes.position||he.morphAttributes.normal||he.morphAttributes.color,It=In!==void 0?In.length:0,$e=Ge.get(ee),Pt=A.state.lights;if(le===!0&&(Ce===!0||N!==R)){const Tn=N===R&&ee.id===P;Xe.setState(ee,N,Tn)}let Lt=!1;ee.version===$e.__version?($e.needsLights&&$e.lightsStateVersion!==Pt.state.version||$e.outputColorSpace!==nt||de.isInstancedMesh&&$e.instancing===!1||!de.isInstancedMesh&&$e.instancing===!0||de.isSkinnedMesh&&$e.skinning===!1||!de.isSkinnedMesh&&$e.skinning===!0||$e.envMap!==lt||ee.fog===!0&&$e.fog!==He||$e.numClippingPlanes!==void 0&&($e.numClippingPlanes!==Xe.numPlanes||$e.numIntersection!==Xe.numIntersection)||$e.vertexAlphas!==mt||$e.vertexTangents!==st||$e.morphTargets!==ut||$e.morphNormals!==Ft||$e.morphColors!==Vt||$e.toneMapping!==Fn||Me.isWebGL2===!0&&$e.morphTargetsCount!==It)&&(Lt=!0):(Lt=!0,$e.__version=ee.version);let $t=$e.currentProgram;Lt===!0&&($t=ji(ee,re,de));let dn=!1,En=!1,Lr=!1;const Nt=$t.getUniforms(),vn=$e.uniforms;if(Ee.useProgram($t.program)&&(dn=!0,En=!0,Lr=!0),ee.id!==P&&(P=ee.id,En=!0),dn||R!==N){if(Nt.setValue(z,"projectionMatrix",N.projectionMatrix),Me.logarithmicDepthBuffer&&Nt.setValue(z,"logDepthBufFC",2/(Math.log(N.far+1)/Math.LN2)),R!==N&&(R=N,En=!0,Lr=!0),ee.isShaderMaterial||ee.isMeshPhongMaterial||ee.isMeshToonMaterial||ee.isMeshStandardMaterial||ee.envMap){const Tn=Nt.map.cameraPosition;Tn!==void 0&&Tn.setValue(z,je.setFromMatrixPosition(N.matrixWorld))}(ee.isMeshPhongMaterial||ee.isMeshToonMaterial||ee.isMeshLambertMaterial||ee.isMeshBasicMaterial||ee.isMeshStandardMaterial||ee.isShaderMaterial)&&Nt.setValue(z,"isOrthographic",N.isOrthographicCamera===!0),(ee.isMeshPhongMaterial||ee.isMeshToonMaterial||ee.isMeshLambertMaterial||ee.isMeshBasicMaterial||ee.isMeshStandardMaterial||ee.isShaderMaterial||ee.isShadowMaterial||de.isSkinnedMesh)&&Nt.setValue(z,"viewMatrix",N.matrixWorldInverse)}if(de.isSkinnedMesh){Nt.setOptional(z,de,"bindMatrix"),Nt.setOptional(z,de,"bindMatrixInverse");const Tn=de.skeleton;Tn&&(Me.floatVertexTextures?(Tn.boneTexture===null&&Tn.computeBoneTexture(),Nt.setValue(z,"boneTexture",Tn.boneTexture,ze),Nt.setValue(z,"boneTextureSize",Tn.boneTextureSize)):console.warn("THREE.WebGLRenderer: SkinnedMesh can only be used with WebGL 2. With WebGL 1 OES_texture_float and vertex textures support is required."))}const Ps=he.morphAttributes;if((Ps.position!==void 0||Ps.normal!==void 0||Ps.color!==void 0&&Me.isWebGL2===!0)&&q.update(de,he,$t),(En||$e.receiveShadow!==de.receiveShadow)&&($e.receiveShadow=de.receiveShadow,Nt.setValue(z,"receiveShadow",de.receiveShadow)),ee.isMeshGouraudMaterial&&ee.envMap!==null&&(vn.envMap.value=lt,vn.flipEnvMap.value=lt.isCubeTexture&&lt.isRenderTargetTexture===!1?-1:1),En&&(Nt.setValue(z,"toneMappingExposure",_.toneMappingExposure),$e.needsLights&&zf(vn,Lr),He&&ee.fog===!0&&be.refreshFogUniforms(vn,He),be.refreshMaterialUniforms(vn,ee,Z,ae,xe),tT.upload(z,$e.uniformsList,vn,ze)),ee.isShaderMaterial&&ee.uniformsNeedUpdate===!0&&(tT.upload(z,$e.uniformsList,vn,ze),ee.uniformsNeedUpdate=!1),ee.isSpriteMaterial&&Nt.setValue(z,"center",de.center),Nt.setValue(z,"modelViewMatrix",de.modelViewMatrix),Nt.setValue(z,"normalMatrix",de.normalMatrix),Nt.setValue(z,"modelMatrix",de.matrixWorld),ee.isShaderMaterial||ee.isRawShaderMaterial){const Tn=ee.uniformsGroups;for(let Bs=0,el=Tn.length;Bs<el;Bs++)if(Me.isWebGL2){const Kr=Tn[Bs];it.update(Kr,$t),it.bind(Kr,$t)}else console.warn("THREE.WebGLRenderer: Uniform Buffer Objects can only be used with WebGL 2.")}return $t}function zf(N,re){N.ambientLightColor.needsUpdate=re,N.lightProbe.needsUpdate=re,N.directionalLights.needsUpdate=re,N.directionalLightShadows.needsUpdate=re,N.pointLights.needsUpdate=re,N.pointLightShadows.needsUpdate=re,N.spotLights.needsUpdate=re,N.spotLightShadows.needsUpdate=re,N.rectAreaLights.needsUpdate=re,N.hemisphereLights.needsUpdate=re}function Hf(N){return N.isMeshLambertMaterial||N.isMeshToonMaterial||N.isMeshPhongMaterial||N.isMeshStandardMaterial||N.isShadowMaterial||N.isShaderMaterial&&N.lights===!0}this.getActiveCubeFace=function(){return T},this.getActiveMipmapLevel=function(){return C},this.getRenderTarget=function(){return B},this.setRenderTargetTextures=function(N,re,he){Ge.get(N.texture).__webglTexture=re,Ge.get(N.depthTexture).__webglTexture=he;const ee=Ge.get(N);ee.__hasExternalTextures=!0,ee.__hasExternalTextures&&(ee.__autoAllocateDepthBuffer=he===void 0,ee.__autoAllocateDepthBuffer||ge.has("WEBGL_multisampled_render_to_texture")===!0&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),ee.__useRenderToTexture=!1))},this.setRenderTargetFramebuffer=function(N,re){const he=Ge.get(N);he.__webglFramebuffer=re,he.__useDefaultFramebuffer=re===void 0},this.setRenderTarget=function(N,re=0,he=0){B=N,T=re,C=he;let ee=!0,de=null,He=!1,et=!1;if(N){const nt=Ge.get(N);nt.__useDefaultFramebuffer!==void 0?(Ee.bindFramebuffer(z.FRAMEBUFFER,null),ee=!1):nt.__webglFramebuffer===void 0?ze.setupRenderTarget(N):nt.__hasExternalTextures&&ze.rebindTextures(N,Ge.get(N.texture).__webglTexture,Ge.get(N.depthTexture).__webglTexture);const lt=N.texture;(lt.isData3DTexture||lt.isDataArrayTexture||lt.isCompressedArrayTexture)&&(et=!0);const mt=Ge.get(N).__webglFramebuffer;N.isWebGLCubeRenderTarget?(de=mt[re],He=!0):Me.isWebGL2&&N.samples>0&&ze.useMultisampledRTT(N)===!1?de=Ge.get(N).__webglMultisampledFramebuffer:de=mt,L.copy(N.viewport),U.copy(N.scissor),Q=N.scissorTest}else L.copy(G).multiplyScalar(Z).floor(),U.copy(K).multiplyScalar(Z).floor(),Q=H;if(Ee.bindFramebuffer(z.FRAMEBUFFER,de)&&Me.drawBuffers&&ee&&Ee.drawBuffers(N,de),Ee.viewport(L),Ee.scissor(U),Ee.setScissorTest(Q),He){const nt=Ge.get(N.texture);z.framebufferTexture2D(z.FRAMEBUFFER,z.COLOR_ATTACHMENT0,z.TEXTURE_CUBE_MAP_POSITIVE_X+re,nt.__webglTexture,he)}else if(et){const nt=Ge.get(N.texture),lt=re||0;z.framebufferTextureLayer(z.FRAMEBUFFER,z.COLOR_ATTACHMENT0,nt.__webglTexture,he||0,lt)}P=-1},this.readRenderTargetPixels=function(N,re,he,ee,de,He,et){if(!(N&&N.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let nt=Ge.get(N).__webglFramebuffer;if(N.isWebGLCubeRenderTarget&&et!==void 0&&(nt=nt[et]),nt){Ee.bindFramebuffer(z.FRAMEBUFFER,nt);try{const lt=N.texture,mt=lt.format,st=lt.type;if(mt!==ao&&Pe.convert(mt)!==z.getParameter(z.IMPLEMENTATION_COLOR_READ_FORMAT)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}const ut=st===Dy&&(ge.has("EXT_color_buffer_half_float")||Me.isWebGL2&&ge.has("EXT_color_buffer_float"));if(st!==Nu&&Pe.convert(st)!==z.getParameter(z.IMPLEMENTATION_COLOR_READ_TYPE)&&!(st===Pu&&(Me.isWebGL2||ge.has("OES_texture_float")||ge.has("WEBGL_color_buffer_float")))&&!ut){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}re>=0&&re<=N.width-ee&&he>=0&&he<=N.height-de&&z.readPixels(re,he,ee,de,Pe.convert(mt),Pe.convert(st),He)}finally{const lt=B!==null?Ge.get(B).__webglFramebuffer:null;Ee.bindFramebuffer(z.FRAMEBUFFER,lt)}}},this.copyFramebufferToTexture=function(N,re,he=0){const ee=Math.pow(2,-he),de=Math.floor(re.image.width*ee),He=Math.floor(re.image.height*ee);ze.setTexture2D(re,0),z.copyTexSubImage2D(z.TEXTURE_2D,he,0,0,N.x,N.y,de,He),Ee.unbindTexture()},this.copyTextureToTexture=function(N,re,he,ee=0){const de=re.image.width,He=re.image.height,et=Pe.convert(he.format),nt=Pe.convert(he.type);ze.setTexture2D(he,0),z.pixelStorei(z.UNPACK_FLIP_Y_WEBGL,he.flipY),z.pixelStorei(z.UNPACK_PREMULTIPLY_ALPHA_WEBGL,he.premultiplyAlpha),z.pixelStorei(z.UNPACK_ALIGNMENT,he.unpackAlignment),re.isDataTexture?z.texSubImage2D(z.TEXTURE_2D,ee,N.x,N.y,de,He,et,nt,re.image.data):re.isCompressedTexture?z.compressedTexSubImage2D(z.TEXTURE_2D,ee,N.x,N.y,re.mipmaps[0].width,re.mipmaps[0].height,et,re.mipmaps[0].data):z.texSubImage2D(z.TEXTURE_2D,ee,N.x,N.y,et,nt,re.image),ee===0&&he.generateMipmaps&&z.generateMipmap(z.TEXTURE_2D),Ee.unbindTexture()},this.copyTextureToTexture3D=function(N,re,he,ee,de=0){if(_.isWebGL1Renderer){console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");return}const He=N.max.x-N.min.x+1,et=N.max.y-N.min.y+1,nt=N.max.z-N.min.z+1,lt=Pe.convert(ee.format),mt=Pe.convert(ee.type);let st;if(ee.isData3DTexture)ze.setTexture3D(ee,0),st=z.TEXTURE_3D;else if(ee.isDataArrayTexture)ze.setTexture2DArray(ee,0),st=z.TEXTURE_2D_ARRAY;else{console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");return}z.pixelStorei(z.UNPACK_FLIP_Y_WEBGL,ee.flipY),z.pixelStorei(z.UNPACK_PREMULTIPLY_ALPHA_WEBGL,ee.premultiplyAlpha),z.pixelStorei(z.UNPACK_ALIGNMENT,ee.unpackAlignment);const ut=z.getParameter(z.UNPACK_ROW_LENGTH),Ft=z.getParameter(z.UNPACK_IMAGE_HEIGHT),Vt=z.getParameter(z.UNPACK_SKIP_PIXELS),Fn=z.getParameter(z.UNPACK_SKIP_ROWS),In=z.getParameter(z.UNPACK_SKIP_IMAGES),It=he.isCompressedTexture?he.mipmaps[0]:he.image;z.pixelStorei(z.UNPACK_ROW_LENGTH,It.width),z.pixelStorei(z.UNPACK_IMAGE_HEIGHT,It.height),z.pixelStorei(z.UNPACK_SKIP_PIXELS,N.min.x),z.pixelStorei(z.UNPACK_SKIP_ROWS,N.min.y),z.pixelStorei(z.UNPACK_SKIP_IMAGES,N.min.z),he.isDataTexture||he.isData3DTexture?z.texSubImage3D(st,de,re.x,re.y,re.z,He,et,nt,lt,mt,It.data):he.isCompressedArrayTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),z.compressedTexSubImage3D(st,de,re.x,re.y,re.z,He,et,nt,lt,It.data)):z.texSubImage3D(st,de,re.x,re.y,re.z,He,et,nt,lt,mt,It),z.pixelStorei(z.UNPACK_ROW_LENGTH,ut),z.pixelStorei(z.UNPACK_IMAGE_HEIGHT,Ft),z.pixelStorei(z.UNPACK_SKIP_PIXELS,Vt),z.pixelStorei(z.UNPACK_SKIP_ROWS,Fn),z.pixelStorei(z.UNPACK_SKIP_IMAGES,In),de===0&&ee.generateMipmaps&&z.generateMipmap(st),Ee.unbindTexture()},this.initTexture=function(N){N.isCubeTexture?ze.setTextureCube(N,0):N.isData3DTexture?ze.setTexture3D(N,0):N.isDataArrayTexture||N.isCompressedArrayTexture?ze.setTexture2DArray(N,0):ze.setTexture2D(N,0),Ee.unbindTexture()},this.resetState=function(){T=0,C=0,B=null,Ee.reset(),Ue.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return Bu}get physicallyCorrectLights(){return console.warn("THREE.WebGLRenderer: the property .physicallyCorrectLights has been removed. Set renderer.useLegacyLights instead."),!this.useLegacyLights}set physicallyCorrectLights(e){console.warn("THREE.WebGLRenderer: the property .physicallyCorrectLights has been removed. Set renderer.useLegacyLights instead."),this.useLegacyLights=!e}get outputEncoding(){return console.warn("THREE.WebGLRenderer: Property .outputEncoding has been removed. Use .outputColorSpace instead."),this.outputColorSpace===qt?Vd:BU}set outputEncoding(e){console.warn("THREE.WebGLRenderer: Property .outputEncoding has been removed. Use .outputColorSpace instead."),this.outputColorSpace=e===Vd?qt:kl}}class PY extends WU{}PY.prototype.isWebGL1Renderer=!0;let BY=class LY{constructor(e,t=25e-5){this.isFogExp2=!0,this.name="",this.color=new xt(e),this.density=t}clone(){return new LY(this.color,this.density)}toJSON(){return{type:"FogExp2",color:this.color.getHex(),density:this.density}}},IY=class DY{constructor(e,t=1,r=1e3){this.isFog=!0,this.name="",this.color=new xt(e),this.near=t,this.far=r}clone(){return new DY(this.color,this.near,this.far)}toJSON(){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}}},tC=class extends Mn{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,t){return super.copy(e,t),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const t=super.toJSON(e);return this.fog!==null&&(t.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(t.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(t.object.backgroundIntensity=this.backgroundIntensity),t}get autoUpdate(){return console.warn("THREE.Scene: autoUpdate was renamed to matrixWorldAutoUpdate in r144."),this.matrixWorldAutoUpdate}set autoUpdate(e){console.warn("THREE.Scene: autoUpdate was renamed to matrixWorldAutoUpdate in r144."),this.matrixWorldAutoUpdate=e}},rS=class{constructor(e,t){this.isInterleavedBuffer=!0,this.array=e,this.stride=t,this.count=e!==void 0?e.length/t:0,this.usage=$_,this.updateRange={offset:0,count:-1},this.version=0,this.uuid=Yo()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,t,r){e*=this.stride,r*=t.stride;for(let i=0,s=this.stride;i<s;i++)this.array[e+i]=t.array[r+i];return this}set(e,t=0){return this.array.set(e,t),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Yo()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const t=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),r=new this.constructor(t,this.stride);return r.setUsage(this.usage),r}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Yo()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}};const Ds=new se;class df{constructor(e,t,r,i=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=t,this.offset=r,this.normalized=i}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let t=0,r=this.data.count;t<r;t++)Ds.fromBufferAttribute(this,t),Ds.applyMatrix4(e),this.setXYZ(t,Ds.x,Ds.y,Ds.z);return this}applyNormalMatrix(e){for(let t=0,r=this.count;t<r;t++)Ds.fromBufferAttribute(this,t),Ds.applyNormalMatrix(e),this.setXYZ(t,Ds.x,Ds.y,Ds.z);return this}transformDirection(e){for(let t=0,r=this.count;t<r;t++)Ds.fromBufferAttribute(this,t),Ds.transformDirection(e),this.setXYZ(t,Ds.x,Ds.y,Ds.z);return this}setX(e,t){return this.normalized&&(t=an(t,this.array)),this.data.array[e*this.data.stride+this.offset]=t,this}setY(e,t){return this.normalized&&(t=an(t,this.array)),this.data.array[e*this.data.stride+this.offset+1]=t,this}setZ(e,t){return this.normalized&&(t=an(t,this.array)),this.data.array[e*this.data.stride+this.offset+2]=t,this}setW(e,t){return this.normalized&&(t=an(t,this.array)),this.data.array[e*this.data.stride+this.offset+3]=t,this}getX(e){let t=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(t=Ho(t,this.array)),t}getY(e){let t=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(t=Ho(t,this.array)),t}getZ(e){let t=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(t=Ho(t,this.array)),t}getW(e){let t=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(t=Ho(t,this.array)),t}setXY(e,t,r){return e=e*this.data.stride+this.offset,this.normalized&&(t=an(t,this.array),r=an(r,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=r,this}setXYZ(e,t,r,i){return e=e*this.data.stride+this.offset,this.normalized&&(t=an(t,this.array),r=an(r,this.array),i=an(i,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=r,this.data.array[e+2]=i,this}setXYZW(e,t,r,i,s){return e=e*this.data.stride+this.offset,this.normalized&&(t=an(t,this.array),r=an(r,this.array),i=an(i,this.array),s=an(s,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=r,this.data.array[e+2]=i,this.data.array[e+3]=s,this}clone(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let r=0;r<this.count;r++){const i=r*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)t.push(this.data.array[i+s])}return new Pn(new this.array.constructor(t),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new df(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let r=0;r<this.count;r++){const i=r*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)t.push(this.data.array[i+s])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:t,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class jU extends ci{constructor(e){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new xt(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}let Iv;const JA=new se,Dv=new se,Fv=new se,Nv=new Ye,YA=new Ye,FY=new zt,YE=new se,KA=new se,KE=new se,D4=new Ye,jB=new Ye,F4=new Ye;class NY extends Mn{constructor(e){if(super(),this.isSprite=!0,this.type="Sprite",Iv===void 0){Iv=new Kt;const t=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),r=new rS(t,5);Iv.setIndex([0,1,2,0,2,3]),Iv.setAttribute("position",new df(r,3,0,!1)),Iv.setAttribute("uv",new df(r,2,3,!1))}this.geometry=Iv,this.material=e!==void 0?e:new jU,this.center=new Ye(.5,.5)}raycast(e,t){e.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),Dv.setFromMatrixScale(this.matrixWorld),FY.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),Fv.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&Dv.multiplyScalar(-Fv.z);const r=this.material.rotation;let i,s;r!==0&&(s=Math.cos(r),i=Math.sin(r));const o=this.center;QE(YE.set(-.5,-.5,0),Fv,o,Dv,i,s),QE(KA.set(.5,-.5,0),Fv,o,Dv,i,s),QE(KE.set(.5,.5,0),Fv,o,Dv,i,s),D4.set(0,0),jB.set(1,0),F4.set(1,1);let a=e.ray.intersectTriangle(YE,KA,KE,!1,JA);if(a===null&&(QE(KA.set(-.5,.5,0),Fv,o,Dv,i,s),jB.set(0,1),a=e.ray.intersectTriangle(YE,KE,KA,!1,JA),a===null))return;const l=e.ray.origin.distanceTo(JA);l<e.near||l>e.far||t.push({distance:l,point:JA.clone(),uv:vm.getInterpolation(JA,YE,KA,KE,D4,jB,F4,new Ye),face:null,object:this})}copy(e,t){return super.copy(e,t),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}}function QE(n,e,t,r,i,s){Nv.subVectors(n,t).addScalar(.5).multiply(r),i!==void 0?(YA.x=s*Nv.x-i*Nv.y,YA.y=i*Nv.x+s*Nv.y):YA.copy(Nv),n.copy(e),n.x+=YA.x,n.y+=YA.y,n.applyMatrix4(FY)}const qE=new se,N4=new se;let UY=class extends Mn{constructor(){super(),this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]},isLOD:{value:!0}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);const t=e.levels;for(let r=0,i=t.length;r<i;r++){const s=t[r];this.addLevel(s.object.clone(),s.distance,s.hysteresis)}return this.autoUpdate=e.autoUpdate,this}addLevel(e,t=0,r=0){t=Math.abs(t);const i=this.levels;let s;for(s=0;s<i.length&&!(t<i[s].distance);s++);return i.splice(s,0,{distance:t,hysteresis:r,object:e}),this.add(e),this}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){const t=this.levels;if(t.length>0){let r,i;for(r=1,i=t.length;r<i;r++){let s=t[r].distance;if(t[r].object.visible&&(s-=s*t[r].hysteresis),e<s)break}return t[r-1].object}return null}raycast(e,t){if(this.levels.length>0){qE.setFromMatrixPosition(this.matrixWorld);const r=e.ray.origin.distanceTo(qE);this.getObjectForDistance(r).raycast(e,t)}}update(e){const t=this.levels;if(t.length>1){qE.setFromMatrixPosition(e.matrixWorld),N4.setFromMatrixPosition(this.matrixWorld);const r=qE.distanceTo(N4)/e.zoom;t[0].object.visible=!0;let i,s;for(i=1,s=t.length;i<s;i++){let o=t[i].distance;if(t[i].object.visible&&(o-=o*t[i].hysteresis),r>=o)t[i-1].object.visible=!1,t[i].object.visible=!0;else break}for(this._currentLevel=i-1;i<s;i++)t[i].object.visible=!1}}toJSON(e){const t=super.toJSON(e);this.autoUpdate===!1&&(t.object.autoUpdate=!1),t.object.levels=[];const r=this.levels;for(let i=0,s=r.length;i<s;i++){const o=r[i];t.object.levels.push({object:o.object.uuid,distance:o.distance,hysteresis:o.hysteresis})}return t}};const U4=new se,O4=new kn,k4=new kn,rfe=new se,G4=new zt,Uv=new se,XB=new Za,z4=new zt,JB=new dx;class XU extends _i{constructor(e,t){super(e,t),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new zt,this.bindMatrixInverse=new zt,this.boundingBox=null,this.boundingSphere=null}computeBoundingBox(){const e=this.geometry;this.boundingBox===null&&(this.boundingBox=new Wl),this.boundingBox.makeEmpty();const t=e.getAttribute("position");for(let r=0;r<t.count;r++)Uv.fromBufferAttribute(t,r),this.applyBoneTransform(r,Uv),this.boundingBox.expandByPoint(Uv)}computeBoundingSphere(){const e=this.geometry;this.boundingSphere===null&&(this.boundingSphere=new Za),this.boundingSphere.makeEmpty();const t=e.getAttribute("position");for(let r=0;r<t.count;r++)Uv.fromBufferAttribute(t,r),this.applyBoneTransform(r,Uv),this.boundingSphere.expandByPoint(Uv)}copy(e,t){return super.copy(e,t),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}raycast(e,t){const r=this.material,i=this.matrixWorld;r!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),XB.copy(this.boundingSphere),XB.applyMatrix4(i),e.ray.intersectsSphere(XB)!==!1&&(z4.copy(i).invert(),JB.copy(e.ray).applyMatrix4(z4),!(this.boundingBox!==null&&JB.intersectsBox(this.boundingBox)===!1)&&this._computeIntersections(e,t,JB)))}getVertexPosition(e,t){return super.getVertexPosition(e,t),this.applyBoneTransform(e,t),t}bind(e,t){this.skeleton=e,t===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.copy(t).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new kn,t=this.geometry.attributes.skinWeight;for(let r=0,i=t.count;r<i;r++){e.fromBufferAttribute(t,r);const s=1/e.manhattanLength();s!==1/0?e.multiplyScalar(s):e.set(1,0,0,0),t.setXYZW(r,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode==="attached"?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode==="detached"?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}applyBoneTransform(e,t){const r=this.skeleton,i=this.geometry;O4.fromBufferAttribute(i.attributes.skinIndex,e),k4.fromBufferAttribute(i.attributes.skinWeight,e),U4.copy(t).applyMatrix4(this.bindMatrix),t.set(0,0,0);for(let s=0;s<4;s++){const o=k4.getComponent(s);if(o!==0){const a=O4.getComponent(s);G4.multiplyMatrices(r.bones[a].matrixWorld,r.boneInverses[a]),t.addScaledVector(rfe.copy(U4).applyMatrix4(G4),o)}}return t.applyMatrix4(this.bindMatrixInverse)}boneTransform(e,t){return console.warn("THREE.SkinnedMesh: .boneTransform() was renamed to .applyBoneTransform() in r151."),this.applyBoneTransform(e,t)}}let bR=class extends Mn{constructor(){super(),this.isBone=!0,this.type="Bone"}},cy=class extends dr{constructor(e=null,t=1,r=1,i,s,o,a,l,u=kr,h=kr,f,p){super(null,o,a,l,u,h,i,s,f,p),this.isDataTexture=!0,this.image={data:e,width:t,height:r},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}};const H4=new zt,ife=new zt;let JU=class OY{constructor(e=[],t=[]){this.uuid=Yo(),this.bones=e.slice(0),this.boneInverses=t,this.boneMatrices=null,this.boneTexture=null,this.boneTextureSize=0,this.frame=-1,this.init()}init(){const e=this.bones,t=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),t.length===0)this.calculateInverses();else if(e.length!==t.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let r=0,i=this.bones.length;r<i;r++)this.boneInverses.push(new zt)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,t=this.bones.length;e<t;e++){const r=new zt;this.bones[e]&&r.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(r)}}pose(){for(let e=0,t=this.bones.length;e<t;e++){const r=this.bones[e];r&&r.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,t=this.bones.length;e<t;e++){const r=this.bones[e];r&&(r.parent&&r.parent.isBone?(r.matrix.copy(r.parent.matrixWorld).invert(),r.matrix.multiply(r.matrixWorld)):r.matrix.copy(r.matrixWorld),r.matrix.decompose(r.position,r.quaternion,r.scale))}}update(){const e=this.bones,t=this.boneInverses,r=this.boneMatrices,i=this.boneTexture;for(let s=0,o=e.length;s<o;s++){const a=e[s]?e[s].matrixWorld:ife;H4.multiplyMatrices(a,t[s]),H4.toArray(r,s*16)}i!==null&&(i.needsUpdate=!0)}clone(){return new OY(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=fY(e),e=Math.max(e,4);const t=new Float32Array(e*e*4);t.set(this.boneMatrices);const r=new cy(t,e,e,ao,Pu);return r.needsUpdate=!0,this.boneMatrices=t,this.boneTexture=r,this.boneTextureSize=e,this}getBoneByName(e){for(let t=0,r=this.bones.length;t<r;t++){const i=this.bones[t];if(i.name===e)return i}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,t){this.uuid=e.uuid;for(let r=0,i=e.bones.length;r<i;r++){const s=e.bones[r];let o=t[s];o===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",s),o=new bR),this.bones.push(o),this.boneInverses.push(new zt().fromArray(e.boneInverses[r]))}return this.init(),this}toJSON(){const e={metadata:{version:4.6,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const t=this.bones,r=this.boneInverses;for(let i=0,s=t.length;i<s;i++){const o=t[i];e.bones.push(o.uuid);const a=r[i];e.boneInverses.push(a.toArray())}return e}},Oy=class extends Pn{constructor(e,t,r,i=1){super(e,t,r),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=i}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}};const Ov=new zt,V4=new zt,ZE=[],W4=new Wl,sfe=new zt,QA=new _i,qA=new Za;class YU extends _i{constructor(e,t,r){super(e,t),this.isInstancedMesh=!0,this.instanceMatrix=new Oy(new Float32Array(r*16),16),this.instanceColor=null,this.count=r,this.boundingBox=null,this.boundingSphere=null;for(let i=0;i<r;i++)this.setMatrixAt(i,sfe)}computeBoundingBox(){const e=this.geometry,t=this.count;this.boundingBox===null&&(this.boundingBox=new Wl),e.boundingBox===null&&e.computeBoundingBox(),this.boundingBox.makeEmpty();for(let r=0;r<t;r++)this.getMatrixAt(r,Ov),W4.copy(e.boundingBox).applyMatrix4(Ov),this.boundingBox.union(W4)}computeBoundingSphere(){const e=this.geometry,t=this.count;this.boundingSphere===null&&(this.boundingSphere=new Za),e.boundingSphere===null&&e.computeBoundingSphere(),this.boundingSphere.makeEmpty();for(let r=0;r<t;r++)this.getMatrixAt(r,Ov),qA.copy(e.boundingSphere).applyMatrix4(Ov),this.boundingSphere.union(qA)}copy(e,t){return super.copy(e,t),this.instanceMatrix.copy(e.instanceMatrix),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}getColorAt(e,t){t.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,t){t.fromArray(this.instanceMatrix.array,e*16)}raycast(e,t){const r=this.matrixWorld,i=this.count;if(QA.geometry=this.geometry,QA.material=this.material,QA.material!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),qA.copy(this.boundingSphere),qA.applyMatrix4(r),e.ray.intersectsSphere(qA)!==!1))for(let s=0;s<i;s++){this.getMatrixAt(s,Ov),V4.multiplyMatrices(r,Ov),QA.matrixWorld=V4,QA.raycast(e,ZE);for(let o=0,a=ZE.length;o<a;o++){const l=ZE[o];l.instanceId=s,l.object=this,t.push(l)}ZE.length=0}}setColorAt(e,t){this.instanceColor===null&&(this.instanceColor=new Oy(new Float32Array(this.instanceMatrix.count*3),3)),t.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,t){t.toArray(this.instanceMatrix.array,e*16)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"})}}let Ts=class extends ci{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new xt(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}};const j4=new se,X4=new se,J4=new zt,YB=new dx,$E=new Za;class xh extends Mn{constructor(e=new Kt,t=new Ts){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,r=[0];for(let i=1,s=t.count;i<s;i++)j4.fromBufferAttribute(t,i-1),X4.fromBufferAttribute(t,i),r[i]=r[i-1],r[i]+=j4.distanceTo(X4);e.setAttribute("lineDistance",new Tt(r,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,t){const r=this.geometry,i=this.matrixWorld,s=e.params.Line.threshold,o=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),$E.copy(r.boundingSphere),$E.applyMatrix4(i),$E.radius+=s,e.ray.intersectsSphere($E)===!1)return;J4.copy(i).invert(),YB.copy(e.ray).applyMatrix4(J4);const a=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=a*a,u=new se,h=new se,f=new se,p=new se,m=this.isLineSegments?2:1,v=r.index,S=r.attributes.position;if(v!==null){const A=Math.max(0,o.start),g=Math.min(v.count,o.start+o.count);for(let M=A,_=g-1;M<_;M+=m){const b=v.getX(M),T=v.getX(M+1);if(u.fromBufferAttribute(S,b),h.fromBufferAttribute(S,T),YB.distanceSqToSegment(u,h,p,f)>l)continue;p.applyMatrix4(this.matrixWorld);const C=e.ray.origin.distanceTo(p);C<e.near||C>e.far||t.push({distance:C,point:f.clone().applyMatrix4(this.matrixWorld),index:M,face:null,faceIndex:null,object:this})}}else{const A=Math.max(0,o.start),g=Math.min(S.count,o.start+o.count);for(let M=A,_=g-1;M<_;M+=m){if(u.fromBufferAttribute(S,M),h.fromBufferAttribute(S,M+1),YB.distanceSqToSegment(u,h,p,f)>l)continue;p.applyMatrix4(this.matrixWorld);const b=e.ray.origin.distanceTo(p);b<e.near||b>e.far||t.push({distance:b,point:f.clone().applyMatrix4(this.matrixWorld),index:M,face:null,faceIndex:null,object:this})}}}updateMorphTargets(){const e=this.geometry.morphAttributes,t=Object.keys(e);if(t.length>0){const r=e[t[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let i=0,s=r.length;i<s;i++){const o=r[i].name||String(i);this.morphTargetInfluences.push(0),this.morphTargetDictionary[o]=i}}}}}const Y4=new se,K4=new se;class jl extends xh{constructor(e,t){super(e,t),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,r=[];for(let i=0,s=t.count;i<s;i+=2)Y4.fromBufferAttribute(t,i),K4.fromBufferAttribute(t,i+1),r[i]=i===0?0:r[i-1],r[i+1]=r[i]+Y4.distanceTo(K4);e.setAttribute("lineDistance",new Tt(r,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class KU extends xh{constructor(e,t){super(e,t),this.isLineLoop=!0,this.type="LineLoop"}}let iS=class extends ci{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new xt(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}};const Q4=new zt,GD=new dx,eb=new Za,tb=new se;let QU=class extends Mn{constructor(n=new Kt,e=new iS){super(),this.isPoints=!0,this.type="Points",this.geometry=n,this.material=e,this.updateMorphTargets()}copy(n,e){return super.copy(n,e),this.material=n.material,this.geometry=n.geometry,this}raycast(n,e){const t=this.geometry,r=this.matrixWorld,i=n.params.Points.threshold,s=t.drawRange;if(t.boundingSphere===null&&t.computeBoundingSphere(),eb.copy(t.boundingSphere),eb.applyMatrix4(r),eb.radius+=i,n.ray.intersectsSphere(eb)===!1)return;Q4.copy(r).invert(),GD.copy(n.ray).applyMatrix4(Q4);const o=i/((this.scale.x+this.scale.y+this.scale.z)/3),a=o*o,l=t.index,u=t.attributes.position;if(l!==null){const h=Math.max(0,s.start),f=Math.min(l.count,s.start+s.count);for(let p=h,m=f;p<m;p++){const v=l.getX(p);tb.fromBufferAttribute(u,v),q4(tb,v,a,r,n,e,this)}}else{const h=Math.max(0,s.start),f=Math.min(u.count,s.start+s.count);for(let p=h,m=f;p<m;p++)tb.fromBufferAttribute(u,p),q4(tb,p,a,r,n,e,this)}}updateMorphTargets(){const n=this.geometry.morphAttributes,e=Object.keys(n);if(e.length>0){const t=n[e[0]];if(t!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let r=0,i=t.length;r<i;r++){const s=t[r].name||String(r);this.morphTargetInfluences.push(0),this.morphTargetDictionary[s]=r}}}}};function q4(n,e,t,r,i,s,o){const a=GD.distanceSqToPoint(n);if(a<t){const l=new se;GD.closestPointToPoint(n,l),l.applyMatrix4(r);const u=i.ray.origin.distanceTo(l);if(u<i.near||u>i.far)return;s.push({distance:u,distanceToRay:Math.sqrt(a),point:l,index:e,face:null,object:o})}}class ofe extends dr{constructor(e,t,r,i,s,o,a,l,u){super(e,t,r,i,s,o,a,l,u),this.isVideoTexture=!0,this.minFilter=o!==void 0?o:Ar,this.magFilter=s!==void 0?s:Ar,this.generateMipmaps=!1;const h=this;function f(){h.needsUpdate=!0,e.requestVideoFrameCallback(f)}"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback(f)}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;!("requestVideoFrameCallback"in e)&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}class afe extends dr{constructor(e,t){super({width:e,height:t}),this.isFramebufferTexture=!0,this.magFilter=kr,this.minFilter=kr,this.generateMipmaps=!1,this.needsUpdate=!0}}class qU extends dr{constructor(e,t,r,i,s,o,a,l,u,h,f,p){super(null,o,a,l,u,h,i,s,f,p),this.isCompressedTexture=!0,this.image={width:t,height:r},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}class lfe extends qU{constructor(e,t,r,i,s,o){super(e,t,r,s,o),this.isCompressedArrayTexture=!0,this.image.depth=i,this.wrapR=is}}class ufe extends dr{constructor(e,t,r,i,s,o,a,l,u){super(e,t,r,i,s,o,a,l,u),this.isCanvasTexture=!0,this.needsUpdate=!0}}class Xl{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(e,t){const r=this.getUtoTmapping(e);return this.getPoint(r,t)}getPoints(e=5){const t=[];for(let r=0;r<=e;r++)t.push(this.getPoint(r/e));return t}getSpacedPoints(e=5){const t=[];for(let r=0;r<=e;r++)t.push(this.getPointAt(r/e));return t}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const t=[];let r,i=this.getPoint(0),s=0;t.push(0);for(let o=1;o<=e;o++)r=this.getPoint(o/e),s+=r.distanceTo(i),t.push(s),i=r;return this.cacheArcLengths=t,t}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,t){const r=this.getLengths();let i=0;const s=r.length;let o;t?o=t:o=e*r[s-1];let a=0,l=s-1,u;for(;a<=l;)if(i=Math.floor(a+(l-a)/2),u=r[i]-o,u<0)a=i+1;else if(u>0)l=i-1;else{l=i;break}if(i=l,r[i]===o)return i/(s-1);const h=r[i],f=r[i+1]-h,p=(o-h)/f;return(i+p)/(s-1)}getTangent(e,t){let r=e-1e-4,i=e+1e-4;r<0&&(r=0),i>1&&(i=1);const s=this.getPoint(r),o=this.getPoint(i),a=t||(s.isVector2?new Ye:new se);return a.copy(o).sub(s).normalize(),a}getTangentAt(e,t){const r=this.getUtoTmapping(e);return this.getTangent(r,t)}computeFrenetFrames(e,t){const r=new se,i=[],s=[],o=[],a=new se,l=new zt;for(let m=0;m<=e;m++){const v=m/e;i[m]=this.getTangentAt(v,new se)}s[0]=new se,o[0]=new se;let u=Number.MAX_VALUE;const h=Math.abs(i[0].x),f=Math.abs(i[0].y),p=Math.abs(i[0].z);h<=u&&(u=h,r.set(1,0,0)),f<=u&&(u=f,r.set(0,1,0)),p<=u&&r.set(0,0,1),a.crossVectors(i[0],r).normalize(),s[0].crossVectors(i[0],a),o[0].crossVectors(i[0],s[0]);for(let m=1;m<=e;m++){if(s[m]=s[m-1].clone(),o[m]=o[m-1].clone(),a.crossVectors(i[m-1],i[m]),a.length()>Number.EPSILON){a.normalize();const v=Math.acos(zr(i[m-1].dot(i[m]),-1,1));s[m].applyMatrix4(l.makeRotationAxis(a,v))}o[m].crossVectors(i[m],s[m])}if(t===!0){let m=Math.acos(zr(s[0].dot(s[e]),-1,1));m/=e,i[0].dot(a.crossVectors(s[0],s[e]))>0&&(m=-m);for(let v=1;v<=e;v++)s[v].applyMatrix4(l.makeRotationAxis(i[v],m*v)),o[v].crossVectors(i[v],s[v])}return{tangents:i,normals:s,binormals:o}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.6,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}let wR=class extends Xl{constructor(e=0,t=0,r=1,i=1,s=0,o=Math.PI*2,a=!1,l=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=t,this.xRadius=r,this.yRadius=i,this.aStartAngle=s,this.aEndAngle=o,this.aClockwise=a,this.aRotation=l}getPoint(e,t){const r=t||new Ye,i=Math.PI*2;let s=this.aEndAngle-this.aStartAngle;const o=Math.abs(s)<Number.EPSILON;for(;s<0;)s+=i;for(;s>i;)s-=i;s<Number.EPSILON&&(o?s=0:s=i),this.aClockwise===!0&&!o&&(s===i?s=-i:s=s-i);const a=this.aStartAngle+e*s;let l=this.aX+this.xRadius*Math.cos(a),u=this.aY+this.yRadius*Math.sin(a);if(this.aRotation!==0){const h=Math.cos(this.aRotation),f=Math.sin(this.aRotation),p=l-this.aX,m=u-this.aY;l=p*h-m*f+this.aX,u=p*f+m*h+this.aY}return r.set(l,u)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}};class kY extends wR{constructor(e,t,r,i,s,o){super(e,t,r,r,i,s,o),this.isArcCurve=!0,this.type="ArcCurve"}}function ZU(){let n=0,e=0,t=0,r=0;function i(s,o,a,l){n=s,e=a,t=-3*s+3*o-2*a-l,r=2*s-2*o+a+l}return{initCatmullRom:function(s,o,a,l,u){i(o,a,u*(a-s),u*(l-o))},initNonuniformCatmullRom:function(s,o,a,l,u,h,f){let p=(o-s)/u-(a-s)/(u+h)+(a-o)/h,m=(a-o)/h-(l-o)/(h+f)+(l-a)/f;p*=h,m*=h,i(o,a,p,m)},calc:function(s){const o=s*s,a=o*s;return n+e*s+t*o+r*a}}}const nb=new se,KB=new ZU,QB=new ZU,qB=new ZU;class GY extends Xl{constructor(e=[],t=!1,r="centripetal",i=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=t,this.curveType=r,this.tension=i}getPoint(e,t=new se){const r=t,i=this.points,s=i.length,o=(s-(this.closed?0:1))*e;let a=Math.floor(o),l=o-a;this.closed?a+=a>0?0:(Math.floor(Math.abs(a)/s)+1)*s:l===0&&a===s-1&&(a=s-2,l=1);let u,h;this.closed||a>0?u=i[(a-1)%s]:(nb.subVectors(i[0],i[1]).add(i[0]),u=nb);const f=i[a%s],p=i[(a+1)%s];if(this.closed||a+2<s?h=i[(a+2)%s]:(nb.subVectors(i[s-1],i[s-2]).add(i[s-1]),h=nb),this.curveType==="centripetal"||this.curveType==="chordal"){const m=this.curveType==="chordal"?.5:.25;let v=Math.pow(u.distanceToSquared(f),m),S=Math.pow(f.distanceToSquared(p),m),A=Math.pow(p.distanceToSquared(h),m);S<1e-4&&(S=1),v<1e-4&&(v=S),A<1e-4&&(A=S),KB.initNonuniformCatmullRom(u.x,f.x,p.x,h.x,v,S,A),QB.initNonuniformCatmullRom(u.y,f.y,p.y,h.y,v,S,A),qB.initNonuniformCatmullRom(u.z,f.z,p.z,h.z,v,S,A)}else this.curveType==="catmullrom"&&(KB.initCatmullRom(u.x,f.x,p.x,h.x,this.tension),QB.initCatmullRom(u.y,f.y,p.y,h.y,this.tension),qB.initCatmullRom(u.z,f.z,p.z,h.z,this.tension));return r.set(KB.calc(l),QB.calc(l),qB.calc(l)),r}copy(e){super.copy(e),this.points=[];for(let t=0,r=e.points.length;t<r;t++){const i=e.points[t];this.points.push(i.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,r=this.points.length;t<r;t++){const i=this.points[t];e.points.push(i.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,r=e.points.length;t<r;t++){const i=e.points[t];this.points.push(new se().fromArray(i))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function Z4(n,e,t,r,i){const s=(r-e)*.5,o=(i-t)*.5,a=n*n,l=n*a;return(2*t-2*r+s+o)*l+(-3*t+3*r-2*s-o)*a+s*n+t}function cfe(n,e){const t=1-n;return t*t*e}function hfe(n,e){return 2*(1-n)*n*e}function dfe(n,e){return n*n*e}function a_(n,e,t,r){return cfe(n,e)+hfe(n,t)+dfe(n,r)}function ffe(n,e){const t=1-n;return t*t*t*e}function pfe(n,e){const t=1-n;return 3*t*t*n*e}function mfe(n,e){return 3*(1-n)*n*n*e}function gfe(n,e){return n*n*n*e}function l_(n,e,t,r,i){return ffe(n,e)+pfe(n,t)+mfe(n,r)+gfe(n,i)}class $U extends Xl{constructor(e=new Ye,t=new Ye,r=new Ye,i=new Ye){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=t,this.v2=r,this.v3=i}getPoint(e,t=new Ye){const r=t,i=this.v0,s=this.v1,o=this.v2,a=this.v3;return r.set(l_(e,i.x,s.x,o.x,a.x),l_(e,i.y,s.y,o.y,a.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class zY extends Xl{constructor(e=new se,t=new se,r=new se,i=new se){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=t,this.v2=r,this.v3=i}getPoint(e,t=new se){const r=t,i=this.v0,s=this.v1,o=this.v2,a=this.v3;return r.set(l_(e,i.x,s.x,o.x,a.x),l_(e,i.y,s.y,o.y,a.y),l_(e,i.z,s.z,o.z,a.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}let TR=class extends Xl{constructor(e=new Ye,t=new Ye){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=t}getPoint(e,t=new Ye){const r=t;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t=new Ye){return t.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,t){return this.getTangent(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}};class HY extends Xl{constructor(e=new se,t=new se){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=t}getPoint(e,t=new se){const r=t;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t=new se){return t.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,t){return this.getTangent(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class eO extends Xl{constructor(e=new Ye,t=new Ye,r=new Ye){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=t,this.v2=r}getPoint(e,t=new Ye){const r=t,i=this.v0,s=this.v1,o=this.v2;return r.set(a_(e,i.x,s.x,o.x),a_(e,i.y,s.y,o.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class tO extends Xl{constructor(e=new se,t=new se,r=new se){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=t,this.v2=r}getPoint(e,t=new se){const r=t,i=this.v0,s=this.v1,o=this.v2;return r.set(a_(e,i.x,s.x,o.x),a_(e,i.y,s.y,o.y),a_(e,i.z,s.z,o.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class nO extends Xl{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,t=new Ye){const r=t,i=this.points,s=(i.length-1)*e,o=Math.floor(s),a=s-o,l=i[o===0?o:o-1],u=i[o],h=i[o>i.length-2?i.length-1:o+1],f=i[o>i.length-3?i.length-1:o+2];return r.set(Z4(a,l.x,u.x,h.x,f.x),Z4(a,l.y,u.y,h.y,f.y)),r}copy(e){super.copy(e),this.points=[];for(let t=0,r=e.points.length;t<r;t++){const i=e.points[t];this.points.push(i.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,r=this.points.length;t<r;t++){const i=this.points[t];e.points.push(i.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,r=e.points.length;t<r;t++){const i=e.points[t];this.points.push(new Ye().fromArray(i))}return this}}var rO=Object.freeze({__proto__:null,ArcCurve:kY,CatmullRomCurve3:GY,CubicBezierCurve:$U,CubicBezierCurve3:zY,EllipseCurve:wR,LineCurve:TR,LineCurve3:HY,QuadraticBezierCurve:eO,QuadraticBezierCurve3:tO,SplineCurve:nO});class VY extends Xl{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);e.equals(t)||this.curves.push(new TR(t,e))}getPoint(e,t){const r=e*this.getLength(),i=this.getCurveLengths();let s=0;for(;s<i.length;){if(i[s]>=r){const o=i[s]-r,a=this.curves[s],l=a.getLength(),u=l===0?0:1-o/l;return a.getPointAt(u,t)}s++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let t=0;for(let r=0,i=this.curves.length;r<i;r++)t+=this.curves[r].getLength(),e.push(t);return this.cacheLengths=e,e}getSpacedPoints(e=40){const t=[];for(let r=0;r<=e;r++)t.push(this.getPoint(r/e));return this.autoClose&&t.push(t[0]),t}getPoints(e=12){const t=[];let r;for(let i=0,s=this.curves;i<s.length;i++){const o=s[i],a=o.isEllipseCurve?e*2:o.isLineCurve||o.isLineCurve3?1:o.isSplineCurve?e*o.points.length:e,l=o.getPoints(a);for(let u=0;u<l.length;u++){const h=l[u];r&&r.equals(h)||(t.push(h),r=h)}}return this.autoClose&&t.length>1&&!t[t.length-1].equals(t[0])&&t.push(t[0]),t}copy(e){super.copy(e),this.curves=[];for(let t=0,r=e.curves.length;t<r;t++){const i=e.curves[t];this.curves.push(i.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let t=0,r=this.curves.length;t<r;t++){const i=this.curves[t];e.curves.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let t=0,r=e.curves.length;t<r;t++){const i=e.curves[t];this.curves.push(new rO[i.type]().fromJSON(i))}return this}}let nM=class extends VY{constructor(e){super(),this.type="Path",this.currentPoint=new Ye,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let t=1,r=e.length;t<r;t++)this.lineTo(e[t].x,e[t].y);return this}moveTo(e,t){return this.currentPoint.set(e,t),this}lineTo(e,t){const r=new TR(this.currentPoint.clone(),new Ye(e,t));return this.curves.push(r),this.currentPoint.set(e,t),this}quadraticCurveTo(e,t,r,i){const s=new eO(this.currentPoint.clone(),new Ye(e,t),new Ye(r,i));return this.curves.push(s),this.currentPoint.set(r,i),this}bezierCurveTo(e,t,r,i,s,o){const a=new $U(this.currentPoint.clone(),new Ye(e,t),new Ye(r,i),new Ye(s,o));return this.curves.push(a),this.currentPoint.set(s,o),this}splineThru(e){const t=[this.currentPoint.clone()].concat(e),r=new nO(t);return this.curves.push(r),this.currentPoint.copy(e[e.length-1]),this}arc(e,t,r,i,s,o){const a=this.currentPoint.x,l=this.currentPoint.y;return this.absarc(e+a,t+l,r,i,s,o),this}absarc(e,t,r,i,s,o){return this.absellipse(e,t,r,r,i,s,o),this}ellipse(e,t,r,i,s,o,a,l){const u=this.currentPoint.x,h=this.currentPoint.y;return this.absellipse(e+u,t+h,r,i,s,o,a,l),this}absellipse(e,t,r,i,s,o,a,l){const u=new wR(e,t,r,i,s,o,a,l);if(this.curves.length>0){const f=u.getPoint(0);f.equals(this.currentPoint)||this.lineTo(f.x,f.y)}this.curves.push(u);const h=u.getPoint(1);return this.currentPoint.copy(h),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}};class gx extends Kt{constructor(e=[new Ye(0,-.5),new Ye(.5,0),new Ye(0,.5)],t=12,r=0,i=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:e,segments:t,phiStart:r,phiLength:i},t=Math.floor(t),i=zr(i,0,Math.PI*2);const s=[],o=[],a=[],l=[],u=[],h=1/t,f=new se,p=new Ye,m=new se,v=new se,S=new se;let A=0,g=0;for(let M=0;M<=e.length-1;M++)switch(M){case 0:A=e[M+1].x-e[M].x,g=e[M+1].y-e[M].y,m.x=g*1,m.y=-A,m.z=g*0,S.copy(m),m.normalize(),l.push(m.x,m.y,m.z);break;case e.length-1:l.push(S.x,S.y,S.z);break;default:A=e[M+1].x-e[M].x,g=e[M+1].y-e[M].y,m.x=g*1,m.y=-A,m.z=g*0,v.copy(m),m.x+=S.x,m.y+=S.y,m.z+=S.z,m.normalize(),l.push(m.x,m.y,m.z),S.copy(v)}for(let M=0;M<=t;M++){const _=r+M*h*i,b=Math.sin(_),T=Math.cos(_);for(let C=0;C<=e.length-1;C++){f.x=e[C].x*b,f.y=e[C].y,f.z=e[C].x*T,o.push(f.x,f.y,f.z),p.x=M/t,p.y=C/(e.length-1),a.push(p.x,p.y);const B=l[3*C+0]*b,P=l[3*C+1],R=l[3*C+0]*T;u.push(B,P,R)}}for(let M=0;M<t;M++)for(let _=0;_<e.length-1;_++){const b=_+M*e.length,T=b,C=b+e.length,B=b+e.length+1,P=b+1;s.push(T,C,P),s.push(B,P,C)}this.setIndex(s),this.setAttribute("position",new Tt(o,3)),this.setAttribute("uv",new Tt(a,2)),this.setAttribute("normal",new Tt(u,3))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new gx(e.points,e.segments,e.phiStart,e.phiLength)}}let iO=class WY extends gx{constructor(e=1,t=1,r=4,i=8){const s=new nM;s.absarc(0,-t/2,e,Math.PI*1.5,0),s.absarc(0,t/2,e,0,Math.PI*.5),super(s.getPoints(r),i),this.type="CapsuleGeometry",this.parameters={radius:e,height:t,capSegments:r,radialSegments:i}}static fromJSON(e){return new WY(e.radius,e.length,e.capSegments,e.radialSegments)}},sO=class jY extends Kt{constructor(e=1,t=32,r=0,i=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:e,segments:t,thetaStart:r,thetaLength:i},t=Math.max(3,t);const s=[],o=[],a=[],l=[],u=new se,h=new Ye;o.push(0,0,0),a.push(0,0,1),l.push(.5,.5);for(let f=0,p=3;f<=t;f++,p+=3){const m=r+f/t*i;u.x=e*Math.cos(m),u.y=e*Math.sin(m),o.push(u.x,u.y,u.z),a.push(0,0,1),h.x=(o[p]/e+1)/2,h.y=(o[p+1]/e+1)/2,l.push(h.x,h.y)}for(let f=1;f<=t;f++)s.push(f,f+1,0);this.setIndex(s),this.setAttribute("position",new Tt(o,3)),this.setAttribute("normal",new Tt(a,3)),this.setAttribute("uv",new Tt(l,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new jY(e.radius,e.segments,e.thetaStart,e.thetaLength)}},sS=class XY extends Kt{constructor(e=1,t=1,r=1,i=32,s=1,o=!1,a=0,l=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:r,radialSegments:i,heightSegments:s,openEnded:o,thetaStart:a,thetaLength:l};const u=this;i=Math.floor(i),s=Math.floor(s);const h=[],f=[],p=[],m=[];let v=0;const S=[],A=r/2;let g=0;M(),o===!1&&(e>0&&_(!0),t>0&&_(!1)),this.setIndex(h),this.setAttribute("position",new Tt(f,3)),this.setAttribute("normal",new Tt(p,3)),this.setAttribute("uv",new Tt(m,2));function M(){const b=new se,T=new se;let C=0;const B=(t-e)/r;for(let P=0;P<=s;P++){const R=[],L=P/s,U=L*(t-e)+e;for(let Q=0;Q<=i;Q++){const W=Q/i,Y=W*l+a,X=Math.sin(Y),ae=Math.cos(Y);T.x=U*X,T.y=-L*r+A,T.z=U*ae,f.push(T.x,T.y,T.z),b.set(X,B,ae).normalize(),p.push(b.x,b.y,b.z),m.push(W,1-L),R.push(v++)}S.push(R)}for(let P=0;P<i;P++)for(let R=0;R<s;R++){const L=S[R][P],U=S[R+1][P],Q=S[R+1][P+1],W=S[R][P+1];h.push(L,U,W),h.push(U,Q,W),C+=6}u.addGroup(g,C,0),g+=C}function _(b){const T=v,C=new Ye,B=new se;let P=0;const R=b===!0?e:t,L=b===!0?1:-1;for(let Q=1;Q<=i;Q++)f.push(0,A*L,0),p.push(0,L,0),m.push(.5,.5),v++;const U=v;for(let Q=0;Q<=i;Q++){const W=Q/i*l+a,Y=Math.cos(W),X=Math.sin(W);B.x=R*X,B.y=A*L,B.z=R*Y,f.push(B.x,B.y,B.z),p.push(0,L,0),C.x=Y*.5+.5,C.y=X*.5*L+.5,m.push(C.x,C.y),v++}for(let Q=0;Q<i;Q++){const W=T+Q,Y=U+Q;b===!0?h.push(Y,Y+1,W):h.push(Y+1,Y,W),P+=3}u.addGroup(g,P,b===!0?1:2),g+=P}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new XY(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}},oO=class JY extends sS{constructor(e=1,t=1,r=32,i=1,s=!1,o=0,a=Math.PI*2){super(0,e,t,r,i,s,o,a),this.type="ConeGeometry",this.parameters={radius:e,height:t,radialSegments:r,heightSegments:i,openEnded:s,thetaStart:o,thetaLength:a}}static fromJSON(e){return new JY(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}};class Ch extends Kt{constructor(e=[],t=[],r=1,i=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:t,radius:r,detail:i};const s=[],o=[];a(i),u(r),h(),this.setAttribute("position",new Tt(s,3)),this.setAttribute("normal",new Tt(s.slice(),3)),this.setAttribute("uv",new Tt(o,2)),i===0?this.computeVertexNormals():this.normalizeNormals();function a(M){const _=new se,b=new se,T=new se;for(let C=0;C<t.length;C+=3)m(t[C+0],_),m(t[C+1],b),m(t[C+2],T),l(_,b,T,M)}function l(M,_,b,T){const C=T+1,B=[];for(let P=0;P<=C;P++){B[P]=[];const R=M.clone().lerp(b,P/C),L=_.clone().lerp(b,P/C),U=C-P;for(let Q=0;Q<=U;Q++)Q===0&&P===C?B[P][Q]=R:B[P][Q]=R.clone().lerp(L,Q/U)}for(let P=0;P<C;P++)for(let R=0;R<2*(C-P)-1;R++){const L=Math.floor(R/2);R%2===0?(p(B[P][L+1]),p(B[P+1][L]),p(B[P][L])):(p(B[P][L+1]),p(B[P+1][L+1]),p(B[P+1][L]))}}function u(M){const _=new se;for(let b=0;b<s.length;b+=3)_.x=s[b+0],_.y=s[b+1],_.z=s[b+2],_.normalize().multiplyScalar(M),s[b+0]=_.x,s[b+1]=_.y,s[b+2]=_.z}function h(){const M=new se;for(let _=0;_<s.length;_+=3){M.x=s[_+0],M.y=s[_+1],M.z=s[_+2];const b=A(M)/2/Math.PI+.5,T=g(M)/Math.PI+.5;o.push(b,1-T)}v(),f()}function f(){for(let M=0;M<o.length;M+=6){const _=o[M+0],b=o[M+2],T=o[M+4],C=Math.max(_,b,T),B=Math.min(_,b,T);C>.9&&B<.1&&(_<.2&&(o[M+0]+=1),b<.2&&(o[M+2]+=1),T<.2&&(o[M+4]+=1))}}function p(M){s.push(M.x,M.y,M.z)}function m(M,_){const b=M*3;_.x=e[b+0],_.y=e[b+1],_.z=e[b+2]}function v(){const M=new se,_=new se,b=new se,T=new se,C=new Ye,B=new Ye,P=new Ye;for(let R=0,L=0;R<s.length;R+=9,L+=6){M.set(s[R+0],s[R+1],s[R+2]),_.set(s[R+3],s[R+4],s[R+5]),b.set(s[R+6],s[R+7],s[R+8]),C.set(o[L+0],o[L+1]),B.set(o[L+2],o[L+3]),P.set(o[L+4],o[L+5]),T.copy(M).add(_).add(b).divideScalar(3);const U=A(T);S(C,L+0,M,U),S(B,L+2,_,U),S(P,L+4,b,U)}}function S(M,_,b,T){T<0&&M.x===1&&(o[_]=M.x-1),b.x===0&&b.z===0&&(o[_]=T/2/Math.PI+.5)}function A(M){return Math.atan2(M.z,-M.x)}function g(M){return Math.atan2(-M.y,Math.sqrt(M.x*M.x+M.z*M.z))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Ch(e.vertices,e.indices,e.radius,e.details)}}let aO=class YY extends Ch{constructor(e=1,t=0){const r=(1+Math.sqrt(5))/2,i=1/r,s=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-i,-r,0,-i,r,0,i,-r,0,i,r,-i,-r,0,-i,r,0,i,-r,0,i,r,0,-r,0,-i,r,0,-i,-r,0,i,r,0,i],o=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(s,o,e,t),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new YY(e.radius,e.detail)}};const rb=new se,ib=new se,ZB=new se,sb=new vm;class KY extends Kt{constructor(e=null,t=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:t},e!==null){const r=Math.pow(10,4),i=Math.cos(Fm*t),s=e.getIndex(),o=e.getAttribute("position"),a=s?s.count:o.count,l=[0,0,0],u=["a","b","c"],h=new Array(3),f={},p=[];for(let m=0;m<a;m+=3){s?(l[0]=s.getX(m),l[1]=s.getX(m+1),l[2]=s.getX(m+2)):(l[0]=m,l[1]=m+1,l[2]=m+2);const{a:v,b:S,c:A}=sb;if(v.fromBufferAttribute(o,l[0]),S.fromBufferAttribute(o,l[1]),A.fromBufferAttribute(o,l[2]),sb.getNormal(ZB),h[0]=`${Math.round(v.x*r)},${Math.round(v.y*r)},${Math.round(v.z*r)}`,h[1]=`${Math.round(S.x*r)},${Math.round(S.y*r)},${Math.round(S.z*r)}`,h[2]=`${Math.round(A.x*r)},${Math.round(A.y*r)},${Math.round(A.z*r)}`,!(h[0]===h[1]||h[1]===h[2]||h[2]===h[0]))for(let g=0;g<3;g++){const M=(g+1)%3,_=h[g],b=h[M],T=sb[u[g]],C=sb[u[M]],B=`${_}_${b}`,P=`${b}_${_}`;P in f&&f[P]?(ZB.dot(f[P].normal)<=i&&(p.push(T.x,T.y,T.z),p.push(C.x,C.y,C.z)),f[P]=null):B in f||(f[B]={index0:l[g],index1:l[M],normal:ZB.clone()})}}for(const m in f)if(f[m]){const{index0:v,index1:S}=f[m];rb.fromBufferAttribute(o,v),ib.fromBufferAttribute(o,S),p.push(rb.x,rb.y,rb.z),p.push(ib.x,ib.y,ib.z)}this.setAttribute("position",new Tt(p,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}class Um extends nM{constructor(e){super(e),this.uuid=Yo(),this.type="Shape",this.holes=[]}getPointsHoles(e){const t=[];for(let r=0,i=this.holes.length;r<i;r++)t[r]=this.holes[r].getPoints(e);return t}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let t=0,r=e.holes.length;t<r;t++){const i=e.holes[t];this.holes.push(i.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let t=0,r=this.holes.length;t<r;t++){const i=this.holes[t];e.holes.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let t=0,r=e.holes.length;t<r;t++){const i=e.holes[t];this.holes.push(new nM().fromJSON(i))}return this}}const vfe={triangulate:function(n,e,t=2){const r=e&&e.length,i=r?e[0]*t:n.length;let s=QY(n,0,i,t,!0);const o=[];if(!s||s.next===s.prev)return o;let a,l,u,h,f,p,m;if(r&&(s=Mfe(n,e,s,t)),n.length>80*t){a=u=n[0],l=h=n[1];for(let v=t;v<i;v+=t)f=n[v],p=n[v+1],f<a&&(a=f),p<l&&(l=p),f>u&&(u=f),p>h&&(h=p);m=Math.max(u-a,h-l),m=m!==0?32767/m:0}return rM(s,o,t,a,l,m,0),o}};function QY(n,e,t,r,i){let s,o;if(i===Ife(n,e,t,r)>0)for(s=e;s<t;s+=r)o=$4(s,n[s],n[s+1],o);else for(s=t-r;s>=e;s-=r)o=$4(s,n[s],n[s+1],o);return o&&CR(o,o.next)&&(sM(o),o=o.next),o}function $m(n,e){if(!n)return n;e||(e=n);let t=n,r;do if(r=!1,!t.steiner&&(CR(t,t.next)||Mr(t.prev,t,t.next)===0)){if(sM(t),t=e=t.prev,t===t.next)break;r=!0}else t=t.next;while(r||t!==e);return e}function rM(n,e,t,r,i,s,o){if(!n)return;!o&&s&&Tfe(n,r,i,s);let a=n,l,u;for(;n.prev!==n.next;){if(l=n.prev,u=n.next,s?xfe(n,r,i,s):yfe(n)){e.push(l.i/t|0),e.push(n.i/t|0),e.push(u.i/t|0),sM(n),n=u.next,a=u.next;continue}if(n=u,n===a){o?o===1?(n=Afe($m(n),e,t),rM(n,e,t,r,i,s,2)):o===2&&_fe(n,e,t,r,i,s):rM($m(n),e,t,r,i,s,1);break}}}function yfe(n){const e=n.prev,t=n,r=n.next;if(Mr(e,t,r)>=0)return!1;const i=e.x,s=t.x,o=r.x,a=e.y,l=t.y,u=r.y,h=i<s?i<o?i:o:s<o?s:o,f=a<l?a<u?a:u:l<u?l:u,p=i>s?i>o?i:o:s>o?s:o,m=a>l?a>u?a:u:l>u?l:u;let v=r.next;for(;v!==e;){if(v.x>=h&&v.x<=p&&v.y>=f&&v.y<=m&&C0(i,a,s,l,o,u,v.x,v.y)&&Mr(v.prev,v,v.next)>=0)return!1;v=v.next}return!0}function xfe(n,e,t,r){const i=n.prev,s=n,o=n.next;if(Mr(i,s,o)>=0)return!1;const a=i.x,l=s.x,u=o.x,h=i.y,f=s.y,p=o.y,m=a<l?a<u?a:u:l<u?l:u,v=h<f?h<p?h:p:f<p?f:p,S=a>l?a>u?a:u:l>u?l:u,A=h>f?h>p?h:p:f>p?f:p,g=zD(m,v,e,t,r),M=zD(S,A,e,t,r);let _=n.prevZ,b=n.nextZ;for(;_&&_.z>=g&&b&&b.z<=M;){if(_.x>=m&&_.x<=S&&_.y>=v&&_.y<=A&&_!==i&&_!==o&&C0(a,h,l,f,u,p,_.x,_.y)&&Mr(_.prev,_,_.next)>=0||(_=_.prevZ,b.x>=m&&b.x<=S&&b.y>=v&&b.y<=A&&b!==i&&b!==o&&C0(a,h,l,f,u,p,b.x,b.y)&&Mr(b.prev,b,b.next)>=0))return!1;b=b.nextZ}for(;_&&_.z>=g;){if(_.x>=m&&_.x<=S&&_.y>=v&&_.y<=A&&_!==i&&_!==o&&C0(a,h,l,f,u,p,_.x,_.y)&&Mr(_.prev,_,_.next)>=0)return!1;_=_.prevZ}for(;b&&b.z<=M;){if(b.x>=m&&b.x<=S&&b.y>=v&&b.y<=A&&b!==i&&b!==o&&C0(a,h,l,f,u,p,b.x,b.y)&&Mr(b.prev,b,b.next)>=0)return!1;b=b.nextZ}return!0}function Afe(n,e,t){let r=n;do{const i=r.prev,s=r.next.next;!CR(i,s)&&qY(i,r,r.next,s)&&iM(i,s)&&iM(s,i)&&(e.push(i.i/t|0),e.push(r.i/t|0),e.push(s.i/t|0),sM(r),sM(r.next),r=n=s),r=r.next}while(r!==n);return $m(r)}function _fe(n,e,t,r,i,s){let o=n;do{let a=o.next.next;for(;a!==o.prev;){if(o.i!==a.i&&Pfe(o,a)){let l=ZY(o,a);o=$m(o,o.next),l=$m(l,l.next),rM(o,e,t,r,i,s,0),rM(l,e,t,r,i,s,0);return}a=a.next}o=o.next}while(o!==n)}function Mfe(n,e,t,r){const i=[];let s,o,a,l,u;for(s=0,o=e.length;s<o;s++)a=e[s]*r,l=s<o-1?e[s+1]*r:n.length,u=QY(n,a,l,r,!1),u===u.next&&(u.steiner=!0),i.push(Rfe(u));for(i.sort(Sfe),s=0;s<i.length;s++)t=Efe(i[s],t);return t}function Sfe(n,e){return n.x-e.x}function Efe(n,e){const t=bfe(n,e);if(!t)return e;const r=ZY(t,n);return $m(r,r.next),$m(t,t.next)}function bfe(n,e){let t=e,r=-1/0,i;const s=n.x,o=n.y;do{if(o<=t.y&&o>=t.next.y&&t.next.y!==t.y){const p=t.x+(o-t.y)*(t.next.x-t.x)/(t.next.y-t.y);if(p<=s&&p>r&&(r=p,i=t.x<t.next.x?t:t.next,p===s))return i}t=t.next}while(t!==e);if(!i)return null;const a=i,l=i.x,u=i.y;let h=1/0,f;t=i;do s>=t.x&&t.x>=l&&s!==t.x&&C0(o<u?s:r,o,l,u,o<u?r:s,o,t.x,t.y)&&(f=Math.abs(o-t.y)/(s-t.x),iM(t,n)&&(f<h||f===h&&(t.x>i.x||t.x===i.x&&wfe(i,t)))&&(i=t,h=f)),t=t.next;while(t!==a);return i}function wfe(n,e){return Mr(n.prev,n,e.prev)<0&&Mr(e.next,n,n.next)<0}function Tfe(n,e,t,r){let i=n;do i.z===0&&(i.z=zD(i.x,i.y,e,t,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next;while(i!==n);i.prevZ.nextZ=null,i.prevZ=null,Cfe(i)}function Cfe(n){let e,t,r,i,s,o,a,l,u=1;do{for(t=n,n=null,s=null,o=0;t;){for(o++,r=t,a=0,e=0;e<u&&(a++,r=r.nextZ,!!r);e++);for(l=u;a>0||l>0&&r;)a!==0&&(l===0||!r||t.z<=r.z)?(i=t,t=t.nextZ,a--):(i=r,r=r.nextZ,l--),s?s.nextZ=i:n=i,i.prevZ=s,s=i;t=r}s.nextZ=null,u*=2}while(o>1);return n}function zD(n,e,t,r,i){return n=(n-t)*i|0,e=(e-r)*i|0,n=(n|n<<8)&16711935,n=(n|n<<4)&252645135,n=(n|n<<2)&858993459,n=(n|n<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,n|e<<1}function Rfe(n){let e=n,t=n;do(e.x<t.x||e.x===t.x&&e.y<t.y)&&(t=e),e=e.next;while(e!==n);return t}function C0(n,e,t,r,i,s,o,a){return(i-o)*(e-a)>=(n-o)*(s-a)&&(n-o)*(r-a)>=(t-o)*(e-a)&&(t-o)*(s-a)>=(i-o)*(r-a)}function Pfe(n,e){return n.next.i!==e.i&&n.prev.i!==e.i&&!Bfe(n,e)&&(iM(n,e)&&iM(e,n)&&Lfe(n,e)&&(Mr(n.prev,n,e.prev)||Mr(n,e.prev,e))||CR(n,e)&&Mr(n.prev,n,n.next)>0&&Mr(e.prev,e,e.next)>0)}function Mr(n,e,t){return(e.y-n.y)*(t.x-e.x)-(e.x-n.x)*(t.y-e.y)}function CR(n,e){return n.x===e.x&&n.y===e.y}function qY(n,e,t,r){const i=ab(Mr(n,e,t)),s=ab(Mr(n,e,r)),o=ab(Mr(t,r,n)),a=ab(Mr(t,r,e));return!!(i!==s&&o!==a||i===0&&ob(n,t,e)||s===0&&ob(n,r,e)||o===0&&ob(t,n,r)||a===0&&ob(t,e,r))}function ob(n,e,t){return e.x<=Math.max(n.x,t.x)&&e.x>=Math.min(n.x,t.x)&&e.y<=Math.max(n.y,t.y)&&e.y>=Math.min(n.y,t.y)}function ab(n){return n>0?1:n<0?-1:0}function Bfe(n,e){let t=n;do{if(t.i!==n.i&&t.next.i!==n.i&&t.i!==e.i&&t.next.i!==e.i&&qY(t,t.next,n,e))return!0;t=t.next}while(t!==n);return!1}function iM(n,e){return Mr(n.prev,n,n.next)<0?Mr(n,e,n.next)>=0&&Mr(n,n.prev,e)>=0:Mr(n,e,n.prev)<0||Mr(n,n.next,e)<0}function Lfe(n,e){let t=n,r=!1;const i=(n.x+e.x)/2,s=(n.y+e.y)/2;do t.y>s!=t.next.y>s&&t.next.y!==t.y&&i<(t.next.x-t.x)*(s-t.y)/(t.next.y-t.y)+t.x&&(r=!r),t=t.next;while(t!==n);return r}function ZY(n,e){const t=new HD(n.i,n.x,n.y),r=new HD(e.i,e.x,e.y),i=n.next,s=e.prev;return n.next=e,e.prev=n,t.next=i,i.prev=t,r.next=t,t.prev=r,s.next=r,r.prev=s,r}function $4(n,e,t,r){const i=new HD(n,e,t);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function sM(n){n.next.prev=n.prev,n.prev.next=n.next,n.prevZ&&(n.prevZ.nextZ=n.nextZ),n.nextZ&&(n.nextZ.prevZ=n.prevZ)}function HD(n,e,t){this.i=n,this.x=e,this.y=t,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function Ife(n,e,t,r){let i=0;for(let s=e,o=t-r;s<t;s+=r)i+=(n[o]-n[s])*(n[s+1]+n[o+1]),o=s;return i}class Uu{static area(e){const t=e.length;let r=0;for(let i=t-1,s=0;s<t;i=s++)r+=e[i].x*e[s].y-e[s].x*e[i].y;return r*.5}static isClockWise(e){return Uu.area(e)<0}static triangulateShape(e,t){const r=[],i=[],s=[];eV(e),tV(r,e);let o=e.length;t.forEach(eV);for(let l=0;l<t.length;l++)i.push(o),o+=t[l].length,tV(r,t[l]);const a=vfe.triangulate(r,i);for(let l=0;l<a.length;l+=3)s.push(a.slice(l,l+3));return s}}function eV(n){const e=n.length;e>2&&n[e-1].equals(n[0])&&n.pop()}function tV(n,e){for(let t=0;t<e.length;t++)n.push(e[t].x),n.push(e[t].y)}let lO=class $Y extends Kt{constructor(e=new Um([new Ye(.5,.5),new Ye(-.5,.5),new Ye(-.5,-.5),new Ye(.5,-.5)]),t={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:t},e=Array.isArray(e)?e:[e];const r=this,i=[],s=[];for(let a=0,l=e.length;a<l;a++){const u=e[a];o(u)}this.setAttribute("position",new Tt(i,3)),this.setAttribute("uv",new Tt(s,2)),this.computeVertexNormals();function o(a){const l=[],u=t.curveSegments!==void 0?t.curveSegments:12,h=t.steps!==void 0?t.steps:1,f=t.depth!==void 0?t.depth:1;let p=t.bevelEnabled!==void 0?t.bevelEnabled:!0,m=t.bevelThickness!==void 0?t.bevelThickness:.2,v=t.bevelSize!==void 0?t.bevelSize:m-.1,S=t.bevelOffset!==void 0?t.bevelOffset:0,A=t.bevelSegments!==void 0?t.bevelSegments:3;const g=t.extrudePath,M=t.UVGenerator!==void 0?t.UVGenerator:Dfe;let _,b=!1,T,C,B,P;g&&(_=g.getSpacedPoints(h),b=!0,p=!1,T=g.computeFrenetFrames(h,!1),C=new se,B=new se,P=new se),p||(A=0,m=0,v=0,S=0);const R=a.extractPoints(u);let L=R.shape;const U=R.holes;if(!Uu.isClockWise(L)){L=L.reverse();for(let fe=0,z=U.length;fe<z;fe++){const Ae=U[fe];Uu.isClockWise(Ae)&&(U[fe]=Ae.reverse())}}const Q=Uu.triangulateShape(L,U),W=L;for(let fe=0,z=U.length;fe<z;fe++){const Ae=U[fe];L=L.concat(Ae)}function Y(fe,z,Ae){return z||console.error("THREE.ExtrudeGeometry: vec does not exist"),fe.clone().addScaledVector(z,Ae)}const X=L.length,ae=Q.length;function Z(fe,z,Ae){let ge,Me,Ee;const Ve=fe.x-z.x,Ge=fe.y-z.y,ze=Ae.x-fe.x,Ze=Ae.y-fe.y,St=Ve*Ve+Ge*Ge,Dt=Ve*Ze-Ge*ze;if(Math.abs(Dt)>Number.EPSILON){const O=Math.sqrt(St),F=Math.sqrt(ze*ze+Ze*Ze),ce=z.x-Ge/O,be=z.y+Ve/O,Se=Ae.x-Ze/F,Fe=Ae.y+ze/F,Xe=((Se-ce)*Ze-(Fe-be)*ze)/(Ve*Ze-Ge*ze);ge=ce+Ve*Xe-fe.x,Me=be+Ge*Xe-fe.y;const De=ge*ge+Me*Me;if(De<=2)return new Ye(ge,Me);Ee=Math.sqrt(De/2)}else{let O=!1;Ve>Number.EPSILON?ze>Number.EPSILON&&(O=!0):Ve<-Number.EPSILON?ze<-Number.EPSILON&&(O=!0):Math.sign(Ge)===Math.sign(Ze)&&(O=!0),O?(ge=-Ge,Me=Ve,Ee=Math.sqrt(St)):(ge=Ve,Me=Ge,Ee=Math.sqrt(St/2))}return new Ye(ge/Ee,Me/Ee)}const D=[];for(let fe=0,z=W.length,Ae=z-1,ge=fe+1;fe<z;fe++,Ae++,ge++)Ae===z&&(Ae=0),ge===z&&(ge=0),D[fe]=Z(W[fe],W[Ae],W[ge]);const k=[];let G,K=D.concat();for(let fe=0,z=U.length;fe<z;fe++){const Ae=U[fe];G=[];for(let ge=0,Me=Ae.length,Ee=Me-1,Ve=ge+1;ge<Me;ge++,Ee++,Ve++)Ee===Me&&(Ee=0),Ve===Me&&(Ve=0),G[ge]=Z(Ae[ge],Ae[Ee],Ae[Ve]);k.push(G),K=K.concat(G)}for(let fe=0;fe<A;fe++){const z=fe/A,Ae=m*Math.cos(z*Math.PI/2),ge=v*Math.sin(z*Math.PI/2)+S;for(let Me=0,Ee=W.length;Me<Ee;Me++){const Ve=Y(W[Me],D[Me],ge);xe(Ve.x,Ve.y,-Ae)}for(let Me=0,Ee=U.length;Me<Ee;Me++){const Ve=U[Me];G=k[Me];for(let Ge=0,ze=Ve.length;Ge<ze;Ge++){const Ze=Y(Ve[Ge],G[Ge],ge);xe(Ze.x,Ze.y,-Ae)}}}const H=v+S;for(let fe=0;fe<X;fe++){const z=p?Y(L[fe],K[fe],H):L[fe];b?(B.copy(T.normals[0]).multiplyScalar(z.x),C.copy(T.binormals[0]).multiplyScalar(z.y),P.copy(_[0]).add(B).add(C),xe(P.x,P.y,P.z)):xe(z.x,z.y,0)}for(let fe=1;fe<=h;fe++)for(let z=0;z<X;z++){const Ae=p?Y(L[z],K[z],H):L[z];b?(B.copy(T.normals[fe]).multiplyScalar(Ae.x),C.copy(T.binormals[fe]).multiplyScalar(Ae.y),P.copy(_[fe]).add(B).add(C),xe(P.x,P.y,P.z)):xe(Ae.x,Ae.y,f/h*fe)}for(let fe=A-1;fe>=0;fe--){const z=fe/A,Ae=m*Math.cos(z*Math.PI/2),ge=v*Math.sin(z*Math.PI/2)+S;for(let Me=0,Ee=W.length;Me<Ee;Me++){const Ve=Y(W[Me],D[Me],ge);xe(Ve.x,Ve.y,f+Ae)}for(let Me=0,Ee=U.length;Me<Ee;Me++){const Ve=U[Me];G=k[Me];for(let Ge=0,ze=Ve.length;Ge<ze;Ge++){const Ze=Y(Ve[Ge],G[Ge],ge);b?xe(Ze.x,Ze.y+_[h-1].y,_[h-1].x+Ae):xe(Ze.x,Ze.y,f+Ae)}}}ue(),le();function ue(){const fe=i.length/3;if(p){let z=0,Ae=X*z;for(let ge=0;ge<ae;ge++){const Me=Q[ge];Be(Me[2]+Ae,Me[1]+Ae,Me[0]+Ae)}z=h+A*2,Ae=X*z;for(let ge=0;ge<ae;ge++){const Me=Q[ge];Be(Me[0]+Ae,Me[1]+Ae,Me[2]+Ae)}}else{for(let z=0;z<ae;z++){const Ae=Q[z];Be(Ae[2],Ae[1],Ae[0])}for(let z=0;z<ae;z++){const Ae=Q[z];Be(Ae[0]+X*h,Ae[1]+X*h,Ae[2]+X*h)}}r.addGroup(fe,i.length/3-fe,0)}function le(){const fe=i.length/3;let z=0;Ce(W,z),z+=W.length;for(let Ae=0,ge=U.length;Ae<ge;Ae++){const Me=U[Ae];Ce(Me,z),z+=Me.length}r.addGroup(fe,i.length/3-fe,1)}function Ce(fe,z){let Ae=fe.length;for(;--Ae>=0;){const ge=Ae;let Me=Ae-1;Me<0&&(Me=fe.length-1);for(let Ee=0,Ve=h+A*2;Ee<Ve;Ee++){const Ge=X*Ee,ze=X*(Ee+1),Ze=z+ge+Ge,St=z+Me+Ge,Dt=z+Me+ze,O=z+ge+ze;Qe(Ze,St,Dt,O)}}}function xe(fe,z,Ae){l.push(fe),l.push(z),l.push(Ae)}function Be(fe,z,Ae){je(fe),je(z),je(Ae);const ge=i.length/3,Me=M.generateTopUV(r,i,ge-3,ge-2,ge-1);Ke(Me[0]),Ke(Me[1]),Ke(Me[2])}function Qe(fe,z,Ae,ge){je(fe),je(z),je(ge),je(z),je(Ae),je(ge);const Me=i.length/3,Ee=M.generateSideWallUV(r,i,Me-6,Me-3,Me-2,Me-1);Ke(Ee[0]),Ke(Ee[1]),Ke(Ee[3]),Ke(Ee[1]),Ke(Ee[2]),Ke(Ee[3])}function je(fe){i.push(l[fe*3+0]),i.push(l[fe*3+1]),i.push(l[fe*3+2])}function Ke(fe){s.push(fe.x),s.push(fe.y)}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),t=this.parameters.shapes,r=this.parameters.options;return Ffe(t,r,e)}static fromJSON(e,t){const r=[];for(let s=0,o=e.shapes.length;s<o;s++){const a=t[e.shapes[s]];r.push(a)}const i=e.options.extrudePath;return i!==void 0&&(e.options.extrudePath=new rO[i.type]().fromJSON(i)),new $Y(r,e.options)}};const Dfe={generateTopUV:function(n,e,t,r,i){const s=e[t*3],o=e[t*3+1],a=e[r*3],l=e[r*3+1],u=e[i*3],h=e[i*3+1];return[new Ye(s,o),new Ye(a,l),new Ye(u,h)]},generateSideWallUV:function(n,e,t,r,i,s){const o=e[t*3],a=e[t*3+1],l=e[t*3+2],u=e[r*3],h=e[r*3+1],f=e[r*3+2],p=e[i*3],m=e[i*3+1],v=e[i*3+2],S=e[s*3],A=e[s*3+1],g=e[s*3+2];return Math.abs(a-h)<Math.abs(o-u)?[new Ye(o,1-l),new Ye(u,1-f),new Ye(p,1-v),new Ye(S,1-g)]:[new Ye(a,1-l),new Ye(h,1-f),new Ye(m,1-v),new Ye(A,1-g)]}};function Ffe(n,e,t){if(t.shapes=[],Array.isArray(n))for(let r=0,i=n.length;r<i;r++){const s=n[r];t.shapes.push(s.uuid)}else t.shapes.push(n.uuid);return t.options=Object.assign({},e),e.extrudePath!==void 0&&(t.options.extrudePath=e.extrudePath.toJSON()),t}let uO=class eK extends Ch{constructor(e=1,t=0){const r=(1+Math.sqrt(5))/2,i=[-1,r,0,1,r,0,-1,-r,0,1,-r,0,0,-1,r,0,1,r,0,-1,-r,0,1,-r,r,0,-1,r,0,1,-r,0,-1,-r,0,1],s=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(i,s,e,t),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new eK(e.radius,e.detail)}};class vx extends Ch{constructor(e=1,t=0){const r=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],i=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(r,i,e,t),this.type="OctahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new vx(e.radius,e.detail)}}let cO=class tK extends Kt{constructor(e=.5,t=1,r=32,i=1,s=0,o=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:r,phiSegments:i,thetaStart:s,thetaLength:o},r=Math.max(3,r),i=Math.max(1,i);const a=[],l=[],u=[],h=[];let f=e;const p=(t-e)/i,m=new se,v=new Ye;for(let S=0;S<=i;S++){for(let A=0;A<=r;A++){const g=s+A/r*o;m.x=f*Math.cos(g),m.y=f*Math.sin(g),l.push(m.x,m.y,m.z),u.push(0,0,1),v.x=(m.x/t+1)/2,v.y=(m.y/t+1)/2,h.push(v.x,v.y)}f+=p}for(let S=0;S<i;S++){const A=S*(r+1);for(let g=0;g<r;g++){const M=g+A,_=M,b=M+r+1,T=M+r+2,C=M+1;a.push(_,b,C),a.push(b,T,C)}}this.setIndex(a),this.setAttribute("position",new Tt(l,3)),this.setAttribute("normal",new Tt(u,3)),this.setAttribute("uv",new Tt(h,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new tK(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}},hO=class nK extends Kt{constructor(e=new Um([new Ye(0,.5),new Ye(-.5,-.5),new Ye(.5,-.5)]),t=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:t};const r=[],i=[],s=[],o=[];let a=0,l=0;if(Array.isArray(e)===!1)u(e);else for(let h=0;h<e.length;h++)u(e[h]),this.addGroup(a,l,h),a+=l,l=0;this.setIndex(r),this.setAttribute("position",new Tt(i,3)),this.setAttribute("normal",new Tt(s,3)),this.setAttribute("uv",new Tt(o,2));function u(h){const f=i.length/3,p=h.extractPoints(t);let m=p.shape;const v=p.holes;Uu.isClockWise(m)===!1&&(m=m.reverse());for(let A=0,g=v.length;A<g;A++){const M=v[A];Uu.isClockWise(M)===!0&&(v[A]=M.reverse())}const S=Uu.triangulateShape(m,v);for(let A=0,g=v.length;A<g;A++){const M=v[A];m=m.concat(M)}for(let A=0,g=m.length;A<g;A++){const M=m[A];i.push(M.x,M.y,0),s.push(0,0,1),o.push(M.x,M.y)}for(let A=0,g=S.length;A<g;A++){const M=S[A],_=M[0]+f,b=M[1]+f,T=M[2]+f;r.push(_,b,T),l+=3}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),t=this.parameters.shapes;return Nfe(t,e)}static fromJSON(e,t){const r=[];for(let i=0,s=e.shapes.length;i<s;i++){const o=t[e.shapes[i]];r.push(o)}return new nK(r,e.curveSegments)}};function Nfe(n,e){if(e.shapes=[],Array.isArray(n))for(let t=0,r=n.length;t<r;t++){const i=n[t];e.shapes.push(i.uuid)}else e.shapes.push(n.uuid);return e}class yx extends Kt{constructor(e=1,t=32,r=16,i=0,s=Math.PI*2,o=0,a=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:r,phiStart:i,phiLength:s,thetaStart:o,thetaLength:a},t=Math.max(3,Math.floor(t)),r=Math.max(2,Math.floor(r));const l=Math.min(o+a,Math.PI);let u=0;const h=[],f=new se,p=new se,m=[],v=[],S=[],A=[];for(let g=0;g<=r;g++){const M=[],_=g/r;let b=0;g===0&&o===0?b=.5/t:g===r&&l===Math.PI&&(b=-.5/t);for(let T=0;T<=t;T++){const C=T/t;f.x=-e*Math.cos(i+C*s)*Math.sin(o+_*a),f.y=e*Math.cos(o+_*a),f.z=e*Math.sin(i+C*s)*Math.sin(o+_*a),v.push(f.x,f.y,f.z),p.copy(f).normalize(),S.push(p.x,p.y,p.z),A.push(C+b,1-_),M.push(u++)}h.push(M)}for(let g=0;g<r;g++)for(let M=0;M<t;M++){const _=h[g][M+1],b=h[g][M],T=h[g+1][M],C=h[g+1][M+1];(g!==0||o>0)&&m.push(_,b,C),(g!==r-1||l<Math.PI)&&m.push(b,T,C)}this.setIndex(m),this.setAttribute("position",new Tt(v,3)),this.setAttribute("normal",new Tt(S,3)),this.setAttribute("uv",new Tt(A,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new yx(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}let dO=class rK extends Ch{constructor(e=1,t=0){const r=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],i=[2,1,0,0,3,2,1,3,0,2,3,1];super(r,i,e,t),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new rK(e.radius,e.detail)}},fO=class iK extends Kt{constructor(e=1,t=.4,r=12,i=48,s=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:t,radialSegments:r,tubularSegments:i,arc:s},r=Math.floor(r),i=Math.floor(i);const o=[],a=[],l=[],u=[],h=new se,f=new se,p=new se;for(let m=0;m<=r;m++)for(let v=0;v<=i;v++){const S=v/i*s,A=m/r*Math.PI*2;f.x=(e+t*Math.cos(A))*Math.cos(S),f.y=(e+t*Math.cos(A))*Math.sin(S),f.z=t*Math.sin(A),a.push(f.x,f.y,f.z),h.x=e*Math.cos(S),h.y=e*Math.sin(S),p.subVectors(f,h).normalize(),l.push(p.x,p.y,p.z),u.push(v/i),u.push(m/r)}for(let m=1;m<=r;m++)for(let v=1;v<=i;v++){const S=(i+1)*m+v-1,A=(i+1)*(m-1)+v-1,g=(i+1)*(m-1)+v,M=(i+1)*m+v;o.push(S,A,M),o.push(A,g,M)}this.setIndex(o),this.setAttribute("position",new Tt(a,3)),this.setAttribute("normal",new Tt(l,3)),this.setAttribute("uv",new Tt(u,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new iK(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}},pO=class sK extends Kt{constructor(e=1,t=.4,r=64,i=8,s=2,o=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:t,tubularSegments:r,radialSegments:i,p:s,q:o},r=Math.floor(r),i=Math.floor(i);const a=[],l=[],u=[],h=[],f=new se,p=new se,m=new se,v=new se,S=new se,A=new se,g=new se;for(let _=0;_<=r;++_){const b=_/r*s*Math.PI*2;M(b,s,o,e,m),M(b+.01,s,o,e,v),A.subVectors(v,m),g.addVectors(v,m),S.crossVectors(A,g),g.crossVectors(S,A),S.normalize(),g.normalize();for(let T=0;T<=i;++T){const C=T/i*Math.PI*2,B=-t*Math.cos(C),P=t*Math.sin(C);f.x=m.x+(B*g.x+P*S.x),f.y=m.y+(B*g.y+P*S.y),f.z=m.z+(B*g.z+P*S.z),l.push(f.x,f.y,f.z),p.subVectors(f,m).normalize(),u.push(p.x,p.y,p.z),h.push(_/r),h.push(T/i)}}for(let _=1;_<=r;_++)for(let b=1;b<=i;b++){const T=(i+1)*(_-1)+(b-1),C=(i+1)*_+(b-1),B=(i+1)*_+b,P=(i+1)*(_-1)+b;a.push(T,C,P),a.push(C,B,P)}this.setIndex(a),this.setAttribute("position",new Tt(l,3)),this.setAttribute("normal",new Tt(u,3)),this.setAttribute("uv",new Tt(h,2));function M(_,b,T,C,B){const P=Math.cos(_),R=Math.sin(_),L=T/b*_,U=Math.cos(L);B.x=C*(2+U)*.5*P,B.y=C*(2+U)*R*.5,B.z=C*Math.sin(L)*.5}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new sK(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}},mO=class oK extends Kt{constructor(e=new tO(new se(-1,-1,0),new se(-1,1,0),new se(1,1,0)),t=64,r=1,i=8,s=!1){super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:t,radius:r,radialSegments:i,closed:s};const o=e.computeFrenetFrames(t,s);this.tangents=o.tangents,this.normals=o.normals,this.binormals=o.binormals;const a=new se,l=new se,u=new Ye;let h=new se;const f=[],p=[],m=[],v=[];S(),this.setIndex(v),this.setAttribute("position",new Tt(f,3)),this.setAttribute("normal",new Tt(p,3)),this.setAttribute("uv",new Tt(m,2));function S(){for(let _=0;_<t;_++)A(_);A(s===!1?t:0),M(),g()}function A(_){h=e.getPointAt(_/t,h);const b=o.normals[_],T=o.binormals[_];for(let C=0;C<=i;C++){const B=C/i*Math.PI*2,P=Math.sin(B),R=-Math.cos(B);l.x=R*b.x+P*T.x,l.y=R*b.y+P*T.y,l.z=R*b.z+P*T.z,l.normalize(),p.push(l.x,l.y,l.z),a.x=h.x+r*l.x,a.y=h.y+r*l.y,a.z=h.z+r*l.z,f.push(a.x,a.y,a.z)}}function g(){for(let _=1;_<=t;_++)for(let b=1;b<=i;b++){const T=(i+1)*(_-1)+(b-1),C=(i+1)*_+(b-1),B=(i+1)*_+b,P=(i+1)*(_-1)+b;v.push(T,C,P),v.push(C,B,P)}}function M(){for(let _=0;_<=t;_++)for(let b=0;b<=i;b++)u.x=_/t,u.y=b/i,m.push(u.x,u.y)}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new oK(new rO[e.path.type]().fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}};class aK extends Kt{constructor(e=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:e},e!==null){const t=[],r=new Set,i=new se,s=new se;if(e.index!==null){const o=e.attributes.position,a=e.index;let l=e.groups;l.length===0&&(l=[{start:0,count:a.count,materialIndex:0}]);for(let u=0,h=l.length;u<h;++u){const f=l[u],p=f.start,m=f.count;for(let v=p,S=p+m;v<S;v+=3)for(let A=0;A<3;A++){const g=a.getX(v+A),M=a.getX(v+(A+1)%3);i.fromBufferAttribute(o,g),s.fromBufferAttribute(o,M),nV(i,s,r)===!0&&(t.push(i.x,i.y,i.z),t.push(s.x,s.y,s.z))}}}else{const o=e.attributes.position;for(let a=0,l=o.count/3;a<l;a++)for(let u=0;u<3;u++){const h=3*a+u,f=3*a+(u+1)%3;i.fromBufferAttribute(o,h),s.fromBufferAttribute(o,f),nV(i,s,r)===!0&&(t.push(i.x,i.y,i.z),t.push(s.x,s.y,s.z))}}this.setAttribute("position",new Tt(t,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}function nV(n,e,t){const r=`${n.x},${n.y},${n.z}-${e.x},${e.y},${e.z}`,i=`${e.x},${e.y},${e.z}-${n.x},${n.y},${n.z}`;return t.has(r)===!0||t.has(i)===!0?!1:(t.add(r),t.add(i),!0)}var rV=Object.freeze({__proto__:null,BoxGeometry:fx,CapsuleGeometry:iO,CircleGeometry:sO,ConeGeometry:oO,CylinderGeometry:sS,DodecahedronGeometry:aO,EdgesGeometry:KY,ExtrudeGeometry:lO,IcosahedronGeometry:uO,LatheGeometry:gx,OctahedronGeometry:vx,PlaneGeometry:px,PolyhedronGeometry:Ch,RingGeometry:cO,ShapeGeometry:hO,SphereGeometry:yx,TetrahedronGeometry:dO,TorusGeometry:fO,TorusKnotGeometry:pO,TubeGeometry:mO,WireframeGeometry:aK});class lK extends ci{constructor(e){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new xt(0),this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.fog=e.fog,this}}class uK extends Yu{constructor(e){super(e),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}let oS=class extends ci{constructor(e){super(),this.isMeshStandardMaterial=!0,this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new xt(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new xt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Cf,this.normalScale=new Ye(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}};class $u extends oS{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.anisotropyRotation=0,this.anisotropyMap=null,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new Ye(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return zr(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(t){this.ior=(1+.4*t)/(1-.4*t)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new xt(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new xt(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new xt(1,1,1),this.specularColorMap=null,this._anisotropy=0,this._clearcoat=0,this._iridescence=0,this._sheen=0,this._transmission=0,this.setValues(e)}get anisotropy(){return this._anisotropy}set anisotropy(e){this._anisotropy>0!=e>0&&this.version++,this._anisotropy=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.anisotropy=e.anisotropy,this.anisotropyRotation=e.anisotropyRotation,this.anisotropyMap=e.anisotropyMap,this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}class cK extends ci{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new xt(16777215),this.specular=new xt(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new xt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Cf,this.normalScale=new Ye(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=$M,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class hK extends ci{constructor(e){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new xt(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new xt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Cf,this.normalScale=new Ye(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}class dK extends ci{constructor(e){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Cf,this.normalScale=new Ye(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}class fK extends ci{constructor(e){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new xt(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new xt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Cf,this.normalScale=new Ye(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=$M,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class pK extends ci{constructor(e){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new xt(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Cf,this.normalScale=new Ye(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.flatShading=e.flatShading,this.fog=e.fog,this}}class mK extends Ts{constructor(e){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}function Da(n,e,t){return gO(n)?new n.constructor(n.subarray(e,t!==void 0?t:n.length)):n.slice(e,t)}function ym(n,e,t){return!n||!t&&n.constructor===e?n:typeof e.BYTES_PER_ELEMENT=="number"?new e(n):Array.prototype.slice.call(n)}function gO(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}function gK(n){function e(i,s){return n[i]-n[s]}const t=n.length,r=new Array(t);for(let i=0;i!==t;++i)r[i]=i;return r.sort(e),r}function VD(n,e,t){const r=n.length,i=new n.constructor(r);for(let s=0,o=0;o!==r;++s){const a=t[s]*e;for(let l=0;l!==e;++l)i[o++]=n[a+l]}return i}function vO(n,e,t,r){let i=1,s=n[0];for(;s!==void 0&&s[r]===void 0;)s=n[i++];if(s===void 0)return;let o=s[r];if(o!==void 0)if(Array.isArray(o))do o=s[r],o!==void 0&&(e.push(s.time),t.push.apply(t,o)),s=n[i++];while(s!==void 0);else if(o.toArray!==void 0)do o=s[r],o!==void 0&&(e.push(s.time),o.toArray(t,t.length)),s=n[i++];while(s!==void 0);else do o=s[r],o!==void 0&&(e.push(s.time),t.push(o)),s=n[i++];while(s!==void 0)}function Ufe(n,e,t,r,i=30){const s=n.clone();s.name=e;const o=[];for(let l=0;l<s.tracks.length;++l){const u=s.tracks[l],h=u.getValueSize(),f=[],p=[];for(let m=0;m<u.times.length;++m){const v=u.times[m]*i;if(!(v<t||v>=r)){f.push(u.times[m]);for(let S=0;S<h;++S)p.push(u.values[m*h+S])}}f.length!==0&&(u.times=ym(f,u.times.constructor),u.values=ym(p,u.values.constructor),o.push(u))}s.tracks=o;let a=1/0;for(let l=0;l<s.tracks.length;++l)a>s.tracks[l].times[0]&&(a=s.tracks[l].times[0]);for(let l=0;l<s.tracks.length;++l)s.tracks[l].shift(-1*a);return s.resetDuration(),s}function Ofe(n,e=0,t=n,r=30){r<=0&&(r=30);const i=t.tracks.length,s=e/r;for(let o=0;o<i;++o){const a=t.tracks[o],l=a.ValueTypeName;if(l==="bool"||l==="string")continue;const u=n.tracks.find(function(g){return g.name===a.name&&g.ValueTypeName===l});if(u===void 0)continue;let h=0;const f=a.getValueSize();a.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(h=f/3);let p=0;const m=u.getValueSize();u.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(p=m/3);const v=a.times.length-1;let S;if(s<=a.times[0]){const g=h,M=f-h;S=Da(a.values,g,M)}else if(s>=a.times[v]){const g=v*f+h,M=g+f-h;S=Da(a.values,g,M)}else{const g=a.createInterpolant(),M=h,_=f-h;g.evaluate(s),S=Da(g.resultBuffer,M,_)}l==="quaternion"&&new Hi().fromArray(S).normalize().conjugate().toArray(S);const A=u.times.length;for(let g=0;g<A;++g){const M=g*m+p;if(l==="quaternion")Hi.multiplyQuaternionsFlat(u.values,M,S,0,u.values,M);else{const _=m-p*2;for(let b=0;b<_;++b)u.values[M+b]-=S[b]}}}return n.blendMode=RU,n}const kfe={arraySlice:Da,convertArray:ym,isTypedArray:gO,getKeyframeOrder:gK,sortedArray:VD,flattenJSON:vO,subclip:Ufe,makeClipAdditive:Ofe};class xx{constructor(e,t,r,i){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=i!==void 0?i:new t.constructor(r),this.sampleValues=t,this.valueSize=r,this.settings=null,this.DefaultSettings_={}}evaluate(e){const t=this.parameterPositions;let r=this._cachedIndex,i=t[r],s=t[r-1];e:{t:{let o;n:{r:if(!(e<i)){for(let a=r+2;;){if(i===void 0){if(e<s)break r;return r=t.length,this._cachedIndex=r,this.copySampleValue_(r-1)}if(r===a)break;if(s=i,i=t[++r],e<i)break t}o=t.length;break n}if(!(e>=s)){const a=t[1];e<a&&(r=2,s=a);for(let l=r-2;;){if(s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(r===l)break;if(i=s,s=t[--r-1],e>=s)break t}o=r,r=0;break n}break e}for(;r<o;){const a=r+o>>>1;e<t[a]?o=a:r=a+1}if(i=t[r],s=t[r-1],s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(i===void 0)return r=t.length,this._cachedIndex=r,this.copySampleValue_(r-1)}this._cachedIndex=r,this.intervalChanged_(r,s,i)}return this.interpolate_(r,s,e,i)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const t=this.resultBuffer,r=this.sampleValues,i=this.valueSize,s=e*i;for(let o=0;o!==i;++o)t[o]=r[s+o];return t}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class vK extends xx{constructor(e,t,r,i){super(e,t,r,i),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:pm,endingEnd:pm}}intervalChanged_(e,t,r){const i=this.parameterPositions;let s=e-2,o=e+1,a=i[s],l=i[o];if(a===void 0)switch(this.getSettings_().endingStart){case mm:s=e,a=2*t-r;break;case Z_:s=i.length-2,a=t+i[s]-i[s+1];break;default:s=e,a=r}if(l===void 0)switch(this.getSettings_().endingEnd){case mm:o=e,l=2*r-t;break;case Z_:o=1,l=r+i[1]-i[0];break;default:o=e-1,l=t}const u=(r-t)*.5,h=this.valueSize;this._weightPrev=u/(t-a),this._weightNext=u/(l-r),this._offsetPrev=s*h,this._offsetNext=o*h}interpolate_(e,t,r,i){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=e*a,u=l-a,h=this._offsetPrev,f=this._offsetNext,p=this._weightPrev,m=this._weightNext,v=(r-t)/(i-t),S=v*v,A=S*v,g=-p*A+2*p*S-p*v,M=(1+p)*A+(-1.5-2*p)*S+(-.5+p)*v+1,_=(-1-m)*A+(1.5+m)*S+.5*v,b=m*A-m*S;for(let T=0;T!==a;++T)s[T]=g*o[h+T]+M*o[u+T]+_*o[l+T]+b*o[f+T];return s}}class yO extends xx{constructor(e,t,r,i){super(e,t,r,i)}interpolate_(e,t,r,i){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=e*a,u=l-a,h=(r-t)/(i-t),f=1-h;for(let p=0;p!==a;++p)s[p]=o[u+p]*f+o[l+p]*h;return s}}class yK extends xx{constructor(e,t,r,i){super(e,t,r,i)}interpolate_(e){return this.copySampleValue_(e-1)}}class Jl{constructor(e,t,r,i){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(t===void 0||t.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=ym(t,this.TimeBufferType),this.values=ym(r,this.ValueBufferType),this.setInterpolation(i||this.DefaultInterpolation)}static toJSON(e){const t=e.constructor;let r;if(t.toJSON!==this.toJSON)r=t.toJSON(e);else{r={name:e.name,times:ym(e.times,Array),values:ym(e.values,Array)};const i=e.getInterpolation();i!==e.DefaultInterpolation&&(r.interpolation=i)}return r.type=e.ValueTypeName,r}InterpolantFactoryMethodDiscrete(e){return new yK(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new yO(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new vK(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let t;switch(e){case Fy:t=this.InterpolantFactoryMethodDiscrete;break;case Zm:t=this.InterpolantFactoryMethodLinear;break;case $w:t=this.InterpolantFactoryMethodSmooth;break}if(t===void 0){const r="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(r);return console.warn("THREE.KeyframeTrack:",r),this}return this.createInterpolant=t,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return Fy;case this.InterpolantFactoryMethodLinear:return Zm;case this.InterpolantFactoryMethodSmooth:return $w}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){const t=this.times;for(let r=0,i=t.length;r!==i;++r)t[r]+=e}return this}scale(e){if(e!==1){const t=this.times;for(let r=0,i=t.length;r!==i;++r)t[r]*=e}return this}trim(e,t){const r=this.times,i=r.length;let s=0,o=i-1;for(;s!==i&&r[s]<e;)++s;for(;o!==-1&&r[o]>t;)--o;if(++o,s!==0||o!==i){s>=o&&(o=Math.max(o,1),s=o-1);const a=this.getValueSize();this.times=Da(r,s,o),this.values=Da(this.values,s*a,o*a)}return this}validate(){let e=!0;const t=this.getValueSize();t-Math.floor(t)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const r=this.times,i=this.values,s=r.length;s===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let o=null;for(let a=0;a!==s;a++){const l=r[a];if(typeof l=="number"&&isNaN(l)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,a,l),e=!1;break}if(o!==null&&o>l){console.error("THREE.KeyframeTrack: Out of order keys.",this,a,l,o),e=!1;break}o=l}if(i!==void 0&&gO(i))for(let a=0,l=i.length;a!==l;++a){const u=i[a];if(isNaN(u)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,a,u),e=!1;break}}return e}optimize(){const e=Da(this.times),t=Da(this.values),r=this.getValueSize(),i=this.getInterpolation()===$w,s=e.length-1;let o=1;for(let a=1;a<s;++a){let l=!1;const u=e[a],h=e[a+1];if(u!==h&&(a!==1||u!==e[0]))if(i)l=!0;else{const f=a*r,p=f-r,m=f+r;for(let v=0;v!==r;++v){const S=t[f+v];if(S!==t[p+v]||S!==t[m+v]){l=!0;break}}}if(l){if(a!==o){e[o]=e[a];const f=a*r,p=o*r;for(let m=0;m!==r;++m)t[p+m]=t[f+m]}++o}}if(s>0){e[o]=e[s];for(let a=s*r,l=o*r,u=0;u!==r;++u)t[l+u]=t[a+u];++o}return o!==e.length?(this.times=Da(e,0,o),this.values=Da(t,0,o*r)):(this.times=e,this.values=t),this}clone(){const e=Da(this.times,0),t=Da(this.values,0),r=this.constructor,i=new r(this.name,e,t);return i.createInterpolant=this.createInterpolant,i}}Jl.prototype.TimeBufferType=Float32Array;Jl.prototype.ValueBufferType=Float32Array;Jl.prototype.DefaultInterpolation=Zm;let dg=class extends Jl{};dg.prototype.ValueTypeName="bool";dg.prototype.ValueBufferType=Array;dg.prototype.DefaultInterpolation=Fy;dg.prototype.InterpolantFactoryMethodLinear=void 0;dg.prototype.InterpolantFactoryMethodSmooth=void 0;class xO extends Jl{}xO.prototype.ValueTypeName="color";let ky=class extends Jl{};ky.prototype.ValueTypeName="number";class xK extends xx{constructor(e,t,r,i){super(e,t,r,i)}interpolate_(e,t,r,i){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=(r-t)/(i-t);let u=e*a;for(let h=u+a;u!==h;u+=4)Hi.slerpFlat(s,0,o,u-a,o,u,l);return s}}class ff extends Jl{InterpolantFactoryMethodLinear(e){return new xK(this.times,this.values,this.getValueSize(),e)}}ff.prototype.ValueTypeName="quaternion";ff.prototype.DefaultInterpolation=Zm;ff.prototype.InterpolantFactoryMethodSmooth=void 0;let fg=class extends Jl{};fg.prototype.ValueTypeName="string";fg.prototype.ValueBufferType=Array;fg.prototype.DefaultInterpolation=Fy;fg.prototype.InterpolantFactoryMethodLinear=void 0;fg.prototype.InterpolantFactoryMethodSmooth=void 0;let Gy=class extends Jl{};Gy.prototype.ValueTypeName="vector";let zy=class{constructor(e,t=-1,r,i=_R){this.name=e,this.tracks=r,this.duration=t,this.blendMode=i,this.uuid=Yo(),this.duration<0&&this.resetDuration()}static parse(e){const t=[],r=e.tracks,i=1/(e.fps||1);for(let o=0,a=r.length;o!==a;++o)t.push(zfe(r[o]).scale(i));const s=new this(e.name,e.duration,t,e.blendMode);return s.uuid=e.uuid,s}static toJSON(e){const t=[],r=e.tracks,i={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid,blendMode:e.blendMode};for(let s=0,o=r.length;s!==o;++s)t.push(Jl.toJSON(r[s]));return i}static CreateFromMorphTargetSequence(e,t,r,i){const s=t.length,o=[];for(let a=0;a<s;a++){let l=[],u=[];l.push((a+s-1)%s,a,(a+1)%s),u.push(0,1,0);const h=gK(l);l=VD(l,1,h),u=VD(u,1,h),!i&&l[0]===0&&(l.push(s),u.push(u[0])),o.push(new ky(".morphTargetInfluences["+t[a].name+"]",l,u).scale(1/r))}return new this(e,-1,o)}static findByName(e,t){let r=e;if(!Array.isArray(e)){const i=e;r=i.geometry&&i.geometry.animations||i.animations}for(let i=0;i<r.length;i++)if(r[i].name===t)return r[i];return null}static CreateClipsFromMorphTargetSequences(e,t,r){const i={},s=/^([\w-]*?)([\d]+)$/;for(let a=0,l=e.length;a<l;a++){const u=e[a],h=u.name.match(s);if(h&&h.length>1){const f=h[1];let p=i[f];p||(i[f]=p=[]),p.push(u)}}const o=[];for(const a in i)o.push(this.CreateFromMorphTargetSequence(a,i[a],t,r));return o}static parseAnimation(e,t){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const r=function(h,f,p,m,v){if(p.length!==0){const S=[],A=[];vO(p,S,A,m),S.length!==0&&v.push(new h(f,S,A))}},i=[],s=e.name||"default",o=e.fps||30,a=e.blendMode;let l=e.length||-1;const u=e.hierarchy||[];for(let h=0;h<u.length;h++){const f=u[h].keys;if(!(!f||f.length===0))if(f[0].morphTargets){const p={};let m;for(m=0;m<f.length;m++)if(f[m].morphTargets)for(let v=0;v<f[m].morphTargets.length;v++)p[f[m].morphTargets[v]]=-1;for(const v in p){const S=[],A=[];for(let g=0;g!==f[m].morphTargets.length;++g){const M=f[m];S.push(M.time),A.push(M.morphTarget===v?1:0)}i.push(new ky(".morphTargetInfluence["+v+"]",S,A))}l=p.length*o}else{const p=".bones["+t[h].name+"]";r(Gy,p+".position",f,"pos",i),r(ff,p+".quaternion",f,"rot",i),r(Gy,p+".scale",f,"scl",i)}}return i.length===0?null:new this(s,l,i,a)}resetDuration(){const e=this.tracks;let t=0;for(let r=0,i=e.length;r!==i;++r){const s=this.tracks[r];t=Math.max(t,s.times[s.times.length-1])}return this.duration=t,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let t=0;t<this.tracks.length;t++)e.push(this.tracks[t].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}};function Gfe(n){switch(n.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return ky;case"vector":case"vector2":case"vector3":case"vector4":return Gy;case"color":return xO;case"quaternion":return ff;case"bool":case"boolean":return dg;case"string":return fg}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+n)}function zfe(n){if(n.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=Gfe(n.type);if(n.times===void 0){const t=[],r=[];vO(n.keys,t,r,"value"),n.times=t,n.values=r}return e.parse!==void 0?e.parse(n):new e(n.name,n.times,n.values,n.interpolation)}const eg={enabled:!1,files:{},add:function(n,e){this.enabled!==!1&&(this.files[n]=e)},get:function(n){if(this.enabled!==!1)return this.files[n]},remove:function(n){delete this.files[n]},clear:function(){this.files={}}};class AO{constructor(e,t,r){const i=this;let s=!1,o=0,a=0,l;const u=[];this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=r,this.itemStart=function(h){a++,s===!1&&i.onStart!==void 0&&i.onStart(h,o,a),s=!0},this.itemEnd=function(h){o++,i.onProgress!==void 0&&i.onProgress(h,o,a),o===a&&(s=!1,i.onLoad!==void 0&&i.onLoad())},this.itemError=function(h){i.onError!==void 0&&i.onError(h)},this.resolveURL=function(h){return l?l(h):h},this.setURLModifier=function(h){return l=h,this},this.addHandler=function(h,f){return u.push(h,f),this},this.removeHandler=function(h){const f=u.indexOf(h);return f!==-1&&u.splice(f,2),this},this.getHandler=function(h){for(let f=0,p=u.length;f<p;f+=2){const m=u[f],v=u[f+1];if(m.global&&(m.lastIndex=0),m.test(h))return v}return null}}}const R0=new AO;let Ys=class{constructor(e){this.manager=e!==void 0?e:R0,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,t){const r=this;return new Promise(function(i,s){r.load(e,i,t,s)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}};const Uc={};class Hfe extends Error{constructor(e,t){super(e),this.response=t}}let Zo=class extends Ys{constructor(e){super(e)}load(e,t,r,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=eg.get(e);if(s!==void 0)return this.manager.itemStart(e),setTimeout(()=>{t&&t(s),this.manager.itemEnd(e)},0),s;if(Uc[e]!==void 0){Uc[e].push({onLoad:t,onProgress:r,onError:i});return}Uc[e]=[],Uc[e].push({onLoad:t,onProgress:r,onError:i});const o=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),a=this.mimeType,l=this.responseType;fetch(o).then(u=>{if(u.status===200||u.status===0){if(u.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||u.body===void 0||u.body.getReader===void 0)return u;const h=Uc[e],f=u.body.getReader(),p=u.headers.get("Content-Length")||u.headers.get("X-File-Size"),m=p?parseInt(p):0,v=m!==0;let S=0;const A=new ReadableStream({start(g){M();function M(){f.read().then(({done:_,value:b})=>{if(_)g.close();else{S+=b.byteLength;const T=new ProgressEvent("progress",{lengthComputable:v,loaded:S,total:m});for(let C=0,B=h.length;C<B;C++){const P=h[C];P.onProgress&&P.onProgress(T)}g.enqueue(b),M()}})}}});return new Response(A)}else throw new Hfe(`fetch for "${u.url}" responded with ${u.status}: ${u.statusText}`,u)}).then(u=>{switch(l){case"arraybuffer":return u.arrayBuffer();case"blob":return u.blob();case"document":return u.text().then(h=>new DOMParser().parseFromString(h,a));case"json":return u.json();default:if(a===void 0)return u.text();{const h=/charset="?([^;"\s]*)"?/i.exec(a),f=h&&h[1]?h[1].toLowerCase():void 0,p=new TextDecoder(f);return u.arrayBuffer().then(m=>p.decode(m))}}}).then(u=>{eg.add(e,u);const h=Uc[e];delete Uc[e];for(let f=0,p=h.length;f<p;f++){const m=h[f];m.onLoad&&m.onLoad(u)}}).catch(u=>{const h=Uc[e];if(h===void 0)throw this.manager.itemError(e),u;delete Uc[e];for(let f=0,p=h.length;f<p;f++){const m=h[f];m.onError&&m.onError(u)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}};class Vfe extends Ys{constructor(e){super(e)}load(e,t,r,i){const s=this,o=new Zo(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(a){try{t(s.parse(JSON.parse(a)))}catch(l){i?i(l):console.error(l),s.manager.itemError(e)}},r,i)}parse(e){const t=[];for(let r=0;r<e.length;r++){const i=zy.parse(e[r]);t.push(i)}return t}}class Wfe extends Ys{constructor(e){super(e)}load(e,t,r,i){const s=this,o=[],a=new qU,l=new Zo(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(s.withCredentials);let u=0;function h(f){l.load(e[f],function(p){const m=s.parse(p,!0);o[f]={width:m.width,height:m.height,format:m.format,mipmaps:m.mipmaps},u+=1,u===6&&(m.mipmapCount===1&&(a.minFilter=Ar),a.image=o,a.format=m.format,a.needsUpdate=!0,t&&t(a))},r,i)}if(Array.isArray(e))for(let f=0,p=e.length;f<p;++f)h(f);else l.load(e,function(f){const p=s.parse(f,!0);if(p.isCubemap){const m=p.mipmaps.length/p.mipmapCount;for(let v=0;v<m;v++){o[v]={mipmaps:[]};for(let S=0;S<p.mipmapCount;S++)o[v].mipmaps.push(p.mipmaps[v*p.mipmapCount+S]),o[v].format=p.format,o[v].width=p.width,o[v].height=p.height}a.image=o}else a.image.width=p.width,a.image.height=p.height,a.mipmaps=p.mipmaps;p.mipmapCount===1&&(a.minFilter=Ar),a.format=p.format,a.needsUpdate=!0,t&&t(a)},r,i);return a}}let oM=class extends Ys{constructor(e){super(e)}load(e,t,r,i){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,o=eg.get(e);if(o!==void 0)return s.manager.itemStart(e),setTimeout(function(){t&&t(o),s.manager.itemEnd(e)},0),o;const a=tM("img");function l(){h(),eg.add(e,this),t&&t(this),s.manager.itemEnd(e)}function u(f){h(),i&&i(f),s.manager.itemError(e),s.manager.itemEnd(e)}function h(){a.removeEventListener("load",l,!1),a.removeEventListener("error",u,!1)}return a.addEventListener("load",l,!1),a.addEventListener("error",u,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(a.crossOrigin=this.crossOrigin),s.manager.itemStart(e),a.src=e,a}};class jfe extends Ys{constructor(e){super(e)}load(e,t,r,i){const s=new nS;s.colorSpace=qt;const o=new oM(this.manager);o.setCrossOrigin(this.crossOrigin),o.setPath(this.path);let a=0;function l(u){o.load(e[u],function(h){s.images[u]=h,a++,a===6&&(s.needsUpdate=!0,t&&t(s))},void 0,i)}for(let u=0;u<e.length;++u)l(u);return s}}class Xfe extends Ys{constructor(e){super(e)}load(e,t,r,i){const s=this,o=new cy,a=new Zo(this.manager);return a.setResponseType("arraybuffer"),a.setRequestHeader(this.requestHeader),a.setPath(this.path),a.setWithCredentials(s.withCredentials),a.load(e,function(l){const u=s.parse(l);u&&(u.image!==void 0?o.image=u.image:u.data!==void 0&&(o.image.width=u.width,o.image.height=u.height,o.image.data=u.data),o.wrapS=u.wrapS!==void 0?u.wrapS:is,o.wrapT=u.wrapT!==void 0?u.wrapT:is,o.magFilter=u.magFilter!==void 0?u.magFilter:Ar,o.minFilter=u.minFilter!==void 0?u.minFilter:Ar,o.anisotropy=u.anisotropy!==void 0?u.anisotropy:1,u.colorSpace!==void 0?o.colorSpace=u.colorSpace:u.encoding!==void 0&&(o.encoding=u.encoding),u.flipY!==void 0&&(o.flipY=u.flipY),u.format!==void 0&&(o.format=u.format),u.type!==void 0&&(o.type=u.type),u.mipmaps!==void 0&&(o.mipmaps=u.mipmaps,o.minFilter=Ju),u.mipmapCount===1&&(o.minFilter=Ar),u.generateMipmaps!==void 0&&(o.generateMipmaps=u.generateMipmaps),o.needsUpdate=!0,t&&t(o,u))},r,i),o}}let aS=class extends Ys{constructor(e){super(e)}load(e,t,r,i){const s=new dr,o=new oM(this.manager);return o.setCrossOrigin(this.crossOrigin),o.setPath(this.path),o.load(e,function(a){s.image=a,s.needsUpdate=!0,t!==void 0&&t(s)},r,i),s}},Rf=class extends Mn{constructor(e,t=1){super(),this.isLight=!0,this.type="Light",this.color=new xt(e),this.intensity=t}dispose(){}copy(e,t){return super.copy(e,t),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const t=super.toJSON(e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,this.groundColor!==void 0&&(t.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(t.object.distance=this.distance),this.angle!==void 0&&(t.object.angle=this.angle),this.decay!==void 0&&(t.object.decay=this.decay),this.penumbra!==void 0&&(t.object.penumbra=this.penumbra),this.shadow!==void 0&&(t.object.shadow=this.shadow.toJSON()),t}};class AK extends Rf{constructor(e,t,r){super(e,r),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(Mn.DEFAULT_UP),this.updateMatrix(),this.groundColor=new xt(t)}copy(e,t){return super.copy(e,t),this.groundColor.copy(e.groundColor),this}}const $B=new zt,iV=new se,sV=new se;class _O{constructor(e){this.camera=e,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new Ye(512,512),this.map=null,this.mapPass=null,this.matrix=new zt,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new SR,this._frameExtents=new Ye(1,1),this._viewportCount=1,this._viewports=[new kn(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const t=this.camera,r=this.matrix;iV.setFromMatrixPosition(e.matrixWorld),t.position.copy(iV),sV.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(sV),t.updateMatrixWorld(),$B.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix($B),r.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),r.multiply($B)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class Jfe extends _O{constructor(){super(new ur(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(e){const t=this.camera,r=Ny*2*e.angle*this.focus,i=this.mapSize.width/this.mapSize.height,s=e.distance||t.far;(r!==t.fov||i!==t.aspect||s!==t.far)&&(t.fov=r,t.aspect=i,t.far=s,t.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class MO extends Rf{constructor(e,t,r=0,i=Math.PI/3,s=0,o=2){super(e,t),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(Mn.DEFAULT_UP),this.updateMatrix(),this.target=new Mn,this.distance=r,this.angle=i,this.penumbra=s,this.decay=o,this.map=null,this.shadow=new Jfe}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}const oV=new zt,ZA=new se,e2=new se;class Yfe extends _O{constructor(){super(new ur(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new Ye(4,2),this._viewportCount=6,this._viewports=[new kn(2,1,1,1),new kn(0,1,1,1),new kn(3,1,1,1),new kn(1,1,1,1),new kn(3,0,1,1),new kn(1,0,1,1)],this._cubeDirections=[new se(1,0,0),new se(-1,0,0),new se(0,0,1),new se(0,0,-1),new se(0,1,0),new se(0,-1,0)],this._cubeUps=[new se(0,1,0),new se(0,1,0),new se(0,1,0),new se(0,1,0),new se(0,0,1),new se(0,0,-1)]}updateMatrices(e,t=0){const r=this.camera,i=this.matrix,s=e.distance||r.far;s!==r.far&&(r.far=s,r.updateProjectionMatrix()),ZA.setFromMatrixPosition(e.matrixWorld),r.position.copy(ZA),e2.copy(r.position),e2.add(this._cubeDirections[t]),r.up.copy(this._cubeUps[t]),r.lookAt(e2),r.updateMatrixWorld(),i.makeTranslation(-ZA.x,-ZA.y,-ZA.z),oV.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),this._frustum.setFromProjectionMatrix(oV)}}class SO extends Rf{constructor(e,t,r=0,i=2){super(e,t),this.isPointLight=!0,this.type="PointLight",this.distance=r,this.decay=i,this.shadow=new Yfe}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}class Kfe extends _O{constructor(){super(new Ll(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class EO extends Rf{constructor(e,t){super(e,t),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(Mn.DEFAULT_UP),this.updateMatrix(),this.target=new Mn,this.shadow=new Kfe}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class _K extends Rf{constructor(e,t){super(e,t),this.isAmbientLight=!0,this.type="AmbientLight"}}class MK extends Rf{constructor(e,t,r=10,i=10){super(e,t),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=r,this.height=i}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const t=super.toJSON(e);return t.object.width=this.width,t.object.height=this.height,t}}class SK{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new se)}set(e){for(let t=0;t<9;t++)this.coefficients[t].copy(e[t]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,t){const r=e.x,i=e.y,s=e.z,o=this.coefficients;return t.copy(o[0]).multiplyScalar(.282095),t.addScaledVector(o[1],.488603*i),t.addScaledVector(o[2],.488603*s),t.addScaledVector(o[3],.488603*r),t.addScaledVector(o[4],1.092548*(r*i)),t.addScaledVector(o[5],1.092548*(i*s)),t.addScaledVector(o[6],.315392*(3*s*s-1)),t.addScaledVector(o[7],1.092548*(r*s)),t.addScaledVector(o[8],.546274*(r*r-i*i)),t}getIrradianceAt(e,t){const r=e.x,i=e.y,s=e.z,o=this.coefficients;return t.copy(o[0]).multiplyScalar(.886227),t.addScaledVector(o[1],2*.511664*i),t.addScaledVector(o[2],2*.511664*s),t.addScaledVector(o[3],2*.511664*r),t.addScaledVector(o[4],2*.429043*r*i),t.addScaledVector(o[5],2*.429043*i*s),t.addScaledVector(o[6],.743125*s*s-.247708),t.addScaledVector(o[7],2*.429043*r*s),t.addScaledVector(o[8],.429043*(r*r-i*i)),t}add(e){for(let t=0;t<9;t++)this.coefficients[t].add(e.coefficients[t]);return this}addScaledSH(e,t){for(let r=0;r<9;r++)this.coefficients[r].addScaledVector(e.coefficients[r],t);return this}scale(e){for(let t=0;t<9;t++)this.coefficients[t].multiplyScalar(e);return this}lerp(e,t){for(let r=0;r<9;r++)this.coefficients[r].lerp(e.coefficients[r],t);return this}equals(e){for(let t=0;t<9;t++)if(!this.coefficients[t].equals(e.coefficients[t]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(e,t=0){const r=this.coefficients;for(let i=0;i<9;i++)r[i].fromArray(e,t+i*3);return this}toArray(e=[],t=0){const r=this.coefficients;for(let i=0;i<9;i++)r[i].toArray(e,t+i*3);return e}static getBasisAt(e,t){const r=e.x,i=e.y,s=e.z;t[0]=.282095,t[1]=.488603*i,t[2]=.488603*s,t[3]=.488603*r,t[4]=1.092548*r*i,t[5]=1.092548*i*s,t[6]=.315392*(3*s*s-1),t[7]=1.092548*r*s,t[8]=.546274*(r*r-i*i)}}let RR=class extends Rf{constructor(e=new SK,t=1){super(void 0,t),this.isLightProbe=!0,this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){const t=super.toJSON(e);return t.object.sh=this.sh.toArray(),t}},EK=class bK extends Ys{constructor(e){super(e),this.textures={}}load(e,t,r,i){const s=this,o=new Zo(s.manager);o.setPath(s.path),o.setRequestHeader(s.requestHeader),o.setWithCredentials(s.withCredentials),o.load(e,function(a){try{t(s.parse(JSON.parse(a)))}catch(l){i?i(l):console.error(l),s.manager.itemError(e)}},r,i)}parse(e){const t=this.textures;function r(s){return t[s]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",s),t[s]}const i=bK.createMaterialFromType(e.type);if(e.uuid!==void 0&&(i.uuid=e.uuid),e.name!==void 0&&(i.name=e.name),e.color!==void 0&&i.color!==void 0&&i.color.setHex(e.color),e.roughness!==void 0&&(i.roughness=e.roughness),e.metalness!==void 0&&(i.metalness=e.metalness),e.sheen!==void 0&&(i.sheen=e.sheen),e.sheenColor!==void 0&&(i.sheenColor=new xt().setHex(e.sheenColor)),e.sheenRoughness!==void 0&&(i.sheenRoughness=e.sheenRoughness),e.emissive!==void 0&&i.emissive!==void 0&&i.emissive.setHex(e.emissive),e.specular!==void 0&&i.specular!==void 0&&i.specular.setHex(e.specular),e.specularIntensity!==void 0&&(i.specularIntensity=e.specularIntensity),e.specularColor!==void 0&&i.specularColor!==void 0&&i.specularColor.setHex(e.specularColor),e.shininess!==void 0&&(i.shininess=e.shininess),e.clearcoat!==void 0&&(i.clearcoat=e.clearcoat),e.clearcoatRoughness!==void 0&&(i.clearcoatRoughness=e.clearcoatRoughness),e.iridescence!==void 0&&(i.iridescence=e.iridescence),e.iridescenceIOR!==void 0&&(i.iridescenceIOR=e.iridescenceIOR),e.iridescenceThicknessRange!==void 0&&(i.iridescenceThicknessRange=e.iridescenceThicknessRange),e.transmission!==void 0&&(i.transmission=e.transmission),e.thickness!==void 0&&(i.thickness=e.thickness),e.attenuationDistance!==void 0&&(i.attenuationDistance=e.attenuationDistance),e.attenuationColor!==void 0&&i.attenuationColor!==void 0&&i.attenuationColor.setHex(e.attenuationColor),e.anisotropy!==void 0&&(i.anisotropy=e.anisotropy),e.anisotropyRotation!==void 0&&(i.anisotropyRotation=e.anisotropyRotation),e.fog!==void 0&&(i.fog=e.fog),e.flatShading!==void 0&&(i.flatShading=e.flatShading),e.blending!==void 0&&(i.blending=e.blending),e.combine!==void 0&&(i.combine=e.combine),e.side!==void 0&&(i.side=e.side),e.shadowSide!==void 0&&(i.shadowSide=e.shadowSide),e.opacity!==void 0&&(i.opacity=e.opacity),e.transparent!==void 0&&(i.transparent=e.transparent),e.alphaTest!==void 0&&(i.alphaTest=e.alphaTest),e.depthTest!==void 0&&(i.depthTest=e.depthTest),e.depthWrite!==void 0&&(i.depthWrite=e.depthWrite),e.colorWrite!==void 0&&(i.colorWrite=e.colorWrite),e.stencilWrite!==void 0&&(i.stencilWrite=e.stencilWrite),e.stencilWriteMask!==void 0&&(i.stencilWriteMask=e.stencilWriteMask),e.stencilFunc!==void 0&&(i.stencilFunc=e.stencilFunc),e.stencilRef!==void 0&&(i.stencilRef=e.stencilRef),e.stencilFuncMask!==void 0&&(i.stencilFuncMask=e.stencilFuncMask),e.stencilFail!==void 0&&(i.stencilFail=e.stencilFail),e.stencilZFail!==void 0&&(i.stencilZFail=e.stencilZFail),e.stencilZPass!==void 0&&(i.stencilZPass=e.stencilZPass),e.wireframe!==void 0&&(i.wireframe=e.wireframe),e.wireframeLinewidth!==void 0&&(i.wireframeLinewidth=e.wireframeLinewidth),e.wireframeLinecap!==void 0&&(i.wireframeLinecap=e.wireframeLinecap),e.wireframeLinejoin!==void 0&&(i.wireframeLinejoin=e.wireframeLinejoin),e.rotation!==void 0&&(i.rotation=e.rotation),e.linewidth!==1&&(i.linewidth=e.linewidth),e.dashSize!==void 0&&(i.dashSize=e.dashSize),e.gapSize!==void 0&&(i.gapSize=e.gapSize),e.scale!==void 0&&(i.scale=e.scale),e.polygonOffset!==void 0&&(i.polygonOffset=e.polygonOffset),e.polygonOffsetFactor!==void 0&&(i.polygonOffsetFactor=e.polygonOffsetFactor),e.polygonOffsetUnits!==void 0&&(i.polygonOffsetUnits=e.polygonOffsetUnits),e.dithering!==void 0&&(i.dithering=e.dithering),e.alphaToCoverage!==void 0&&(i.alphaToCoverage=e.alphaToCoverage),e.premultipliedAlpha!==void 0&&(i.premultipliedAlpha=e.premultipliedAlpha),e.forceSinglePass!==void 0&&(i.forceSinglePass=e.forceSinglePass),e.visible!==void 0&&(i.visible=e.visible),e.toneMapped!==void 0&&(i.toneMapped=e.toneMapped),e.userData!==void 0&&(i.userData=e.userData),e.vertexColors!==void 0&&(typeof e.vertexColors=="number"?i.vertexColors=e.vertexColors>0:i.vertexColors=e.vertexColors),e.uniforms!==void 0)for(const s in e.uniforms){const o=e.uniforms[s];switch(i.uniforms[s]={},o.type){case"t":i.uniforms[s].value=r(o.value);break;case"c":i.uniforms[s].value=new xt().setHex(o.value);break;case"v2":i.uniforms[s].value=new Ye().fromArray(o.value);break;case"v3":i.uniforms[s].value=new se().fromArray(o.value);break;case"v4":i.uniforms[s].value=new kn().fromArray(o.value);break;case"m3":i.uniforms[s].value=new sn().fromArray(o.value);break;case"m4":i.uniforms[s].value=new zt().fromArray(o.value);break;default:i.uniforms[s].value=o.value}}if(e.defines!==void 0&&(i.defines=e.defines),e.vertexShader!==void 0&&(i.vertexShader=e.vertexShader),e.fragmentShader!==void 0&&(i.fragmentShader=e.fragmentShader),e.glslVersion!==void 0&&(i.glslVersion=e.glslVersion),e.extensions!==void 0)for(const s in e.extensions)i.extensions[s]=e.extensions[s];if(e.lights!==void 0&&(i.lights=e.lights),e.clipping!==void 0&&(i.clipping=e.clipping),e.size!==void 0&&(i.size=e.size),e.sizeAttenuation!==void 0&&(i.sizeAttenuation=e.sizeAttenuation),e.map!==void 0&&(i.map=r(e.map)),e.matcap!==void 0&&(i.matcap=r(e.matcap)),e.alphaMap!==void 0&&(i.alphaMap=r(e.alphaMap)),e.bumpMap!==void 0&&(i.bumpMap=r(e.bumpMap)),e.bumpScale!==void 0&&(i.bumpScale=e.bumpScale),e.normalMap!==void 0&&(i.normalMap=r(e.normalMap)),e.normalMapType!==void 0&&(i.normalMapType=e.normalMapType),e.normalScale!==void 0){let s=e.normalScale;Array.isArray(s)===!1&&(s=[s,s]),i.normalScale=new Ye().fromArray(s)}return e.displacementMap!==void 0&&(i.displacementMap=r(e.displacementMap)),e.displacementScale!==void 0&&(i.displacementScale=e.displacementScale),e.displacementBias!==void 0&&(i.displacementBias=e.displacementBias),e.roughnessMap!==void 0&&(i.roughnessMap=r(e.roughnessMap)),e.metalnessMap!==void 0&&(i.metalnessMap=r(e.metalnessMap)),e.emissiveMap!==void 0&&(i.emissiveMap=r(e.emissiveMap)),e.emissiveIntensity!==void 0&&(i.emissiveIntensity=e.emissiveIntensity),e.specularMap!==void 0&&(i.specularMap=r(e.specularMap)),e.specularIntensityMap!==void 0&&(i.specularIntensityMap=r(e.specularIntensityMap)),e.specularColorMap!==void 0&&(i.specularColorMap=r(e.specularColorMap)),e.envMap!==void 0&&(i.envMap=r(e.envMap)),e.envMapIntensity!==void 0&&(i.envMapIntensity=e.envMapIntensity),e.reflectivity!==void 0&&(i.reflectivity=e.reflectivity),e.refractionRatio!==void 0&&(i.refractionRatio=e.refractionRatio),e.lightMap!==void 0&&(i.lightMap=r(e.lightMap)),e.lightMapIntensity!==void 0&&(i.lightMapIntensity=e.lightMapIntensity),e.aoMap!==void 0&&(i.aoMap=r(e.aoMap)),e.aoMapIntensity!==void 0&&(i.aoMapIntensity=e.aoMapIntensity),e.gradientMap!==void 0&&(i.gradientMap=r(e.gradientMap)),e.clearcoatMap!==void 0&&(i.clearcoatMap=r(e.clearcoatMap)),e.clearcoatRoughnessMap!==void 0&&(i.clearcoatRoughnessMap=r(e.clearcoatRoughnessMap)),e.clearcoatNormalMap!==void 0&&(i.clearcoatNormalMap=r(e.clearcoatNormalMap)),e.clearcoatNormalScale!==void 0&&(i.clearcoatNormalScale=new Ye().fromArray(e.clearcoatNormalScale)),e.iridescenceMap!==void 0&&(i.iridescenceMap=r(e.iridescenceMap)),e.iridescenceThicknessMap!==void 0&&(i.iridescenceThicknessMap=r(e.iridescenceThicknessMap)),e.transmissionMap!==void 0&&(i.transmissionMap=r(e.transmissionMap)),e.thicknessMap!==void 0&&(i.thicknessMap=r(e.thicknessMap)),e.anisotropyMap!==void 0&&(i.anisotropyMap=r(e.anisotropyMap)),e.sheenColorMap!==void 0&&(i.sheenColorMap=r(e.sheenColorMap)),e.sheenRoughnessMap!==void 0&&(i.sheenRoughnessMap=r(e.sheenRoughnessMap)),i}setTextures(e){return this.textures=e,this}static createMaterialFromType(e){const t={ShadowMaterial:lK,SpriteMaterial:jU,RawShaderMaterial:uK,ShaderMaterial:Yu,PointsMaterial:iS,MeshPhysicalMaterial:$u,MeshStandardMaterial:oS,MeshPhongMaterial:cK,MeshToonMaterial:hK,MeshNormalMaterial:dK,MeshLambertMaterial:fK,MeshDepthMaterial:HU,MeshDistanceMaterial:VU,MeshBasicMaterial:Vo,MeshMatcapMaterial:pK,LineDashedMaterial:mK,LineBasicMaterial:Ts,Material:ci};return new t[e]}};class Ou{static decodeText(e){if(typeof TextDecoder<"u")return new TextDecoder().decode(e);let t="";for(let r=0,i=e.length;r<i;r++)t+=String.fromCharCode(e[r]);try{return decodeURIComponent(escape(t))}catch{return t}}static extractUrlBase(e){const t=e.lastIndexOf("/");return t===-1?"./":e.slice(0,t+1)}static resolveURL(e,t){return typeof e!="string"||e===""?"":(/^https?:\/\//i.test(t)&&/^\//.test(e)&&(t=t.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:t+e)}}class wK extends Kt{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}toJSON(){const e=super.toJSON();return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}class TK extends Ys{constructor(e){super(e)}load(e,t,r,i){const s=this,o=new Zo(s.manager);o.setPath(s.path),o.setRequestHeader(s.requestHeader),o.setWithCredentials(s.withCredentials),o.load(e,function(a){try{t(s.parse(JSON.parse(a)))}catch(l){i?i(l):console.error(l),s.manager.itemError(e)}},r,i)}parse(e){const t={},r={};function i(p,m){if(t[m]!==void 0)return t[m];const v=p.interleavedBuffers[m],S=s(p,v.buffer),A=w0(v.type,S),g=new rS(A,v.stride);return g.uuid=v.uuid,t[m]=g,g}function s(p,m){if(r[m]!==void 0)return r[m];const v=p.arrayBuffers[m],S=new Uint32Array(v).buffer;return r[m]=S,S}const o=e.isInstancedBufferGeometry?new wK:new Kt,a=e.data.index;if(a!==void 0){const p=w0(a.type,a.array);o.setIndex(new Pn(p,1))}const l=e.data.attributes;for(const p in l){const m=l[p];let v;if(m.isInterleavedBufferAttribute){const S=i(e.data,m.data);v=new df(S,m.itemSize,m.offset,m.normalized)}else{const S=w0(m.type,m.array),A=m.isInstancedBufferAttribute?Oy:Pn;v=new A(S,m.itemSize,m.normalized)}m.name!==void 0&&(v.name=m.name),m.usage!==void 0&&v.setUsage(m.usage),m.updateRange!==void 0&&(v.updateRange.offset=m.updateRange.offset,v.updateRange.count=m.updateRange.count),o.setAttribute(p,v)}const u=e.data.morphAttributes;if(u)for(const p in u){const m=u[p],v=[];for(let S=0,A=m.length;S<A;S++){const g=m[S];let M;if(g.isInterleavedBufferAttribute){const _=i(e.data,g.data);M=new df(_,g.itemSize,g.offset,g.normalized)}else{const _=w0(g.type,g.array);M=new Pn(_,g.itemSize,g.normalized)}g.name!==void 0&&(M.name=g.name),v.push(M)}o.morphAttributes[p]=v}e.data.morphTargetsRelative&&(o.morphTargetsRelative=!0);const h=e.data.groups||e.data.drawcalls||e.data.offsets;if(h!==void 0)for(let p=0,m=h.length;p!==m;++p){const v=h[p];o.addGroup(v.start,v.count,v.materialIndex)}const f=e.data.boundingSphere;if(f!==void 0){const p=new se;f.center!==void 0&&p.fromArray(f.center),o.boundingSphere=new Za(p,f.radius)}return e.name&&(o.name=e.name),e.userData&&(o.userData=e.userData),o}}class Qfe extends Ys{constructor(e){super(e)}load(e,t,r,i){const s=this,o=this.path===""?Ou.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||o;const a=new Zo(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,function(l){let u=null;try{u=JSON.parse(l)}catch(f){i!==void 0&&i(f),console.error("THREE:ObjectLoader: Can't parse "+e+".",f.message);return}const h=u.metadata;if(h===void 0||h.type===void 0||h.type.toLowerCase()==="geometry"){i!==void 0&&i(new Error("THREE.ObjectLoader: Can't load "+e)),console.error("THREE.ObjectLoader: Can't load "+e);return}s.parse(u,t)},r,i)}async loadAsync(e,t){const r=this,i=this.path===""?Ou.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||i;const s=new Zo(this.manager);s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials);const o=await s.loadAsync(e,t),a=JSON.parse(o),l=a.metadata;if(l===void 0||l.type===void 0||l.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+e);return await r.parseAsync(a)}parse(e,t){const r=this.parseAnimations(e.animations),i=this.parseShapes(e.shapes),s=this.parseGeometries(e.geometries,i),o=this.parseImages(e.images,function(){t!==void 0&&t(u)}),a=this.parseTextures(e.textures,o),l=this.parseMaterials(e.materials,a),u=this.parseObject(e.object,s,l,a,r),h=this.parseSkeletons(e.skeletons,u);if(this.bindSkeletons(u,h),t!==void 0){let f=!1;for(const p in o)if(o[p].data instanceof HTMLImageElement){f=!0;break}f===!1&&t(u)}return u}async parseAsync(e){const t=this.parseAnimations(e.animations),r=this.parseShapes(e.shapes),i=this.parseGeometries(e.geometries,r),s=await this.parseImagesAsync(e.images),o=this.parseTextures(e.textures,s),a=this.parseMaterials(e.materials,o),l=this.parseObject(e.object,i,a,o,t),u=this.parseSkeletons(e.skeletons,l);return this.bindSkeletons(l,u),l}parseShapes(e){const t={};if(e!==void 0)for(let r=0,i=e.length;r<i;r++){const s=new Um().fromJSON(e[r]);t[s.uuid]=s}return t}parseSkeletons(e,t){const r={},i={};if(t.traverse(function(s){s.isBone&&(i[s.uuid]=s)}),e!==void 0)for(let s=0,o=e.length;s<o;s++){const a=new JU().fromJSON(e[s],i);r[a.uuid]=a}return r}parseGeometries(e,t){const r={};if(e!==void 0){const i=new TK;for(let s=0,o=e.length;s<o;s++){let a;const l=e[s];switch(l.type){case"BufferGeometry":case"InstancedBufferGeometry":a=i.parse(l);break;default:l.type in rV?a=rV[l.type].fromJSON(l,t):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${l.type}"`)}a.uuid=l.uuid,l.name!==void 0&&(a.name=l.name),l.userData!==void 0&&(a.userData=l.userData),r[l.uuid]=a}}return r}parseMaterials(e,t){const r={},i={};if(e!==void 0){const s=new EK;s.setTextures(t);for(let o=0,a=e.length;o<a;o++){const l=e[o];r[l.uuid]===void 0&&(r[l.uuid]=s.parse(l)),i[l.uuid]=r[l.uuid]}}return i}parseAnimations(e){const t={};if(e!==void 0)for(let r=0;r<e.length;r++){const i=e[r],s=zy.parse(i);t[s.uuid]=s}return t}parseImages(e,t){const r=this,i={};let s;function o(l){return r.manager.itemStart(l),s.load(l,function(){r.manager.itemEnd(l)},void 0,function(){r.manager.itemError(l),r.manager.itemEnd(l)})}function a(l){if(typeof l=="string"){const u=l,h=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(u)?u:r.resourcePath+u;return o(h)}else return l.data?{data:w0(l.type,l.data),width:l.width,height:l.height}:null}if(e!==void 0&&e.length>0){const l=new AO(t);s=new oM(l),s.setCrossOrigin(this.crossOrigin);for(let u=0,h=e.length;u<h;u++){const f=e[u],p=f.url;if(Array.isArray(p)){const m=[];for(let v=0,S=p.length;v<S;v++){const A=p[v],g=a(A);g!==null&&(g instanceof HTMLImageElement?m.push(g):m.push(new cy(g.data,g.width,g.height)))}i[f.uuid]=new gm(m)}else{const m=a(f.url);i[f.uuid]=new gm(m)}}}return i}async parseImagesAsync(e){const t=this,r={};let i;async function s(o){if(typeof o=="string"){const a=o,l=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(a)?a:t.resourcePath+a;return await i.loadAsync(l)}else return o.data?{data:w0(o.type,o.data),width:o.width,height:o.height}:null}if(e!==void 0&&e.length>0){i=new oM(this.manager),i.setCrossOrigin(this.crossOrigin);for(let o=0,a=e.length;o<a;o++){const l=e[o],u=l.url;if(Array.isArray(u)){const h=[];for(let f=0,p=u.length;f<p;f++){const m=u[f],v=await s(m);v!==null&&(v instanceof HTMLImageElement?h.push(v):h.push(new cy(v.data,v.width,v.height)))}r[l.uuid]=new gm(h)}else{const h=await s(l.url);r[l.uuid]=new gm(h)}}}return r}parseTextures(e,t){function r(s,o){return typeof s=="number"?s:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",s),o[s])}const i={};if(e!==void 0)for(let s=0,o=e.length;s<o;s++){const a=e[s];a.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',a.uuid),t[a.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",a.image);const l=t[a.image],u=l.data;let h;Array.isArray(u)?(h=new nS,u.length===6&&(h.needsUpdate=!0)):(u&&u.data?h=new cy:h=new dr,u&&(h.needsUpdate=!0)),h.source=l,h.uuid=a.uuid,a.name!==void 0&&(h.name=a.name),a.mapping!==void 0&&(h.mapping=r(a.mapping,qfe)),a.channel!==void 0&&(h.channel=a.channel),a.offset!==void 0&&h.offset.fromArray(a.offset),a.repeat!==void 0&&h.repeat.fromArray(a.repeat),a.center!==void 0&&h.center.fromArray(a.center),a.rotation!==void 0&&(h.rotation=a.rotation),a.wrap!==void 0&&(h.wrapS=r(a.wrap[0],aV),h.wrapT=r(a.wrap[1],aV)),a.format!==void 0&&(h.format=a.format),a.internalFormat!==void 0&&(h.internalFormat=a.internalFormat),a.type!==void 0&&(h.type=a.type),a.colorSpace!==void 0&&(h.colorSpace=a.colorSpace),a.encoding!==void 0&&(h.encoding=a.encoding),a.minFilter!==void 0&&(h.minFilter=r(a.minFilter,lV)),a.magFilter!==void 0&&(h.magFilter=r(a.magFilter,lV)),a.anisotropy!==void 0&&(h.anisotropy=a.anisotropy),a.flipY!==void 0&&(h.flipY=a.flipY),a.generateMipmaps!==void 0&&(h.generateMipmaps=a.generateMipmaps),a.premultiplyAlpha!==void 0&&(h.premultiplyAlpha=a.premultiplyAlpha),a.unpackAlignment!==void 0&&(h.unpackAlignment=a.unpackAlignment),a.compareFunction!==void 0&&(h.compareFunction=a.compareFunction),a.userData!==void 0&&(h.userData=a.userData),i[a.uuid]=h}return i}parseObject(e,t,r,i,s){let o;function a(p){return t[p]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",p),t[p]}function l(p){if(p!==void 0){if(Array.isArray(p)){const m=[];for(let v=0,S=p.length;v<S;v++){const A=p[v];r[A]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",A),m.push(r[A])}return m}return r[p]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",p),r[p]}}function u(p){return i[p]===void 0&&console.warn("THREE.ObjectLoader: Undefined texture",p),i[p]}let h,f;switch(e.type){case"Scene":o=new tC,e.background!==void 0&&(Number.isInteger(e.background)?o.background=new xt(e.background):o.background=u(e.background)),e.environment!==void 0&&(o.environment=u(e.environment)),e.fog!==void 0&&(e.fog.type==="Fog"?o.fog=new IY(e.fog.color,e.fog.near,e.fog.far):e.fog.type==="FogExp2"&&(o.fog=new BY(e.fog.color,e.fog.density))),e.backgroundBlurriness!==void 0&&(o.backgroundBlurriness=e.backgroundBlurriness),e.backgroundIntensity!==void 0&&(o.backgroundIntensity=e.backgroundIntensity);break;case"PerspectiveCamera":o=new ur(e.fov,e.aspect,e.near,e.far),e.focus!==void 0&&(o.focus=e.focus),e.zoom!==void 0&&(o.zoom=e.zoom),e.filmGauge!==void 0&&(o.filmGauge=e.filmGauge),e.filmOffset!==void 0&&(o.filmOffset=e.filmOffset),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"OrthographicCamera":o=new Ll(e.left,e.right,e.top,e.bottom,e.near,e.far),e.zoom!==void 0&&(o.zoom=e.zoom),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"AmbientLight":o=new _K(e.color,e.intensity);break;case"DirectionalLight":o=new EO(e.color,e.intensity);break;case"PointLight":o=new SO(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":o=new MK(e.color,e.intensity,e.width,e.height);break;case"SpotLight":o=new MO(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay);break;case"HemisphereLight":o=new AK(e.color,e.groundColor,e.intensity);break;case"LightProbe":o=new RR().fromJSON(e);break;case"SkinnedMesh":h=a(e.geometry),f=l(e.material),o=new XU(h,f),e.bindMode!==void 0&&(o.bindMode=e.bindMode),e.bindMatrix!==void 0&&o.bindMatrix.fromArray(e.bindMatrix),e.skeleton!==void 0&&(o.skeleton=e.skeleton);break;case"Mesh":h=a(e.geometry),f=l(e.material),o=new _i(h,f);break;case"InstancedMesh":h=a(e.geometry),f=l(e.material);const p=e.count,m=e.instanceMatrix,v=e.instanceColor;o=new YU(h,f,p),o.instanceMatrix=new Oy(new Float32Array(m.array),16),v!==void 0&&(o.instanceColor=new Oy(new Float32Array(v.array),v.itemSize));break;case"LOD":o=new UY;break;case"Line":o=new xh(a(e.geometry),l(e.material));break;case"LineLoop":o=new KU(a(e.geometry),l(e.material));break;case"LineSegments":o=new jl(a(e.geometry),l(e.material));break;case"PointCloud":case"Points":o=new QU(a(e.geometry),l(e.material));break;case"Sprite":o=new NY(l(e.material));break;case"Group":o=new eh;break;case"Bone":o=new bR;break;default:o=new Mn}if(o.uuid=e.uuid,e.name!==void 0&&(o.name=e.name),e.matrix!==void 0?(o.matrix.fromArray(e.matrix),e.matrixAutoUpdate!==void 0&&(o.matrixAutoUpdate=e.matrixAutoUpdate),o.matrixAutoUpdate&&o.matrix.decompose(o.position,o.quaternion,o.scale)):(e.position!==void 0&&o.position.fromArray(e.position),e.rotation!==void 0&&o.rotation.fromArray(e.rotation),e.quaternion!==void 0&&o.quaternion.fromArray(e.quaternion),e.scale!==void 0&&o.scale.fromArray(e.scale)),e.up!==void 0&&o.up.fromArray(e.up),e.castShadow!==void 0&&(o.castShadow=e.castShadow),e.receiveShadow!==void 0&&(o.receiveShadow=e.receiveShadow),e.shadow&&(e.shadow.bias!==void 0&&(o.shadow.bias=e.shadow.bias),e.shadow.normalBias!==void 0&&(o.shadow.normalBias=e.shadow.normalBias),e.shadow.radius!==void 0&&(o.shadow.radius=e.shadow.radius),e.shadow.mapSize!==void 0&&o.shadow.mapSize.fromArray(e.shadow.mapSize),e.shadow.camera!==void 0&&(o.shadow.camera=this.parseObject(e.shadow.camera))),e.visible!==void 0&&(o.visible=e.visible),e.frustumCulled!==void 0&&(o.frustumCulled=e.frustumCulled),e.renderOrder!==void 0&&(o.renderOrder=e.renderOrder),e.userData!==void 0&&(o.userData=e.userData),e.layers!==void 0&&(o.layers.mask=e.layers),e.children!==void 0){const p=e.children;for(let m=0;m<p.length;m++)o.add(this.parseObject(p[m],t,r,i,s))}if(e.animations!==void 0){const p=e.animations;for(let m=0;m<p.length;m++){const v=p[m];o.animations.push(s[v])}}if(e.type==="LOD"){e.autoUpdate!==void 0&&(o.autoUpdate=e.autoUpdate);const p=e.levels;for(let m=0;m<p.length;m++){const v=p[m],S=o.getObjectByProperty("uuid",v.object);S!==void 0&&o.addLevel(S,v.distance,v.hysteresis)}}return o}bindSkeletons(e,t){Object.keys(t).length!==0&&e.traverse(function(r){if(r.isSkinnedMesh===!0&&r.skeleton!==void 0){const i=t[r.skeleton];i===void 0?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",r.skeleton):r.bind(i,r.bindMatrix)}})}}const qfe={UVMapping:yR,CubeReflectionMapping:uf,CubeRefractionMapping:cf,EquirectangularReflectionMapping:K_,EquirectangularRefractionMapping:Q_,CubeUVReflectionMapping:hx},aV={RepeatWrapping:hf,ClampToEdgeWrapping:is,MirroredRepeatWrapping:Iy},lV={NearestFilter:kr,NearestMipmapNearestFilter:q_,NearestMipmapLinearFilter:ly,LinearFilter:Ar,LinearMipmapNearestFilter:xR,LinearMipmapLinearFilter:Ju};class CK extends Ys{constructor(e){super(e),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(e){return this.options=e,this}load(e,t,r,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,o=eg.get(e);if(o!==void 0)return s.manager.itemStart(e),setTimeout(function(){t&&t(o),s.manager.itemEnd(e)},0),o;const a={};a.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",a.headers=this.requestHeader,fetch(e,a).then(function(l){return l.blob()}).then(function(l){return createImageBitmap(l,Object.assign(s.options,{colorSpaceConversion:"none"}))}).then(function(l){eg.add(e,l),t&&t(l),s.manager.itemEnd(e)}).catch(function(l){i&&i(l),s.manager.itemError(e),s.manager.itemEnd(e)}),s.manager.itemStart(e)}}let lb;class bO{static getContext(){return lb===void 0&&(lb=new(window.AudioContext||window.webkitAudioContext)),lb}static setContext(e){lb=e}}class Zfe extends Ys{constructor(e){super(e)}load(e,t,r,i){const s=this,o=new Zo(this.manager);o.setResponseType("arraybuffer"),o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(l){try{const u=l.slice(0);bO.getContext().decodeAudioData(u,function(h){t(h)},a)}catch(u){a(u)}},r,i);function a(l){i?i(l):console.error(l),s.manager.itemError(e)}}}class $fe extends RR{constructor(e,t,r=1){super(void 0,r),this.isHemisphereLightProbe=!0;const i=new xt().set(e),s=new xt().set(t),o=new se(i.r,i.g,i.b),a=new se(s.r,s.g,s.b),l=Math.sqrt(Math.PI),u=l*Math.sqrt(.75);this.sh.coefficients[0].copy(o).add(a).multiplyScalar(l),this.sh.coefficients[1].copy(o).sub(a).multiplyScalar(u)}}class epe extends RR{constructor(e,t=1){super(void 0,t),this.isAmbientLightProbe=!0;const r=new xt().set(e);this.sh.coefficients[0].set(r.r,r.g,r.b).multiplyScalar(2*Math.sqrt(Math.PI))}}const uV=new zt,cV=new zt,bp=new zt;class tpe{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new ur,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new ur,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(e){const t=this._cache;if(t.focus!==e.focus||t.fov!==e.fov||t.aspect!==e.aspect*this.aspect||t.near!==e.near||t.far!==e.far||t.zoom!==e.zoom||t.eyeSep!==this.eyeSep){t.focus=e.focus,t.fov=e.fov,t.aspect=e.aspect*this.aspect,t.near=e.near,t.far=e.far,t.zoom=e.zoom,t.eyeSep=this.eyeSep,bp.copy(e.projectionMatrix);const r=t.eyeSep/2,i=r*t.near/t.focus,s=t.near*Math.tan(Fm*t.fov*.5)/t.zoom;let o,a;cV.elements[12]=-r,uV.elements[12]=r,o=-s*t.aspect+i,a=s*t.aspect+i,bp.elements[0]=2*t.near/(a-o),bp.elements[8]=(a+o)/(a-o),this.cameraL.projectionMatrix.copy(bp),o=-s*t.aspect-i,a=s*t.aspect-i,bp.elements[0]=2*t.near/(a-o),bp.elements[8]=(a+o)/(a-o),this.cameraR.projectionMatrix.copy(bp)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(cV),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(uV)}}class wO{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=hV(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const t=hV();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}}function hV(){return(typeof performance>"u"?Date:performance).now()}const wp=new se,dV=new Hi,npe=new se,Tp=new se;class rpe extends Mn{constructor(){super(),this.type="AudioListener",this.context=bO.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new wO}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);const t=this.context.listener,r=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(wp,dV,npe),Tp.set(0,0,-1).applyQuaternion(dV),t.positionX){const i=this.context.currentTime+this.timeDelta;t.positionX.linearRampToValueAtTime(wp.x,i),t.positionY.linearRampToValueAtTime(wp.y,i),t.positionZ.linearRampToValueAtTime(wp.z,i),t.forwardX.linearRampToValueAtTime(Tp.x,i),t.forwardY.linearRampToValueAtTime(Tp.y,i),t.forwardZ.linearRampToValueAtTime(Tp.z,i),t.upX.linearRampToValueAtTime(r.x,i),t.upY.linearRampToValueAtTime(r.y,i),t.upZ.linearRampToValueAtTime(r.z,i)}else t.setPosition(wp.x,wp.y,wp.z),t.setOrientation(Tp.x,Tp.y,Tp.z,r.x,r.y,r.z)}}class RK extends Mn{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+e;const t=this.context.createBufferSource();return t.buffer=this.buffer,t.loop=this.loop,t.loopStart=this.loopStart,t.loopEnd=this.loopEnd,t.onended=this.onEnded.bind(this),t.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=t,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source!==null&&(this.source.stop(),this.source.onended=null),this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}getFilters(){return this.filters}setFilters(e){return e||(e=[]),this._connected===!0?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){if(this.detune=e,this.source.detune!==void 0)return this.isPlaying===!0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}}const Cp=new se,fV=new Hi,ipe=new se,Rp=new se;class spe extends RK{constructor(e){super(e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}connect(){super.connect(),this.panner.connect(this.gain)}disconnect(){super.disconnect(),this.panner.disconnect(this.gain)}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,t,r){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=t,this.panner.coneOuterGain=r,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(Cp,fV,ipe),Rp.set(0,0,1).applyQuaternion(fV);const t=this.panner;if(t.positionX){const r=this.context.currentTime+this.listener.timeDelta;t.positionX.linearRampToValueAtTime(Cp.x,r),t.positionY.linearRampToValueAtTime(Cp.y,r),t.positionZ.linearRampToValueAtTime(Cp.z,r),t.orientationX.linearRampToValueAtTime(Rp.x,r),t.orientationY.linearRampToValueAtTime(Rp.y,r),t.orientationZ.linearRampToValueAtTime(Rp.z,r)}else t.setPosition(Cp.x,Cp.y,Cp.z),t.setOrientation(Rp.x,Rp.y,Rp.z)}}class ope{constructor(e,t=2048){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=t,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0;const t=this.getFrequencyData();for(let r=0;r<t.length;r++)e+=t[r];return e/t.length}}class PK{constructor(e,t,r){this.binding=e,this.valueSize=r;let i,s,o;switch(t){case"quaternion":i=this._slerp,s=this._slerpAdditive,o=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(r*6),this._workIndex=5;break;case"string":case"bool":i=this._select,s=this._select,o=this._setAdditiveIdentityOther,this.buffer=new Array(r*5);break;default:i=this._lerp,s=this._lerpAdditive,o=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(r*5)}this._mixBufferRegion=i,this._mixBufferRegionAdditive=s,this._setIdentity=o,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,t){const r=this.buffer,i=this.valueSize,s=e*i+i;let o=this.cumulativeWeight;if(o===0){for(let a=0;a!==i;++a)r[s+a]=r[a];o=t}else{o+=t;const a=t/o;this._mixBufferRegion(r,s,0,a,i)}this.cumulativeWeight=o}accumulateAdditive(e){const t=this.buffer,r=this.valueSize,i=r*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(t,i,0,e,r),this.cumulativeWeightAdditive+=e}apply(e){const t=this.valueSize,r=this.buffer,i=e*t+t,s=this.cumulativeWeight,o=this.cumulativeWeightAdditive,a=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,s<1){const l=t*this._origIndex;this._mixBufferRegion(r,i,l,1-s,t)}o>0&&this._mixBufferRegionAdditive(r,i,this._addIndex*t,1,t);for(let l=t,u=t+t;l!==u;++l)if(r[l]!==r[l+t]){a.setValue(r,i);break}}saveOriginalState(){const e=this.binding,t=this.buffer,r=this.valueSize,i=r*this._origIndex;e.getValue(t,i);for(let s=r,o=i;s!==o;++s)t[s]=t[i+s%r];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=this.valueSize*3;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,t=e+this.valueSize;for(let r=e;r<t;r++)this.buffer[r]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,t=this._addIndex*this.valueSize;for(let r=0;r<this.valueSize;r++)this.buffer[t+r]=this.buffer[e+r]}_select(e,t,r,i,s){if(i>=.5)for(let o=0;o!==s;++o)e[t+o]=e[r+o]}_slerp(e,t,r,i){Hi.slerpFlat(e,t,e,t,e,r,i)}_slerpAdditive(e,t,r,i,s){const o=this._workIndex*s;Hi.multiplyQuaternionsFlat(e,o,e,t,e,r),Hi.slerpFlat(e,t,e,t,e,o,i)}_lerp(e,t,r,i,s){const o=1-i;for(let a=0;a!==s;++a){const l=t+a;e[l]=e[l]*o+e[r+a]*i}}_lerpAdditive(e,t,r,i,s){for(let o=0;o!==s;++o){const a=t+o;e[a]=e[a]+e[r+o]*i}}}const TO="\\[\\]\\.:\\/",ape=new RegExp("["+TO+"]","g"),CO="[^"+TO+"]",lpe="[^"+TO.replace("\\.","")+"]",upe=/((?:WC+[\/:])*)/.source.replace("WC",CO),cpe=/(WCOD+)?/.source.replace("WCOD",lpe),hpe=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",CO),dpe=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",CO),fpe=new RegExp("^"+upe+cpe+hpe+dpe+"$"),ppe=["material","materials","bones","map"];class mpe{constructor(e,t,r){const i=r||bn.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,i)}getValue(e,t){this.bind();const r=this._targetGroup.nCachedObjects_,i=this._bindings[r];i!==void 0&&i.getValue(e,t)}setValue(e,t){const r=this._bindings;for(let i=this._targetGroup.nCachedObjects_,s=r.length;i!==s;++i)r[i].setValue(e,t)}bind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,r=e.length;t!==r;++t)e[t].bind()}unbind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,r=e.length;t!==r;++t)e[t].unbind()}}class bn{constructor(e,t,r){this.path=t,this.parsedPath=r||bn.parseTrackName(t),this.node=bn.findNode(e,this.parsedPath.nodeName),this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,t,r){return e&&e.isAnimationObjectGroup?new bn.Composite(e,t,r):new bn(e,t,r)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(ape,"")}static parseTrackName(e){const t=fpe.exec(e);if(t===null)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const r={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},i=r.nodeName&&r.nodeName.lastIndexOf(".");if(i!==void 0&&i!==-1){const s=r.nodeName.substring(i+1);ppe.indexOf(s)!==-1&&(r.nodeName=r.nodeName.substring(0,i),r.objectName=s)}if(r.propertyName===null||r.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return r}static findNode(e,t){if(t===void 0||t===""||t==="."||t===-1||t===e.name||t===e.uuid)return e;if(e.skeleton){const r=e.skeleton.getBoneByName(t);if(r!==void 0)return r}if(e.children){const r=function(s){for(let o=0;o<s.length;o++){const a=s[o];if(a.name===t||a.uuid===t)return a;const l=r(a.children);if(l)return l}return null},i=r(e.children);if(i)return i}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,t){e[t]=this.targetObject[this.propertyName]}_getValue_array(e,t){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)e[t++]=r[i]}_getValue_arrayElement(e,t){e[t]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,t){this.resolvedProperty.toArray(e,t)}_setValue_direct(e,t){this.targetObject[this.propertyName]=e[t]}_setValue_direct_setNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,t){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)r[i]=e[t++]}_setValue_array_setNeedsUpdate(e,t){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)r[i]=e[t++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,t){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)r[i]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,t){this.resolvedProperty[this.propertyIndex]=e[t]}_setValue_arrayElement_setNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,t){this.resolvedProperty.fromArray(e,t)}_setValue_fromArray_setNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,t){this.bind(),this.getValue(e,t)}_setValue_unbound(e,t){this.bind(),this.setValue(e,t)}bind(){let e=this.node;const t=this.parsedPath,r=t.objectName,i=t.propertyName;let s=t.propertyIndex;if(e||(e=bn.findNode(this.rootNode,t.nodeName),this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.");return}if(r){let u=t.objectIndex;switch(r){case"materials":if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let h=0;h<e.length;h++)if(e[h].name===u){u=h;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.map){console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}e=e.material.map;break;default:if(e[r]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[r]}if(u!==void 0){if(e[u]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[u]}}const o=e[i];if(o===void 0){const u=t.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+u+"."+i+" but it wasn't found.",e);return}let a=this.Versioning.None;this.targetObject=e,e.needsUpdate!==void 0?a=this.Versioning.NeedsUpdate:e.matrixWorldNeedsUpdate!==void 0&&(a=this.Versioning.MatrixWorldNeedsUpdate);let l=this.BindingType.Direct;if(s!==void 0){if(i==="morphTargetInfluences"){if(!e.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!e.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[s]!==void 0&&(s=e.morphTargetDictionary[s])}l=this.BindingType.ArrayElement,this.resolvedProperty=o,this.propertyIndex=s}else o.fromArray!==void 0&&o.toArray!==void 0?(l=this.BindingType.HasFromToArray,this.resolvedProperty=o):Array.isArray(o)?(l=this.BindingType.EntireArray,this.resolvedProperty=o):this.propertyName=i;this.getValue=this.GetterByBindingType[l],this.setValue=this.SetterByBindingTypeAndVersioning[l][a]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}bn.Composite=mpe;bn.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};bn.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};bn.prototype.GetterByBindingType=[bn.prototype._getValue_direct,bn.prototype._getValue_array,bn.prototype._getValue_arrayElement,bn.prototype._getValue_toArray];bn.prototype.SetterByBindingTypeAndVersioning=[[bn.prototype._setValue_direct,bn.prototype._setValue_direct_setNeedsUpdate,bn.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[bn.prototype._setValue_array,bn.prototype._setValue_array_setNeedsUpdate,bn.prototype._setValue_array_setMatrixWorldNeedsUpdate],[bn.prototype._setValue_arrayElement,bn.prototype._setValue_arrayElement_setNeedsUpdate,bn.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[bn.prototype._setValue_fromArray,bn.prototype._setValue_fromArray_setNeedsUpdate,bn.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class gpe{constructor(){this.isAnimationObjectGroup=!0,this.uuid=Yo(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let r=0,i=arguments.length;r!==i;++r)e[arguments[r].uuid]=r;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const t=this;this.stats={objects:{get total(){return t._objects.length},get inUse(){return this.total-t.nCachedObjects_}},get bindingsPerObject(){return t._bindings.length}}}add(){const e=this._objects,t=this._indicesByUUID,r=this._paths,i=this._parsedPaths,s=this._bindings,o=s.length;let a,l=e.length,u=this.nCachedObjects_;for(let h=0,f=arguments.length;h!==f;++h){const p=arguments[h],m=p.uuid;let v=t[m];if(v===void 0){v=l++,t[m]=v,e.push(p);for(let S=0,A=o;S!==A;++S)s[S].push(new bn(p,r[S],i[S]))}else if(v<u){a=e[v];const S=--u,A=e[S];t[A.uuid]=v,e[v]=A,t[m]=S,e[S]=p;for(let g=0,M=o;g!==M;++g){const _=s[g],b=_[S];let T=_[v];_[v]=b,T===void 0&&(T=new bn(p,r[g],i[g])),_[S]=T}}else e[v]!==a&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=u}remove(){const e=this._objects,t=this._indicesByUUID,r=this._bindings,i=r.length;let s=this.nCachedObjects_;for(let o=0,a=arguments.length;o!==a;++o){const l=arguments[o],u=l.uuid,h=t[u];if(h!==void 0&&h>=s){const f=s++,p=e[f];t[p.uuid]=h,e[h]=p,t[u]=f,e[f]=l;for(let m=0,v=i;m!==v;++m){const S=r[m],A=S[f],g=S[h];S[h]=A,S[f]=g}}}this.nCachedObjects_=s}uncache(){const e=this._objects,t=this._indicesByUUID,r=this._bindings,i=r.length;let s=this.nCachedObjects_,o=e.length;for(let a=0,l=arguments.length;a!==l;++a){const u=arguments[a],h=u.uuid,f=t[h];if(f!==void 0)if(delete t[h],f<s){const p=--s,m=e[p],v=--o,S=e[v];t[m.uuid]=f,e[f]=m,t[S.uuid]=p,e[p]=S,e.pop();for(let A=0,g=i;A!==g;++A){const M=r[A],_=M[p],b=M[v];M[f]=_,M[p]=b,M.pop()}}else{const p=--o,m=e[p];p>0&&(t[m.uuid]=f),e[f]=m,e.pop();for(let v=0,S=i;v!==S;++v){const A=r[v];A[f]=A[p],A.pop()}}}this.nCachedObjects_=s}subscribe_(e,t){const r=this._bindingsIndicesByPath;let i=r[e];const s=this._bindings;if(i!==void 0)return s[i];const o=this._paths,a=this._parsedPaths,l=this._objects,u=l.length,h=this.nCachedObjects_,f=new Array(u);i=s.length,r[e]=i,o.push(e),a.push(t),s.push(f);for(let p=h,m=l.length;p!==m;++p){const v=l[p];f[p]=new bn(v,e,t)}return f}unsubscribe_(e){const t=this._bindingsIndicesByPath,r=t[e];if(r!==void 0){const i=this._paths,s=this._parsedPaths,o=this._bindings,a=o.length-1,l=o[a],u=e[a];t[u]=r,o[r]=l,o.pop(),s[r]=s[a],s.pop(),i[r]=i[a],i.pop()}}}class BK{constructor(e,t,r=null,i=t.blendMode){this._mixer=e,this._clip=t,this._localRoot=r,this.blendMode=i;const s=t.tracks,o=s.length,a=new Array(o),l={endingStart:pm,endingEnd:pm};for(let u=0;u!==o;++u){const h=s[u].createInterpolant(null);a[u]=h,h.settings=l}this._interpolantSettings=l,this._interpolants=a,this._propertyBindings=new Array(o),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=ZJ,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,t){return this.loop=e,this.repetitions=t,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,t,r){if(e.fadeOut(t),this.fadeIn(t),r){const i=this._clip.duration,s=e._clip.duration,o=s/i,a=i/s;e.warp(1,o,t),this.warp(a,1,t)}return this}crossFadeTo(e,t,r){return e.crossFadeFrom(this,t,r)}stopFading(){const e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,t,r){const i=this._mixer,s=i.time,o=this.timeScale;let a=this._timeScaleInterpolant;a===null&&(a=i._lendControlInterpolant(),this._timeScaleInterpolant=a);const l=a.parameterPositions,u=a.sampleValues;return l[0]=s,l[1]=s+r,u[0]=e/o,u[1]=t/o,this}stopWarping(){const e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,t,r,i){if(!this.enabled){this._updateWeight(e);return}const s=this._startTime;if(s!==null){const l=(e-s)*r;l<0||r===0?t=0:(this._startTime=null,t=r*l)}t*=this._updateTimeScale(e);const o=this._updateTime(t),a=this._updateWeight(e);if(a>0){const l=this._interpolants,u=this._propertyBindings;switch(this.blendMode){case RU:for(let h=0,f=l.length;h!==f;++h)l[h].evaluate(o),u[h].accumulateAdditive(a);break;case _R:default:for(let h=0,f=l.length;h!==f;++h)l[h].evaluate(o),u[h].accumulate(i,a)}}}_updateWeight(e){let t=0;if(this.enabled){t=this.weight;const r=this._weightInterpolant;if(r!==null){const i=r.evaluate(e)[0];t*=i,e>r.parameterPositions[1]&&(this.stopFading(),i===0&&(this.enabled=!1))}}return this._effectiveWeight=t,t}_updateTimeScale(e){let t=0;if(!this.paused){t=this.timeScale;const r=this._timeScaleInterpolant;if(r!==null){const i=r.evaluate(e)[0];t*=i,e>r.parameterPositions[1]&&(this.stopWarping(),t===0?this.paused=!0:this.timeScale=t)}}return this._effectiveTimeScale=t,t}_updateTime(e){const t=this._clip.duration,r=this.loop;let i=this.time+e,s=this._loopCount;const o=r===$J;if(e===0)return s===-1?i:o&&(s&1)===1?t-i:i;if(r===qJ){s===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(i>=t)i=t;else if(i<0)i=0;else{this.time=i;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(s===-1&&(e>=0?(s=0,this._setEndings(!0,this.repetitions===0,o)):this._setEndings(this.repetitions===0,!0,o)),i>=t||i<0){const a=Math.floor(i/t);i-=t*a,s+=Math.abs(a);const l=this.repetitions-s;if(l<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,i=e>0?t:0,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(l===1){const u=e<0;this._setEndings(u,!u,o)}else this._setEndings(!1,!1,o);this._loopCount=s,this.time=i,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:a})}}else this.time=i;if(o&&(s&1)===1)return t-i}return i}_setEndings(e,t,r){const i=this._interpolantSettings;r?(i.endingStart=mm,i.endingEnd=mm):(e?i.endingStart=this.zeroSlopeAtStart?mm:pm:i.endingStart=Z_,t?i.endingEnd=this.zeroSlopeAtEnd?mm:pm:i.endingEnd=Z_)}_scheduleFading(e,t,r){const i=this._mixer,s=i.time;let o=this._weightInterpolant;o===null&&(o=i._lendControlInterpolant(),this._weightInterpolant=o);const a=o.parameterPositions,l=o.sampleValues;return a[0]=s,l[0]=t,a[1]=s+e,l[1]=r,this}}const vpe=new Float32Array(1);class ype extends Zu{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,t){const r=e._localRoot||this._root,i=e._clip.tracks,s=i.length,o=e._propertyBindings,a=e._interpolants,l=r.uuid,u=this._bindingsByRootAndName;let h=u[l];h===void 0&&(h={},u[l]=h);for(let f=0;f!==s;++f){const p=i[f],m=p.name;let v=h[m];if(v!==void 0)++v.referenceCount,o[f]=v;else{if(v=o[f],v!==void 0){v._cacheIndex===null&&(++v.referenceCount,this._addInactiveBinding(v,l,m));continue}const S=t&&t._propertyBindings[f].binding.parsedPath;v=new PK(bn.create(r,m,S),p.ValueTypeName,p.getValueSize()),++v.referenceCount,this._addInactiveBinding(v,l,m),o[f]=v}a[f].resultBuffer=v.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){const r=(e._localRoot||this._root).uuid,i=e._clip.uuid,s=this._actionsByClip[i];this._bindAction(e,s&&s.knownActions[0]),this._addInactiveAction(e,i,r)}const t=e._propertyBindings;for(let r=0,i=t.length;r!==i;++r){const s=t[r];s.useCount++===0&&(this._lendBinding(s),s.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const t=e._propertyBindings;for(let r=0,i=t.length;r!==i;++r){const s=t[r];--s.useCount===0&&(s.restoreOriginalState(),this._takeBackBinding(s))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const t=e._cacheIndex;return t!==null&&t<this._nActiveActions}_addInactiveAction(e,t,r){const i=this._actions,s=this._actionsByClip;let o=s[t];if(o===void 0)o={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,s[t]=o;else{const a=o.knownActions;e._byClipCacheIndex=a.length,a.push(e)}e._cacheIndex=i.length,i.push(e),o.actionByRoot[r]=e}_removeInactiveAction(e){const t=this._actions,r=t[t.length-1],i=e._cacheIndex;r._cacheIndex=i,t[i]=r,t.pop(),e._cacheIndex=null;const s=e._clip.uuid,o=this._actionsByClip,a=o[s],l=a.knownActions,u=l[l.length-1],h=e._byClipCacheIndex;u._byClipCacheIndex=h,l[h]=u,l.pop(),e._byClipCacheIndex=null;const f=a.actionByRoot,p=(e._localRoot||this._root).uuid;delete f[p],l.length===0&&delete o[s],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const t=e._propertyBindings;for(let r=0,i=t.length;r!==i;++r){const s=t[r];--s.referenceCount===0&&this._removeInactiveBinding(s)}}_lendAction(e){const t=this._actions,r=e._cacheIndex,i=this._nActiveActions++,s=t[i];e._cacheIndex=i,t[i]=e,s._cacheIndex=r,t[r]=s}_takeBackAction(e){const t=this._actions,r=e._cacheIndex,i=--this._nActiveActions,s=t[i];e._cacheIndex=i,t[i]=e,s._cacheIndex=r,t[r]=s}_addInactiveBinding(e,t,r){const i=this._bindingsByRootAndName,s=this._bindings;let o=i[t];o===void 0&&(o={},i[t]=o),o[r]=e,e._cacheIndex=s.length,s.push(e)}_removeInactiveBinding(e){const t=this._bindings,r=e.binding,i=r.rootNode.uuid,s=r.path,o=this._bindingsByRootAndName,a=o[i],l=t[t.length-1],u=e._cacheIndex;l._cacheIndex=u,t[u]=l,t.pop(),delete a[s],Object.keys(a).length===0&&delete o[i]}_lendBinding(e){const t=this._bindings,r=e._cacheIndex,i=this._nActiveBindings++,s=t[i];e._cacheIndex=i,t[i]=e,s._cacheIndex=r,t[r]=s}_takeBackBinding(e){const t=this._bindings,r=e._cacheIndex,i=--this._nActiveBindings,s=t[i];e._cacheIndex=i,t[i]=e,s._cacheIndex=r,t[r]=s}_lendControlInterpolant(){const e=this._controlInterpolants,t=this._nActiveControlInterpolants++;let r=e[t];return r===void 0&&(r=new yO(new Float32Array(2),new Float32Array(2),1,vpe),r.__cacheIndex=t,e[t]=r),r}_takeBackControlInterpolant(e){const t=this._controlInterpolants,r=e.__cacheIndex,i=--this._nActiveControlInterpolants,s=t[i];e.__cacheIndex=i,t[i]=e,s.__cacheIndex=r,t[r]=s}clipAction(e,t,r){const i=t||this._root,s=i.uuid;let o=typeof e=="string"?zy.findByName(i,e):e;const a=o!==null?o.uuid:e,l=this._actionsByClip[a];let u=null;if(r===void 0&&(o!==null?r=o.blendMode:r=_R),l!==void 0){const f=l.actionByRoot[s];if(f!==void 0&&f.blendMode===r)return f;u=l.knownActions[0],o===null&&(o=u._clip)}if(o===null)return null;const h=new BK(this,o,t,r);return this._bindAction(h,u),this._addInactiveAction(h,a,s),h}existingAction(e,t){const r=t||this._root,i=r.uuid,s=typeof e=="string"?zy.findByName(r,e):e,o=s?s.uuid:e,a=this._actionsByClip[o];return a!==void 0&&a.actionByRoot[i]||null}stopAllAction(){const e=this._actions,t=this._nActiveActions;for(let r=t-1;r>=0;--r)e[r].stop();return this}update(e){e*=this.timeScale;const t=this._actions,r=this._nActiveActions,i=this.time+=e,s=Math.sign(e),o=this._accuIndex^=1;for(let u=0;u!==r;++u)t[u]._update(i,e,s,o);const a=this._bindings,l=this._nActiveBindings;for(let u=0;u!==l;++u)a[u].apply(o);return this}setTime(e){this.time=0;for(let t=0;t<this._actions.length;t++)this._actions[t].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const t=this._actions,r=e.uuid,i=this._actionsByClip,s=i[r];if(s!==void 0){const o=s.knownActions;for(let a=0,l=o.length;a!==l;++a){const u=o[a];this._deactivateAction(u);const h=u._cacheIndex,f=t[t.length-1];u._cacheIndex=null,u._byClipCacheIndex=null,f._cacheIndex=h,t[h]=f,t.pop(),this._removeInactiveBindingsForAction(u)}delete i[r]}}uncacheRoot(e){const t=e.uuid,r=this._actionsByClip;for(const o in r){const a=r[o].actionByRoot,l=a[t];l!==void 0&&(this._deactivateAction(l),this._removeInactiveAction(l))}const i=this._bindingsByRootAndName,s=i[t];if(s!==void 0)for(const o in s){const a=s[o];a.restoreOriginalState(),this._removeInactiveBinding(a)}}uncacheAction(e,t){const r=this.existingAction(e,t);r!==null&&(this._deactivateAction(r),this._removeInactiveAction(r))}}class RO{constructor(e){this.value=e}clone(){return new RO(this.value.clone===void 0?this.value:this.value.clone())}}let xpe=0;class Ape extends Zu{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:xpe++}),this.name="",this.usage=$_,this.uniforms=[]}add(e){return this.uniforms.push(e),this}remove(e){const t=this.uniforms.indexOf(e);return t!==-1&&this.uniforms.splice(t,1),this}setName(e){return this.name=e,this}setUsage(e){return this.usage=e,this}dispose(){return this.dispatchEvent({type:"dispose"}),this}copy(e){this.name=e.name,this.usage=e.usage;const t=e.uniforms;this.uniforms.length=0;for(let r=0,i=t.length;r<i;r++)this.uniforms.push(t[r].clone());return this}clone(){return new this.constructor().copy(this)}}class _pe extends rS{constructor(e,t,r=1){super(e,t),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=r}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const t=super.clone(e);return t.meshPerAttribute=this.meshPerAttribute,t}toJSON(e){const t=super.toJSON(e);return t.isInstancedInterleavedBuffer=!0,t.meshPerAttribute=this.meshPerAttribute,t}}class Mpe{constructor(e,t,r,i,s){this.isGLBufferAttribute=!0,this.name="",this.buffer=e,this.type=t,this.itemSize=r,this.elementSize=i,this.count=s,this.version=0}set needsUpdate(e){e===!0&&this.version++}setBuffer(e){return this.buffer=e,this}setType(e,t){return this.type=e,this.elementSize=t,this}setItemSize(e){return this.itemSize=e,this}setCount(e){return this.count=e,this}}class LK{constructor(e,t,r=0,i=1/0){this.ray=new dx(e,t),this.near=r,this.far=i,this.camera=null,this.layers=new Nm,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,t){this.ray.set(e,t)}setFromCamera(e,t){t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t):t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t):console.error("THREE.Raycaster: Unsupported camera type: "+t.type)}intersectObject(e,t=!0,r=[]){return WD(e,this,r,t),r.sort(pV),r}intersectObjects(e,t=!0,r=[]){for(let i=0,s=e.length;i<s;i++)WD(e[i],this,r,t);return r.sort(pV),r}}function pV(n,e){return n.distance-e.distance}function WD(n,e,t,r){if(n.layers.test(e.layers)&&n.raycast(e,t),r===!0){const i=n.children;for(let s=0,o=i.length;s<o;s++)WD(i[s],e,t,!0)}}class jD{constructor(e=1,t=0,r=0){return this.radius=e,this.phi=t,this.theta=r,this}set(e,t,r){return this.radius=e,this.phi=t,this.theta=r,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,r){return this.radius=Math.sqrt(e*e+t*t+r*r),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,r),this.phi=Math.acos(zr(t/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class Spe{constructor(e=1,t=0,r=0){return this.radius=e,this.theta=t,this.y=r,this}set(e,t,r){return this.radius=e,this.theta=t,this.y=r,this}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,r){return this.radius=Math.sqrt(e*e+r*r),this.theta=Math.atan2(e,r),this.y=t,this}clone(){return new this.constructor().copy(this)}}const mV=new Ye;class Epe{constructor(e=new Ye(1/0,1/0),t=new Ye(-1/0,-1/0)){this.isBox2=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromPoints(e){this.makeEmpty();for(let t=0,r=e.length;t<r;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const r=mV.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y)}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,mV).distanceTo(e)}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const gV=new se,ub=new se;class bpe{constructor(e=new se,t=new se){this.start=e,this.end=t}set(e,t){return this.start.copy(e),this.end.copy(t),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,t){return this.delta(t).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,t){gV.subVectors(e,this.start),ub.subVectors(this.end,this.start);const r=ub.dot(ub);let i=ub.dot(gV)/r;return t&&(i=zr(i,0,1)),i}closestPointToPoint(e,t,r){const i=this.closestPointToPointParameter(e,t);return this.delta(r).multiplyScalar(i).add(this.start)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const vV=new se;class wpe extends Mn{constructor(e,t){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=t,this.type="SpotLightHelper";const r=new Kt,i=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let o=0,a=1,l=32;o<l;o++,a++){const u=o/l*Math.PI*2,h=a/l*Math.PI*2;i.push(Math.cos(u),Math.sin(u),1,Math.cos(h),Math.sin(h),1)}r.setAttribute("position",new Tt(i,3));const s=new Ts({fog:!1,toneMapped:!1});this.cone=new jl(r,s),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1);const e=this.light.distance?this.light.distance:1e3,t=e*Math.tan(this.light.angle);this.cone.scale.set(t,t,e),vV.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(vV),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const ed=new se,cb=new zt,t2=new zt;class Tpe extends jl{constructor(e){const t=IK(e),r=new Kt,i=[],s=[],o=new xt(0,0,1),a=new xt(0,1,0);for(let u=0;u<t.length;u++){const h=t[u];h.parent&&h.parent.isBone&&(i.push(0,0,0),i.push(0,0,0),s.push(o.r,o.g,o.b),s.push(a.r,a.g,a.b))}r.setAttribute("position",new Tt(i,3)),r.setAttribute("color",new Tt(s,3));const l=new Ts({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(r,l),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=e,this.bones=t,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(e){const t=this.bones,r=this.geometry,i=r.getAttribute("position");t2.copy(this.root.matrixWorld).invert();for(let s=0,o=0;s<t.length;s++){const a=t[s];a.parent&&a.parent.isBone&&(cb.multiplyMatrices(t2,a.matrixWorld),ed.setFromMatrixPosition(cb),i.setXYZ(o,ed.x,ed.y,ed.z),cb.multiplyMatrices(t2,a.parent.matrixWorld),ed.setFromMatrixPosition(cb),i.setXYZ(o+1,ed.x,ed.y,ed.z),o+=2)}r.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose()}}function IK(n){const e=[];n.isBone===!0&&e.push(n);for(let t=0;t<n.children.length;t++)e.push.apply(e,IK(n.children[t]));return e}class Cpe extends _i{constructor(e,t,r){const i=new yx(t,4,2),s=new Vo({wireframe:!0,fog:!1,toneMapped:!1});super(i,s),this.light=e,this.color=r,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const Rpe=new se,yV=new xt,xV=new xt;class Ppe extends Mn{constructor(e,t,r){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=r,this.type="HemisphereLightHelper";const i=new vx(t);i.rotateY(Math.PI*.5),this.material=new Vo({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const s=i.getAttribute("position"),o=new Float32Array(s.count*3);i.setAttribute("color",new Pn(o,3)),this.add(new _i(i,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const e=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const t=e.geometry.getAttribute("color");yV.copy(this.light.color),xV.copy(this.light.groundColor);for(let r=0,i=t.count;r<i;r++){const s=r<i/2?yV:xV;t.setXYZ(r,s.r,s.g,s.b)}t.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),e.lookAt(Rpe.setFromMatrixPosition(this.light.matrixWorld).negate())}}class Bpe extends jl{constructor(e=10,t=10,r=4473924,i=8947848){r=new xt(r),i=new xt(i);const s=t/2,o=e/t,a=e/2,l=[],u=[];for(let p=0,m=0,v=-a;p<=t;p++,v+=o){l.push(-a,0,v,a,0,v),l.push(v,0,-a,v,0,a);const S=p===s?r:i;S.toArray(u,m),m+=3,S.toArray(u,m),m+=3,S.toArray(u,m),m+=3,S.toArray(u,m),m+=3}const h=new Kt;h.setAttribute("position",new Tt(l,3)),h.setAttribute("color",new Tt(u,3));const f=new Ts({vertexColors:!0,toneMapped:!1});super(h,f),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class Lpe extends jl{constructor(e=10,t=16,r=8,i=64,s=4473924,o=8947848){s=new xt(s),o=new xt(o);const a=[],l=[];if(t>1)for(let f=0;f<t;f++){const p=f/t*(Math.PI*2),m=Math.sin(p)*e,v=Math.cos(p)*e;a.push(0,0,0),a.push(m,0,v);const S=f&1?s:o;l.push(S.r,S.g,S.b),l.push(S.r,S.g,S.b)}for(let f=0;f<r;f++){const p=f&1?s:o,m=e-e/r*f;for(let v=0;v<i;v++){let S=v/i*(Math.PI*2),A=Math.sin(S)*m,g=Math.cos(S)*m;a.push(A,0,g),l.push(p.r,p.g,p.b),S=(v+1)/i*(Math.PI*2),A=Math.sin(S)*m,g=Math.cos(S)*m,a.push(A,0,g),l.push(p.r,p.g,p.b)}}const u=new Kt;u.setAttribute("position",new Tt(a,3)),u.setAttribute("color",new Tt(l,3));const h=new Ts({vertexColors:!0,toneMapped:!1});super(u,h),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const AV=new se,hb=new se,_V=new se;class Ipe extends Mn{constructor(e,t,r){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=r,this.type="DirectionalLightHelper",t===void 0&&(t=1);let i=new Kt;i.setAttribute("position",new Tt([-t,t,0,t,t,0,t,-t,0,-t,-t,0,-t,t,0],3));const s=new Ts({fog:!1,toneMapped:!1});this.lightPlane=new xh(i,s),this.add(this.lightPlane),i=new Kt,i.setAttribute("position",new Tt([0,0,0,0,0,1],3)),this.targetLine=new xh(i,s),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),AV.setFromMatrixPosition(this.light.matrixWorld),hb.setFromMatrixPosition(this.light.target.matrixWorld),_V.subVectors(hb,AV),this.lightPlane.lookAt(hb),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(hb),this.targetLine.scale.z=_V.length()}}const db=new se,Fr=new tS;class Dpe extends jl{constructor(e){const t=new Kt,r=new Ts({color:16777215,vertexColors:!0,toneMapped:!1}),i=[],s=[],o={};a("n1","n2"),a("n2","n4"),a("n4","n3"),a("n3","n1"),a("f1","f2"),a("f2","f4"),a("f4","f3"),a("f3","f1"),a("n1","f1"),a("n2","f2"),a("n3","f3"),a("n4","f4"),a("p","n1"),a("p","n2"),a("p","n3"),a("p","n4"),a("u1","u2"),a("u2","u3"),a("u3","u1"),a("c","t"),a("p","c"),a("cn1","cn2"),a("cn3","cn4"),a("cf1","cf2"),a("cf3","cf4");function a(v,S){l(v),l(S)}function l(v){i.push(0,0,0),s.push(0,0,0),o[v]===void 0&&(o[v]=[]),o[v].push(i.length/3-1)}t.setAttribute("position",new Tt(i,3)),t.setAttribute("color",new Tt(s,3)),super(t,r),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=o,this.update();const u=new xt(16755200),h=new xt(16711680),f=new xt(43775),p=new xt(16777215),m=new xt(3355443);this.setColors(u,h,f,p,m)}setColors(e,t,r,i,s){const o=this.geometry.getAttribute("color");o.setXYZ(0,e.r,e.g,e.b),o.setXYZ(1,e.r,e.g,e.b),o.setXYZ(2,e.r,e.g,e.b),o.setXYZ(3,e.r,e.g,e.b),o.setXYZ(4,e.r,e.g,e.b),o.setXYZ(5,e.r,e.g,e.b),o.setXYZ(6,e.r,e.g,e.b),o.setXYZ(7,e.r,e.g,e.b),o.setXYZ(8,e.r,e.g,e.b),o.setXYZ(9,e.r,e.g,e.b),o.setXYZ(10,e.r,e.g,e.b),o.setXYZ(11,e.r,e.g,e.b),o.setXYZ(12,e.r,e.g,e.b),o.setXYZ(13,e.r,e.g,e.b),o.setXYZ(14,e.r,e.g,e.b),o.setXYZ(15,e.r,e.g,e.b),o.setXYZ(16,e.r,e.g,e.b),o.setXYZ(17,e.r,e.g,e.b),o.setXYZ(18,e.r,e.g,e.b),o.setXYZ(19,e.r,e.g,e.b),o.setXYZ(20,e.r,e.g,e.b),o.setXYZ(21,e.r,e.g,e.b),o.setXYZ(22,e.r,e.g,e.b),o.setXYZ(23,e.r,e.g,e.b),o.setXYZ(24,t.r,t.g,t.b),o.setXYZ(25,t.r,t.g,t.b),o.setXYZ(26,t.r,t.g,t.b),o.setXYZ(27,t.r,t.g,t.b),o.setXYZ(28,t.r,t.g,t.b),o.setXYZ(29,t.r,t.g,t.b),o.setXYZ(30,t.r,t.g,t.b),o.setXYZ(31,t.r,t.g,t.b),o.setXYZ(32,r.r,r.g,r.b),o.setXYZ(33,r.r,r.g,r.b),o.setXYZ(34,r.r,r.g,r.b),o.setXYZ(35,r.r,r.g,r.b),o.setXYZ(36,r.r,r.g,r.b),o.setXYZ(37,r.r,r.g,r.b),o.setXYZ(38,i.r,i.g,i.b),o.setXYZ(39,i.r,i.g,i.b),o.setXYZ(40,s.r,s.g,s.b),o.setXYZ(41,s.r,s.g,s.b),o.setXYZ(42,s.r,s.g,s.b),o.setXYZ(43,s.r,s.g,s.b),o.setXYZ(44,s.r,s.g,s.b),o.setXYZ(45,s.r,s.g,s.b),o.setXYZ(46,s.r,s.g,s.b),o.setXYZ(47,s.r,s.g,s.b),o.setXYZ(48,s.r,s.g,s.b),o.setXYZ(49,s.r,s.g,s.b),o.needsUpdate=!0}update(){const e=this.geometry,t=this.pointMap,r=1,i=1;Fr.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),jr("c",t,e,Fr,0,0,-1),jr("t",t,e,Fr,0,0,1),jr("n1",t,e,Fr,-r,-i,-1),jr("n2",t,e,Fr,r,-i,-1),jr("n3",t,e,Fr,-r,i,-1),jr("n4",t,e,Fr,r,i,-1),jr("f1",t,e,Fr,-r,-i,1),jr("f2",t,e,Fr,r,-i,1),jr("f3",t,e,Fr,-r,i,1),jr("f4",t,e,Fr,r,i,1),jr("u1",t,e,Fr,r*.7,i*1.1,-1),jr("u2",t,e,Fr,-r*.7,i*1.1,-1),jr("u3",t,e,Fr,0,i*2,-1),jr("cf1",t,e,Fr,-r,0,1),jr("cf2",t,e,Fr,r,0,1),jr("cf3",t,e,Fr,0,-i,1),jr("cf4",t,e,Fr,0,i,1),jr("cn1",t,e,Fr,-r,0,-1),jr("cn2",t,e,Fr,r,0,-1),jr("cn3",t,e,Fr,0,-i,-1),jr("cn4",t,e,Fr,0,i,-1),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function jr(n,e,t,r,i,s,o){db.set(i,s,o).unproject(r);const a=e[n];if(a!==void 0){const l=t.getAttribute("position");for(let u=0,h=a.length;u<h;u++)l.setXYZ(a[u],db.x,db.y,db.z)}}const fb=new Wl;class Fpe extends jl{constructor(e,t=16776960){const r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=new Float32Array(8*3),s=new Kt;s.setIndex(new Pn(r,1)),s.setAttribute("position",new Pn(i,3)),super(s,new Ts({color:t,toneMapped:!1})),this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(e){if(e!==void 0&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),this.object!==void 0&&fb.setFromObject(this.object),fb.isEmpty())return;const t=fb.min,r=fb.max,i=this.geometry.attributes.position,s=i.array;s[0]=r.x,s[1]=r.y,s[2]=r.z,s[3]=t.x,s[4]=r.y,s[5]=r.z,s[6]=t.x,s[7]=t.y,s[8]=r.z,s[9]=r.x,s[10]=t.y,s[11]=r.z,s[12]=r.x,s[13]=r.y,s[14]=t.z,s[15]=t.x,s[16]=r.y,s[17]=t.z,s[18]=t.x,s[19]=t.y,s[20]=t.z,s[21]=r.x,s[22]=t.y,s[23]=t.z,i.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e,t){return super.copy(e,t),this.object=e.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class Npe extends jl{constructor(e,t=16776960){const r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],s=new Kt;s.setIndex(new Pn(r,1)),s.setAttribute("position",new Tt(i,3)),super(s,new Ts({color:t,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){const t=this.box;t.isEmpty()||(t.getCenter(this.position),t.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}dispose(){this.geometry.dispose(),this.material.dispose()}}class Upe extends xh{constructor(e,t=1,r=16776960){const i=r,s=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],o=new Kt;o.setAttribute("position",new Tt(s,3)),o.computeBoundingSphere(),super(o,new Ts({color:i,toneMapped:!1})),this.type="PlaneHelper",this.plane=e,this.size=t;const a=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],l=new Kt;l.setAttribute("position",new Tt(a,3)),l.computeBoundingSphere(),this.add(new _i(l,new Vo({color:i,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const MV=new se;let pb,n2;class Ope extends Mn{constructor(e=new se(0,0,1),t=new se(0,0,0),r=1,i=16776960,s=r*.2,o=s*.2){super(),this.type="ArrowHelper",pb===void 0&&(pb=new Kt,pb.setAttribute("position",new Tt([0,0,0,0,1,0],3)),n2=new sS(0,.5,1,5,1),n2.translate(0,-.5,0)),this.position.copy(t),this.line=new xh(pb,new Ts({color:i,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new _i(n2,new Vo({color:i,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(r,s,o)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{MV.set(e.z,0,-e.x).normalize();const t=Math.acos(e.y);this.quaternion.setFromAxisAngle(MV,t)}}setLength(e,t=e*.2,r=t*.2){this.line.scale.set(1,Math.max(1e-4,e-t),1),this.line.updateMatrix(),this.cone.scale.set(r,t,r),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class kpe extends jl{constructor(e=1){const t=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],r=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],i=new Kt;i.setAttribute("position",new Tt(t,3)),i.setAttribute("color",new Tt(r,3));const s=new Ts({vertexColors:!0,toneMapped:!1});super(i,s),this.type="AxesHelper"}setColors(e,t,r){const i=new xt,s=this.geometry.attributes.color.array;return i.set(e),i.toArray(s,0),i.toArray(s,3),i.set(t),i.toArray(s,6),i.toArray(s,9),i.set(r),i.toArray(s,12),i.toArray(s,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class Gpe{constructor(){this.type="ShapePath",this.color=new xt,this.subPaths=[],this.currentPath=null}moveTo(e,t){return this.currentPath=new nM,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,t),this}lineTo(e,t){return this.currentPath.lineTo(e,t),this}quadraticCurveTo(e,t,r,i){return this.currentPath.quadraticCurveTo(e,t,r,i),this}bezierCurveTo(e,t,r,i,s,o){return this.currentPath.bezierCurveTo(e,t,r,i,s,o),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e){function t(g){const M=[];for(let _=0,b=g.length;_<b;_++){const T=g[_],C=new Um;C.curves=T.curves,M.push(C)}return M}function r(g,M){const _=M.length;let b=!1;for(let T=_-1,C=0;C<_;T=C++){let B=M[T],P=M[C],R=P.x-B.x,L=P.y-B.y;if(Math.abs(L)>Number.EPSILON){if(L<0&&(B=M[C],R=-R,P=M[T],L=-L),g.y<B.y||g.y>P.y)continue;if(g.y===B.y){if(g.x===B.x)return!0}else{const U=L*(g.x-B.x)-R*(g.y-B.y);if(U===0)return!0;if(U<0)continue;b=!b}}else{if(g.y!==B.y)continue;if(P.x<=g.x&&g.x<=B.x||B.x<=g.x&&g.x<=P.x)return!0}}return b}const i=Uu.isClockWise,s=this.subPaths;if(s.length===0)return[];let o,a,l;const u=[];if(s.length===1)return a=s[0],l=new Um,l.curves=a.curves,u.push(l),u;let h=!i(s[0].getPoints());h=e?!h:h;const f=[],p=[];let m=[],v=0,S;p[v]=void 0,m[v]=[];for(let g=0,M=s.length;g<M;g++)a=s[g],S=a.getPoints(),o=i(S),o=e?!o:o,o?(!h&&p[v]&&v++,p[v]={s:new Um,p:S},p[v].s.curves=a.curves,h&&v++,m[v]=[]):m[v].push({h:a,p:S[0]});if(!p[0])return t(s);if(p.length>1){let g=!1,M=0;for(let _=0,b=p.length;_<b;_++)f[_]=[];for(let _=0,b=p.length;_<b;_++){const T=m[_];for(let C=0;C<T.length;C++){const B=T[C];let P=!0;for(let R=0;R<p.length;R++)r(B.p,p[R].p)&&(_!==R&&M++,P?(P=!1,f[R].push(B)):g=!0);P&&f[_].push(B)}}M>0&&g===!1&&(m=f)}let A;for(let g=0,M=p.length;g<M;g++){l=p[g].s,u.push(l),A=m[g];for(let _=0,b=A.length;_<b;_++)l.holes.push(A[_].h)}return u}}class zpe extends fx{constructor(e,t,r,i,s,o){console.warn("THREE.BoxBufferGeometry has been renamed to THREE.BoxGeometry."),super(e,t,r,i,s,o)}}class Hpe extends iO{constructor(e,t,r,i){console.warn("THREE.CapsuleBufferGeometry has been renamed to THREE.CapsuleGeometry."),super(e,t,r,i)}}class Vpe extends sO{constructor(e,t,r,i){console.warn("THREE.CircleBufferGeometry has been renamed to THREE.CircleGeometry."),super(e,t,r,i)}}class Wpe extends oO{constructor(e,t,r,i,s,o,a){console.warn("THREE.ConeBufferGeometry has been renamed to THREE.ConeGeometry."),super(e,t,r,i,s,o,a)}}class jpe extends sS{constructor(e,t,r,i,s,o,a,l){console.warn("THREE.CylinderBufferGeometry has been renamed to THREE.CylinderGeometry."),super(e,t,r,i,s,o,a,l)}}class Xpe extends aO{constructor(e,t){console.warn("THREE.DodecahedronBufferGeometry has been renamed to THREE.DodecahedronGeometry."),super(e,t)}}class Jpe extends lO{constructor(e,t){console.warn("THREE.ExtrudeBufferGeometry has been renamed to THREE.ExtrudeGeometry."),super(e,t)}}class Ype extends uO{constructor(e,t){console.warn("THREE.IcosahedronBufferGeometry has been renamed to THREE.IcosahedronGeometry."),super(e,t)}}class Kpe extends gx{constructor(e,t,r,i){console.warn("THREE.LatheBufferGeometry has been renamed to THREE.LatheGeometry."),super(e,t,r,i)}}class Qpe extends vx{constructor(e,t){console.warn("THREE.OctahedronBufferGeometry has been renamed to THREE.OctahedronGeometry."),super(e,t)}}class qpe extends px{constructor(e,t,r,i){console.warn("THREE.PlaneBufferGeometry has been renamed to THREE.PlaneGeometry."),super(e,t,r,i)}}class Zpe extends Ch{constructor(e,t,r,i){console.warn("THREE.PolyhedronBufferGeometry has been renamed to THREE.PolyhedronGeometry."),super(e,t,r,i)}}class $pe extends cO{constructor(e,t,r,i,s,o){console.warn("THREE.RingBufferGeometry has been renamed to THREE.RingGeometry."),super(e,t,r,i,s,o)}}class eme extends hO{constructor(e,t){console.warn("THREE.ShapeBufferGeometry has been renamed to THREE.ShapeGeometry."),super(e,t)}}class tme extends yx{constructor(e,t,r,i,s,o,a){console.warn("THREE.SphereBufferGeometry has been renamed to THREE.SphereGeometry."),super(e,t,r,i,s,o,a)}}class nme extends dO{constructor(e,t){console.warn("THREE.TetrahedronBufferGeometry has been renamed to THREE.TetrahedronGeometry."),super(e,t)}}class rme extends fO{constructor(e,t,r,i,s){console.warn("THREE.TorusBufferGeometry has been renamed to THREE.TorusGeometry."),super(e,t,r,i,s)}}class ime extends pO{constructor(e,t,r,i,s,o){console.warn("THREE.TorusKnotBufferGeometry has been renamed to THREE.TorusKnotGeometry."),super(e,t,r,i,s,o)}}class sme extends mO{constructor(e,t,r,i,s){console.warn("THREE.TubeBufferGeometry has been renamed to THREE.TubeGeometry."),super(e,t,r,i,s)}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:ZM}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=ZM);const ome=Object.freeze(Object.defineProperty({__proto__:null,ACESFilmicToneMapping:MU,AddEquation:om,AddOperation:UJ,AdditiveAnimationBlendMode:RU,AdditiveBlending:lD,AlphaFormat:WJ,AlwaysCompare:dY,AlwaysDepth:PJ,AlwaysStencilFunc:iY,AmbientLight:_K,AmbientLightProbe:epe,AnimationAction:BK,AnimationClip:zy,AnimationLoader:Vfe,AnimationMixer:ype,AnimationObjectGroup:gpe,AnimationUtils:kfe,ArcCurve:kY,ArrayCamera:CY,ArrowHelper:Ope,Audio:RK,AudioAnalyser:ope,AudioContext:bO,AudioListener:rpe,AudioLoader:Zfe,AxesHelper:kpe,BackSide:Vs,BasicDepthPacking:tY,BasicShadowMap:gJ,Bone:bR,BooleanKeyframeTrack:dg,Box2:Epe,Box3:Wl,Box3Helper:Npe,BoxBufferGeometry:zpe,BoxGeometry:fx,BoxHelper:Fpe,BufferAttribute:Pn,BufferGeometry:Kt,BufferGeometryLoader:TK,ByteType:HJ,Cache:eg,Camera:tS,CameraHelper:Dpe,CanvasTexture:ufe,CapsuleBufferGeometry:Hpe,CapsuleGeometry:iO,CatmullRomCurve3:GY,CineonToneMapping:GJ,CircleBufferGeometry:Vpe,CircleGeometry:sO,ClampToEdgeWrapping:is,Clock:wO,Color:xt,ColorKeyframeTrack:xO,ColorManagement:Pa,CompressedArrayTexture:lfe,CompressedTexture:qU,CompressedTextureLoader:Wfe,ConeBufferGeometry:Wpe,ConeGeometry:oO,CubeCamera:kU,CubeReflectionMapping:uf,CubeRefractionMapping:cf,CubeTexture:nS,CubeTextureLoader:jfe,CubeUVReflectionMapping:hx,CubicBezierCurve:$U,CubicBezierCurve3:zY,CubicInterpolant:vK,CullFaceBack:aD,CullFaceFront:mJ,CullFaceFrontBack:cae,CullFaceNone:pJ,Curve:Xl,CurvePath:VY,CustomBlending:vJ,CustomToneMapping:zJ,CylinderBufferGeometry:jpe,CylinderGeometry:sS,Cylindrical:Spe,Data3DTexture:NU,DataArrayTexture:MR,DataTexture:cy,DataTextureLoader:Xfe,DataUtils:yle,DecrementStencilOp:xae,DecrementWrapStencilOp:_ae,DefaultLoadingManager:R0,DepthFormat:Hd,DepthStencilFormat:qm,DepthTexture:RY,DirectionalLight:EO,DirectionalLightHelper:Ipe,DiscreteInterpolant:yK,DisplayP3ColorSpace:LU,DodecahedronBufferGeometry:Xpe,DodecahedronGeometry:aO,DoubleSide:Ga,DstAlphaFactor:EJ,DstColorFactor:wJ,DynamicCopyUsage:Fae,DynamicDrawUsage:Dm,DynamicReadUsage:Lae,EdgesGeometry:KY,EllipseCurve:wR,EqualCompare:aY,EqualDepth:LJ,EqualStencilFunc:bae,EquirectangularReflectionMapping:K_,EquirectangularRefractionMapping:Q_,Euler:eS,EventDispatcher:Zu,ExtrudeBufferGeometry:Jpe,ExtrudeGeometry:lO,FileLoader:Zo,Float16BufferAttribute:Ele,Float32BufferAttribute:Tt,Float64BufferAttribute:ble,FloatType:Pu,Fog:IY,FogExp2:BY,FramebufferTexture:afe,FrontSide:Xu,Frustum:SR,GLBufferAttribute:Mpe,GLSL1:Uae,GLSL3:ND,GreaterCompare:uY,GreaterDepth:DJ,GreaterEqualCompare:hY,GreaterEqualDepth:IJ,GreaterEqualStencilFunc:Rae,GreaterStencilFunc:Tae,GridHelper:Bpe,Group:eh,HalfFloatType:Dy,HemisphereLight:AK,HemisphereLightHelper:Ppe,HemisphereLightProbe:$fe,IcosahedronBufferGeometry:Ype,IcosahedronGeometry:uO,ImageBitmapLoader:CK,ImageLoader:oM,ImageUtils:FU,IncrementStencilOp:yae,IncrementWrapStencilOp:Aae,InstancedBufferAttribute:Oy,InstancedBufferGeometry:wK,InstancedInterleavedBuffer:_pe,InstancedMesh:YU,Int16BufferAttribute:Mle,Int32BufferAttribute:Sle,Int8BufferAttribute:xle,IntType:SU,InterleavedBuffer:rS,InterleavedBufferAttribute:df,Interpolant:xx,InterpolateDiscrete:Fy,InterpolateLinear:Zm,InterpolateSmooth:$w,InvertStencilOp:Mae,KeepStencilOp:eT,KeyframeTrack:Jl,LOD:UY,LatheBufferGeometry:Kpe,LatheGeometry:gx,Layers:Nm,LessCompare:oY,LessDepth:BJ,LessEqualCompare:lY,LessEqualDepth:qT,LessEqualStencilFunc:wae,LessStencilFunc:Eae,Light:Rf,LightProbe:RR,Line:xh,Line3:bpe,LineBasicMaterial:Ts,LineCurve:TR,LineCurve3:HY,LineDashedMaterial:mK,LineLoop:KU,LineSegments:jl,LinearEncoding:BU,LinearFilter:Ar,LinearInterpolant:yO,LinearMipMapLinearFilter:mae,LinearMipMapNearestFilter:pae,LinearMipmapLinearFilter:Ju,LinearMipmapNearestFilter:xR,LinearSRGBColorSpace:kl,LinearToneMapping:OJ,Loader:Ys,LoaderUtils:Ou,LoadingManager:AO,LoopOnce:qJ,LoopPingPong:$J,LoopRepeat:ZJ,LuminanceAlphaFormat:XJ,LuminanceFormat:jJ,MOUSE:Jp,Material:ci,MaterialLoader:EK,MathUtils:DU,Matrix3:sn,Matrix4:zt,MaxEquation:dD,Mesh:_i,MeshBasicMaterial:Vo,MeshDepthMaterial:HU,MeshDistanceMaterial:VU,MeshLambertMaterial:fK,MeshMatcapMaterial:pK,MeshNormalMaterial:dK,MeshPhongMaterial:cK,MeshPhysicalMaterial:$u,MeshStandardMaterial:oS,MeshToonMaterial:hK,MinEquation:hD,MirroredRepeatWrapping:Iy,MixOperation:NJ,MultiplyBlending:cD,MultiplyOperation:$M,NearestFilter:kr,NearestMipMapLinearFilter:fae,NearestMipMapNearestFilter:dae,NearestMipmapLinearFilter:ly,NearestMipmapNearestFilter:q_,NeverCompare:sY,NeverDepth:RJ,NeverStencilFunc:Sae,NoBlending:lh,NoColorSpace:Wd,NoToneMapping:Bl,NormalAnimationBlendMode:_R,NormalBlending:Im,NotEqualCompare:cY,NotEqualDepth:FJ,NotEqualStencilFunc:Cae,NumberKeyframeTrack:ky,Object3D:Mn,ObjectLoader:Qfe,ObjectSpaceNormalMap:rY,OctahedronBufferGeometry:Qpe,OctahedronGeometry:vx,OneFactor:_J,OneMinusDstAlphaFactor:bJ,OneMinusDstColorFactor:TJ,OneMinusSrcAlphaFactor:_U,OneMinusSrcColorFactor:SJ,OrthographicCamera:Ll,PCFShadowMap:vR,PCFSoftShadowMap:i_,PMREMGenerator:OD,Path:nM,PerspectiveCamera:ur,Plane:vd,PlaneBufferGeometry:qpe,PlaneGeometry:px,PlaneHelper:Upe,PointLight:SO,PointLightHelper:Cpe,Points:QU,PointsMaterial:iS,PolarGridHelper:Lpe,PolyhedronBufferGeometry:Zpe,PolyhedronGeometry:Ch,PositionalAudio:spe,PropertyBinding:bn,PropertyMixer:PK,QuadraticBezierCurve:eO,QuadraticBezierCurve3:tO,Quaternion:Hi,QuaternionKeyframeTrack:ff,QuaternionLinearInterpolant:xK,RED_GREEN_RGTC2_Format:DD,RED_RGTC1_Format:QJ,REVISION:ZM,RGBADepthPacking:nY,RGBAFormat:ao,RGBAIntegerFormat:CU,RGBA_ASTC_10x10_Format:PD,RGBA_ASTC_10x5_Format:TD,RGBA_ASTC_10x6_Format:CD,RGBA_ASTC_10x8_Format:RD,RGBA_ASTC_12x10_Format:BD,RGBA_ASTC_12x12_Format:LD,RGBA_ASTC_4x4_Format:xD,RGBA_ASTC_5x4_Format:AD,RGBA_ASTC_5x5_Format:_D,RGBA_ASTC_6x5_Format:MD,RGBA_ASTC_6x6_Format:SD,RGBA_ASTC_8x5_Format:ED,RGBA_ASTC_8x6_Format:bD,RGBA_ASTC_8x8_Format:wD,RGBA_BPTC_Format:Zw,RGBA_ETC2_EAC_Format:yD,RGBA_PVRTC_2BPPV1_Format:gD,RGBA_PVRTC_4BPPV1_Format:mD,RGBA_S3TC_DXT1_Format:Kw,RGBA_S3TC_DXT3_Format:Qw,RGBA_S3TC_DXT5_Format:qw,RGB_ETC1_Format:KJ,RGB_ETC2_Format:vD,RGB_PVRTC_2BPPV1_Format:pD,RGB_PVRTC_4BPPV1_Format:fD,RGB_S3TC_DXT1_Format:Yw,RGFormat:YJ,RGIntegerFormat:TU,RawShaderMaterial:uK,Ray:dx,Raycaster:LK,RectAreaLight:MK,RedFormat:JJ,RedIntegerFormat:wU,ReinhardToneMapping:kJ,RepeatWrapping:hf,ReplaceStencilOp:vae,ReverseSubtractEquation:xJ,RingBufferGeometry:$pe,RingGeometry:cO,SIGNED_RED_GREEN_RGTC2_Format:FD,SIGNED_RED_RGTC1_Format:ID,SRGBColorSpace:qt,Scene:tC,ShaderChunk:nn,ShaderLib:bl,ShaderMaterial:Yu,ShadowMaterial:lK,Shape:Um,ShapeBufferGeometry:eme,ShapeGeometry:hO,ShapePath:Gpe,ShapeUtils:Uu,ShortType:VJ,Skeleton:JU,SkeletonHelper:Tpe,SkinnedMesh:XU,Source:gm,Sphere:Za,SphereBufferGeometry:tme,SphereGeometry:yx,Spherical:jD,SphericalHarmonics3:SK,SplineCurve:nO,SpotLight:MO,SpotLightHelper:wpe,Sprite:NY,SpriteMaterial:jU,SrcAlphaFactor:AU,SrcAlphaSaturateFactor:CJ,SrcColorFactor:MJ,StaticCopyUsage:Dae,StaticDrawUsage:$_,StaticReadUsage:Bae,StereoCamera:tpe,StreamCopyUsage:Nae,StreamDrawUsage:Pae,StreamReadUsage:Iae,StringKeyframeTrack:fg,SubtractEquation:yJ,SubtractiveBlending:uD,TOUCH:Yp,TangentSpaceNormalMap:Cf,TetrahedronBufferGeometry:nme,TetrahedronGeometry:dO,Texture:dr,TextureLoader:aS,TorusBufferGeometry:rme,TorusGeometry:fO,TorusKnotBufferGeometry:ime,TorusKnotGeometry:pO,Triangle:vm,TriangleFanDrawMode:ZT,TriangleStripDrawMode:PU,TrianglesDrawMode:eY,TubeBufferGeometry:sme,TubeGeometry:mO,TwoPassDoubleSide:hae,UVMapping:yR,Uint16BufferAttribute:UU,Uint32BufferAttribute:OU,Uint8BufferAttribute:Ale,Uint8ClampedBufferAttribute:_le,Uniform:RO,UniformsGroup:Ape,UniformsLib:yt,UniformsUtils:_Y,UnsignedByteType:Nu,UnsignedInt248Type:zd,UnsignedIntType:$c,UnsignedShort4444Type:EU,UnsignedShort5551Type:bU,UnsignedShortType:AR,VSMShadowMap:xl,Vector2:Ye,Vector3:se,Vector4:kn,VectorKeyframeTrack:Gy,VideoTexture:ofe,WebGL1Renderer:PY,WebGL3DRenderTarget:ale,WebGLArrayRenderTarget:ole,WebGLCoordinateSystem:Bu,WebGLCubeRenderTarget:GU,WebGLMultipleRenderTargets:lle,WebGLRenderTarget:Gl,WebGLRenderer:WU,WebGLUtils:TY,WebGPUCoordinateSystem:eM,WireframeGeometry:aK,WrapAroundEnding:Z_,ZeroCurvatureEnding:pm,ZeroFactor:AJ,ZeroSlopeEnding:mm,ZeroStencilOp:gae,_SRGBAFormat:$T,sRGBEncoding:Vd},Symbol.toStringTag,{value:"Module"}));var DK={exports:{}},pg={};/**
* @license React
* react-reconciler-constants.production.min.js
*
* Copyright (c) Facebook, Inc. and its affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/pg.ConcurrentRoot=1;pg.ContinuousEventPriority=4;pg.DefaultEventPriority=16;pg.DiscreteEventPriority=1;pg.IdleEventPriority=536870912;pg.LegacyRoot=0;DK.exports=pg;var P0=DK.exports;function ame(n){let e;const t=new Set,r=(a,l)=>{const u=typeof a=="function"?a(e):a;if(u!==e){const h=e;e=l?u:Object.assign({},e,u),t.forEach(f=>f(e,h))}},i=()=>e,s=(a,l=i,u=Object.is)=>{console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");let h=l(e);function f(){const p=l(e);if(!u(h,p)){const m=h;a(h=p,m)}}return t.add(f),()=>t.delete(f)},o={setState:r,getState:i,subscribe:(a,l,u)=>l||u?s(a,l,u):(t.add(a),()=>t.delete(a)),destroy:()=>t.clear()};return e=n(r,i,o),o}const lme=typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),SV=lme?pe.useEffect:pe.useLayoutEffect;function FK(n){const e=typeof n=="function"?ame(n):n,t=(r=e.getState,i=Object.is)=>{const[,s]=pe.useReducer(A=>A+1,0),o=e.getState(),a=pe.useRef(o),l=pe.useRef(r),u=pe.useRef(i),h=pe.useRef(!1),f=pe.useRef();f.current===void 0&&(f.current=r(o));let p,m=!1;(a.current!==o||l.current!==r||u.current!==i||h.current)&&(p=r(o),m=!i(f.current,p)),SV(()=>{m&&(f.current=p),a.current=o,l.current=r,u.current=i,h.current=!1});const v=pe.useRef(o);SV(()=>{const A=()=>{try{const M=e.getState(),_=l.current(M);u.current(f.current,_)||(a.current=M,f.current=_,s())}catch{h.current=!0,s()}},g=e.subscribe(A);return e.getState()!==v.current&&A(),g},[]);const S=m?p:f.current;return pe.useDebugValue(S),S};return Object.assign(t,e),t[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");const r=[t,e];return{next(){const i=r.length<=0;return{value:r.shift(),done:i}}}},t}var NK={exports:{}},EV={exports:{}},bV={};/**
* @license React
* scheduler.production.min.js
*
* Copyright (c) Facebook, Inc. and its affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var wV;function ume(){return wV||(wV=1,function(n){function e(D,k){var G=D.length;D.push(k);e:for(;0<G;){var K=G-1>>>1,H=D[K];if(0<i(H,k))D[K]=k,D[G]=H,G=K;else break e}}function t(D){return D.length===0?null:D[0]}function r(D){if(D.length===0)return null;var k=D[0],G=D.pop();if(G!==k){D[0]=G;e:for(var K=0,H=D.length,ue=H>>>1;K<ue;){var le=2*(K+1)-1,Ce=D[le],xe=le+1,Be=D[xe];if(0>i(Ce,G))xe<H&&0>i(Be,Ce)?(D[K]=Be,D[xe]=G,K=xe):(D[K]=Ce,D[le]=G,K=le);else if(xe<H&&0>i(Be,G))D[K]=Be,D[xe]=G,K=xe;else break e}}return k}function i(D,k){var G=D.sortIndex-k.sortIndex;return G!==0?G:D.id-k.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();n.unstable_now=function(){return o.now()-a}}var l=[],u=[],h=1,f=null,p=3,m=!1,v=!1,S=!1,A=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,M=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(D){for(var k=t(u);k!==null;){if(k.callback===null)r(u);else if(k.startTime<=D)r(u),k.sortIndex=k.expirationTime,e(l,k);else break;k=t(u)}}function b(D){if(S=!1,_(D),!v)if(t(l)!==null)v=!0,ae(T);else{var k=t(u);k!==null&&Z(b,k.startTime-D)}}function T(D,k){v=!1,S&&(S=!1,g(P),P=-1),m=!0;var G=p;try{for(_(k),f=t(l);f!==null&&(!(f.expirationTime>k)||D&&!U());){var K=f.callback;if(typeof K=="function"){f.callback=null,p=f.priorityLevel;var H=K(f.expirationTime<=k);k=n.unstable_now(),typeof H=="function"?f.callback=H:f===t(l)&&r(l),_(k)}else r(l);f=t(l)}if(f!==null)var ue=!0;else{var le=t(u);le!==null&&Z(b,le.startTime-k),ue=!1}return ue}finally{f=null,p=G,m=!1}}var C=!1,B=null,P=-1,R=5,L=-1;function U(){return!(n.unstable_now()-L<R)}function Q(){if(B!==null){var D=n.unstable_now();L=D;var k=!0;try{k=B(!0,D)}finally{k?W():(C=!1,B=null)}}else C=!1}var W;if(typeof M=="function")W=function(){M(Q)};else if(typeof MessageChannel<"u"){var Y=new MessageChannel,X=Y.port2;Y.port1.onmessage=Q,W=function(){X.postMessage(null)}}else W=function(){A(Q,0)};function ae(D){B=D,C||(C=!0,W())}function Z(D,k){P=A(function(){D(n.unstable_now())},k)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(D){D.callback=null},n.unstable_continueExecution=function(){v||m||(v=!0,ae(T))},n.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<D?Math.floor(1e3/D):5},n.unstable_getCurrentPriorityLevel=function(){return p},n.unstable_getFirstCallbackNode=function(){return t(l)},n.unstable_next=function(D){switch(p){case 1:case 2:case 3:var k=3;break;default:k=p}var G=p;p=k;try{return D()}finally{p=G}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(D,k){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var G=p;p=D;try{return k()}finally{p=G}},n.unstable_scheduleCallback=function(D,k,G){var K=n.unstable_now();switch(typeof G=="object"&&G!==null?(G=G.delay,G=typeof G=="number"&&0<G?K+G:K):G=K,D){case 1:var H=-1;break;case 2:H=250;break;case 5:H=1073741823;break;case 4:H=1e4;break;default:H=5e3}return H=G+H,D={id:h++,callback:k,priorityLevel:D,startTime:G,expirationTime:H,sortIndex:-1},G>K?(D.sortIndex=G,e(u,D),t(l)===null&&D===t(u)&&(S?(g(P),P=-1):S=!0,Z(b,G-K))):(D.sortIndex=H,e(l,D),v||m||(v=!0,ae(T))),D},n.unstable_shouldYield=U,n.unstable_wrapCallback=function(D){var k=p;return function(){var G=p;p=k;try{return D.apply(this,arguments)}finally{p=G}}}}(bV)),bV}var TV;function cme(){return TV||(TV=1,EV.exports=ume()),EV.exports}/**
* @license React
* react-reconciler.production.min.js
*
* Copyright (c) Facebook, Inc. and its affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var hme=function(n){var e={},t=pe,r=cme(),i=Object.assign;function s(y){for(var c="https://reactjs.org/docs/error-decoder.html?invariant="+y,d=1;d<arguments.length;d++)c+="&args[]="+encodeURIComponent(arguments[d]);return"Minified React error #"+y+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,a=Symbol.for("react.element"),l=Symbol.for("react.portal"),u=Symbol.for("react.fragment"),h=Symbol.for("react.strict_mode"),f=Symbol.for("react.profiler"),p=Symbol.for("react.provider"),m=Symbol.for("react.context"),v=Symbol.for("react.forward_ref"),S=Symbol.for("react.suspense"),A=Symbol.for("react.suspense_list"),g=Symbol.for("react.memo"),M=Symbol.for("react.lazy"),_=Symbol.for("react.offscreen"),b=Symbol.iterator;function T(y){return y===null||typeof y!="object"?null:(y=b&&y[b]||y["@@iterator"],typeof y=="function"?y:null)}function C(y){if(y==null)return null;if(typeof y=="function")return y.displayName||y.name||null;if(typeof y=="string")return y;switch(y){case u:return"Fragment";case l:return"Portal";case f:return"Profiler";case h:return"StrictMode";case S:return"Suspense";case A:return"SuspenseList"}if(typeof y=="object")switch(y.$$typeof){case m:return(y.displayName||"Context")+".Consumer";case p:return(y._context.displayName||"Context")+".Provider";case v:var c=y.render;return y=y.displayName,y||(y=c.displayName||c.name||"",y=y!==""?"ForwardRef("+y+")":"ForwardRef"),y;case g:return c=y.displayName||null,c!==null?c:C(y.type)||"Memo";case M:c=y._payload,y=y._init;try{return C(y(c))}catch{}}return null}function B(y){var c=y.type;switch(y.tag){case 24:return"Cache";case 9:return(c.displayName||"Context")+".Consumer";case 10:return(c._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return y=c.render,y=y.displayName||y.name||"",c.displayName||(y!==""?"ForwardRef("+y+")":"ForwardRef");case 7:return"Fragment";case 5:return c;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return C(c);case 8:return c===h?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof c=="function")return c.displayName||c.name||null;if(typeof c=="string")return c}return null}function P(y){var c=y,d=y;if(y.alternate)for(;c.return;)c=c.return;else{y=c;do c=y,c.flags&4098&&(d=c.return),y=c.return;while(y)}return c.tag===3?d:null}function R(y){if(P(y)!==y)throw Error(s(188))}function L(y){var c=y.alternate;if(!c){if(c=P(y),c===null)throw Error(s(188));return c!==y?null:y}for(var d=y,x=c;;){var E=d.return;if(E===null)break;var w=E.alternate;if(w===null){if(x=E.return,x!==null){d=x;continue}break}if(E.child===w.child){for(w=E.child;w;){if(w===d)return R(E),y;if(w===x)return R(E),c;w=w.sibling}throw Error(s(188))}if(d.return!==x.return)d=E,x=w;else{for(var I=!1,V=E.child;V;){if(V===d){I=!0,d=E,x=w;break}if(V===x){I=!0,x=E,d=w;break}V=V.sibling}if(!I){for(V=w.child;V;){if(V===d){I=!0,d=w,x=E;break}if(V===x){I=!0,x=w,d=E;break}V=V.sibling}if(!I)throw Error(s(189))}}if(d.alternate!==x)throw Error(s(190))}if(d.tag!==3)throw Error(s(188));return d.stateNode.current===d?y:c}function U(y){return y=L(y),y!==null?Q(y):null}function Q(y){if(y.tag===5||y.tag===6)return y;for(y=y.child;y!==null;){var c=Q(y);if(c!==null)return c;y=y.sibling}return null}function W(y){if(y.tag===5||y.tag===6)return y;for(y=y.child;y!==null;){if(y.tag!==4){var c=W(y);if(c!==null)return c}y=y.sibling}return null}var Y=Array.isArray,X=n.getPublicInstance,ae=n.getRootHostContext,Z=n.getChildHostContext,D=n.prepareForCommit,k=n.resetAfterCommit,G=n.createInstance,K=n.appendInitialChild,H=n.finalizeInitialChildren,ue=n.prepareUpdate,le=n.shouldSetTextContent,Ce=n.createTextInstance,xe=n.scheduleTimeout,Be=n.cancelTimeout,Qe=n.noTimeout,je=n.isPrimaryRenderer,Ke=n.supportsMutation,fe=n.supportsPersistence,z=n.supportsHydration,Ae=n.getInstanceFromNode,ge=n.preparePortalMount,Me=n.getCurrentEventPriority,Ee=n.detachDeletedInstance,Ve=n.supportsMicrotasks,Ge=n.scheduleMicrotask,ze=n.supportsTestSelectors,Ze=n.findFiberRoot,St=n.getBoundingRect,Dt=n.getTextContent,O=n.isHiddenSubtree,F=n.matchAccessibilityRole,ce=n.setFocusIfFocusable,be=n.setupIntersectionObserver,Se=n.appendChild,Fe=n.appendChildToContainer,Xe=n.commitTextUpdate,De=n.commitMount,j=n.commitUpdate,q=n.insertBefore,ve=n.insertInContainerBefore,Re=n.removeChild,Pe=n.removeChildFromContainer,Ue=n.resetTextContent,it=n.hideInstance,Mt=n.hideTextInstance,J=n.unhideInstance,Ie=n.unhideTextInstance,oe=n.clearContainer,Ne=n.cloneInstance,Oe=n.createContainerChildSet,wt=n.appendChildToContainerChildSet,Ut=n.finalizeContainerChildren,Xt=n.replaceContainerChildren,Vr=n.cloneHiddenInstance,Ot=n.cloneHiddenTextInstance,Xn=n.canHydrateInstance,gn=n.canHydrateTextInstance,nc=n.canHydrateSuspenseInstance,Zl=n.isSuspenseInstancePending,$l=n.isSuspenseInstanceFallback,Rs=n.registerSuspenseInstanceRetry,Ao=n.getNextHydratableSibling,ji=n.getFirstHydratableChild,rc=n.getFirstHydratableChildWithinContainer,Gf=n.getFirstHydratableChildWithinSuspenseInstance,zf=n.hydrateInstance,Hf=n.hydrateTextInstance,N=n.hydrateSuspenseInstance,re=n.getNextHydratableInstanceAfterSuspenseInstance,he=n.commitHydratedContainer,ee=n.commitHydratedSuspenseInstance,de=n.clearSuspenseBoundary,He=n.clearSuspenseBoundaryFromContainer,et=n.shouldDeleteUnhydratedTailInstances,nt=n.didNotMatchHydratedContainerTextInstance,lt=n.didNotMatchHydratedTextInstance,mt;function st(y){if(mt===void 0)try{throw Error()}catch(d){var c=d.stack.trim().match(/\n( *(at )?)/);mt=c&&c[1]||""}return`
`+mt+y}var ut=!1;function Ft(y,c){if(!y||ut)return"";ut=!0;var d=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(c)if(c=function(){throw Error()},Object.defineProperty(c.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(c,[])}catch(ye){var x=ye}Reflect.construct(y,[],c)}else{try{c.call()}catch(ye){x=ye}y.call(c.prototype)}else{try{throw Error()}catch(ye){x=ye}y()}}catch(ye){if(ye&&x&&typeof ye.stack=="string"){for(var E=ye.stack.split(`
`),w=x.stack.split(`
`),I=E.length-1,V=w.length-1;1<=I&&0<=V&&E[I]!==w[V];)V--;for(;1<=I&&0<=V;I--,V--)if(E[I]!==w[V]){if(I!==1||V!==1)do if(I--,V--,0>V||E[I]!==w[V]){var te=`
`+E[I].replace(" at new "," at ");return y.displayName&&te.includes("<anonymous>")&&(te=te.replace("<anonymous>",y.displayName)),te}while(1<=I&&0<=V);break}}}finally{ut=!1,Error.prepareStackTrace=d}return(y=y?y.displayName||y.name:"")?st(y):""}var Vt=Object.prototype.hasOwnProperty,Fn=[],In=-1;function It(y){return{current:y}}function $e(y){0>In||(y.current=Fn[In],Fn[In]=null,In--)}function Pt(y,c){In++,Fn[In]=y.current,y.current=c}var Lt={},$t=It(Lt),dn=It(!1),En=Lt;function Lr(y,c){var d=y.type.contextTypes;if(!d)return Lt;var x=y.stateNode;if(x&&x.__reactInternalMemoizedUnmaskedChildContext===c)return x.__reactInternalMemoizedMaskedChildContext;var E={},w;for(w in d)E[w]=c[w];return x&&(y=y.stateNode,y.__reactInternalMemoizedUnmaskedChildContext=c,y.__reactInternalMemoizedMaskedChildContext=E),E}function Nt(y){return y=y.childContextTypes,y!=null}function vn(){$e(dn),$e($t)}function Ps(y,c,d){if($t.current!==Lt)throw Error(s(168));Pt($t,c),Pt(dn,d)}function Tn(y,c,d){var x=y.stateNode;if(c=c.childContextTypes,typeof x.getChildContext!="function")return d;x=x.getChildContext();for(var E in x)if(!(E in c))throw Error(s(108,B(y)||"Unknown",E));return i({},d,x)}function Bs(y){return y=(y=y.stateNode)&&y.__reactInternalMemoizedMergedChildContext||Lt,En=$t.current,Pt($t,y),Pt(dn,dn.current),!0}function el(y,c,d){var x=y.stateNode;if(!x)throw Error(s(169));d?(y=Tn(y,c,En),x.__reactInternalMemoizedMergedChildContext=y,$e(dn),$e($t),Pt($t,y)):$e(dn),Pt(dn,d)}var Kr=Math.clz32?Math.clz32:OP,_o=Math.log,UP=Math.LN2;function OP(y){return y>>>=0,y===0?32:31-(_o(y)/UP|0)|0}var wg=64,ic=4194304;function eu(y){switch(y&-y){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return y&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return y&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return y}}function tu(y,c){var d=y.pendingLanes;if(d===0)return 0;var x=0,E=y.suspendedLanes,w=y.pingedLanes,I=d&268435455;if(I!==0){var V=I&~E;V!==0?x=eu(V):(w&=I,w!==0&&(x=eu(w)))}else I=d&~E,I!==0?x=eu(I):w!==0&&(x=eu(w));if(x===0)return 0;if(c!==0&&c!==x&&!(c&E)&&(E=x&-x,w=c&-c,E>=w||E===16&&(w&4194240)!==0))return c;if(x&4&&(x|=d&16),c=y.entangledLanes,c!==0)for(y=y.entanglements,c&=x;0<c;)d=31-Kr(c),E=1<<d,x|=y[d],c&=~E;return x}function Tg(y,c){switch(y){case 1:case 2:case 4:return c+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function kP(y,c){for(var d=y.suspendedLanes,x=y.pingedLanes,E=y.expirationTimes,w=y.pendingLanes;0<w;){var I=31-Kr(w),V=1<<I,te=E[I];te===-1?(!(V&d)||V&x)&&(E[I]=Tg(V,c)):te<=c&&(y.expiredLanes|=V),w&=~V}}function Fx(y){return y=y.pendingLanes&-1073741825,y!==0?y:y&1073741824?1073741824:0}function Vf(y){for(var c=[],d=0;31>d;d++)c.push(y);return c}function sc(y,c,d){y.pendingLanes|=c,c!==536870912&&(y.suspendedLanes=0,y.pingedLanes=0),y=y.eventTimes,c=31-Kr(c),y[c]=d}function Wf(y,c){var d=y.pendingLanes&~c;y.pendingLanes=c,y.suspendedLanes=0,y.pingedLanes=0,y.expiredLanes&=c,y.mutableReadLanes&=c,y.entangledLanes&=c,c=y.entanglements;var x=y.eventTimes;for(y=y.expirationTimes;0<d;){var E=31-Kr(d),w=1<<E;c[E]=0,x[E]=-1,y[E]=-1,d&=~w}}function Nx(y,c){var d=y.entangledLanes|=c;for(y=y.entanglements;d;){var x=31-Kr(d),E=1<<x;E&c|y[x]&c&&(y[x]|=c),d&=~E}}var fn=0;function yn(y){return y&=-y,1<y?4<y?y&268435455?16:536870912:4:1}var Cg=r.unstable_scheduleCallback,Rg=r.unstable_cancelCallback,QS=r.unstable_shouldYield,GP=r.unstable_requestPaint,Qr=r.unstable_now,Ir=r.unstable_ImmediatePriority,Ux=r.unstable_UserBlockingPriority,Ox=r.unstable_NormalPriority,kx=r.unstable_IdlePriority,Pg=null,Ls=null;function ua(y){if(Ls&&typeof Ls.onCommitFiberRoot=="function")try{Ls.onCommitFiberRoot(Pg,y,void 0,(y.current.flags&128)===128)}catch{}}function zP(y,c){return y===c&&(y!==0||1/y===1/c)||y!==y&&c!==c}var ca=typeof Object.is=="function"?Object.is:zP,qr=null,Zs=!1,Bh=!1;function Bg(y){qr===null?qr=[y]:qr.push(y)}function qS(y){Zs=!0,Bg(y)}function ha(){if(!Bh&&qr!==null){Bh=!0;var y=0,c=fn;try{var d=qr;for(fn=1;y<d.length;y++){var x=d[y];do x=x(!0);while(x!==null)}qr=null,Zs=!1}catch(E){throw qr!==null&&(qr=qr.slice(y+1)),Cg(Ir,ha),E}finally{fn=c,Bh=!1}}return null}var da=o.ReactCurrentBatchConfig;function Lg(y,c){if(ca(y,c))return!0;if(typeof y!="object"||y===null||typeof c!="object"||c===null)return!1;var d=Object.keys(y),x=Object.keys(c);if(d.length!==x.length)return!1;for(x=0;x<d.length;x++){var E=d[x];if(!Vt.call(c,E)||!ca(y[E],c[E]))return!1}return!0}function Ig(y){switch(y.tag){case 5:return st(y.type);case 16:return st("Lazy");case 13:return st("Suspense");case 19:return st("SuspenseList");case 0:case 2:case 15:return y=Ft(y.type,!1),y;case 11:return y=Ft(y.type.render,!1),y;case 1:return y=Ft(y.type,!0),y;default:return""}}function Mo(y,c){if(y&&y.defaultProps){c=i({},c),y=y.defaultProps;for(var d in y)c[d]===void 0&&(c[d]=y[d]);return c}return c}var ds=It(null),oc=null,tl=null,nu=null;function jf(){nu=tl=oc=null}function Dg(y,c,d){je?(Pt(ds,c._currentValue),c._currentValue=d):(Pt(ds,c._currentValue2),c._currentValue2=d)}function Fg(y){var c=ds.current;$e(ds),je?y._currentValue=c:y._currentValue2=c}function Xf(y,c,d){for(;y!==null;){var x=y.alternate;if((y.childLanes&c)!==c?(y.childLanes|=c,x!==null&&(x.childLanes|=c)):x!==null&&(x.childLanes&c)!==c&&(x.childLanes|=c),y===d)break;y=y.return}}function ru(y,c){oc=y,nu=tl=null,y=y.dependencies,y!==null&&y.firstContext!==null&&(y.lanes&c&&(Is=!0),y.firstContext=null)}function di(y){var c=je?y._currentValue:y._currentValue2;if(nu!==y)if(y={context:y,memoizedValue:c,next:null},tl===null){if(oc===null)throw Error(s(308));tl=y,oc.dependencies={lanes:0,firstContext:y}}else tl=tl.next=y;return c}var pr=null,fi=!1;function fa(y){y.updateQueue={baseState:y.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ng(y,c){y=y.updateQueue,c.updateQueue===y&&(c.updateQueue={baseState:y.baseState,firstBaseUpdate:y.firstBaseUpdate,lastBaseUpdate:y.lastBaseUpdate,shared:y.shared,effects:y.effects})}function pa(y,c){return{eventTime:y,lane:c,tag:0,payload:null,callback:null,next:null}}function Ci(y,c){var d=y.updateQueue;d!==null&&(d=d.shared,Bt!==null&&y.mode&1&&!(Rt&2)?(y=d.interleaved,y===null?(c.next=c,pr===null?pr=[d]:pr.push(d)):(c.next=y.next,y.next=c),d.interleaved=c):(y=d.pending,y===null?c.next=c:(c.next=y.next,y.next=c),d.pending=c))}function So(y,c,d){if(c=c.updateQueue,c!==null&&(c=c.shared,(d&4194240)!==0)){var x=c.lanes;x&=y.pendingLanes,d|=x,c.lanes=d,Nx(y,d)}}function Jf(y,c){var d=y.updateQueue,x=y.alternate;if(x!==null&&(x=x.updateQueue,d===x)){var E=null,w=null;if(d=d.firstBaseUpdate,d!==null){do{var I={eventTime:d.eventTime,lane:d.lane,tag:d.tag,payload:d.payload,callback:d.callback,next:null};w===null?E=w=I:w=w.next=I,d=d.next}while(d!==null);w===null?E=w=c:w=w.next=c}else E=w=c;d={baseState:x.baseState,firstBaseUpdate:E,lastBaseUpdate:w,shared:x.shared,effects:x.effects},y.updateQueue=d;return}y=d.lastBaseUpdate,y===null?d.firstBaseUpdate=c:y.next=c,d.lastBaseUpdate=c}function Yf(y,c,d,x){var E=y.updateQueue;fi=!1;var w=E.firstBaseUpdate,I=E.lastBaseUpdate,V=E.shared.pending;if(V!==null){E.shared.pending=null;var te=V,ye=te.next;te.next=null,I===null?w=ye:I.next=ye,I=te;var ke=y.alternate;ke!==null&&(ke=ke.updateQueue,V=ke.lastBaseUpdate,V!==I&&(V===null?ke.firstBaseUpdate=ye:V.next=ye,ke.lastBaseUpdate=te))}if(w!==null){var qe=E.baseState;I=0,ke=ye=te=null,V=w;do{var rt=V.lane,dt=V.eventTime;if((x&rt)===rt){ke!==null&&(ke=ke.next={eventTime:dt,lane:0,tag:V.tag,payload:V.payload,callback:V.callback,next:null});e:{var ct=y,_t=V;switch(rt=c,dt=d,_t.tag){case 1:if(ct=_t.payload,typeof ct=="function"){qe=ct.call(dt,qe,rt);break e}qe=ct;break e;case 3:ct.flags=ct.flags&-65537|128;case 0:if(ct=_t.payload,rt=typeof ct=="function"?ct.call(dt,qe,rt):ct,rt==null)break e;qe=i({},qe,rt);break e;case 2:fi=!0}}V.callback!==null&&V.lane!==0&&(y.flags|=64,rt=E.effects,rt===null?E.effects=[V]:rt.push(V))}else dt={eventTime:dt,lane:rt,tag:V.tag,payload:V.payload,callback:V.callback,next:null},ke===null?(ye=ke=dt,te=qe):ke=ke.next=dt,I|=rt;if(V=V.next,V===null){if(V=E.shared.pending,V===null)break;rt=V,V=rt.next,rt.next=null,E.lastBaseUpdate=rt,E.shared.pending=null}}while(1);if(ke===null&&(te=qe),E.baseState=te,E.firstBaseUpdate=ye,E.lastBaseUpdate=ke,c=E.shared.interleaved,c!==null){E=c;do I|=E.lane,E=E.next;while(E!==c)}else w===null&&(E.shared.lanes=0);Aa|=I,y.lanes=I,y.memoizedState=qe}}function Kf(y,c,d){if(y=c.effects,c.effects=null,y!==null)for(c=0;c<y.length;c++){var x=y[c],E=x.callback;if(E!==null){if(x.callback=null,x=d,typeof E!="function")throw Error(s(191,E));E.call(x)}}}var Gx=new t.Component().refs;function Ug(y,c,d,x){c=y.memoizedState,d=d(x,c),d=d==null?c:i({},c,d),y.memoizedState=d,y.lanes===0&&(y.updateQueue.baseState=d)}var Lh={isMounted:function(y){return(y=y._reactInternals)?P(y)===y:!1},enqueueSetState:function(y,c,d){y=y._reactInternals;var x=ri(),E=sr(y),w=pa(x,E);w.payload=c,d!=null&&(w.callback=d),Ci(y,w),c=Wr(y,E,x),c!==null&&So(c,y,E)},enqueueReplaceState:function(y,c,d){y=y._reactInternals;var x=ri(),E=sr(y),w=pa(x,E);w.tag=1,w.payload=c,d!=null&&(w.callback=d),Ci(y,w),c=Wr(y,E,x),c!==null&&So(c,y,E)},enqueueForceUpdate:function(y,c){y=y._reactInternals;var d=ri(),x=sr(y),E=pa(d,x);E.tag=2,c!=null&&(E.callback=c),Ci(y,E),c=Wr(y,x,d),c!==null&&So(c,y,x)}};function Qf(y,c,d,x,E,w,I){return y=y.stateNode,typeof y.shouldComponentUpdate=="function"?y.shouldComponentUpdate(x,w,I):c.prototype&&c.prototype.isPureReactComponent?!Lg(d,x)||!Lg(E,w):!0}function zx(y,c,d){var x=!1,E=Lt,w=c.contextType;return typeof w=="object"&&w!==null?w=di(w):(E=Nt(c)?En:$t.current,x=c.contextTypes,w=(x=x!=null)?Lr(y,E):Lt),c=new c(d,w),y.memoizedState=c.state!==null&&c.state!==void 0?c.state:null,c.updater=Lh,y.stateNode=c,c._reactInternals=y,x&&(y=y.stateNode,y.__reactInternalMemoizedUnmaskedChildContext=E,y.__reactInternalMemoizedMaskedChildContext=w),c}function Hx(y,c,d,x){y=c.state,typeof c.componentWillReceiveProps=="function"&&c.componentWillReceiveProps(d,x),typeof c.UNSAFE_componentWillReceiveProps=="function"&&c.UNSAFE_componentWillReceiveProps(d,x),c.state!==y&&Lh.enqueueReplaceState(c,c.state,null)}function Og(y,c,d,x){var E=y.stateNode;E.props=d,E.state=y.memoizedState,E.refs=Gx,fa(y);var w=c.contextType;typeof w=="object"&&w!==null?E.context=di(w):(w=Nt(c)?En:$t.current,E.context=Lr(y,w)),E.state=y.memoizedState,w=c.getDerivedStateFromProps,typeof w=="function"&&(Ug(y,c,w,d),E.state=y.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof E.getSnapshotBeforeUpdate=="function"||typeof E.UNSAFE_componentWillMount!="function"&&typeof E.componentWillMount!="function"||(c=E.state,typeof E.componentWillMount=="function"&&E.componentWillMount(),typeof E.UNSAFE_componentWillMount=="function"&&E.UNSAFE_componentWillMount(),c!==E.state&&Lh.enqueueReplaceState(E,E.state,null),Yf(y,d,E,x),E.state=y.memoizedState),typeof E.componentDidMount=="function"&&(y.flags|=4194308)}var iu=[],Eo=0,nl=null,ac=0,Xi=[],Qn=0,Zr=null,Ji=1,pi="";function Yi(y,c){iu[Eo++]=ac,iu[Eo++]=nl,nl=y,ac=c}function su(y,c,d){Xi[Qn++]=Ji,Xi[Qn++]=pi,Xi[Qn++]=Zr,Zr=y;var x=Ji;y=pi;var E=32-Kr(x)-1;x&=~(1<<E),d+=1;var w=32-Kr(c)+E;if(30<w){var I=E-E%5;w=(x&(1<<I)-1).toString(32),x>>=I,E-=I,Ji=1<<32-Kr(c)+E|d<<E|x,pi=w+y}else Ji=1<<w|d<<E|x,pi=y}function kg(y){y.return!==null&&(Yi(y,1),su(y,1,0))}function qf(y){for(;y===nl;)nl=iu[--Eo],iu[Eo]=null,ac=iu[--Eo],iu[Eo]=null;for(;y===Zr;)Zr=Xi[--Qn],Xi[Qn]=null,pi=Xi[--Qn],Xi[Qn]=null,Ji=Xi[--Qn],Xi[Qn]=null}var Ki=null,Wn=null,cn=!1,Dn=!1,Qi=null;function $s(y,c){var d=to(5,null,null,0);d.elementType="DELETED",d.stateNode=c,d.return=y,c=y.deletions,c===null?(y.deletions=[d],y.flags|=16):c.push(d)}function Vx(y,c){switch(y.tag){case 5:return c=Xn(c,y.type,y.pendingProps),c!==null?(y.stateNode=c,Ki=y,Wn=ji(c),!0):!1;case 6:return c=gn(c,y.pendingProps),c!==null?(y.stateNode=c,Ki=y,Wn=null,!0):!1;case 13:if(c=nc(c),c!==null){var d=Zr!==null?{id:Ji,overflow:pi}:null;return y.memoizedState={dehydrated:c,treeContext:d,retryLane:1073741824},d=to(18,null,null,0),d.stateNode=c,d.return=y,y.child=d,Ki=y,Wn=null,!0}return!1;default:return!1}}function Gg(y){return(y.mode&1)!==0&&(y.flags&128)===0}function Zf(y){if(cn){var c=Wn;if(c){var d=c;if(!Vx(y,c)){if(Gg(y))throw Error(s(418));c=Ao(d);var x=Ki;c&&Vx(y,c)?$s(x,d):(y.flags=y.flags&-4097|2,cn=!1,Ki=y)}}else{if(Gg(y))throw Error(s(418));y.flags=y.flags&-4097|2,cn=!1,Ki=y}}}function zg(y){for(y=y.return;y!==null&&y.tag!==5&&y.tag!==3&&y.tag!==13;)y=y.return;Ki=y}function Ih(y){if(!z||y!==Ki)return!1;if(!cn)return zg(y),cn=!0,!1;if(y.tag!==3&&(y.tag!==5||et(y.type)&&!le(y.type,y.memoizedProps))){var c=Wn;if(c){if(Gg(y)){for(y=Wn;y;)y=Ao(y);throw Error(s(418))}for(;c;)$s(y,c),c=Ao(c)}}if(zg(y),y.tag===13){if(!z)throw Error(s(316));if(y=y.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(s(317));Wn=re(y)}else Wn=Ki?Ao(y.stateNode):null;return!0}function ma(){z&&(Wn=Ki=null,Dn=cn=!1)}function ou(y){Qi===null?Qi=[y]:Qi.push(y)}function lc(y,c,d){if(y=d.ref,y!==null&&typeof y!="function"&&typeof y!="object"){if(d._owner){if(d=d._owner,d){if(d.tag!==1)throw Error(s(309));var x=d.stateNode}if(!x)throw Error(s(147,y));var E=x,w=""+y;return c!==null&&c.ref!==null&&typeof c.ref=="function"&&c.ref._stringRef===w?c.ref:(c=function(I){var V=E.refs;V===Gx&&(V=E.refs={}),I===null?delete V[w]:V[w]=I},c._stringRef=w,c)}if(typeof y!="string")throw Error(s(284));if(!d._owner)throw Error(s(290,y))}return y}function au(y,c){throw y=Object.prototype.toString.call(c),Error(s(31,y==="[object Object]"?"object with keys {"+Object.keys(c).join(", ")+"}":y))}function $f(y){var c=y._init;return c(y._payload)}function Wx(y){function c(Le,$){if(y){var ne=Le.deletions;ne===null?(Le.deletions=[$],Le.flags|=16):ne.push($)}}function d(Le,$){if(!y)return null;for(;$!==null;)c(Le,$),$=$.sibling;return null}function x(Le,$){for(Le=new Map;$!==null;)$.key!==null?Le.set($.key,$):Le.set($.index,$),$=$.sibling;return Le}function E(Le,$){return Le=yu(Le,$),Le.index=0,Le.sibling=null,Le}function w(Le,$,ne){return Le.index=ne,y?(ne=Le.alternate,ne!==null?(ne=ne.index,ne<$?(Le.flags|=2,$):ne):(Le.flags|=2,$)):(Le.flags|=1048576,$)}function I(Le){return y&&Le.alternate===null&&(Le.flags|=2),Le}function V(Le,$,ne,_e){return $===null||$.tag!==6?($=Yh(ne,Le.mode,_e),$.return=Le,$):($=E($,ne),$.return=Le,$)}function te(Le,$,ne,_e){var We=ne.type;return We===u?ke(Le,$,ne.props.children,_e,ne.key):$!==null&&($.elementType===We||typeof We=="object"&&We!==null&&We.$$typeof===M&&$f(We)===$.type)?(_e=E($,ne.props),_e.ref=lc(Le,$,ne),_e.return=Le,_e):(_e=Lo(ne.type,ne.key,ne.props,null,Le.mode,_e),_e.ref=lc(Le,$,ne),_e.return=Le,_e)}function ye(Le,$,ne,_e){return $===null||$.tag!==4||$.stateNode.containerInfo!==ne.containerInfo||$.stateNode.implementation!==ne.implementation?($=Ap(ne,Le.mode,_e),$.return=Le,$):($=E($,ne.children||[]),$.return=Le,$)}function ke(Le,$,ne,_e,We){return $===null||$.tag!==7?($=Ma(ne,Le.mode,_e,We),$.return=Le,$):($=E($,ne),$.return=Le,$)}function qe(Le,$,ne){if(typeof $=="string"&&$!==""||typeof $=="number")return $=Yh(""+$,Le.mode,ne),$.return=Le,$;if(typeof $=="object"&&$!==null){switch($.$$typeof){case a:return ne=Lo($.type,$.key,$.props,null,Le.mode,ne),ne.ref=lc(Le,null,$),ne.return=Le,ne;case l:return $=Ap($,Le.mode,ne),$.return=Le,$;case M:var _e=$._init;return qe(Le,_e($._payload),ne)}if(Y($)||T($))return $=Ma($,Le.mode,ne,null),$.return=Le,$;au(Le,$)}return null}function rt(Le,$,ne,_e){var We=$!==null?$.key:null;if(typeof ne=="string"&&ne!==""||typeof ne=="number")return We!==null?null:V(Le,$,""+ne,_e);if(typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case a:return ne.key===We?te(Le,$,ne,_e):null;case l:return ne.key===We?ye(Le,$,ne,_e):null;case M:return We=ne._init,rt(Le,$,We(ne._payload),_e)}if(Y(ne)||T(ne))return We!==null?null:ke(Le,$,ne,_e,null);au(Le,ne)}return null}function dt(Le,$,ne,_e,We){if(typeof _e=="string"&&_e!==""||typeof _e=="number")return Le=Le.get(ne)||null,V($,Le,""+_e,We);if(typeof _e=="object"&&_e!==null){switch(_e.$$typeof){case a:return Le=Le.get(_e.key===null?ne:_e.key)||null,te($,Le,_e,We);case l:return Le=Le.get(_e.key===null?ne:_e.key)||null,ye($,Le,_e,We);case M:var tt=_e._init;return dt(Le,$,ne,tt(_e._payload),We)}if(Y(_e)||T(_e))return Le=Le.get(ne)||null,ke($,Le,_e,We,null);au($,_e)}return null}function ct(Le,$,ne,_e){for(var We=null,tt=null,ht=$,vt=$=0,kt=null;ht!==null&&vt<ne.length;vt++){ht.index>vt?(kt=ht,ht=null):kt=ht.sibling;var Gt=rt(Le,ht,ne[vt],_e);if(Gt===null){ht===null&&(ht=kt);break}y&&ht&&Gt.alternate===null&&c(Le,ht),$=w(Gt,$,vt),tt===null?We=Gt:tt.sibling=Gt,tt=Gt,ht=kt}if(vt===ne.length)return d(Le,ht),cn&&Yi(Le,vt),We;if(ht===null){for(;vt<ne.length;vt++)ht=qe(Le,ne[vt],_e),ht!==null&&($=w(ht,$,vt),tt===null?We=ht:tt.sibling=ht,tt=ht);return cn&&Yi(Le,vt),We}for(ht=x(Le,ht);vt<ne.length;vt++)kt=dt(ht,Le,vt,ne[vt],_e),kt!==null&&(y&&kt.alternate!==null&&ht.delete(kt.key===null?vt:kt.key),$=w(kt,$,vt),tt===null?We=kt:tt.sibling=kt,tt=kt);return y&&ht.forEach(function(tn){return c(Le,tn)}),cn&&Yi(Le,vt),We}function _t(Le,$,ne,_e){var We=T(ne);if(typeof We!="function")throw Error(s(150));if(ne=We.call(ne),ne==null)throw Error(s(151));for(var tt=We=null,ht=$,vt=$=0,kt=null,Gt=ne.next();ht!==null&&!Gt.done;vt++,Gt=ne.next()){ht.index>vt?(kt=ht,ht=null):kt=ht.sibling;var tn=rt(Le,ht,Gt.value,_e);if(tn===null){ht===null&&(ht=kt);break}y&&ht&&tn.alternate===null&&c(Le,ht),$=w(tn,$,vt),tt===null?We=tn:tt.sibling=tn,tt=tn,ht=kt}if(Gt.done)return d(Le,ht),cn&&Yi(Le,vt),We;if(ht===null){for(;!Gt.done;vt++,Gt=ne.next())Gt=qe(Le,Gt.value,_e),Gt!==null&&($=w(Gt,$,vt),tt===null?We=Gt:tt.sibling=Gt,tt=Gt);return cn&&Yi(Le,vt),We}for(ht=x(Le,ht);!Gt.done;vt++,Gt=ne.next())Gt=dt(ht,Le,vt,Gt.value,_e),Gt!==null&&(y&&Gt.alternate!==null&&ht.delete(Gt.key===null?vt:Gt.key),$=w(Gt,$,vt),tt===null?We=Gt:tt.sibling=Gt,tt=Gt);return y&&ht.forEach(function(xu){return c(Le,xu)}),cn&&Yi(Le,vt),We}function On(Le,$,ne,_e){if(typeof ne=="object"&&ne!==null&&ne.type===u&&ne.key===null&&(ne=ne.props.children),typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case a:e:{for(var We=ne.key,tt=$;tt!==null;){if(tt.key===We){if(We=ne.type,We===u){if(tt.tag===7){d(Le,tt.sibling),$=E(tt,ne.props.children),$.return=Le,Le=$;break e}}else if(tt.elementType===We||typeof We=="object"&&We!==null&&We.$$typeof===M&&$f(We)===tt.type){d(Le,tt.sibling),$=E(tt,ne.props),$.ref=lc(Le,tt,ne),$.return=Le,Le=$;break e}d(Le,tt);break}else c(Le,tt);tt=tt.sibling}ne.type===u?($=Ma(ne.props.children,Le.mode,_e,ne.key),$.return=Le,Le=$):(_e=Lo(ne.type,ne.key,ne.props,null,Le.mode,_e),_e.ref=lc(Le,$,ne),_e.return=Le,Le=_e)}return I(Le);case l:e:{for(tt=ne.key;$!==null;){if($.key===tt)if($.tag===4&&$.stateNode.containerInfo===ne.containerInfo&&$.stateNode.implementation===ne.implementation){d(Le,$.sibling),$=E($,ne.children||[]),$.return=Le,Le=$;break e}else{d(Le,$);break}else c(Le,$);$=$.sibling}$=Ap(ne,Le.mode,_e),$.return=Le,Le=$}return I(Le);case M:return tt=ne._init,On(Le,$,tt(ne._payload),_e)}if(Y(ne))return ct(Le,$,ne,_e);if(T(ne))return _t(Le,$,ne,_e);au(Le,ne)}return typeof ne=="string"&&ne!==""||typeof ne=="number"?(ne=""+ne,$!==null&&$.tag===6?(d(Le,$.sibling),$=E($,ne),$.return=Le,Le=$):(d(Le,$),$=Yh(ne,Le.mode,_e),$.return=Le,Le=$),I(Le)):d(Le,$)}return On}var uc=Wx(!0),cc=Wx(!1),Dh={},Ri=It(Dh),Pi=It(Dh),ga=It(Dh);function qi(y){if(y===Dh)throw Error(s(174));return y}function eo(y,c){Pt(ga,c),Pt(Pi,y),Pt(Ri,Dh),y=ae(c),$e(Ri),Pt(Ri,y)}function lu(){$e(Ri),$e(Pi),$e(ga)}function hc(y){var c=qi(ga.current),d=qi(Ri.current);c=Z(d,y.type,c),d!==c&&(Pt(Pi,y),Pt(Ri,c))}function Hg(y){Pi.current===y&&($e(Ri),$e(Pi))}var jn=It(0);function Vn(y){for(var c=y;c!==null;){if(c.tag===13){var d=c.memoizedState;if(d!==null&&(d=d.dehydrated,d===null||Zl(d)||$l(d)))return c}else if(c.tag===19&&c.memoizedProps.revealOrder!==void 0){if(c.flags&128)return c}else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===y)break;for(;c.sibling===null;){if(c.return===null||c.return===y)return null;c=c.return}c.sibling.return=c.return,c=c.sibling}return null}var Fh=[];function ep(){for(var y=0;y<Fh.length;y++){var c=Fh[y];je?c._workInProgressVersionPrimary=null:c._workInProgressVersionSecondary=null}Fh.length=0}var Nh=o.ReactCurrentDispatcher,Zi=o.ReactCurrentBatchConfig,mi=0,Nn=null,un=null,xn=null,mr=!1,uu=!1,rl=0,tp=0;function Bi(){throw Error(s(321))}function $r(y,c){if(c===null)return!1;for(var d=0;d<c.length&&d<y.length;d++)if(!ca(y[d],c[d]))return!1;return!0}function np(y,c,d,x,E,w){if(mi=w,Nn=c,c.memoizedState=null,c.updateQueue=null,c.lanes=0,Nh.current=y===null||y.memoizedState===null?Xg:VP,y=d(x,E),uu){w=0;do{if(uu=!1,rl=0,25<=w)throw Error(s(301));w+=1,xn=un=null,c.updateQueue=null,Nh.current=WP,y=d(x,E)}while(uu)}if(Nh.current=op,c=un!==null&&un.next!==null,mi=0,xn=un=Nn=null,mr=!1,c)throw Error(s(300));return y}function rp(){var y=rl!==0;return rl=0,y}function bo(){var y={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return xn===null?Nn.memoizedState=xn=y:xn=xn.next=y,xn}function ei(){if(un===null){var y=Nn.alternate;y=y!==null?y.memoizedState:null}else y=un.next;var c=xn===null?Nn.memoizedState:xn.next;if(c!==null)xn=c,un=y;else{if(y===null)throw Error(s(310));un=y,y={memoizedState:un.memoizedState,baseState:un.baseState,baseQueue:un.baseQueue,queue:un.queue,next:null},xn===null?Nn.memoizedState=xn=y:xn=xn.next=y}return xn}function Li(y,c){return typeof c=="function"?c(y):c}function va(y){var c=ei(),d=c.queue;if(d===null)throw Error(s(311));d.lastRenderedReducer=y;var x=un,E=x.baseQueue,w=d.pending;if(w!==null){if(E!==null){var I=E.next;E.next=w.next,w.next=I}x.baseQueue=E=w,d.pending=null}if(E!==null){w=E.next,x=x.baseState;var V=I=null,te=null,ye=w;do{var ke=ye.lane;if((mi&ke)===ke)te!==null&&(te=te.next={lane:0,action:ye.action,hasEagerState:ye.hasEagerState,eagerState:ye.eagerState,next:null}),x=ye.hasEagerState?ye.eagerState:y(x,ye.action);else{var qe={lane:ke,action:ye.action,hasEagerState:ye.hasEagerState,eagerState:ye.eagerState,next:null};te===null?(V=te=qe,I=x):te=te.next=qe,Nn.lanes|=ke,Aa|=ke}ye=ye.next}while(ye!==null&&ye!==w);te===null?I=x:te.next=V,ca(x,c.memoizedState)||(Is=!0),c.memoizedState=x,c.baseState=I,c.baseQueue=te,d.lastRenderedState=x}if(y=d.interleaved,y!==null){E=y;do w=E.lane,Nn.lanes|=w,Aa|=w,E=E.next;while(E!==y)}else E===null&&(d.lanes=0);return[c.memoizedState,d.dispatch]}function dc(y){var c=ei(),d=c.queue;if(d===null)throw Error(s(311));d.lastRenderedReducer=y;var x=d.dispatch,E=d.pending,w=c.memoizedState;if(E!==null){d.pending=null;var I=E=E.next;do w=y(w,I.action),I=I.next;while(I!==E);ca(w,c.memoizedState)||(Is=!0),c.memoizedState=w,c.baseQueue===null&&(c.baseState=w),d.lastRenderedState=w}return[w,x]}function ip(){}function jx(y,c){var d=Nn,x=ei(),E=c(),w=!ca(x.memoizedState,E);if(w&&(x.memoizedState=E,Is=!0),x=x.queue,mc(Yx.bind(null,d,x,y),[y]),x.getSnapshot!==c||w||xn!==null&&xn.memoizedState.tag&1){if(d.flags|=2048,fc(9,Jx.bind(null,d,x,E,c),void 0,null),Bt===null)throw Error(s(349));mi&30||Xx(d,c,E)}return E}function Xx(y,c,d){y.flags|=16384,y={getSnapshot:c,value:d},c=Nn.updateQueue,c===null?(c={lastEffect:null,stores:null},Nn.updateQueue=c,c.stores=[y]):(d=c.stores,d===null?c.stores=[y]:d.push(y))}function Jx(y,c,d,x){c.value=d,c.getSnapshot=x,Kx(c)&&Wr(y,1,-1)}function Yx(y,c,d){return d(function(){Kx(c)&&Wr(y,1,-1)})}function Kx(y){var c=y.getSnapshot;y=y.value;try{var d=c();return!ca(y,d)}catch{return!0}}function Vg(y){var c=bo();return typeof y=="function"&&(y=y()),c.memoizedState=c.baseState=y,y={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Li,lastRenderedState:y},c.queue=y,y=y.dispatch=HP.bind(null,Nn,y),[c.memoizedState,y]}function fc(y,c,d,x){return y={tag:y,create:c,destroy:d,deps:x,next:null},c=Nn.updateQueue,c===null?(c={lastEffect:null,stores:null},Nn.updateQueue=c,c.lastEffect=y.next=y):(d=c.lastEffect,d===null?c.lastEffect=y.next=y:(x=d.next,d.next=y,y.next=x,c.lastEffect=y)),y}function Uh(){return ei().memoizedState}function sp(y,c,d,x){var E=bo();Nn.flags|=y,E.memoizedState=fc(1|c,d,void 0,x===void 0?null:x)}function pc(y,c,d,x){var E=ei();x=x===void 0?null:x;var w=void 0;if(un!==null){var I=un.memoizedState;if(w=I.destroy,x!==null&&$r(x,I.deps)){E.memoizedState=fc(c,d,w,x);return}}Nn.flags|=y,E.memoizedState=fc(1|c,d,w,x)}function Oh(y,c){return sp(8390656,8,y,c)}function mc(y,c){return pc(2048,8,y,c)}function kh(y,c){return pc(4,2,y,c)}function Qx(y,c){return pc(4,4,y,c)}function qx(y,c){if(typeof c=="function")return y=y(),c(y),function(){c(null)};if(c!=null)return y=y(),c.current=y,function(){c.current=null}}function Zx(y,c,d){return d=d!=null?d.concat([y]):null,pc(4,4,qx.bind(null,c,y),d)}function Wg(){}function jg(y,c){var d=ei();c=c===void 0?null:c;var x=d.memoizedState;return x!==null&&c!==null&&$r(c,x[1])?x[0]:(d.memoizedState=[y,c],y)}function $x(y,c){var d=ei();c=c===void 0?null:c;var x=d.memoizedState;return x!==null&&c!==null&&$r(c,x[1])?x[0]:(y=y(),d.memoizedState=[y,c],y)}function ZS(y,c){var d=fn;fn=d!==0&&4>d?d:4,y(!0);var x=Zi.transition;Zi.transition={};try{y(!1),c()}finally{fn=d,Zi.transition=x}}function $S(){return ei().memoizedState}function eE(y,c,d){var x=sr(y);d={lane:x,action:d,hasEagerState:!1,eagerState:null,next:null},tE(y)?eA(c,d):(tA(y,c,d),d=ri(),y=Wr(y,x,d),y!==null&&nA(y,c,x))}function HP(y,c,d){var x=sr(y),E={lane:x,action:d,hasEagerState:!1,eagerState:null,next:null};if(tE(y))eA(c,E);else{tA(y,c,E);var w=y.alternate;if(y.lanes===0&&(w===null||w.lanes===0)&&(w=c.lastRenderedReducer,w!==null))try{var I=c.lastRenderedState,V=w(I,d);if(E.hasEagerState=!0,E.eagerState=V,ca(V,I))return}catch{}finally{}d=ri(),y=Wr(y,x,d),y!==null&&nA(y,c,x)}}function tE(y){var c=y.alternate;return y===Nn||c!==null&&c===Nn}function eA(y,c){uu=mr=!0;var d=y.pending;d===null?c.next=c:(c.next=d.next,d.next=c),y.pending=c}function tA(y,c,d){Bt!==null&&y.mode&1&&!(Rt&2)?(y=c.interleaved,y===null?(d.next=d,pr===null?pr=[c]:pr.push(c)):(d.next=y.next,y.next=d),c.interleaved=d):(y=c.pending,y===null?d.next=d:(d.next=y.next,y.next=d),c.pending=d)}function nA(y,c,d){if(d&4194240){var x=c.lanes;x&=y.pendingLanes,d|=x,c.lanes=d,Nx(y,d)}}var op={readContext:di,useCallback:Bi,useContext:Bi,useEffect:Bi,useImperativeHandle:Bi,useInsertionEffect:Bi,useLayoutEffect:Bi,useMemo:Bi,useReducer:Bi,useRef:Bi,useState:Bi,useDebugValue:Bi,useDeferredValue:Bi,useTransition:Bi,useMutableSource:Bi,useSyncExternalStore:Bi,useId:Bi,unstable_isNewReconciler:!1},Xg={readContext:di,useCallback:function(y,c){return bo().memoizedState=[y,c===void 0?null:c],y},useContext:di,useEffect:Oh,useImperativeHandle:function(y,c,d){return d=d!=null?d.concat([y]):null,sp(4194308,4,qx.bind(null,c,y),d)},useLayoutEffect:function(y,c){return sp(4194308,4,y,c)},useInsertionEffect:function(y,c){return sp(4,2,y,c)},useMemo:function(y,c){var d=bo();return c=c===void 0?null:c,y=y(),d.memoizedState=[y,c],y},useReducer:function(y,c,d){var x=bo();return c=d!==void 0?d(c):c,x.memoizedState=x.baseState=c,y={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:y,lastRenderedState:c},x.queue=y,y=y.dispatch=eE.bind(null,Nn,y),[x.memoizedState,y]},useRef:function(y){var c=bo();return y={current:y},c.memoizedState=y},useState:Vg,useDebugValue:Wg,useDeferredValue:function(y){var c=Vg(y),d=c[0],x=c[1];return Oh(function(){var E=Zi.transition;Zi.transition={};try{x(y)}finally{Zi.transition=E}},[y]),d},useTransition:function(){var y=Vg(!1),c=y[0];return y=ZS.bind(null,y[1]),bo().memoizedState=y,[c,y]},useMutableSource:function(){},useSyncExternalStore:function(y,c,d){var x=Nn,E=bo();if(cn){if(d===void 0)throw Error(s(407));d=d()}else{if(d=c(),Bt===null)throw Error(s(349));mi&30||Xx(x,c,d)}E.memoizedState=d;var w={value:d,getSnapshot:c};return E.queue=w,Oh(Yx.bind(null,x,w,y),[y]),x.flags|=2048,fc(9,Jx.bind(null,x,w,d,c),void 0,null),d},useId:function(){var y=bo(),c=Bt.identifierPrefix;if(cn){var d=pi,x=Ji;d=(x&~(1<<32-Kr(x)-1)).toString(32)+d,c=":"+c+"R"+d,d=rl++,0<d&&(c+="H"+d.toString(32)),c+=":"}else d=tp++,c=":"+c+"r"+d.toString(32)+":";return y.memoizedState=c},unstable_isNewReconciler:!1},VP={readContext:di,useCallback:jg,useContext:di,useEffect:mc,useImperativeHandle:Zx,useInsertionEffect:kh,useLayoutEffect:Qx,useMemo:$x,useReducer:va,useRef:Uh,useState:function(){return va(Li)},useDebugValue:Wg,useDeferredValue:function(y){var c=va(Li),d=c[0],x=c[1];return mc(function(){var E=Zi.transition;Zi.transition={};try{x(y)}finally{Zi.transition=E}},[y]),d},useTransition:function(){var y=va(Li)[0],c=ei().memoizedState;return[y,c]},useMutableSource:ip,useSyncExternalStore:jx,useId:$S,unstable_isNewReconciler:!1},WP={readContext:di,useCallback:jg,useContext:di,useEffect:mc,useImperativeHandle:Zx,useInsertionEffect:kh,useLayoutEffect:Qx,useMemo:$x,useReducer:dc,useRef:Uh,useState:function(){return dc(Li)},useDebugValue:Wg,useDeferredValue:function(y){var c=dc(Li),d=c[0],x=c[1];return mc(function(){var E=Zi.transition;Zi.transition={};try{x(y)}finally{Zi.transition=E}},[y]),d},useTransition:function(){var y=dc(Li)[0],c=ei().memoizedState;return[y,c]},useMutableSource:ip,useSyncExternalStore:jx,useId:$S,unstable_isNewReconciler:!1};function rA(y,c){try{var d="",x=c;do d+=Ig(x),x=x.return;while(x);var E=d}catch(w){E=`
Error generating stack: `+w.message+`
`+w.stack}return{value:y,source:c,stack:E}}function ap(y,c){try{console.error(c.value)}catch(d){setTimeout(function(){throw d})}}var iA=typeof WeakMap=="function"?WeakMap:Map;function nE(y,c,d){d=pa(-1,d),d.tag=3,d.payload={element:null};var x=c.value;return d.callback=function(){al||(al=!0,jh=x),ap(y,c)},d}function sA(y,c,d){d=pa(-1,d),d.tag=3;var x=y.type.getDerivedStateFromError;if(typeof x=="function"){var E=c.value;d.payload=function(){return x(E)},d.callback=function(){ap(y,c)}}var w=y.stateNode;return w!==null&&typeof w.componentDidCatch=="function"&&(d.callback=function(){ap(y,c),typeof x!="function"&&(_a===null?_a=new Set([this]):_a.add(this));var I=c.stack;this.componentDidCatch(c.value,{componentStack:I!==null?I:""})}),d}function oA(y,c,d){var x=y.pingCache;if(x===null){x=y.pingCache=new iA;var E=new Set;x.set(c,E)}else E=x.get(c),E===void 0&&(E=new Set,x.set(c,E));E.has(d)||(E.add(d),y=fs.bind(null,y,c,d),c.then(y,y))}function aA(y){do{var c;if((c=y.tag===13)&&(c=y.memoizedState,c=c!==null?c.dehydrated!==null:!0),c)return y;y=y.return}while(y!==null);return null}function lA(y,c,d,x,E){return y.mode&1?(y.flags|=65536,y.lanes=E,y):(y===c?y.flags|=65536:(y.flags|=128,d.flags|=131072,d.flags&=-52805,d.tag===1&&(d.alternate===null?d.tag=17:(c=pa(-1,1),c.tag=2,Ci(d,c))),d.lanes|=1),y)}function wo(y){y.flags|=4}function To(y,c){if(y!==null&&y.child===c.child)return!0;if(c.flags&16)return!1;for(y=c.child;y!==null;){if(y.flags&12854||y.subtreeFlags&12854)return!1;y=y.sibling}return!0}var Gh,il,cu,gc;if(Ke)Gh=function(y,c){for(var d=c.child;d!==null;){if(d.tag===5||d.tag===6)K(y,d.stateNode);else if(d.tag!==4&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===c)break;for(;d.sibling===null;){if(d.return===null||d.return===c)return;d=d.return}d.sibling.return=d.return,d=d.sibling}},il=function(){},cu=function(y,c,d,x,E){if(y=y.memoizedProps,y!==x){var w=c.stateNode,I=qi(Ri.current);d=ue(w,d,y,x,E,I),(c.updateQueue=d)&&wo(c)}},gc=function(y,c,d,x){d!==x&&wo(c)};else if(fe){Gh=function(y,c,d,x){for(var E=c.child;E!==null;){if(E.tag===5){var w=E.stateNode;d&&x&&(w=Vr(w,E.type,E.memoizedProps,E)),K(y,w)}else if(E.tag===6)w=E.stateNode,d&&x&&(w=Ot(w,E.memoizedProps,E)),K(y,w);else if(E.tag!==4){if(E.tag===22&&E.memoizedState!==null)w=E.child,w!==null&&(w.return=E),Gh(y,E,!0,!0);else if(E.child!==null){E.child.return=E,E=E.child;continue}}if(E===c)break;for(;E.sibling===null;){if(E.return===null||E.return===c)return;E=E.return}E.sibling.return=E.return,E=E.sibling}};var lp=function(y,c,d,x){for(var E=c.child;E!==null;){if(E.tag===5){var w=E.stateNode;d&&x&&(w=Vr(w,E.type,E.memoizedProps,E)),wt(y,w)}else if(E.tag===6)w=E.stateNode,d&&x&&(w=Ot(w,E.memoizedProps,E)),wt(y,w);else if(E.tag!==4){if(E.tag===22&&E.memoizedState!==null)w=E.child,w!==null&&(w.return=E),lp(y,E,!0,!0);else if(E.child!==null){E.child.return=E,E=E.child;continue}}if(E===c)break;for(;E.sibling===null;){if(E.return===null||E.return===c)return;E=E.return}E.sibling.return=E.return,E=E.sibling}};il=function(y,c){var d=c.stateNode;if(!To(y,c)){y=d.containerInfo;var x=Oe(y);lp(x,c,!1,!1),d.pendingChildren=x,wo(c),Ut(y,x)}},cu=function(y,c,d,x,E){var w=y.stateNode,I=y.memoizedProps;if((y=To(y,c))&&I===x)c.stateNode=w;else{var V=c.stateNode,te=qi(Ri.current),ye=null;I!==x&&(ye=ue(V,d,I,x,E,te)),y&&ye===null?c.stateNode=w:(w=Ne(w,ye,d,I,x,c,y,V),H(w,d,x,E,te)&&wo(c),c.stateNode=w,y?wo(c):Gh(w,c,!1,!1))}},gc=function(y,c,d,x){d!==x?(y=qi(ga.current),d=qi(Ri.current),c.stateNode=Ce(x,y,d,c),wo(c)):c.stateNode=y.stateNode}}else il=function(){},cu=function(){},gc=function(){};function zh(y,c){if(!cn)switch(y.tailMode){case"hidden":c=y.tail;for(var d=null;c!==null;)c.alternate!==null&&(d=c),c=c.sibling;d===null?y.tail=null:d.sibling=null;break;case"collapsed":d=y.tail;for(var x=null;d!==null;)d.alternate!==null&&(x=d),d=d.sibling;x===null?c||y.tail===null?y.tail=null:y.tail.sibling=null:x.sibling=null}}function Dr(y){var c=y.alternate!==null&&y.alternate.child===y.child,d=0,x=0;if(c)for(var E=y.child;E!==null;)d|=E.lanes|E.childLanes,x|=E.subtreeFlags&14680064,x|=E.flags&14680064,E.return=y,E=E.sibling;else for(E=y.child;E!==null;)d|=E.lanes|E.childLanes,x|=E.subtreeFlags,x|=E.flags,E.return=y,E=E.sibling;return y.subtreeFlags|=x,y.childLanes=d,c}function Ii(y,c,d){var x=c.pendingProps;switch(qf(c),c.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Dr(c),null;case 1:return Nt(c.type)&&vn(),Dr(c),null;case 3:return x=c.stateNode,lu(),$e(dn),$e($t),ep(),x.pendingContext&&(x.context=x.pendingContext,x.pendingContext=null),(y===null||y.child===null)&&(Ih(c)?wo(c):y===null||y.memoizedState.isDehydrated&&!(c.flags&256)||(c.flags|=1024,Qi!==null&&(xp(Qi),Qi=null))),il(y,c),Dr(c),null;case 5:Hg(c),d=qi(ga.current);var E=c.type;if(y!==null&&c.stateNode!=null)cu(y,c,E,x,d),y.ref!==c.ref&&(c.flags|=512,c.flags|=2097152);else{if(!x){if(c.stateNode===null)throw Error(s(166));return Dr(c),null}if(y=qi(Ri.current),Ih(c)){if(!z)throw Error(s(175));y=zf(c.stateNode,c.type,c.memoizedProps,d,y,c,!Dn),c.updateQueue=y,y!==null&&wo(c)}else{var w=G(E,x,d,y,c);Gh(w,c,!1,!1),c.stateNode=w,H(w,E,x,d,y)&&wo(c)}c.ref!==null&&(c.flags|=512,c.flags|=2097152)}return Dr(c),null;case 6:if(y&&c.stateNode!=null)gc(y,c,y.memoizedProps,x);else{if(typeof x!="string"&&c.stateNode===null)throw Error(s(166));if(y=qi(ga.current),d=qi(Ri.current),Ih(c)){if(!z)throw Error(s(176));if(y=c.stateNode,x=c.memoizedProps,(d=Hf(y,x,c,!Dn))&&(E=Ki,E!==null))switch(w=(E.mode&1)!==0,E.tag){case 3:nt(E.stateNode.containerInfo,y,x,w);break;case 5:lt(E.type,E.memoizedProps,E.stateNode,y,x,w)}d&&wo(c)}else c.stateNode=Ce(x,y,d,c)}return Dr(c),null;case 13:if($e(jn),x=c.memoizedState,cn&&Wn!==null&&c.mode&1&&!(c.flags&128)){for(y=Wn;y;)y=Ao(y);return ma(),c.flags|=98560,c}if(x!==null&&x.dehydrated!==null){if(x=Ih(c),y===null){if(!x)throw Error(s(318));if(!z)throw Error(s(344));if(y=c.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(s(317));N(y,c)}else ma(),!(c.flags&128)&&(c.memoizedState=null),c.flags|=4;return Dr(c),null}return Qi!==null&&(xp(Qi),Qi=null),c.flags&128?(c.lanes=d,c):(x=x!==null,d=!1,y===null?Ih(c):d=y.memoizedState!==null,x&&!d&&(c.child.flags|=8192,c.mode&1&&(y===null||jn.current&1?Jn===0&&(Jn=3):fv())),c.updateQueue!==null&&(c.flags|=4),Dr(c),null);case 4:return lu(),il(y,c),y===null&&ge(c.stateNode.containerInfo),Dr(c),null;case 10:return Fg(c.type._context),Dr(c),null;case 17:return Nt(c.type)&&vn(),Dr(c),null;case 19:if($e(jn),E=c.memoizedState,E===null)return Dr(c),null;if(x=(c.flags&128)!==0,w=E.rendering,w===null)if(x)zh(E,!1);else{if(Jn!==0||y!==null&&y.flags&128)for(y=c.child;y!==null;){if(w=Vn(y),w!==null){for(c.flags|=128,zh(E,!1),y=w.updateQueue,y!==null&&(c.updateQueue=y,c.flags|=4),c.subtreeFlags=0,y=d,x=c.child;x!==null;)d=x,E=y,d.flags&=14680066,w=d.alternate,w===null?(d.childLanes=0,d.lanes=E,d.child=null,d.subtreeFlags=0,d.memoizedProps=null,d.memoizedState=null,d.updateQueue=null,d.dependencies=null,d.stateNode=null):(d.childLanes=w.childLanes,d.lanes=w.lanes,d.child=w.child,d.subtreeFlags=0,d.deletions=null,d.memoizedProps=w.memoizedProps,d.memoizedState=w.memoizedState,d.updateQueue=w.updateQueue,d.type=w.type,E=w.dependencies,d.dependencies=E===null?null:{lanes:E.lanes,firstContext:E.firstContext}),x=x.sibling;return Pt(jn,jn.current&1|2),c.child}y=y.sibling}E.tail!==null&&Qr()>yp&&(c.flags|=128,x=!0,zh(E,!1),c.lanes=4194304)}else{if(!x)if(y=Vn(w),y!==null){if(c.flags|=128,x=!0,y=y.updateQueue,y!==null&&(c.updateQueue=y,c.flags|=4),zh(E,!0),E.tail===null&&E.tailMode==="hidden"&&!w.alternate&&!cn)return Dr(c),null}else 2*Qr()-E.renderingStartTime>yp&&d!==1073741824&&(c.flags|=128,x=!0,zh(E,!1),c.lanes=4194304);E.isBackwards?(w.sibling=c.child,c.child=w):(y=E.last,y!==null?y.sibling=w:c.child=w,E.last=w)}return E.tail!==null?(c=E.tail,E.rendering=c,E.tail=c.sibling,E.renderingStartTime=Qr(),c.sibling=null,y=jn.current,Pt(jn,x?y&1|2:y&1),c):(Dr(c),null);case 22:case 23:return dv(),x=c.memoizedState!==null,y!==null&&y.memoizedState!==null!==x&&(c.flags|=8192),x&&c.mode&1?Ln&1073741824&&(Dr(c),Ke&&c.subtreeFlags&6&&(c.flags|=8192)):Dr(c),null;case 24:return null;case 25:return null}throw Error(s(156,c.tag))}var jP=o.ReactCurrentOwner,Is=!1;function Un(y,c,d,x){c.child=y===null?cc(c,null,d,x):uc(c,y.child,d,x)}function Di(y,c,d,x,E){d=d.render;var w=c.ref;return ru(c,E),x=np(y,c,d,x,w,E),d=rp(),y!==null&&!Is?(c.updateQueue=y.updateQueue,c.flags&=-2053,y.lanes&=~E,ya(y,c,E)):(cn&&d&&kg(c),c.flags|=1,Un(y,c,x,E),c.child)}function uA(y,c,d,x,E){if(y===null){var w=d.type;return typeof w=="function"&&!ps(w)&&w.defaultProps===void 0&&d.compare===null&&d.defaultProps===void 0?(c.tag=15,c.type=w,cA(y,c,w,x,E)):(y=Lo(d.type,null,x,c,c.mode,E),y.ref=c.ref,y.return=c,c.child=y)}if(w=y.child,!(y.lanes&E)){var I=w.memoizedProps;if(d=d.compare,d=d!==null?d:Lg,d(I,x)&&y.ref===c.ref)return ya(y,c,E)}return c.flags|=1,y=yu(w,x),y.ref=c.ref,y.return=c,c.child=y}function cA(y,c,d,x,E){if(y!==null&&Lg(y.memoizedProps,x)&&y.ref===c.ref)if(Is=!1,(y.lanes&E)!==0)y.flags&131072&&(Is=!0);else return c.lanes=y.lanes,ya(y,c,E);return Jg(y,c,d,x,E)}function hA(y,c,d){var x=c.pendingProps,E=x.children,w=y!==null?y.memoizedState:null;if(x.mode==="hidden")if(!(c.mode&1))c.memoizedState={baseLanes:0,cachePool:null},Pt(ti,Ln),Ln|=d;else if(d&1073741824)c.memoizedState={baseLanes:0,cachePool:null},x=w!==null?w.baseLanes:d,Pt(ti,Ln),Ln|=x;else return y=w!==null?w.baseLanes|d:d,c.lanes=c.childLanes=1073741824,c.memoizedState={baseLanes:y,cachePool:null},c.updateQueue=null,Pt(ti,Ln),Ln|=y,null;else w!==null?(x=w.baseLanes|d,c.memoizedState=null):x=d,Pt(ti,Ln),Ln|=x;return Un(y,c,E,d),c.child}function dA(y,c){var d=c.ref;(y===null&&d!==null||y!==null&&y.ref!==d)&&(c.flags|=512,c.flags|=2097152)}function Jg(y,c,d,x,E){var w=Nt(d)?En:$t.current;return w=Lr(c,w),ru(c,E),d=np(y,c,d,x,w,E),x=rp(),y!==null&&!Is?(c.updateQueue=y.updateQueue,c.flags&=-2053,y.lanes&=~E,ya(y,c,E)):(cn&&x&&kg(c),c.flags|=1,Un(y,c,d,E),c.child)}function Yg(y,c,d,x,E){if(Nt(d)){var w=!0;Bs(c)}else w=!1;if(ru(c,E),c.stateNode===null)y!==null&&(y.alternate=null,c.alternate=null,c.flags|=2),zx(c,d,x),Og(c,d,x,E),x=!0;else if(y===null){var I=c.stateNode,V=c.memoizedProps;I.props=V;var te=I.context,ye=d.contextType;typeof ye=="object"&&ye!==null?ye=di(ye):(ye=Nt(d)?En:$t.current,ye=Lr(c,ye));var ke=d.getDerivedStateFromProps,qe=typeof ke=="function"||typeof I.getSnapshotBeforeUpdate=="function";qe||typeof I.UNSAFE_componentWillReceiveProps!="function"&&typeof I.componentWillReceiveProps!="function"||(V!==x||te!==ye)&&Hx(c,I,x,ye),fi=!1;var rt=c.memoizedState;I.state=rt,Yf(c,x,I,E),te=c.memoizedState,V!==x||rt!==te||dn.current||fi?(typeof ke=="function"&&(Ug(c,d,ke,x),te=c.memoizedState),(V=fi||Qf(c,d,V,x,rt,te,ye))?(qe||typeof I.UNSAFE_componentWillMount!="function"&&typeof I.componentWillMount!="function"||(typeof I.componentWillMount=="function"&&I.componentWillMount(),typeof I.UNSAFE_componentWillMount=="function"&&I.UNSAFE_componentWillMount()),typeof I.componentDidMount=="function"&&(c.flags|=4194308)):(typeof I.componentDidMount=="function"&&(c.flags|=4194308),c.memoizedProps=x,c.memoizedState=te),I.props=x,I.state=te,I.context=ye,x=V):(typeof I.componentDidMount=="function"&&(c.flags|=4194308),x=!1)}else{I=c.stateNode,Ng(y,c),V=c.memoizedProps,ye=c.type===c.elementType?V:Mo(c.type,V),I.props=ye,qe=c.pendingProps,rt=I.context,te=d.contextType,typeof te=="object"&&te!==null?te=di(te):(te=Nt(d)?En:$t.current,te=Lr(c,te));var dt=d.getDerivedStateFromProps;(ke=typeof dt=="function"||typeof I.getSnapshotBeforeUpdate=="function")||typeof I.UNSAFE_componentWillReceiveProps!="function"&&typeof I.componentWillReceiveProps!="function"||(V!==qe||rt!==te)&&Hx(c,I,x,te),fi=!1,rt=c.memoizedState,I.state=rt,Yf(c,x,I,E);var ct=c.memoizedState;V!==qe||rt!==ct||dn.current||fi?(typeof dt=="function"&&(Ug(c,d,dt,x),ct=c.memoizedState),(ye=fi||Qf(c,d,ye,x,rt,ct,te)||!1)?(ke||typeof I.UNSAFE_componentWillUpdate!="function"&&typeof I.componentWillUpdate!="function"||(typeof I.componentWillUpdate=="function"&&I.componentWillUpdate(x,ct,te),typeof I.UNSAFE_componentWillUpdate=="function"&&I.UNSAFE_componentWillUpdate(x,ct,te)),typeof I.componentDidUpdate=="function"&&(c.flags|=4),typeof I.getSnapshotBeforeUpdate=="function"&&(c.flags|=1024)):(typeof I.componentDidUpdate!="function"||V===y.memoizedProps&&rt===y.memoizedState||(c.flags|=4),typeof I.getSnapshotBeforeUpdate!="function"||V===y.memoizedProps&&rt===y.memoizedState||(c.flags|=1024),c.memoizedProps=x,c.memoizedState=ct),I.props=x,I.state=ct,I.context=te,x=ye):(typeof I.componentDidUpdate!="function"||V===y.memoizedProps&&rt===y.memoizedState||(c.flags|=4),typeof I.getSnapshotBeforeUpdate!="function"||V===y.memoizedProps&&rt===y.memoizedState||(c.flags|=1024),x=!1)}return Kg(y,c,d,x,w,E)}function Kg(y,c,d,x,E,w){dA(y,c);var I=(c.flags&128)!==0;if(!x&&!I)return E&&el(c,d,!1),ya(y,c,w);x=c.stateNode,jP.current=c;var V=I&&typeof d.getDerivedStateFromError!="function"?null:x.render();return c.flags|=1,y!==null&&I?(c.child=uc(c,y.child,null,w),c.child=uc(c,null,V,w)):Un(y,c,V,w),c.memoizedState=x.state,E&&el(c,d,!0),c.child}function Qg(y){var c=y.stateNode;c.pendingContext?Ps(y,c.pendingContext,c.pendingContext!==c.context):c.context&&Ps(y,c.context,!1),eo(y,c.containerInfo)}function fA(y,c,d,x,E){return ma(),ou(E),c.flags|=256,Un(y,c,d,x),c.child}var up={dehydrated:null,treeContext:null,retryLane:0};function vc(y){return{baseLanes:y,cachePool:null}}function cp(y,c,d){var x=c.pendingProps,E=jn.current,w=!1,I=(c.flags&128)!==0,V;if((V=I)||(V=y!==null&&y.memoizedState===null?!1:(E&2)!==0),V?(w=!0,c.flags&=-129):(y===null||y.memoizedState!==null)&&(E|=1),Pt(jn,E&1),y===null)return Zf(c),y=c.memoizedState,y!==null&&(y=y.dehydrated,y!==null)?(c.mode&1?$l(y)?c.lanes=8:c.lanes=1073741824:c.lanes=1,null):(E=x.children,y=x.fallback,w?(x=c.mode,w=c.child,E={mode:"hidden",children:E},!(x&1)&&w!==null?(w.childLanes=0,w.pendingProps=E):w=Sa(E,x,0,null),y=Ma(y,x,d,null),w.return=c,y.return=c,w.sibling=y,c.child=w,c.child.memoizedState=vc(d),c.memoizedState=up,y):qg(c,E));if(E=y.memoizedState,E!==null){if(V=E.dehydrated,V!==null){if(I)return c.flags&256?(c.flags&=-257,hp(y,c,d,Error(s(422)))):c.memoizedState!==null?(c.child=y.child,c.flags|=128,null):(w=x.fallback,E=c.mode,x=Sa({mode:"visible",children:x.children},E,0,null),w=Ma(w,E,d,null),w.flags|=2,x.return=c,w.return=c,x.sibling=w,c.child=x,c.mode&1&&uc(c,y.child,null,d),c.child.memoizedState=vc(d),c.memoizedState=up,w);if(!(c.mode&1))c=hp(y,c,d,null);else if($l(V))c=hp(y,c,d,Error(s(419)));else if(x=(d&y.childLanes)!==0,Is||x){if(x=Bt,x!==null){switch(d&-d){case 4:w=2;break;case 16:w=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:w=32;break;case 536870912:w=268435456;break;default:w=0}x=w&(x.suspendedLanes|d)?0:w,x!==0&&x!==E.retryLane&&(E.retryLane=x,Wr(y,x,-1))}fv(),c=hp(y,c,d,Error(s(421)))}else Zl(V)?(c.flags|=128,c.child=y.child,c=aE.bind(null,y),Rs(V,c),c=null):(d=E.treeContext,z&&(Wn=Gf(V),Ki=c,cn=!0,Qi=null,Dn=!1,d!==null&&(Xi[Qn++]=Ji,Xi[Qn++]=pi,Xi[Qn++]=Zr,Ji=d.id,pi=d.overflow,Zr=c)),c=qg(c,c.pendingProps.children),c.flags|=4096);return c}return w?(x=pA(y,c,x.children,x.fallback,d),w=c.child,E=y.child.memoizedState,w.memoizedState=E===null?vc(d):{baseLanes:E.baseLanes|d,cachePool:null},w.childLanes=y.childLanes&~d,c.memoizedState=up,x):(d=Zg(y,c,x.children,d),c.memoizedState=null,d)}return w?(x=pA(y,c,x.children,x.fallback,d),w=c.child,E=y.child.memoizedState,w.memoizedState=E===null?vc(d):{baseLanes:E.baseLanes|d,cachePool:null},w.childLanes=y.childLanes&~d,c.memoizedState=up,x):(d=Zg(y,c,x.children,d),c.memoizedState=null,d)}function qg(y,c){return c=Sa({mode:"visible",children:c},y.mode,0,null),c.return=y,y.child=c}function Zg(y,c,d,x){var E=y.child;return y=E.sibling,d=yu(E,{mode:"visible",children:d}),!(c.mode&1)&&(d.lanes=x),d.return=c,d.sibling=null,y!==null&&(x=c.deletions,x===null?(c.deletions=[y],c.flags|=16):x.push(y)),c.child=d}function pA(y,c,d,x,E){var w=c.mode;y=y.child;var I=y.sibling,V={mode:"hidden",children:d};return!(w&1)&&c.child!==y?(d=c.child,d.childLanes=0,d.pendingProps=V,c.deletions=null):(d=yu(y,V),d.subtreeFlags=y.subtreeFlags&14680064),I!==null?x=yu(I,x):(x=Ma(x,w,E,null),x.flags|=2),x.return=c,d.return=c,d.sibling=x,c.child=d,x}function hp(y,c,d,x){return x!==null&&ou(x),uc(c,y.child,null,d),y=qg(c,c.pendingProps.children),y.flags|=2,c.memoizedState=null,y}function dp(y,c,d){y.lanes|=c;var x=y.alternate;x!==null&&(x.lanes|=c),Xf(y.return,c,d)}function $g(y,c,d,x,E){var w=y.memoizedState;w===null?y.memoizedState={isBackwards:c,rendering:null,renderingStartTime:0,last:x,tail:d,tailMode:E}:(w.isBackwards=c,w.rendering=null,w.renderingStartTime=0,w.last=x,w.tail=d,w.tailMode=E)}function ev(y,c,d){var x=c.pendingProps,E=x.revealOrder,w=x.tail;if(Un(y,c,x.children,d),x=jn.current,x&2)x=x&1|2,c.flags|=128;else{if(y!==null&&y.flags&128)e:for(y=c.child;y!==null;){if(y.tag===13)y.memoizedState!==null&&dp(y,d,c);else if(y.tag===19)dp(y,d,c);else if(y.child!==null){y.child.return=y,y=y.child;continue}if(y===c)break e;for(;y.sibling===null;){if(y.return===null||y.return===c)break e;y=y.return}y.sibling.return=y.return,y=y.sibling}x&=1}if(Pt(jn,x),!(c.mode&1))c.memoizedState=null;else switch(E){case"forwards":for(d=c.child,E=null;d!==null;)y=d.alternate,y!==null&&Vn(y)===null&&(E=d),d=d.sibling;d=E,d===null?(E=c.child,c.child=null):(E=d.sibling,d.sibling=null),$g(c,!1,E,d,w);break;case"backwards":for(d=null,E=c.child,c.child=null;E!==null;){if(y=E.alternate,y!==null&&Vn(y)===null){c.child=E;break}y=E.sibling,E.sibling=d,d=E,E=y}$g(c,!0,d,null,w);break;case"together":$g(c,!1,null,null,void 0);break;default:c.memoizedState=null}return c.child}function ya(y,c,d){if(y!==null&&(c.dependencies=y.dependencies),Aa|=c.lanes,!(d&c.childLanes))return null;if(y!==null&&c.child!==y.child)throw Error(s(153));if(c.child!==null){for(y=c.child,d=yu(y,y.pendingProps),c.child=d,d.return=c;y.sibling!==null;)y=y.sibling,d=d.sibling=yu(y,y.pendingProps),d.return=c;d.sibling=null}return c.child}function sl(y,c,d){switch(c.tag){case 3:Qg(c),ma();break;case 5:hc(c);break;case 1:Nt(c.type)&&Bs(c);break;case 4:eo(c,c.stateNode.containerInfo);break;case 10:Dg(c,c.type._context,c.memoizedProps.value);break;case 13:var x=c.memoizedState;if(x!==null)return x.dehydrated!==null?(Pt(jn,jn.current&1),c.flags|=128,null):d&c.child.childLanes?cp(y,c,d):(Pt(jn,jn.current&1),y=ya(y,c,d),y!==null?y.sibling:null);Pt(jn,jn.current&1);break;case 19:if(x=(d&c.childLanes)!==0,y.flags&128){if(x)return ev(y,c,d);c.flags|=128}var E=c.memoizedState;if(E!==null&&(E.rendering=null,E.tail=null,E.lastEffect=null),Pt(jn,jn.current),x)break;return null;case 22:case 23:return c.lanes=0,hA(y,c,d)}return ya(y,c,d)}function XP(y,c){switch(qf(c),c.tag){case 1:return Nt(c.type)&&vn(),y=c.flags,y&65536?(c.flags=y&-65537|128,c):null;case 3:return lu(),$e(dn),$e($t),ep(),y=c.flags,y&65536&&!(y&128)?(c.flags=y&-65537|128,c):null;case 5:return Hg(c),null;case 13:if($e(jn),y=c.memoizedState,y!==null&&y.dehydrated!==null){if(c.alternate===null)throw Error(s(340));ma()}return y=c.flags,y&65536?(c.flags=y&-65537|128,c):null;case 19:return $e(jn),null;case 4:return lu(),null;case 10:return Fg(c.type._context),null;case 22:case 23:return dv(),null;case 24:return null;default:return null}}var tv=!1,xa=!1,yc=typeof WeakSet=="function"?WeakSet:Set,gt=null;function ft(y,c){var d=y.ref;if(d!==null)if(typeof d=="function")try{d(null)}catch(x){ts(y,c,x)}else d.current=null}function fp(y,c,d){try{d()}catch(x){ts(y,c,x)}}var nv=!1;function rE(y,c){for(D(y.containerInfo),gt=c;gt!==null;)if(y=gt,c=y.child,(y.subtreeFlags&1028)!==0&&c!==null)c.return=y,gt=c;else for(;gt!==null;){y=gt;try{var d=y.alternate;if(y.flags&1024)switch(y.tag){case 0:case 11:case 15:break;case 1:if(d!==null){var x=d.memoizedProps,E=d.memoizedState,w=y.stateNode,I=w.getSnapshotBeforeUpdate(y.elementType===y.type?x:Mo(y.type,x),E);w.__reactInternalSnapshotBeforeUpdate=I}break;case 3:Ke&&oe(y.stateNode.containerInfo);break;case 5:case 6:case 4:case 17:break;default:throw Error(s(163))}}catch(V){ts(y,y.return,V)}if(c=y.sibling,c!==null){c.return=y.return,gt=c;break}gt=y.return}return d=nv,nv=!1,d}function xc(y,c,d){var x=c.updateQueue;if(x=x!==null?x.lastEffect:null,x!==null){var E=x=x.next;do{if((E.tag&y)===y){var w=E.destroy;E.destroy=void 0,w!==void 0&&fp(c,d,w)}E=E.next}while(E!==x)}}function Co(y,c){if(c=c.updateQueue,c=c!==null?c.lastEffect:null,c!==null){var d=c=c.next;do{if((d.tag&y)===y){var x=d.create;d.destroy=x()}d=d.next}while(d!==c)}}function Ac(y){var c=y.ref;if(c!==null){var d=y.stateNode;switch(y.tag){case 5:y=X(d);break;default:y=d}typeof c=="function"?c(y):c.current=y}}function rv(y,c,d){if(Ls&&typeof Ls.onCommitFiberUnmount=="function")try{Ls.onCommitFiberUnmount(Pg,c)}catch{}switch(c.tag){case 0:case 11:case 14:case 15:if(y=c.updateQueue,y!==null&&(y=y.lastEffect,y!==null)){var x=y=y.next;do{var E=x,w=E.destroy;E=E.tag,w!==void 0&&(E&2||E&4)&&fp(c,d,w),x=x.next}while(x!==y)}break;case 1:if(ft(c,d),y=c.stateNode,typeof y.componentWillUnmount=="function")try{y.props=c.memoizedProps,y.state=c.memoizedState,y.componentWillUnmount()}catch(I){ts(c,d,I)}break;case 5:ft(c,d);break;case 4:Ke?sv(y,c,d):fe&&fe&&(c=c.stateNode.containerInfo,d=Oe(c),Xt(c,d))}}function mA(y,c,d){for(var x=c;;)if(rv(y,x,d),x.child===null||Ke&&x.tag===4){if(x===c)break;for(;x.sibling===null;){if(x.return===null||x.return===c)return;x=x.return}x.sibling.return=x.return,x=x.sibling}else x.child.return=x,x=x.child}function gA(y){var c=y.alternate;c!==null&&(y.alternate=null,gA(c)),y.child=null,y.deletions=null,y.sibling=null,y.tag===5&&(c=y.stateNode,c!==null&&Ee(c)),y.stateNode=null,y.return=null,y.dependencies=null,y.memoizedProps=null,y.memoizedState=null,y.pendingProps=null,y.stateNode=null,y.updateQueue=null}function vA(y){return y.tag===5||y.tag===3||y.tag===4}function yA(y){e:for(;;){for(;y.sibling===null;){if(y.return===null||vA(y.return))return null;y=y.return}for(y.sibling.return=y.return,y=y.sibling;y.tag!==5&&y.tag!==6&&y.tag!==18;){if(y.flags&2||y.child===null||y.tag===4)continue e;y.child.return=y,y=y.child}if(!(y.flags&2))return y.stateNode}}function xA(y){if(Ke){e:{for(var c=y.return;c!==null;){if(vA(c))break e;c=c.return}throw Error(s(160))}var d=c;switch(d.tag){case 5:c=d.stateNode,d.flags&32&&(Ue(c),d.flags&=-33),d=yA(y),pp(y,d,c);break;case 3:case 4:c=d.stateNode.containerInfo,d=yA(y),iv(y,d,c);break;default:throw Error(s(161))}}}function iv(y,c,d){var x=y.tag;if(x===5||x===6)y=y.stateNode,c?ve(d,y,c):Fe(d,y);else if(x!==4&&(y=y.child,y!==null))for(iv(y,c,d),y=y.sibling;y!==null;)iv(y,c,d),y=y.sibling}function pp(y,c,d){var x=y.tag;if(x===5||x===6)y=y.stateNode,c?q(d,y,c):Se(d,y);else if(x!==4&&(y=y.child,y!==null))for(pp(y,c,d),y=y.sibling;y!==null;)pp(y,c,d),y=y.sibling}function sv(y,c,d){for(var x=c,E=!1,w,I;;){if(!E){E=x.return;e:for(;;){if(E===null)throw Error(s(160));switch(w=E.stateNode,E.tag){case 5:I=!1;break e;case 3:w=w.containerInfo,I=!0;break e;case 4:w=w.containerInfo,I=!0;break e}E=E.return}E=!0}if(x.tag===5||x.tag===6)mA(y,x,d),I?Pe(w,x.stateNode):Re(w,x.stateNode);else if(x.tag===18)I?He(w,x.stateNode):de(w,x.stateNode);else if(x.tag===4){if(x.child!==null){w=x.stateNode.containerInfo,I=!0,x.child.return=x,x=x.child;continue}}else if(rv(y,x,d),x.child!==null){x.child.return=x,x=x.child;continue}if(x===c)break;for(;x.sibling===null;){if(x.return===null||x.return===c)return;x=x.return,x.tag===4&&(E=!1)}x.sibling.return=x.return,x=x.sibling}}function ov(y,c){if(Ke){switch(c.tag){case 0:case 11:case 14:case 15:xc(3,c,c.return),Co(3,c),xc(5,c,c.return);return;case 1:return;case 5:var d=c.stateNode;if(d!=null){var x=c.memoizedProps;y=y!==null?y.memoizedProps:x;var E=c.type,w=c.updateQueue;c.updateQueue=null,w!==null&&j(d,w,E,y,x,c)}return;case 6:if(c.stateNode===null)throw Error(s(162));d=c.memoizedProps,Xe(c.stateNode,y!==null?y.memoizedProps:d,d);return;case 3:z&&y!==null&&y.memoizedState.isDehydrated&&he(c.stateNode.containerInfo);return;case 12:return;case 13:Hh(c);return;case 19:Hh(c);return;case 17:return}throw Error(s(163))}switch(c.tag){case 0:case 11:case 14:case 15:xc(3,c,c.return),Co(3,c),xc(5,c,c.return);return;case 12:return;case 13:Hh(c);return;case 19:Hh(c);return;case 3:z&&y!==null&&y.memoizedState.isDehydrated&&he(c.stateNode.containerInfo);break;case 22:case 23:return}e:if(fe){switch(c.tag){case 1:case 5:case 6:break e;case 3:case 4:c=c.stateNode,Xt(c.containerInfo,c.pendingChildren);break e}throw Error(s(163))}}function Hh(y){var c=y.updateQueue;if(c!==null){y.updateQueue=null;var d=y.stateNode;d===null&&(d=y.stateNode=new yc),c.forEach(function(x){var E=KP.bind(null,y,x);d.has(x)||(d.add(x),x.then(E,E))})}}function av(y,c){for(gt=c;gt!==null;){c=gt;var d=c.deletions;if(d!==null)for(var x=0;x<d.length;x++){var E=d[x];try{var w=y;Ke?sv(w,E,c):mA(w,E,c);var I=E.alternate;I!==null&&(I.return=null),E.return=null}catch(We){ts(E,c,We)}}if(d=c.child,c.subtreeFlags&12854&&d!==null)d.return=c,gt=d;else for(;gt!==null;){c=gt;try{var V=c.flags;if(V&32&&Ke&&Ue(c.stateNode),V&512){var te=c.alternate;if(te!==null){var ye=te.ref;ye!==null&&(typeof ye=="function"?ye(null):ye.current=null)}}if(V&8192)switch(c.tag){case 13:if(c.memoizedState!==null){var ke=c.alternate;(ke===null||ke.memoizedState===null)&&(Fi=Qr())}break;case 22:var qe=c.memoizedState!==null,rt=c.alternate,dt=rt!==null&&rt.memoizedState!==null;if(d=c,Ke){e:if(x=d,E=qe,w=null,Ke)for(var ct=x;;){if(ct.tag===5){if(w===null){w=ct;var _t=ct.stateNode;E?it(_t):J(ct.stateNode,ct.memoizedProps)}}else if(ct.tag===6){if(w===null){var On=ct.stateNode;E?Mt(On):Ie(On,ct.memoizedProps)}}else if((ct.tag!==22&&ct.tag!==23||ct.memoizedState===null||ct===x)&&ct.child!==null){ct.child.return=ct,ct=ct.child;continue}if(ct===x)break;for(;ct.sibling===null;){if(ct.return===null||ct.return===x)break e;w===ct&&(w=null),ct=ct.return}w===ct&&(w=null),ct.sibling.return=ct.return,ct=ct.sibling}}if(qe&&!dt&&d.mode&1){gt=d;for(var Le=d.child;Le!==null;){for(d=gt=Le;gt!==null;){x=gt;var $=x.child;switch(x.tag){case 0:case 11:case 14:case 15:xc(4,x,x.return);break;case 1:ft(x,x.return);var ne=x.stateNode;if(typeof ne.componentWillUnmount=="function"){var _e=x.return;try{ne.props=x.memoizedProps,ne.state=x.memoizedState,ne.componentWillUnmount()}catch(We){ts(x,_e,We)}}break;case 5:ft(x,x.return);break;case 22:if(x.memoizedState!==null){_A(d);continue}}$!==null?($.return=x,gt=$):_A(d)}Le=Le.sibling}}}switch(V&4102){case 2:xA(c),c.flags&=-3;break;case 6:xA(c),c.flags&=-3,ov(c.alternate,c);break;case 4096:c.flags&=-4097;break;case 4100:c.flags&=-4097,ov(c.alternate,c);break;case 4:ov(c.alternate,c)}}catch(We){ts(c,c.return,We)}if(d=c.sibling,d!==null){d.return=c.return,gt=d;break}gt=c.return}}}function JP(y,c,d){gt=y,iE(y)}function iE(y,c,d){for(var x=(y.mode&1)!==0;gt!==null;){var E=gt,w=E.child;if(E.tag===22&&x){var I=E.memoizedState!==null||tv;if(!I){var V=E.alternate,te=V!==null&&V.memoizedState!==null||xa;V=tv;var ye=xa;if(tv=I,(xa=te)&&!ye)for(gt=E;gt!==null;)I=gt,te=I.child,I.tag===22&&I.memoizedState!==null?MA(E):te!==null?(te.return=I,gt=te):MA(E);for(;w!==null;)gt=w,iE(w),w=w.sibling;gt=E,tv=V,xa=ye}AA(y)}else E.subtreeFlags&8772&&w!==null?(w.return=E,gt=w):AA(y)}}function AA(y){for(;gt!==null;){var c=gt;if(c.flags&8772){var d=c.alternate;try{if(c.flags&8772)switch(c.tag){case 0:case 11:case 15:xa||Co(5,c);break;case 1:var x=c.stateNode;if(c.flags&4&&!xa)if(d===null)x.componentDidMount();else{var E=c.elementType===c.type?d.memoizedProps:Mo(c.type,d.memoizedProps);x.componentDidUpdate(E,d.memoizedState,x.__reactInternalSnapshotBeforeUpdate)}var w=c.updateQueue;w!==null&&Kf(c,w,x);break;case 3:var I=c.updateQueue;if(I!==null){if(d=null,c.child!==null)switch(c.child.tag){case 5:d=X(c.child.stateNode);break;case 1:d=c.child.stateNode}Kf(c,I,d)}break;case 5:var V=c.stateNode;d===null&&c.flags&4&&De(V,c.type,c.memoizedProps,c);break;case 6:break;case 4:break;case 12:break;case 13:if(z&&c.memoizedState===null){var te=c.alternate;if(te!==null){var ye=te.memoizedState;if(ye!==null){var ke=ye.dehydrated;ke!==null&&ee(ke)}}}break;case 19:case 17:case 21:case 22:case 23:break;default:throw Error(s(163))}xa||c.flags&512&&Ac(c)}catch(qe){ts(c,c.return,qe)}}if(c===y){gt=null;break}if(d=c.sibling,d!==null){d.return=c.return,gt=d;break}gt=c.return}}function _A(y){for(;gt!==null;){var c=gt;if(c===y){gt=null;break}var d=c.sibling;if(d!==null){d.return=c.return,gt=d;break}gt=c.return}}function MA(y){for(;gt!==null;){var c=gt;try{switch(c.tag){case 0:case 11:case 15:var d=c.return;try{Co(4,c)}catch(te){ts(c,d,te)}break;case 1:var x=c.stateNode;if(typeof x.componentDidMount=="function"){var E=c.return;try{x.componentDidMount()}catch(te){ts(c,E,te)}}var w=c.return;try{Ac(c)}catch(te){ts(c,w,te)}break;case 5:var I=c.return;try{Ac(c)}catch(te){ts(c,I,te)}}}catch(te){ts(c,c.return,te)}if(c===y){gt=null;break}var V=c.sibling;if(V!==null){V.return=c.return,gt=V;break}gt=c.return}}var mp=0,_c=1,Mc=2,Sc=3,Ec=4;if(typeof Symbol=="function"&&Symbol.for){var hu=Symbol.for;mp=hu("selector.component"),_c=hu("selector.has_pseudo_class"),Mc=hu("selector.role"),Sc=hu("selector.test_id"),Ec=hu("selector.text")}function bc(y){var c=Ae(y);if(c!=null){if(typeof c.memoizedProps["data-testname"]!="string")throw Error(s(364));return c}if(y=Ze(y),y===null)throw Error(s(362));return y.stateNode.current}function gp(y,c){switch(c.$$typeof){case mp:if(y.type===c.value)return!0;break;case _c:e:{c=c.value,y=[y,0];for(var d=0;d<y.length;){var x=y[d++],E=y[d++],w=c[E];if(x.tag!==5||!O(x)){for(;w!=null&&gp(x,w);)E++,w=c[E];if(E===c.length){c=!0;break e}else for(x=x.child;x!==null;)y.push(x,E),x=x.sibling}}c=!1}return c;case Mc:if(y.tag===5&&F(y.stateNode,c.value))return!0;break;case Ec:if((y.tag===5||y.tag===6)&&(y=Dt(y),y!==null&&0<=y.indexOf(c.value)))return!0;break;case Sc:if(y.tag===5&&(y=y.memoizedProps["data-testname"],typeof y=="string"&&y.toLowerCase()===c.value.toLowerCase()))return!0;break;default:throw Error(s(365))}return!1}function vp(y){switch(y.$$typeof){case mp:return"<"+(C(y.value)||"Unknown")+">";case _c:return":has("+(vp(y)||"")+")";case Mc:return'[role="'+y.value+'"]';case Ec:return'"'+y.value+'"';case Sc:return'[data-testname="'+y.value+'"]';default:throw Error(s(365))}}function lv(y,c){var d=[];y=[y,0];for(var x=0;x<y.length;){var E=y[x++],w=y[x++],I=c[w];if(E.tag!==5||!O(E)){for(;I!=null&&gp(E,I);)w++,I=c[w];if(w===c.length)d.push(E);else for(E=E.child;E!==null;)y.push(E,w),E=E.sibling}}return d}function uv(y,c){if(!ze)throw Error(s(363));y=bc(y),y=lv(y,c),c=[],y=Array.from(y);for(var d=0;d<y.length;){var x=y[d++];if(x.tag===5)O(x)||c.push(x.stateNode);else for(x=x.child;x!==null;)y.push(x),x=x.sibling}return c}var SA=Math.ceil,cv=o.ReactCurrentDispatcher,Vh=o.ReactCurrentOwner,qn=o.ReactCurrentBatchConfig,Rt=0,Bt=null,en=null,hn=0,Ln=0,ti=It(0),Jn=0,Zn=null,Aa=0,ol=0,Wh=0,wc=null,ni=null,Fi=0,yp=1/0;function du(){yp=Qr()+500}var al=!1,jh=null,_a=null,Ro=!1,Po=null,Bo=0,fu=0,Tc=null,Xh=-1,Cc=0;function ri(){return Rt&6?Qr():Xh!==-1?Xh:Xh=Qr()}function sr(y){return y.mode&1?Rt&2&&hn!==0?hn&-hn:da.transition!==null?(Cc===0&&(y=wg,wg<<=1,!(wg&4194240)&&(wg=64),Cc=y),Cc):(y=fn,y!==0?y:Me()):1}function Wr(y,c,d){if(50<fu)throw fu=0,Tc=null,Error(s(185));var x=$i(y,c);return x===null?null:(sc(x,c,d),(!(Rt&2)||x!==Bt)&&(x===Bt&&(!(Rt&2)&&(ol|=c),Jn===4&&pu(x,hn)),gi(x,d),c===1&&Rt===0&&!(y.mode&1)&&(du(),Zs&&ha())),x)}function $i(y,c){y.lanes|=c;var d=y.alternate;for(d!==null&&(d.lanes|=c),d=y,y=y.return;y!==null;)y.childLanes|=c,d=y.alternate,d!==null&&(d.childLanes|=c),d=y,y=y.return;return d.tag===3?d.stateNode:null}function gi(y,c){var d=y.callbackNode;kP(y,c);var x=tu(y,y===Bt?hn:0);if(x===0)d!==null&&Rg(d),y.callbackNode=null,y.callbackPriority=0;else if(c=x&-x,y.callbackPriority!==c){if(d!=null&&Rg(d),c===1)y.tag===0?qS(ll.bind(null,y)):Bg(ll.bind(null,y)),Ve?Ge(function(){Rt===0&&ha()}):Cg(Ir,ha),d=null;else{switch(yn(x)){case 1:d=Ir;break;case 4:d=Ux;break;case 16:d=Ox;break;case 536870912:d=kx;break;default:d=Ox}d=CA(d,es.bind(null,y))}y.callbackPriority=c,y.callbackNode=d}}function es(y,c){if(Xh=-1,Cc=0,Rt&6)throw Error(s(327));var d=y.callbackNode;if(Pc()&&y.callbackNode!==d)return null;var x=tu(y,y===Bt?hn:0);if(x===0)return null;if(x&30||x&y.expiredLanes||c)c=Jh(y,x);else{c=x;var E=Rt;Rt|=2;var w=wA();(Bt!==y||hn!==c)&&(du(),ul(y,c));do try{YP();break}catch(V){mu(y,V)}while(1);jf(),cv.current=w,Rt=E,en!==null?c=0:(Bt=null,hn=0,c=Jn)}if(c!==0){if(c===2&&(E=Fx(y),E!==0&&(x=E,c=hv(y,E))),c===1)throw d=Zn,ul(y,0),pu(y,x),gi(y,Qr()),d;if(c===6)pu(y,x);else{if(E=y.current.alternate,!(x&30)&&!EA(E)&&(c=Jh(y,x),c===2&&(w=Fx(y),w!==0&&(x=w,c=hv(y,w))),c===1))throw d=Zn,ul(y,0),pu(y,x),gi(y,Qr()),d;switch(y.finishedWork=E,y.finishedLanes=x,c){case 0:case 1:throw Error(s(345));case 2:gu(y,ni);break;case 3:if(pu(y,x),(x&130023424)===x&&(c=Fi+500-Qr(),10<c)){if(tu(y,0)!==0)break;if(E=y.suspendedLanes,(E&x)!==x){ri(),y.pingedLanes|=y.suspendedLanes&E;break}y.timeoutHandle=xe(gu.bind(null,y,ni),c);break}gu(y,ni);break;case 4:if(pu(y,x),(x&4194240)===x)break;for(c=y.eventTimes,E=-1;0<x;){var I=31-Kr(x);w=1<<I,I=c[I],I>E&&(E=I),x&=~w}if(x=E,x=Qr()-x,x=(120>x?120:480>x?480:1080>x?1080:1920>x?1920:3e3>x?3e3:4320>x?4320:1960*SA(x/1960))-x,10<x){y.timeoutHandle=xe(gu.bind(null,y,ni),x);break}gu(y,ni);break;case 5:gu(y,ni);break;default:throw Error(s(329))}}}return gi(y,Qr()),y.callbackNode===d?es.bind(null,y):null}function hv(y,c){var d=wc;return y.current.memoizedState.isDehydrated&&(ul(y,c).flags|=256),y=Jh(y,c),y!==2&&(c=ni,ni=d,c!==null&&xp(c)),y}function xp(y){ni===null?ni=y:ni.push.apply(ni,y)}function EA(y){for(var c=y;;){if(c.flags&16384){var d=c.updateQueue;if(d!==null&&(d=d.stores,d!==null))for(var x=0;x<d.length;x++){var E=d[x],w=E.getSnapshot;E=E.value;try{if(!ca(w(),E))return!1}catch{return!1}}}if(d=c.child,c.subtreeFlags&16384&&d!==null)d.return=c,c=d;else{if(c===y)break;for(;c.sibling===null;){if(c.return===null||c.return===y)return!0;c=c.return}c.sibling.return=c.return,c=c.sibling}}return!0}function pu(y,c){for(c&=~Wh,c&=~ol,y.suspendedLanes|=c,y.pingedLanes&=~c,y=y.expirationTimes;0<c;){var d=31-Kr(c),x=1<<d;y[d]=-1,c&=~x}}function ll(y){if(Rt&6)throw Error(s(327));Pc();var c=tu(y,0);if(!(c&1))return gi(y,Qr()),null;var d=Jh(y,c);if(y.tag!==0&&d===2){var x=Fx(y);x!==0&&(c=x,d=hv(y,x))}if(d===1)throw d=Zn,ul(y,0),pu(y,c),gi(y,Qr()),d;if(d===6)throw Error(s(345));return y.finishedWork=y.current.alternate,y.finishedLanes=c,gu(y,ni),gi(y,Qr()),null}function bA(y){Po!==null&&Po.tag===0&&!(Rt&6)&&Pc();var c=Rt;Rt|=1;var d=qn.transition,x=fn;try{if(qn.transition=null,fn=1,y)return y()}finally{fn=x,qn.transition=d,Rt=c,!(Rt&6)&&ha()}}function dv(){Ln=ti.current,$e(ti)}function ul(y,c){y.finishedWork=null,y.finishedLanes=0;var d=y.timeoutHandle;if(d!==Qe&&(y.timeoutHandle=Qe,Be(d)),en!==null)for(d=en.return;d!==null;){var x=d;switch(qf(x),x.tag){case 1:x=x.type.childContextTypes,x!=null&&vn();break;case 3:lu(),$e(dn),$e($t),ep();break;case 5:Hg(x);break;case 4:lu();break;case 13:$e(jn);break;case 19:$e(jn);break;case 10:Fg(x.type._context);break;case 22:case 23:dv()}d=d.return}if(Bt=y,en=y=yu(y.current,null),hn=Ln=c,Jn=0,Zn=null,Wh=ol=Aa=0,ni=wc=null,pr!==null){for(c=0;c<pr.length;c++)if(d=pr[c],x=d.interleaved,x!==null){d.interleaved=null;var E=x.next,w=d.pending;if(w!==null){var I=w.next;w.next=E,x.next=I}d.pending=x}pr=null}return y}function mu(y,c){do{var d=en;try{if(jf(),Nh.current=op,mr){for(var x=Nn.memoizedState;x!==null;){var E=x.queue;E!==null&&(E.pending=null),x=x.next}mr=!1}if(mi=0,xn=un=Nn=null,uu=!1,rl=0,Vh.current=null,d===null||d.return===null){Jn=1,Zn=c,en=null;break}e:{var w=y,I=d.return,V=d,te=c;if(c=hn,V.flags|=32768,te!==null&&typeof te=="object"&&typeof te.then=="function"){var ye=te,ke=V,qe=ke.tag;if(!(ke.mode&1)&&(qe===0||qe===11||qe===15)){var rt=ke.alternate;rt?(ke.updateQueue=rt.updateQueue,ke.memoizedState=rt.memoizedState,ke.lanes=rt.lanes):(ke.updateQueue=null,ke.memoizedState=null)}var dt=aA(I);if(dt!==null){dt.flags&=-257,lA(dt,I,V,w,c),dt.mode&1&&oA(w,ye,c),c=dt,te=ye;var ct=c.updateQueue;if(ct===null){var _t=new Set;_t.add(te),c.updateQueue=_t}else ct.add(te);break e}else{if(!(c&1)){oA(w,ye,c),fv();break e}te=Error(s(426))}}else if(cn&&V.mode&1){var On=aA(I);if(On!==null){!(On.flags&65536)&&(On.flags|=256),lA(On,I,V,w,c),ou(te);break e}}w=te,Jn!==4&&(Jn=2),wc===null?wc=[w]:wc.push(w),te=rA(te,V),V=I;do{switch(V.tag){case 3:V.flags|=65536,c&=-c,V.lanes|=c;var Le=nE(V,te,c);Jf(V,Le);break e;case 1:w=te;var $=V.type,ne=V.stateNode;if(!(V.flags&128)&&(typeof $.getDerivedStateFromError=="function"||ne!==null&&typeof ne.componentDidCatch=="function"&&(_a===null||!_a.has(ne)))){V.flags|=65536,c&=-c,V.lanes|=c;var _e=sA(V,w,c);Jf(V,_e);break e}}V=V.return}while(V!==null)}TA(d)}catch(We){c=We,en===d&&d!==null&&(en=d=d.return);continue}break}while(1)}function wA(){var y=cv.current;return cv.current=op,y===null?op:y}function fv(){(Jn===0||Jn===3||Jn===2)&&(Jn=4),Bt===null||!(Aa&268435455)&&!(ol&268435455)||pu(Bt,hn)}function Jh(y,c){var d=Rt;Rt|=2;var x=wA();Bt===y&&hn===c||ul(y,c);do try{pv();break}catch(E){mu(y,E)}while(1);if(jf(),Rt=d,cv.current=x,en!==null)throw Error(s(261));return Bt=null,hn=0,Jn}function pv(){for(;en!==null;)sE(en)}function YP(){for(;en!==null&&!QS();)sE(en)}function sE(y){var c=lE(y.alternate,y,Ln);y.memoizedProps=y.pendingProps,c===null?TA(y):en=c,Vh.current=null}function TA(y){var c=y;do{var d=c.alternate;if(y=c.return,c.flags&32768){if(d=XP(d,c),d!==null){d.flags&=32767,en=d;return}if(y!==null)y.flags|=32768,y.subtreeFlags=0,y.deletions=null;else{Jn=6,en=null;return}}else if(d=Ii(d,c,Ln),d!==null){en=d;return}if(c=c.sibling,c!==null){en=c;return}en=c=y}while(c!==null);Jn===0&&(Jn=5)}function gu(y,c){var d=fn,x=qn.transition;try{qn.transition=null,fn=1,Rc(y,c,d)}finally{qn.transition=x,fn=d}return null}function Rc(y,c,d){do Pc();while(Po!==null);if(Rt&6)throw Error(s(327));var x=y.finishedWork,E=y.finishedLanes;if(x===null)return null;if(y.finishedWork=null,y.finishedLanes=0,x===y.current)throw Error(s(177));y.callbackNode=null,y.callbackPriority=0;var w=x.lanes|x.childLanes;if(Wf(y,w),y===Bt&&(en=Bt=null,hn=0),!(x.subtreeFlags&2064)&&!(x.flags&2064)||Ro||(Ro=!0,CA(Ox,function(){return Pc(),null})),w=(x.flags&15990)!==0,x.subtreeFlags&15990||w){w=qn.transition,qn.transition=null;var I=fn;fn=1;var V=Rt;Rt|=4,Vh.current=null,rE(y,x),av(y,x),k(y.containerInfo),y.current=x,JP(x),GP(),Rt=V,fn=I,qn.transition=w}else y.current=x;if(Ro&&(Ro=!1,Po=y,Bo=E),w=y.pendingLanes,w===0&&(_a=null),ua(x.stateNode),gi(y,Qr()),c!==null)for(d=y.onRecoverableError,x=0;x<c.length;x++)d(c[x]);if(al)throw al=!1,y=jh,jh=null,y;return Bo&1&&y.tag!==0&&Pc(),w=y.pendingLanes,w&1?y===Tc?fu++:(fu=0,Tc=y):fu=0,ha(),null}function Pc(){if(Po!==null){var y=yn(Bo),c=qn.transition,d=fn;try{if(qn.transition=null,fn=16>y?16:y,Po===null)var x=!1;else{if(y=Po,Po=null,Bo=0,Rt&6)throw Error(s(331));var E=Rt;for(Rt|=4,gt=y.current;gt!==null;){var w=gt,I=w.child;if(gt.flags&16){var V=w.deletions;if(V!==null){for(var te=0;te<V.length;te++){var ye=V[te];for(gt=ye;gt!==null;){var ke=gt;switch(ke.tag){case 0:case 11:case 15:xc(8,ke,w)}var qe=ke.child;if(qe!==null)qe.return=ke,gt=qe;else for(;gt!==null;){ke=gt;var rt=ke.sibling,dt=ke.return;if(gA(ke),ke===ye){gt=null;break}if(rt!==null){rt.return=dt,gt=rt;break}gt=dt}}}var ct=w.alternate;if(ct!==null){var _t=ct.child;if(_t!==null){ct.child=null;do{var On=_t.sibling;_t.sibling=null,_t=On}while(_t!==null)}}gt=w}}if(w.subtreeFlags&2064&&I!==null)I.return=w,gt=I;else e:for(;gt!==null;){if(w=gt,w.flags&2048)switch(w.tag){case 0:case 11:case 15:xc(9,w,w.return)}var Le=w.sibling;if(Le!==null){Le.return=w.return,gt=Le;break e}gt=w.return}}var $=y.current;for(gt=$;gt!==null;){I=gt;var ne=I.child;if(I.subtreeFlags&2064&&ne!==null)ne.return=I,gt=ne;else e:for(I=$;gt!==null;){if(V=gt,V.flags&2048)try{switch(V.tag){case 0:case 11:case 15:Co(9,V)}}catch(We){ts(V,V.return,We)}if(V===I){gt=null;break e}var _e=V.sibling;if(_e!==null){_e.return=V.return,gt=_e;break e}gt=V.return}}if(Rt=E,ha(),Ls&&typeof Ls.onPostCommitFiberRoot=="function")try{Ls.onPostCommitFiberRoot(Pg,y)}catch{}x=!0}return x}finally{fn=d,qn.transition=c}}return!1}function vu(y,c,d){c=rA(d,c),c=nE(y,c,1),Ci(y,c),c=ri(),y=$i(y,1),y!==null&&(sc(y,1,c),gi(y,c))}function ts(y,c,d){if(y.tag===3)vu(y,y,d);else for(;c!==null;){if(c.tag===3){vu(c,y,d);break}else if(c.tag===1){var x=c.stateNode;if(typeof c.type.getDerivedStateFromError=="function"||typeof x.componentDidCatch=="function"&&(_a===null||!_a.has(x))){y=rA(d,y),y=sA(c,y,1),Ci(c,y),y=ri(),c=$i(c,1),c!==null&&(sc(c,1,y),gi(c,y));break}}c=c.return}}function fs(y,c,d){var x=y.pingCache;x!==null&&x.delete(c),c=ri(),y.pingedLanes|=y.suspendedLanes&d,Bt===y&&(hn&d)===d&&(Jn===4||Jn===3&&(hn&130023424)===hn&&500>Qr()-Fi?ul(y,0):Wh|=d),gi(y,c)}function oE(y,c){c===0&&(y.mode&1?(c=ic,ic<<=1,!(ic&130023424)&&(ic=4194304)):c=1);var d=ri();y=$i(y,c),y!==null&&(sc(y,c,d),gi(y,d))}function aE(y){var c=y.memoizedState,d=0;c!==null&&(d=c.retryLane),oE(y,d)}function KP(y,c){var d=0;switch(y.tag){case 13:var x=y.stateNode,E=y.memoizedState;E!==null&&(d=E.retryLane);break;case 19:x=y.stateNode;break;default:throw Error(s(314))}x!==null&&x.delete(c),oE(y,d)}var lE;lE=function(y,c,d){if(y!==null)if(y.memoizedProps!==c.pendingProps||dn.current)Is=!0;else{if(!(y.lanes&d)&&!(c.flags&128))return Is=!1,sl(y,c,d);Is=!!(y.flags&131072)}else Is=!1,cn&&c.flags&1048576&&su(c,ac,c.index);switch(c.lanes=0,c.tag){case 2:var x=c.type;y!==null&&(y.alternate=null,c.alternate=null,c.flags|=2),y=c.pendingProps;var E=Lr(c,$t.current);ru(c,d),E=np(null,c,x,y,E,d);var w=rp();return c.flags|=1,typeof E=="object"&&E!==null&&typeof E.render=="function"&&E.$$typeof===void 0?(c.tag=1,c.memoizedState=null,c.updateQueue=null,Nt(x)?(w=!0,Bs(c)):w=!1,c.memoizedState=E.state!==null&&E.state!==void 0?E.state:null,fa(c),E.updater=Lh,c.stateNode=E,E._reactInternals=c,Og(c,x,y,d),c=Kg(null,c,x,!0,w,d)):(c.tag=0,cn&&w&&kg(c),Un(null,c,E,d),c=c.child),c;case 16:x=c.elementType;e:{switch(y!==null&&(y.alternate=null,c.alternate=null,c.flags|=2),y=c.pendingProps,E=x._init,x=E(x._payload),c.type=x,E=c.tag=RA(x),y=Mo(x,y),E){case 0:c=Jg(null,c,x,y,d);break e;case 1:c=Yg(null,c,x,y,d);break e;case 11:c=Di(null,c,x,y,d);break e;case 14:c=uA(null,c,x,Mo(x.type,y),d);break e}throw Error(s(306,x,""))}return c;case 0:return x=c.type,E=c.pendingProps,E=c.elementType===x?E:Mo(x,E),Jg(y,c,x,E,d);case 1:return x=c.type,E=c.pendingProps,E=c.elementType===x?E:Mo(x,E),Yg(y,c,x,E,d);case 3:e:{if(Qg(c),y===null)throw Error(s(387));x=c.pendingProps,w=c.memoizedState,E=w.element,Ng(y,c),Yf(c,x,null,d);var I=c.memoizedState;if(x=I.element,z&&w.isDehydrated)if(w={element:x,isDehydrated:!1,cache:I.cache,transitions:I.transitions},c.updateQueue.baseState=w,c.memoizedState=w,c.flags&256){E=Error(s(423)),c=fA(y,c,x,d,E);break e}else if(x!==E){E=Error(s(424)),c=fA(y,c,x,d,E);break e}else for(z&&(Wn=rc(c.stateNode.containerInfo),Ki=c,cn=!0,Qi=null,Dn=!1),d=cc(c,null,x,d),c.child=d;d;)d.flags=d.flags&-3|4096,d=d.sibling;else{if(ma(),x===E){c=ya(y,c,d);break e}Un(y,c,x,d)}c=c.child}return c;case 5:return hc(c),y===null&&Zf(c),x=c.type,E=c.pendingProps,w=y!==null?y.memoizedProps:null,I=E.children,le(x,E)?I=null:w!==null&&le(x,w)&&(c.flags|=32),dA(y,c),Un(y,c,I,d),c.child;case 6:return y===null&&Zf(c),null;case 13:return cp(y,c,d);case 4:return eo(c,c.stateNode.containerInfo),x=c.pendingProps,y===null?c.child=uc(c,null,x,d):Un(y,c,x,d),c.child;case 11:return x=c.type,E=c.pendingProps,E=c.elementType===x?E:Mo(x,E),Di(y,c,x,E,d);case 7:return Un(y,c,c.pendingProps,d),c.child;case 8:return Un(y,c,c.pendingProps.children,d),c.child;case 12:return Un(y,c,c.pendingProps.children,d),c.child;case 10:e:{if(x=c.type._context,E=c.pendingProps,w=c.memoizedProps,I=E.value,Dg(c,x,I),w!==null)if(ca(w.value,I)){if(w.children===E.children&&!dn.current){c=ya(y,c,d);break e}}else for(w=c.child,w!==null&&(w.return=c);w!==null;){var V=w.dependencies;if(V!==null){I=w.child;for(var te=V.firstContext;te!==null;){if(te.context===x){if(w.tag===1){te=pa(-1,d&-d),te.tag=2;var ye=w.updateQueue;if(ye!==null){ye=ye.shared;var ke=ye.pending;ke===null?te.next=te:(te.next=ke.next,ke.next=te),ye.pending=te}}w.lanes|=d,te=w.alternate,te!==null&&(te.lanes|=d),Xf(w.return,d,c),V.lanes|=d;break}te=te.next}}else if(w.tag===10)I=w.type===c.type?null:w.child;else if(w.tag===18){if(I=w.return,I===null)throw Error(s(341));I.lanes|=d,V=I.alternate,V!==null&&(V.lanes|=d),Xf(I,d,c),I=w.sibling}else I=w.child;if(I!==null)I.return=w;else for(I=w;I!==null;){if(I===c){I=null;break}if(w=I.sibling,w!==null){w.return=I.return,I=w;break}I=I.return}w=I}Un(y,c,E.children,d),c=c.child}return c;case 9:return E=c.type,x=c.pendingProps.children,ru(c,d),E=di(E),x=x(E),c.flags|=1,Un(y,c,x,d),c.child;case 14:return x=c.type,E=Mo(x,c.pendingProps),E=Mo(x.type,E),uA(y,c,x,E,d);case 15:return cA(y,c,c.type,c.pendingProps,d);case 17:return x=c.type,E=c.pendingProps,E=c.elementType===x?E:Mo(x,E),y!==null&&(y.alternate=null,c.alternate=null,c.flags|=2),c.tag=1,Nt(x)?(y=!0,Bs(c)):y=!1,ru(c,d),zx(c,x,E),Og(c,x,E,d),Kg(null,c,x,!0,y,d);case 19:return ev(y,c,d);case 22:return hA(y,c,d)}throw Error(s(156,c.tag))};function CA(y,c){return Cg(y,c)}function uE(y,c,d,x){this.tag=y,this.key=d,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=c,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=x,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function to(y,c,d,x){return new uE(y,c,d,x)}function ps(y){return y=y.prototype,!(!y||!y.isReactComponent)}function RA(y){if(typeof y=="function")return ps(y)?1:0;if(y!=null){if(y=y.$$typeof,y===v)return 11;if(y===g)return 14}return 2}function yu(y,c){var d=y.alternate;return d===null?(d=to(y.tag,c,y.key,y.mode),d.elementType=y.elementType,d.type=y.type,d.stateNode=y.stateNode,d.alternate=y,y.alternate=d):(d.pendingProps=c,d.type=y.type,d.flags=0,d.subtreeFlags=0,d.deletions=null),d.flags=y.flags&14680064,d.childLanes=y.childLanes,d.lanes=y.lanes,d.child=y.child,d.memoizedProps=y.memoizedProps,d.memoizedState=y.memoizedState,d.updateQueue=y.updateQueue,c=y.dependencies,d.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext},d.sibling=y.sibling,d.index=y.index,d.ref=y.ref,d}function Lo(y,c,d,x,E,w){var I=2;if(x=y,typeof y=="function")ps(y)&&(I=1);else if(typeof y=="string")I=5;else e:switch(y){case u:return Ma(d.children,E,w,c);case h:I=8,E|=8;break;case f:return y=to(12,d,c,E|2),y.elementType=f,y.lanes=w,y;case S:return y=to(13,d,c,E),y.elementType=S,y.lanes=w,y;case A:return y=to(19,d,c,E),y.elementType=A,y.lanes=w,y;case _:return Sa(d,E,w,c);default:if(typeof y=="object"&&y!==null)switch(y.$$typeof){case p:I=10;break e;case m:I=9;break e;case v:I=11;break e;case g:I=14;break e;case M:I=16,x=null;break e}throw Error(s(130,y==null?y:typeof y,""))}return c=to(I,d,c,E),c.elementType=y,c.type=x,c.lanes=w,c}function Ma(y,c,d,x){return y=to(7,y,x,c),y.lanes=d,y}function Sa(y,c,d,x){return y=to(22,y,x,c),y.elementType=_,y.lanes=d,y.stateNode={},y}function Yh(y,c,d){return y=to(6,y,null,c),y.lanes=d,y}function Ap(y,c,d){return c=to(4,y.children!==null?y.children:[],y.key,c),c.lanes=d,c.stateNode={containerInfo:y.containerInfo,pendingChildren:null,implementation:y.implementation},c}function PA(y,c,d,x,E){this.tag=c,this.containerInfo=y,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=Qe,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Vf(0),this.expirationTimes=Vf(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Vf(0),this.identifierPrefix=x,this.onRecoverableError=E,z&&(this.mutableSourceEagerHydrationData=null)}function cE(y,c,d,x,E,w,I,V,te){return y=new PA(y,c,d,V,te),c===1?(c=1,w===!0&&(c|=8)):c=0,w=to(3,null,null,c),y.current=w,w.stateNode=y,w.memoizedState={element:x,isDehydrated:d,cache:null,transitions:null},fa(w),y}function BA(y){if(!y)return Lt;y=y._reactInternals;e:{if(P(y)!==y||y.tag!==1)throw Error(s(170));var c=y;do{switch(c.tag){case 3:c=c.stateNode.context;break e;case 1:if(Nt(c.type)){c=c.stateNode.__reactInternalMemoizedMergedChildContext;break e}}c=c.return}while(c!==null);throw Error(s(171))}if(y.tag===1){var d=y.type;if(Nt(d))return Tn(y,d,c)}return c}function LA(y){var c=y._reactInternals;if(c===void 0)throw typeof y.render=="function"?Error(s(188)):(y=Object.keys(y).join(","),Error(s(268,y)));return y=U(c),y===null?null:y.stateNode}function IA(y,c){if(y=y.memoizedState,y!==null&&y.dehydrated!==null){var d=y.retryLane;y.retryLane=d!==0&&d<c?d:c}}function mv(y,c){IA(y,c),(y=y.alternate)&&IA(y,c)}function DA(y){return y=U(y),y===null?null:y.stateNode}function QP(){return null}return e.attemptContinuousHydration=function(y){if(y.tag===13){var c=ri();Wr(y,134217728,c),mv(y,134217728)}},e.attemptHydrationAtCurrentPriority=function(y){if(y.tag===13){var c=ri(),d=sr(y);Wr(y,d,c),mv(y,d)}},e.attemptSynchronousHydration=function(y){switch(y.tag){case 3:var c=y.stateNode;if(c.current.memoizedState.isDehydrated){var d=eu(c.pendingLanes);d!==0&&(Nx(c,d|1),gi(c,Qr()),!(Rt&6)&&(du(),ha()))}break;case 13:var x=ri();bA(function(){return Wr(y,1,x)}),mv(y,1)}},e.batchedUpdates=function(y,c){var d=Rt;Rt|=1;try{return y(c)}finally{Rt=d,Rt===0&&(du(),Zs&&ha())}},e.createComponentSelector=function(y){return{$$typeof:mp,value:y}},e.createContainer=function(y,c,d,x,E,w,I){return cE(y,c,!1,null,d,x,E,w,I)},e.createHasPseudoClassSelector=function(y){return{$$typeof:_c,value:y}},e.createHydrationContainer=function(y,c,d,x,E,w,I,V,te){return y=cE(d,x,!0,y,E,w,I,V,te),y.context=BA(null),d=y.current,x=ri(),E=sr(d),w=pa(x,E),w.callback=c??null,Ci(d,w),y.current.lanes=E,sc(y,E,x),gi(y,x),y},e.createPortal=function(y,c,d){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:x==null?null:""+x,children:y,containerInfo:c,implementation:d}},e.createRoleSelector=function(y){return{$$typeof:Mc,value:y}},e.createTestNameSelector=function(y){return{$$typeof:Sc,value:y}},e.createTextSelector=function(y){return{$$typeof:Ec,value:y}},e.deferredUpdates=function(y){var c=fn,d=qn.transition;try{return qn.transition=null,fn=16,y()}finally{fn=c,qn.transition=d}},e.discreteUpdates=function(y,c,d,x,E){var w=fn,I=qn.transition;try{return qn.transition=null,fn=1,y(c,d,x,E)}finally{fn=w,qn.transition=I,Rt===0&&du()}},e.findAllNodes=uv,e.findBoundingRects=function(y,c){if(!ze)throw Error(s(363));c=uv(y,c),y=[];for(var d=0;d<c.length;d++)y.push(St(c[d]));for(c=y.length-1;0<c;c--){d=y[c];for(var x=d.x,E=x+d.width,w=d.y,I=w+d.height,V=c-1;0<=V;V--)if(c!==V){var te=y[V],ye=te.x,ke=ye+te.width,qe=te.y,rt=qe+te.height;if(x>=ye&&w>=qe&&E<=ke&&I<=rt){y.splice(c,1);break}else if(x!==ye||d.width!==te.width||rt<w||qe>I){if(!(w!==qe||d.height!==te.height||ke<x||ye>E)){ye>x&&(te.width+=ye-x,te.x=x),ke<E&&(te.width=E-ye),y.splice(c,1);break}}else{qe>w&&(te.height+=qe-w,te.y=w),rt<I&&(te.height=I-qe),y.splice(c,1);break}}}return y},e.findHostInstance=LA,e.findHostInstanceWithNoPortals=function(y){return y=L(y),y=y!==null?W(y):null,y===null?null:y.stateNode},e.findHostInstanceWithWarning=function(y){return LA(y)},e.flushControlled=function(y){var c=Rt;Rt|=1;var d=qn.transition,x=fn;try{qn.transition=null,fn=1,y()}finally{fn=x,qn.transition=d,Rt=c,Rt===0&&(du(),ha())}},e.flushPassiveEffects=Pc,e.flushSync=bA,e.focusWithin=function(y,c){if(!ze)throw Error(s(363));for(y=bc(y),c=lv(y,c),c=Array.from(c),y=0;y<c.length;){var d=c[y++];if(!O(d)){if(d.tag===5&&ce(d.stateNode))return!0;for(d=d.child;d!==null;)c.push(d),d=d.sibling}}return!1},e.getCurrentUpdatePriority=function(){return fn},e.getFindAllNodesFailureDescription=function(y,c){if(!ze)throw Error(s(363));var d=0,x=[];y=[bc(y),0];for(var E=0;E<y.length;){var w=y[E++],I=y[E++],V=c[I];if((w.tag!==5||!O(w))&&(gp(w,V)&&(x.push(vp(V)),I++,I>d&&(d=I)),I<c.length))for(w=w.child;w!==null;)y.push(w,I),w=w.sibling}if(d<c.length){for(y=[];d<c.length;d++)y.push(vp(c[d]));return`findAllNodes was able to match part of the selector:
  `+(x.join(" > ")+`

No matching component was found for:
  `)+y.join(" > ")}return null},e.getPublicRootInstance=function(y){if(y=y.current,!y.child)return null;switch(y.child.tag){case 5:return X(y.child.stateNode);default:return y.child.stateNode}},e.injectIntoDevTools=function(y){if(y={bundleType:y.bundleType,version:y.version,rendererPackageName:y.rendererPackageName,rendererConfig:y.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:o.ReactCurrentDispatcher,findHostInstanceByFiber:DA,findFiberByHostInstance:y.findFiberByHostInstance||QP,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.0.0-fc46dba67-20220329"},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")y=!1;else{var c=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(c.isDisabled||!c.supportsFiber)y=!0;else{try{Pg=c.inject(y),Ls=c}catch{}y=!!c.checkDCE}}return y},e.isAlreadyRendering=function(){return!1},e.observeVisibleRects=function(y,c,d,x){if(!ze)throw Error(s(363));y=uv(y,c);var E=be(y,d,x).disconnect;return{disconnect:function(){E()}}},e.registerMutableSourceForHydration=function(y,c){var d=c._getVersion;d=d(c._source),y.mutableSourceEagerHydrationData==null?y.mutableSourceEagerHydrationData=[c,d]:y.mutableSourceEagerHydrationData.push(c,d)},e.runWithPriority=function(y,c){var d=fn;try{return fn=y,c()}finally{fn=d}},e.shouldError=function(){return null},e.shouldSuspend=function(){return!1},e.updateContainer=function(y,c,d,x){var E=c.current,w=ri(),I=sr(E);return d=BA(d),c.context===null?c.context=d:c.pendingContext=d,c=pa(w,I),c.payload={element:y},x=x===void 0?null:x,x!==null&&(c.callback=x),Ci(E,c),y=Wr(E,I,w),y!==null&&So(y,E,I),I},e};NK.exports=hme;var dme=NK.exports;const fme=SN(dme);var UK={exports:{}},OK={};/**
* @license React
* scheduler.production.min.js
*
* Copyright (c) Facebook, Inc. and its affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/(function(n){function e(D,k){var G=D.length;D.push(k);e:for(;0<G;){var K=G-1>>>1,H=D[K];if(0<i(H,k))D[K]=k,D[G]=H,G=K;else break e}}function t(D){return D.length===0?null:D[0]}function r(D){if(D.length===0)return null;var k=D[0],G=D.pop();if(G!==k){D[0]=G;e:for(var K=0,H=D.length,ue=H>>>1;K<ue;){var le=2*(K+1)-1,Ce=D[le],xe=le+1,Be=D[xe];if(0>i(Ce,G))xe<H&&0>i(Be,Ce)?(D[K]=Be,D[xe]=G,K=xe):(D[K]=Ce,D[le]=G,K=le);else if(xe<H&&0>i(Be,G))D[K]=Be,D[xe]=G,K=xe;else break e}}return k}function i(D,k){var G=D.sortIndex-k.sortIndex;return G!==0?G:D.id-k.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();n.unstable_now=function(){return o.now()-a}}var l=[],u=[],h=1,f=null,p=3,m=!1,v=!1,S=!1,A=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,M=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(D){for(var k=t(u);k!==null;){if(k.callback===null)r(u);else if(k.startTime<=D)r(u),k.sortIndex=k.expirationTime,e(l,k);else break;k=t(u)}}function b(D){if(S=!1,_(D),!v)if(t(l)!==null)v=!0,ae(T);else{var k=t(u);k!==null&&Z(b,k.startTime-D)}}function T(D,k){v=!1,S&&(S=!1,g(P),P=-1),m=!0;var G=p;try{for(_(k),f=t(l);f!==null&&(!(f.expirationTime>k)||D&&!U());){var K=f.callback;if(typeof K=="function"){f.callback=null,p=f.priorityLevel;var H=K(f.expirationTime<=k);k=n.unstable_now(),typeof H=="function"?f.callback=H:f===t(l)&&r(l),_(k)}else r(l);f=t(l)}if(f!==null)var ue=!0;else{var le=t(u);le!==null&&Z(b,le.startTime-k),ue=!1}return ue}finally{f=null,p=G,m=!1}}var C=!1,B=null,P=-1,R=5,L=-1;function U(){return!(n.unstable_now()-L<R)}function Q(){if(B!==null){var D=n.unstable_now();L=D;var k=!0;try{k=B(!0,D)}finally{k?W():(C=!1,B=null)}}else C=!1}var W;if(typeof M=="function")W=function(){M(Q)};else if(typeof MessageChannel<"u"){var Y=new MessageChannel,X=Y.port2;Y.port1.onmessage=Q,W=function(){X.postMessage(null)}}else W=function(){A(Q,0)};function ae(D){B=D,C||(C=!0,W())}function Z(D,k){P=A(function(){D(n.unstable_now())},k)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(D){D.callback=null},n.unstable_continueExecution=function(){v||m||(v=!0,ae(T))},n.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<D?Math.floor(1e3/D):5},n.unstable_getCurrentPriorityLevel=function(){return p},n.unstable_getFirstCallbackNode=function(){return t(l)},n.unstable_next=function(D){switch(p){case 1:case 2:case 3:var k=3;break;default:k=p}var G=p;p=k;try{return D()}finally{p=G}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(D,k){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var G=p;p=D;try{return k()}finally{p=G}},n.unstable_scheduleCallback=function(D,k,G){var K=n.unstable_now();switch(typeof G=="object"&&G!==null?(G=G.delay,G=typeof G=="number"&&0<G?K+G:K):G=K,D){case 1:var H=-1;break;case 2:H=250;break;case 5:H=1073741823;break;case 4:H=1e4;break;default:H=5e3}return H=G+H,D={id:h++,callback:k,priorityLevel:D,startTime:G,expirationTime:H,sortIndex:-1},G>K?(D.sortIndex=G,e(u,D),t(l)===null&&D===t(u)&&(S?(g(P),P=-1):S=!0,Z(b,G-K))):(D.sortIndex=H,e(l,D),v||m||(v=!0,ae(T))),D},n.unstable_shouldYield=U,n.unstable_wrapCallback=function(D){var k=p;return function(){var G=p;p=k;try{return D.apply(this,arguments)}finally{p=G}}}})(OK);UK.exports=OK;var CV=UK.exports;const pme=n=>typeof n=="object"&&typeof n.then=="function",xm=[];function kK(n,e,t=(r,i)=>r===i){if(n===e)return!0;if(!n||!e)return!1;const r=n.length;if(e.length!==r)return!1;for(let i=0;i<r;i++)if(!t(n[i],e[i]))return!1;return!0}function GK(n,e=null,t=!1,r={}){e===null&&(e=[n]);for(const s of xm)if(kK(e,s.keys,s.equal)){if(t)return;if(Object.prototype.hasOwnProperty.call(s,"error"))throw s.error;if(Object.prototype.hasOwnProperty.call(s,"response"))return r.lifespan&&r.lifespan>0&&(s.timeout&&clearTimeout(s.timeout),s.timeout=setTimeout(s.remove,r.lifespan)),s.response;if(!t)throw s.promise}const i={keys:e,equal:r.equal,remove:()=>{const s=xm.indexOf(i);s!==-1&&xm.splice(s,1)},promise:(pme(n)?n:n(...e)).then(s=>{i.response=s,r.lifespan&&r.lifespan>0&&(i.timeout=setTimeout(i.remove,r.lifespan))}).catch(s=>i.error=s)};if(xm.push(i),!t)throw i.promise}const mme=(n,e,t)=>GK(n,e,!1,t),gme=(n,e,t)=>void GK(n,e,!0,t),vme=n=>{if(n===void 0||n.length===0)xm.splice(0,xm.length);else{const e=xm.find(t=>kK(n,t.keys,t.equal));e&&e.remove()}},PO={},yme=n=>void Object.assign(PO,n);function xme(n,e){function t(u,{args:h=[],attach:f,...p},m){let v=`${u[0].toUpperCase()}${u.slice(1)}`,S;if(u==="primitive"){if(p.object===void 0)throw new Error("R3F: Primitives without 'object' are invalid!");const A=p.object;S=c0(A,{type:u,root:m,attach:f,primitive:!0})}else{const A=PO[v];if(!A)throw new Error(`R3F: ${v} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(!Array.isArray(h))throw new Error("R3F: The args prop must be an array!");S=c0(new A(...h),{type:u,root:m,attach:f,memoizedProps:{args:h}})}return S.__r3f.attach===void 0&&(S instanceof Kt?S.__r3f.attach="geometry":S instanceof ci&&(S.__r3f.attach="material")),v!=="inject"&&s2(S,p),S}function r(u,h){let f=!1;if(h){var p,m;(p=h.__r3f)!=null&&p.attach?i2(u,h,h.__r3f.attach):h.isObject3D&&u.isObject3D&&(u.add(h),f=!0),f||(m=u.__r3f)==null||m.objects.push(h),h.__r3f||c0(h,{}),h.__r3f.parent=u,JD(h),h0(h)}}function i(u,h,f){let p=!1;if(h){var m,v;if((m=h.__r3f)!=null&&m.attach)i2(u,h,h.__r3f.attach);else if(h.isObject3D&&u.isObject3D){h.parent=u,h.dispatchEvent({type:"added"});const S=u.children.filter(g=>g!==h),A=S.indexOf(f);u.children=[...S.slice(0,A),h,...S.slice(A)],p=!0}p||(v=u.__r3f)==null||v.objects.push(h),h.__r3f||c0(h,{}),h.__r3f.parent=u,JD(h),h0(h)}}function s(u,h,f=!1){u&&[...u].forEach(p=>o(h,p,f))}function o(u,h,f){if(h){var p,m,v;if(h.__r3f&&(h.__r3f.parent=null),(p=u.__r3f)!=null&&p.objects&&(u.__r3f.objects=u.__r3f.objects.filter(_=>_!==h)),(m=h.__r3f)!=null&&m.attach)IV(u,h,h.__r3f.attach);else if(h.isObject3D&&u.isObject3D){var S;u.remove(h),(S=h.__r3f)!=null&&S.root&&Tme(h.__r3f.root,h)}const g=(v=h.__r3f)==null?void 0:v.primitive,M=f===void 0?h.dispose!==null&&!g:f;if(!g){var A;s((A=h.__r3f)==null?void 0:A.objects,h,M),s(h.children,h,M)}delete h.__r3f,M&&h.dispose&&h.type!=="Scene"&&CV.unstable_scheduleCallback(CV.unstable_IdlePriority,()=>{try{h.dispose()}catch{}}),h0(u)}}function a(u,h,f,p){var m;const v=(m=u.__r3f)==null?void 0:m.parent;if(!v)return;const S=t(h,f,u.__r3f.root);if(u.children){for(const A of u.children)A.__r3f&&r(S,A);u.children=u.children.filter(A=>!A.__r3f)}u.__r3f.objects.forEach(A=>r(S,A)),u.__r3f.objects=[],u.__r3f.autoRemovedBeforeAppend||o(v,u),S.parent&&(S.__r3f.autoRemovedBeforeAppend=!0),r(v,S),S.raycast&&S.__r3f.eventCount&&S.__r3f.root.getState().internal.interaction.push(S),[p,p.alternate].forEach(A=>{A!==null&&(A.stateNode=S,A.ref&&(typeof A.ref=="function"?A.ref(S):A.ref.current=S))})}const l=()=>console.warn("Text is not allowed in the R3F tree! This could be stray whitespace or characters.");return{reconciler:fme({createInstance:t,removeChild:o,appendChild:r,appendInitialChild:r,insertBefore:i,supportsMutation:!0,isPrimaryRenderer:!1,supportsPersistence:!1,supportsHydration:!1,noTimeout:-1,appendChildToContainer:(u,h)=>{if(!h)return;const f=u.getState().scene;f.__r3f&&(f.__r3f.root=u,r(f,h))},removeChildFromContainer:(u,h)=>{h&&o(u.getState().scene,h)},insertInContainerBefore:(u,h,f)=>{if(!h||!f)return;const p=u.getState().scene;p.__r3f&&i(p,h,f)},getRootHostContext:()=>null,getChildHostContext:u=>u,finalizeInitialChildren(u){var h;return!!((h=u==null?void 0:u.__r3f)!=null?h:{}).handlers},prepareUpdate(u,h,f,p){if(u.__r3f.primitive&&p.object&&p.object!==u)return[!0];{const{args:m=[],children:v,...S}=p,{args:A=[],children:g,...M}=f;if(!Array.isArray(m))throw new Error("R3F: the args prop must be an array!");if(m.some((b,T)=>b!==A[T]))return[!0];const _=JK(u,S,M,!0);return _.changes.length?[!1,_]:null}},commitUpdate(u,[h,f],p,m,v,S){h?a(u,p,v,S):s2(u,f)},commitMount(u,h,f,p){var m;const v=(m=u.__r3f)!=null?m:{};u.raycast&&v.handlers&&v.eventCount&&u.__r3f.root.getState().internal.interaction.push(u)},getPublicInstance:u=>u,prepareForCommit:()=>null,preparePortalMount:u=>c0(u.getState().scene),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance(u){var h;const{attach:f,parent:p}=(h=u.__r3f)!=null?h:{};f&&p&&IV(p,u,f),u.isObject3D&&(u.visible=!1),h0(u)},unhideInstance(u,h){var f;const{attach:p,parent:m}=(f=u.__r3f)!=null?f:{};p&&m&&i2(m,u,p),(u.isObject3D&&h.visible==null||h.visible)&&(u.visible=!0),h0(u)},createTextInstance:l,hideTextInstance:l,unhideTextInstance:l,getCurrentEventPriority:()=>e?e():P0.DefaultEventPriority,beforeActiveInstanceBlur:()=>{},afterActiveInstanceBlur:()=>{},detachDeletedInstance:()=>{},now:typeof performance<"u"&&tr.fun(performance.now)?performance.now:tr.fun(Date.now)?Date.now:()=>0,scheduleTimeout:tr.fun(setTimeout)?setTimeout:void 0,cancelTimeout:tr.fun(clearTimeout)?clearTimeout:void 0}),applyProps:s2}}var RV,PV;const r2=n=>"colorSpace"in n||"outputColorSpace"in n,zK=()=>{var n;return(n=PO.ColorManagement)!=null?n:null},HK=n=>n&&n.isOrthographicCamera,Ame=n=>n&&n.hasOwnProperty("current"),lS=typeof window<"u"&&((RV=window.document)!=null&&RV.createElement||((PV=window.navigator)==null?void 0:PV.product)==="ReactNative")?pe.useLayoutEffect:pe.useEffect;function VK(n){const e=pe.useRef(n);return lS(()=>void(e.current=n),[n]),e}function _me({set:n}){return lS(()=>(n(new Promise(()=>null)),()=>n(!1)),[n]),null}class WK extends pe.Component{constructor(...e){super(...e),this.state={error:!1}}componentDidCatch(e){this.props.set(e)}render(){return this.state.error?null:this.props.children}}WK.getDerivedStateFromError=()=>({error:!0});const jK="__default",BV=new Map,Mme=n=>n&&!!n.memoized&&!!n.changes;function XK(n){var e;const t=typeof window<"u"?(e=window.devicePixelRatio)!=null?e:2:1;return Array.isArray(n)?Math.min(Math.max(n[0],t),n[1]):n}const $A=n=>{var e;return(e=n.__r3f)==null?void 0:e.root.getState()},tr={obj:n=>n===Object(n)&&!tr.arr(n)&&typeof n!="function",fun:n=>typeof n=="function",str:n=>typeof n=="string",num:n=>typeof n=="number",boo:n=>typeof n=="boolean",und:n=>n===void 0,arr:n=>Array.isArray(n),equ(n,e,{arrays:t="shallow",objects:r="reference",strict:i=!0}={}){if(typeof n!=typeof e||!!n!=!!e)return!1;if(tr.str(n)||tr.num(n))return n===e;const s=tr.obj(n);if(s&&r==="reference")return n===e;const o=tr.arr(n);if(o&&t==="reference")return n===e;if((o||s)&&n===e)return!0;let a;for(a in n)if(!(a in e))return!1;if(s&&t==="shallow"&&r==="shallow"){for(a in i?e:n)if(!tr.equ(n[a],e[a],{strict:i,objects:"reference"}))return!1}else for(a in i?e:n)if(n[a]!==e[a])return!1;if(tr.und(a)){if(o&&n.length===0&&e.length===0||s&&Object.keys(n).length===0&&Object.keys(e).length===0)return!0;if(n!==e)return!1}return!0}};function Sme(n){const e={nodes:{},materials:{}};return n&&n.traverse(t=>{t.name&&(e.nodes[t.name]=t),t.material&&!e.materials[t.material.name]&&(e.materials[t.material.name]=t.material)}),e}function Eme(n){n.dispose&&n.type!=="Scene"&&n.dispose();for(const e in n)e.dispose==null||e.dispose(),delete n[e]}function c0(n,e){const t=n;return(e!=null&&e.primitive||!t.__r3f)&&(t.__r3f={type:"",root:null,previousAttach:null,memoizedProps:{},eventCount:0,handlers:{},objects:[],parent:null,...e}),n}function XD(n,e){let t=n;if(e.includes("-")){const r=e.split("-"),i=r.pop();return t=r.reduce((s,o)=>s[o],n),{target:t,key:i}}else return{target:t,key:e}}const LV=/-\d+$/;function i2(n,e,t){if(tr.str(t)){if(LV.test(t)){const s=t.replace(LV,""),{target:o,key:a}=XD(n,s);Array.isArray(o[a])||(o[a]=[])}const{target:r,key:i}=XD(n,t);e.__r3f.previousAttach=r[i],r[i]=e}else e.__r3f.previousAttach=t(n,e)}function IV(n,e,t){var r,i;if(tr.str(t)){const{target:s,key:o}=XD(n,t),a=e.__r3f.previousAttach;a===void 0?delete s[o]:s[o]=a}else(r=e.__r3f)==null||r.previousAttach==null||r.previousAttach(n,e);(i=e.__r3f)==null||delete i.previousAttach}function JK(n,{children:e,key:t,ref:r,...i},{children:s,key:o,ref:a,...l}={},u=!1){var h;const f=(h=n==null?void 0:n.__r3f)!=null?h:{},p=Object.entries(i),m=[];if(u){const S=Object.keys(l);for(let A=0;A<S.length;A++)i.hasOwnProperty(S[A])||p.unshift([S[A],jK+"remove"])}p.forEach(([S,A])=>{var g;if((g=n.__r3f)!=null&&g.primitive&&S==="object"||tr.equ(A,l[S]))return;if(/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/.test(S))return m.push([S,A,!0,[]]);let M=[];S.includes("-")&&(M=S.split("-")),m.push([S,A,!1,M]);for(const _ in i){const b=i[_];_.startsWith(`${S}-`)&&m.push([_,b,!1,_.split("-")])}});const v={...i};return f.memoizedProps&&f.memoizedProps.args&&(v.args=f.memoizedProps.args),f.memoizedProps&&f.memoizedProps.attach&&(v.attach=f.memoizedProps.attach),{memoized:v,changes:m}}function s2(n,e){var t,r,i;const s=(t=n.__r3f)!=null?t:{},o=s.root,a=(r=o==null||o.getState==null?void 0:o.getState())!=null?r:{},{memoized:l,changes:u}=Mme(e)?e:JK(n,e),h=s.eventCount;n.__r3f&&(n.__r3f.memoizedProps=l);for(let f=0;f<u.length;f++){let[p,m,v,S]=u[f];if(r2(n)){const M="srgb",_="srgb-linear";p==="encoding"?(p="colorSpace",m=m===3001?M:_):p==="outputEncoding"&&(p="outputColorSpace",m=m===3001?M:_)}let A=n,g=A[p];if(S.length&&(g=S.reduce((M,_)=>M[_],n),!(g&&g.set))){const[M,..._]=S.reverse();A=_.reverse().reduce((b,T)=>b[T],n),p=M}if(m===jK+"remove")if(A.constructor){let M=BV.get(A.constructor);M||(M=new A.constructor,BV.set(A.constructor,M)),m=M[p]}else m=0;if(v)m?s.handlers[p]=m:delete s.handlers[p],s.eventCount=Object.keys(s.handlers).length;else if(g&&g.set&&(g.copy||g instanceof Nm)){if(Array.isArray(m))g.fromArray?g.fromArray(m):g.set(...m);else if(g.copy&&m&&m.constructor&&g.constructor===m.constructor)g.copy(m);else if(m!==void 0){const M=g instanceof xt;!M&&g.setScalar?g.setScalar(m):g instanceof Nm&&m instanceof Nm?g.mask=m.mask:g.set(m),!zK()&&!a.linear&&M&&g.convertSRGBToLinear()}}else if(A[p]=m,A[p]instanceof dr&&A[p].format===ao&&A[p].type===Nu){const M=A[p];r2(M)&&r2(a.gl)?M.colorSpace=a.gl.outputColorSpace:M.encoding=a.gl.outputEncoding}h0(n)}if(s.parent&&a.internal&&n.raycast&&h!==s.eventCount){const f=a.internal.interaction.indexOf(n);f>-1&&a.internal.interaction.splice(f,1),s.eventCount&&a.internal.interaction.push(n)}return!(u.length===1&&u[0][0]==="onUpdate")&&u.length&&(i=n.__r3f)!=null&&i.parent&&JD(n),n}function h0(n){var e,t;const r=(e=n.__r3f)==null||(t=e.root)==null||t.getState==null?void 0:t.getState();r&&r.internal.frames===0&&r.invalidate()}function JD(n){n.onUpdate==null||n.onUpdate(n)}function bme(n,e){n.manual||(HK(n)?(n.left=e.width/-2,n.right=e.width/2,n.top=e.height/2,n.bottom=e.height/-2):n.aspect=e.width/e.height,n.updateProjectionMatrix(),n.updateMatrixWorld())}function mb(n){return(n.eventObject||n.object).uuid+"/"+n.index+n.instanceId}function wme(){var n;const e=typeof self<"u"&&self||typeof window<"u"&&window;if(!e)return P0.DefaultEventPriority;switch((n=e.event)==null?void 0:n.type){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return P0.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return P0.ContinuousEventPriority;default:return P0.DefaultEventPriority}}function YK(n,e,t,r){const i=t.get(e);i&&(t.delete(e),t.size===0&&(n.delete(r),i.target.releasePointerCapture(r)))}function Tme(n,e){const{internal:t}=n.getState();t.interaction=t.interaction.filter(r=>r!==e),t.initialHits=t.initialHits.filter(r=>r!==e),t.hovered.forEach((r,i)=>{(r.eventObject===e||r.object===e)&&t.hovered.delete(i)}),t.capturedMap.forEach((r,i)=>{YK(t.capturedMap,e,r,i)})}function Cme(n){function e(l){const{internal:u}=n.getState(),h=l.offsetX-u.initialClick[0],f=l.offsetY-u.initialClick[1];return Math.round(Math.sqrt(h*h+f*f))}function t(l){return l.filter(u=>["Move","Over","Enter","Out","Leave"].some(h=>{var f;return(f=u.__r3f)==null?void 0:f.handlers["onPointer"+h]}))}function r(l,u){const h=n.getState(),f=new Set,p=[],m=u?u(h.internal.interaction):h.internal.interaction;for(let g=0;g<m.length;g++){const M=$A(m[g]);M&&(M.raycaster.camera=void 0)}h.previousRoot||h.events.compute==null||h.events.compute(l,h);function v(g){const M=$A(g);if(!M||!M.events.enabled||M.raycaster.camera===null)return[];if(M.raycaster.camera===void 0){var _;M.events.compute==null||M.events.compute(l,M,(_=M.previousRoot)==null?void 0:_.getState()),M.raycaster.camera===void 0&&(M.raycaster.camera=null)}return M.raycaster.camera?M.raycaster.intersectObject(g,!0):[]}let S=m.flatMap(v).sort((g,M)=>{const _=$A(g.object),b=$A(M.object);return!_||!b?g.distance-M.distance:b.events.priority-_.events.priority||g.distance-M.distance}).filter(g=>{const M=mb(g);return f.has(M)?!1:(f.add(M),!0)});h.events.filter&&(S=h.events.filter(S,h));for(const g of S){let M=g.object;for(;M;){var A;(A=M.__r3f)!=null&&A.eventCount&&p.push({...g,eventObject:M}),M=M.parent}}if("pointerId"in l&&h.internal.capturedMap.has(l.pointerId))for(let g of h.internal.capturedMap.get(l.pointerId).values())f.has(mb(g.intersection))||p.push(g.intersection);return p}function i(l,u,h,f){const p=n.getState();if(l.length){const m={stopped:!1};for(const v of l){const S=$A(v.object)||p,{raycaster:A,pointer:g,camera:M,internal:_}=S,b=new se(g.x,g.y,0).unproject(M),T=L=>{var U,Q;return(U=(Q=_.capturedMap.get(L))==null?void 0:Q.has(v.eventObject))!=null?U:!1},C=L=>{const U={intersection:v,target:u.target};_.capturedMap.has(L)?_.capturedMap.get(L).set(v.eventObject,U):_.capturedMap.set(L,new Map([[v.eventObject,U]])),u.target.setPointerCapture(L)},B=L=>{const U=_.capturedMap.get(L);U&&YK(_.capturedMap,v.eventObject,U,L)};let P={};for(let L in u){let U=u[L];typeof U!="function"&&(P[L]=U)}let R={...v,...P,pointer:g,intersections:l,stopped:m.stopped,delta:h,unprojectedPoint:b,ray:A.ray,camera:M,stopPropagation(){const L="pointerId"in u&&_.capturedMap.get(u.pointerId);if((!L||L.has(v.eventObject))&&(R.stopped=m.stopped=!0,_.hovered.size&&Array.from(_.hovered.values()).find(U=>U.eventObject===v.eventObject))){const U=l.slice(0,l.indexOf(v));s([...U,v])}},target:{hasPointerCapture:T,setPointerCapture:C,releasePointerCapture:B},currentTarget:{hasPointerCapture:T,setPointerCapture:C,releasePointerCapture:B},nativeEvent:u};if(f(R),m.stopped===!0)break}}return l}function s(l){const{internal:u}=n.getState();for(const h of u.hovered.values())if(!l.length||!l.find(f=>f.object===h.object&&f.index===h.index&&f.instanceId===h.instanceId)){const f=h.eventObject.__r3f,p=f==null?void 0:f.handlers;if(u.hovered.delete(mb(h)),f!=null&&f.eventCount){const m={...h,intersections:l};p.onPointerOut==null||p.onPointerOut(m),p.onPointerLeave==null||p.onPointerLeave(m)}}}function o(l,u){for(let h=0;h<u.length;h++){const f=u[h].__r3f;f==null||f.handlers.onPointerMissed==null||f.handlers.onPointerMissed(l)}}function a(l){switch(l){case"onPointerLeave":case"onPointerCancel":return()=>s([]);case"onLostPointerCapture":return u=>{const{internal:h}=n.getState();"pointerId"in u&&h.capturedMap.has(u.pointerId)&&requestAnimationFrame(()=>{h.capturedMap.has(u.pointerId)&&(h.capturedMap.delete(u.pointerId),s([]))})}}return function(u){const{onPointerMissed:h,internal:f}=n.getState();f.lastEvent.current=u;const p=l==="onPointerMove",m=l==="onClick"||l==="onContextMenu"||l==="onDoubleClick",v=r(u,p?t:void 0),S=m?e(u):0;l==="onPointerDown"&&(f.initialClick=[u.offsetX,u.offsetY],f.initialHits=v.map(g=>g.eventObject)),m&&!v.length&&S<=2&&(o(u,f.interaction),h&&h(u)),p&&s(v);function A(g){const M=g.eventObject,_=M.__r3f,b=_==null?void 0:_.handlers;if(_!=null&&_.eventCount)if(p){if(b.onPointerOver||b.onPointerEnter||b.onPointerOut||b.onPointerLeave){const T=mb(g),C=f.hovered.get(T);C?C.stopped&&g.stopPropagation():(f.hovered.set(T,g),b.onPointerOver==null||b.onPointerOver(g),b.onPointerEnter==null||b.onPointerEnter(g))}b.onPointerMove==null||b.onPointerMove(g)}else{const T=b[l];T?(!m||f.initialHits.includes(M))&&(o(u,f.interaction.filter(C=>!f.initialHits.includes(C))),T(g)):m&&f.initialHits.includes(M)&&o(u,f.interaction.filter(C=>!f.initialHits.includes(C)))}}i(v,u,S,A)}}return{handlePointer:a}}const KK=n=>!!(n!=null&&n.render),QK=pe.createContext(null),Rme=(n,e)=>{const t=FK((a,l)=>{const u=new se,h=new se,f=new se;function p(A=l().camera,g=h,M=l().size){const{width:_,height:b,top:T,left:C}=M,B=_/b;g instanceof se?f.copy(g):f.set(...g);const P=A.getWorldPosition(u).distanceTo(f);if(HK(A))return{width:_/A.zoom,height:b/A.zoom,top:T,left:C,factor:1,distance:P,aspect:B};{const R=A.fov*Math.PI/180,L=2*Math.tan(R/2)*P,U=L*(_/b);return{width:U,height:L,top:T,left:C,factor:_/U,distance:P,aspect:B}}}let m;const v=A=>a(g=>({performance:{...g.performance,current:A}})),S=new Ye;return{set:a,get:l,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},xr:null,scene:null,invalidate:(A=1)=>n(l(),A),advance:(A,g)=>e(A,g,l()),legacy:!1,linear:!1,flat:!1,controls:null,clock:new wO,pointer:S,mouse:S,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const A=l();m&&clearTimeout(m),A.performance.current!==A.performance.min&&v(A.performance.min),m=setTimeout(()=>v(l().performance.max),A.performance.debounce)}},size:{width:0,height:0,top:0,left:0,updateStyle:!1},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:p},setEvents:A=>a(g=>({...g,events:{...g.events,...A}})),setSize:(A,g,M,_,b)=>{const T=l().camera,C={width:A,height:g,top:_||0,left:b||0,updateStyle:M};a(B=>({size:C,viewport:{...B.viewport,...p(T,h,C)}}))},setDpr:A=>a(g=>{const M=XK(A);return{viewport:{...g.viewport,dpr:M,initialDpr:g.viewport.initialDpr||M}}}),setFrameloop:(A="always")=>{const g=l().clock;g.stop(),g.elapsedTime=0,A!=="never"&&(g.start(),g.elapsedTime=0),a(()=>({frameloop:A}))},previousRoot:void 0,internal:{active:!1,priority:0,frames:0,lastEvent:pe.createRef(),interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,subscribe:(A,g,M)=>{const _=l().internal;return _.priority=_.priority+(g>0?1:0),_.subscribers.push({ref:A,priority:g,store:M}),_.subscribers=_.subscribers.sort((b,T)=>b.priority-T.priority),()=>{const b=l().internal;b!=null&&b.subscribers&&(b.priority=b.priority-(g>0?1:0),b.subscribers=b.subscribers.filter(T=>T.ref!==A))}}}}}),r=t.getState();let i=r.size,s=r.viewport.dpr,o=r.camera;return t.subscribe(()=>{const{camera:a,size:l,viewport:u,gl:h,set:f}=t.getState();if(l!==i||u.dpr!==s){var p;i=l,s=u.dpr,bme(a,l),h.setPixelRatio(u.dpr);const m=(p=l.updateStyle)!=null?p:typeof HTMLCanvasElement<"u"&&h.domElement instanceof HTMLCanvasElement;h.setSize(l.width,l.height,m)}a!==o&&(o=a,f(m=>({viewport:{...m.viewport,...m.viewport.getCurrentViewport(a)}})))}),t.subscribe(a=>n(a)),t};let gb,Pme=new Set,Bme=new Set,Lme=new Set;function o2(n,e){if(n.size)for(const{callback:t}of n.values())t(e)}function e1(n,e){switch(n){case"before":return o2(Pme,e);case"after":return o2(Bme,e);case"tail":return o2(Lme,e)}}let a2,l2;function u2(n,e,t){let r=e.clock.getDelta();for(e.frameloop==="never"&&typeof n=="number"&&(r=n-e.clock.elapsedTime,e.clock.oldTime=e.clock.elapsedTime,e.clock.elapsedTime=n),a2=e.internal.subscribers,gb=0;gb<a2.length;gb++)l2=a2[gb],l2.ref.current(l2.store.getState(),r,t);return!e.internal.priority&&e.gl.render&&e.gl.render(e.scene,e.camera),e.internal.frames=Math.max(0,e.internal.frames-1),e.frameloop==="always"?1:e.internal.frames}function Ime(n){let e=!1,t,r,i;function s(l){r=requestAnimationFrame(s),e=!0,t=0,e1("before",l);for(const h of n.values()){var u;i=h.store.getState(),i.internal.active&&(i.frameloop==="always"||i.internal.frames>0)&&!((u=i.gl.xr)!=null&&u.isPresenting)&&(t+=u2(l,i))}if(e1("after",l),t===0)return e1("tail",l),e=!1,cancelAnimationFrame(r)}function o(l,u=1){var h;if(!l)return n.forEach(f=>o(f.store.getState()),u);(h=l.gl.xr)!=null&&h.isPresenting||!l.internal.active||l.frameloop==="never"||(l.internal.frames=Math.min(60,l.internal.frames+u),e||(e=!0,requestAnimationFrame(s)))}function a(l,u=!0,h,f){if(u&&e1("before",l),h)u2(l,h,f);else for(const p of n.values())u2(l,p.store.getState());u&&e1("after",l)}return{loop:s,invalidate:o,advance:a}}function qK(){const n=pe.useContext(QK);if(!n)throw new Error("R3F: Hooks can only be used within the Canvas component!");return n}function Oo(n=t=>t,e){return qK()(n,e)}function Ax(n,e=0){const t=qK(),r=t.getState().internal.subscribe,i=VK(n);return lS(()=>r(i,e,t),[e,r,t]),null}function ZK(n,e){return function(t,...r){const i=new t;return n&&n(i),Promise.all(r.map(s=>new Promise((o,a)=>i.load(s,l=>{l.scene&&Object.assign(l,Sme(l.scene)),o(l)},e,l=>a(new Error(`Could not load ${s}: ${l.message})`))))))}}function Pf(n,e,t,r){const i=Array.isArray(e)?e:[e],s=mme(ZK(t,r),[n,...i],{equal:tr.equ});return Array.isArray(e)?s:s[0]}Pf.preload=function(n,e,t){const r=Array.isArray(e)?e:[e];return gme(ZK(t),[n,...r])};Pf.clear=function(n,e){const t=Array.isArray(e)?e:[e];return vme([n,...t])};const Hy=new Map,{invalidate:DV,advance:FV}=Ime(Hy),{reconciler:nC,applyProps:wu}=xme(Hy,wme),kv={objects:"shallow",strict:!1},Dme=(n,e)=>{const t=typeof n=="function"?n(e):n;return KK(t)?t:new WU({powerPreference:"high-performance",canvas:e,antialias:!0,alpha:!0,...n})};function Fme(n,e){if(e)return e;if(typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement&&n.parentElement){const{width:t,height:r,top:i,left:s}=n.parentElement.getBoundingClientRect();return{width:t,height:r,top:i,left:s}}else if(typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas)return{width:n.width,height:n.height,top:0,left:0};return{width:0,height:0,top:0,left:0}}function Nme(n){const e=Hy.get(n),t=e==null?void 0:e.fiber,r=e==null?void 0:e.store;e&&console.warn("R3F.createRoot should only be called once!");const i=typeof reportError=="function"?reportError:console.error,s=r||Rme(DV,FV),o=t||nC.createContainer(s,P0.ConcurrentRoot,null,!1,null,"",i,null);e||Hy.set(n,{fiber:o,store:s});let a,l=!1,u;return{configure(h={}){let{gl:f,size:p,scene:m,events:v,onCreated:S,shadows:A=!1,linear:g=!1,flat:M=!1,legacy:_=!1,orthographic:b=!1,frameloop:T="always",dpr:C=[1,2],performance:B,raycaster:P,camera:R,onPointerMissed:L}=h,U=s.getState(),Q=U.gl;U.gl||U.set({gl:Q=Dme(f,n)});let W=U.raycaster;W||U.set({raycaster:W=new LK});const{params:Y,...X}=P||{};if(tr.equ(X,W,kv)||wu(W,{...X}),tr.equ(Y,W.params,kv)||wu(W,{params:{...W.params,...Y}}),!U.camera||U.camera===u&&!tr.equ(u,R,kv)){u=R;const k=R instanceof tS,G=k?R:b?new Ll(0,0,0,0,.1,1e3):new ur(75,0,.1,1e3);k||(G.position.z=5,R&&wu(G,R),!U.camera&&!(R!=null&&R.rotation)&&G.lookAt(0,0,0)),U.set({camera:G})}if(!U.scene){let k;m instanceof tC?k=m:(k=new tC,m&&wu(k,m)),U.set({scene:c0(k)})}if(!U.xr){const k=(H,ue)=>{const le=s.getState();le.frameloop!=="never"&&FV(H,!0,le,ue)},G=()=>{const H=s.getState();H.gl.xr.enabled=H.gl.xr.isPresenting,H.gl.xr.setAnimationLoop(H.gl.xr.isPresenting?k:null),H.gl.xr.isPresenting||DV(H)},K={connect(){const H=s.getState().gl;H.xr.addEventListener("sessionstart",G),H.xr.addEventListener("sessionend",G)},disconnect(){const H=s.getState().gl;H.xr.removeEventListener("sessionstart",G),H.xr.removeEventListener("sessionend",G)}};Q.xr&&K.connect(),U.set({xr:K})}if(Q.shadowMap){const k=Q.shadowMap.enabled,G=Q.shadowMap.type;if(Q.shadowMap.enabled=!!A,tr.boo(A))Q.shadowMap.type=i_;else if(tr.str(A)){var ae;const K={basic:gJ,percentage:vR,soft:i_,variance:xl};Q.shadowMap.type=(ae=K[A])!=null?ae:i_}else tr.obj(A)&&Object.assign(Q.shadowMap,A);(k!==Q.shadowMap.enabled||G!==Q.shadowMap.type)&&(Q.shadowMap.needsUpdate=!0)}const Z=zK();Z&&("enabled"in Z?Z.enabled=!_:"legacyMode"in Z&&(Z.legacyMode=_)),wu(Q,{outputEncoding:g?3e3:3001,toneMapping:M?Bl:MU}),U.legacy!==_&&U.set(()=>({legacy:_})),U.linear!==g&&U.set(()=>({linear:g})),U.flat!==M&&U.set(()=>({flat:M})),f&&!tr.fun(f)&&!KK(f)&&!tr.equ(f,Q,kv)&&wu(Q,f),v&&!U.events.handlers&&U.set({events:v(s)});const D=Fme(n,p);return tr.equ(D,U.size,kv)||U.setSize(D.width,D.height,D.updateStyle,D.top,D.left),C&&U.viewport.dpr!==XK(C)&&U.setDpr(C),U.frameloop!==T&&U.setFrameloop(T),U.onPointerMissed||U.set({onPointerMissed:L}),B&&!tr.equ(B,U.performance,kv)&&U.set(k=>({performance:{...k.performance,...B}})),a=S,l=!0,this},render(h){return l||this.configure(),nC.updateContainer(pe.createElement(Ume,{store:s,children:h,onCreated:a,rootElement:n}),o,null,()=>{}),s},unmount(){$K(n)}}}function Ume({store:n,children:e,onCreated:t,rootElement:r}){return lS(()=>{const i=n.getState();i.set(s=>({internal:{...s.internal,active:!0}})),t&&t(i),n.getState().events.connected||i.events.connect==null||i.events.connect(r)},[]),pe.createElement(QK.Provider,{value:n},e)}function $K(n,e){const t=Hy.get(n),r=t==null?void 0:t.fiber;if(r){const i=t==null?void 0:t.store.getState();i&&(i.internal.active=!1),nC.updateContainer(null,r,null,()=>{i&&setTimeout(()=>{try{var s,o,a,l;i.events.disconnect==null||i.events.disconnect(),(s=i.gl)==null||(o=s.renderLists)==null||o.dispose==null||o.dispose(),(a=i.gl)==null||a.forceContextLoss==null||a.forceContextLoss(),(l=i.gl)!=null&&l.xr&&i.xr.disconnect(),Eme(i),Hy.delete(n),e&&e(n)}catch{}},500)})}}nC.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:pe.version});function Ya(){return Ya=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Ya.apply(this,arguments)}function YD(n,e,t){var r,i,s,o,a;e==null&&(e=100);function l(){var h=Date.now()-o;h<e&&h>=0?r=setTimeout(l,e-h):(r=null,t||(a=n.apply(s,i),s=i=null))}var u=function(){s=this,i=arguments,o=Date.now();var h=t&&!r;return r||(r=setTimeout(l,e)),h&&(a=n.apply(s,i),s=i=null),a};return u.clear=function(){r&&(clearTimeout(r),r=null)},u.flush=function(){r&&(a=n.apply(s,i),s=i=null,clearTimeout(r),r=null)},u}YD.debounce=YD;var Ome=YD;const NV=SN(Ome);function kme(n){let{debounce:e,scroll:t,polyfill:r,offsetSize:i}=n===void 0?{debounce:0,scroll:!1,offsetSize:!1}:n;const s=r||(typeof window>"u"?class{}:window.ResizeObserver);if(!s)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[o,a]=pe.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),l=pe.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:o}),u=e?typeof e=="number"?e:e.scroll:null,h=e?typeof e=="number"?e:e.resize:null,f=pe.useRef(!1);pe.useEffect(()=>(f.current=!0,()=>void(f.current=!1)));const[p,m,v]=pe.useMemo(()=>{const M=()=>{if(!l.current.element)return;const{left:_,top:b,width:T,height:C,bottom:B,right:P,x:R,y:L}=l.current.element.getBoundingClientRect(),U={left:_,top:b,width:T,height:C,bottom:B,right:P,x:R,y:L};l.current.element instanceof HTMLElement&&i&&(U.height=l.current.element.offsetHeight,U.width=l.current.element.offsetWidth),Object.freeze(U),f.current&&!Vme(l.current.lastBounds,U)&&a(l.current.lastBounds=U)};return[M,h?NV(M,h):M,u?NV(M,u):M]},[a,i,u,h]);function S(){l.current.scrollContainers&&(l.current.scrollContainers.forEach(M=>M.removeEventListener("scroll",v,!0)),l.current.scrollContainers=null),l.current.resizeObserver&&(l.current.resizeObserver.disconnect(),l.current.resizeObserver=null)}function A(){l.current.element&&(l.current.resizeObserver=new s(v),l.current.resizeObserver.observe(l.current.element),t&&l.current.scrollContainers&&l.current.scrollContainers.forEach(M=>M.addEventListener("scroll",v,{capture:!0,passive:!0})))}const g=M=>{!M||M===l.current.element||(S(),l.current.element=M,l.current.scrollContainers=eQ(M),A())};return zme(v,!!t),Gme(m),pe.useEffect(()=>{S(),A()},[t,v,m]),pe.useEffect(()=>S,[]),[g,o,p]}function Gme(n){pe.useEffect(()=>{const e=n;return window.addEventListener("resize",e),()=>void window.removeEventListener("resize",e)},[n])}function zme(n,e){pe.useEffect(()=>{if(e){const t=n;return window.addEventListener("scroll",t,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",t,!0)}},[n,e])}function eQ(n){const e=[];if(!n||n===document.body)return e;const{overflow:t,overflowX:r,overflowY:i}=window.getComputedStyle(n);return[t,r,i].some(s=>s==="auto"||s==="scroll")&&e.push(n),[...e,...eQ(n.parentElement)]}const Hme=["x","y","top","bottom","left","right","width","height"],Vme=(n,e)=>Hme.every(t=>n[t]===e[t]);var Wme=Object.defineProperty,jme=Object.defineProperties,Xme=Object.getOwnPropertyDescriptors,UV=Object.getOwnPropertySymbols,Jme=Object.prototype.hasOwnProperty,Yme=Object.prototype.propertyIsEnumerable,OV=(n,e,t)=>e in n?Wme(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,kV=(n,e)=>{for(var t in e||(e={}))Jme.call(e,t)&&OV(n,t,e[t]);if(UV)for(var t of UV(e))Yme.call(e,t)&&OV(n,t,e[t]);return n},Kme=(n,e)=>jme(n,Xme(e));function tQ(n,e,t){if(!n)return;if(t(n)===!0)return n;let r=e?n.return:n.child;for(;r;){const i=tQ(r,e,t);if(i)return i;r=e?null:r.sibling}}function nQ(n){try{return Object.defineProperties(n,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return n}}const BO=nQ(pe.createContext(null));class rQ extends pe.Component{render(){return pe.createElement(BO.Provider,{value:this._reactInternals},this.props.children)}}const{ReactCurrentOwner:GV,ReactCurrentDispatcher:zV}=pe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function Qme(){const n=pe.useContext(BO);if(n===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const e=pe.useId();return pe.useMemo(()=>{for(const t of[GV==null?void 0:GV.current,n,n==null?void 0:n.alternate]){if(!t)continue;const r=tQ(t,!1,i=>{let s=i.memoizedState;for(;s;){if(s.memoizedState===e)return!0;s=s.next}});if(r)return r}},[n,e])}function qme(){var n,e;const t=Qme(),[r]=pe.useState(()=>new Map);r.clear();let i=t;for(;i;){const s=(n=i.type)==null?void 0:n._context;s&&s!==BO&&!r.has(s)&&r.set(s,(e=zV==null?void 0:zV.current)==null?void 0:e.readContext(nQ(s))),i=i.return}return r}function Zme(){const n=qme();return pe.useMemo(()=>Array.from(n.keys()).reduce((e,t)=>r=>pe.createElement(e,null,pe.createElement(t.Provider,Kme(kV({},r),{value:n.get(t)}))),e=>pe.createElement(rQ,kV({},e))),[n])}const c2={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function $me(n){const{handlePointer:e}=Cme(n);return{priority:1,enabled:!0,compute(t,r,i){r.pointer.set(t.offsetX/r.size.width*2-1,-(t.offsetY/r.size.height)*2+1),r.raycaster.setFromCamera(r.pointer,r.camera)},connected:void 0,handlers:Object.keys(c2).reduce((t,r)=>({...t,[r]:e(r)}),{}),update:()=>{var t;const{events:r,internal:i}=n.getState();(t=i.lastEvent)!=null&&t.current&&r.handlers&&r.handlers.onPointerMove(i.lastEvent.current)},connect:t=>{var r;const{set:i,events:s}=n.getState();s.disconnect==null||s.disconnect(),i(o=>({events:{...o.events,connected:t}})),Object.entries((r=s.handlers)!=null?r:[]).forEach(([o,a])=>{const[l,u]=c2[o];t.addEventListener(l,a,{passive:u})})},disconnect:()=>{const{set:t,events:r}=n.getState();if(r.connected){var i;Object.entries((i=r.handlers)!=null?i:[]).forEach(([s,o])=>{if(r&&r.connected instanceof HTMLElement){const[a]=c2[s];r.connected.removeEventListener(a,o)}}),t(s=>({events:{...s.events,connected:void 0}}))}}}}const ege=pe.forwardRef(function({children:n,fallback:e,resize:t,style:r,gl:i,events:s=$me,eventSource:o,eventPrefix:a,shadows:l,linear:u,flat:h,legacy:f,orthographic:p,frameloop:m,dpr:v,performance:S,raycaster:A,camera:g,onPointerMissed:M,onCreated:_,...b},T){pe.useMemo(()=>yme(ome),[]);const C=Zme(),[B,P]=kme({scroll:!0,debounce:{scroll:50,resize:0},...t}),R=pe.useRef(null),L=pe.useRef(null);pe.useImperativeHandle(T,()=>R.current);const U=VK(M),[Q,W]=pe.useState(!1),[Y,X]=pe.useState(!1);if(Q)throw Q;if(Y)throw Y;const ae=pe.useRef(null);lS(()=>{const D=R.current;P.width>0&&P.height>0&&D&&(ae.current||(ae.current=Nme(D)),ae.current.configure({gl:i,events:s,shadows:l,linear:u,flat:h,legacy:f,orthographic:p,frameloop:m,dpr:v,performance:S,raycaster:A,camera:g,size:P,onPointerMissed:(...k)=>U.current==null?void 0:U.current(...k),onCreated:k=>{k.events.connect==null||k.events.connect(o?Ame(o)?o.current:o:L.current),a&&k.setEvents({compute:(G,K)=>{const H=G[a+"X"],ue=G[a+"Y"];K.pointer.set(H/K.size.width*2-1,-(ue/K.size.height)*2+1),K.raycaster.setFromCamera(K.pointer,K.camera)}}),_==null||_(k)}}),ae.current.render(pe.createElement(C,null,pe.createElement(WK,{set:X},pe.createElement(pe.Suspense,{fallback:pe.createElement(_me,{set:W})},n)))))}),pe.useEffect(()=>{const D=R.current;if(D)return()=>$K(D)},[]);const Z=o?"none":"auto";return pe.createElement("div",Ya({ref:L,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:Z,...r}},b),pe.createElement("div",{ref:B,style:{width:"100%",height:"100%"}},pe.createElement("canvas",{ref:R,style:{display:"block"}},e)))}),PR=pe.forwardRef(function(n,e){return pe.createElement(rQ,null,pe.createElement(ege,Ya({},n,{ref:e})))}),uS=new se,LO=new se,tge=new se;function nge(n,e,t){const r=uS.setFromMatrixPosition(n.matrixWorld);r.project(e);const i=t.width/2,s=t.height/2;return[r.x*i+i,-(r.y*s)+s]}function rge(n,e){const t=uS.setFromMatrixPosition(n.matrixWorld),r=LO.setFromMatrixPosition(e.matrixWorld),i=t.sub(r),s=e.getWorldDirection(tge);return i.angleTo(s)>Math.PI/2}function ige(n,e,t,r){const i=uS.setFromMatrixPosition(n.matrixWorld),s=i.clone();s.project(e),t.setFromCamera(s,e);const o=t.intersectObjects(r,!0);if(o.length){const a=o[0].distance;return i.distanceTo(t.ray.origin)<a}return!0}function sge(n,e){if(e instanceof Ll)return e.zoom;if(e instanceof ur){const t=uS.setFromMatrixPosition(n.matrixWorld),r=LO.setFromMatrixPosition(e.matrixWorld),i=e.fov*Math.PI/180,s=t.distanceTo(r);return 1/(2*Math.tan(i/2)*s)}else return 1}function oge(n,e,t){if(e instanceof ur||e instanceof Ll){const r=uS.setFromMatrixPosition(n.matrixWorld),i=LO.setFromMatrixPosition(e.matrixWorld),s=r.distanceTo(i),o=(t[1]-t[0])/(e.far-e.near),a=t[1]-o*e.far;return Math.round(o*s+a)}}const KD=n=>Math.abs(n)<1e-10?0:n;function iQ(n,e,t=""){let r="matrix3d(";for(let i=0;i!==16;i++)r+=KD(e[i]*n.elements[i])+(i!==15?",":")");return t+r}const age=(n=>e=>iQ(e,n))([1,-1,1,1,1,-1,1,1,1,-1,1,1,1,-1,1,1]),lge=(n=>(e,t)=>iQ(e,n(t),"translate(-50%,-50%)"))(n=>[1/n,1/n,1/n,1,-1/n,-1/n,-1/n,-1,1/n,1/n,1/n,1,1,1,1,1]);function uge(n){return n&&typeof n=="object"&&"current"in n}const cge=pe.forwardRef(({children:n,eps:e=.001,style:t,className:r,prepend:i,center:s,fullscreen:o,portal:a,distanceFactor:l,sprite:u=!1,transform:h=!1,occlude:f,onOcclude:p,castShadow:m,receiveShadow:v,material:S,geometry:A,zIndexRange:g=[16777271,0],calculatePosition:M=nge,as:_="div",wrapperClass:b,pointerEvents:T="auto",...C},B)=>{const{gl:P,camera:R,scene:L,size:U,raycaster:Q,events:W,viewport:Y}=Oo(),[X]=pe.useState(()=>document.createElement(_)),ae=pe.useRef(),Z=pe.useRef(null),D=pe.useRef(0),k=pe.useRef([0,0]),G=pe.useRef(null),K=pe.useRef(null),H=(a==null?void 0:a.current)||W.connected||P.domElement.parentNode,ue=pe.useRef(null),le=pe.useRef(!1),Ce=pe.useMemo(()=>f&&f!=="blending"||Array.isArray(f)&&f.length&&uge(f[0]),[f]);pe.useLayoutEffect(()=>{const Ke=P.domElement;f&&f==="blending"?(Ke.style.zIndex=`${Math.floor(g[0]/2)}`,Ke.style.position="absolute",Ke.style.pointerEvents="none"):(Ke.style.zIndex=null,Ke.style.position=null,Ke.style.pointerEvents=null)},[f]),pe.useLayoutEffect(()=>{if(Z.current){const Ke=ae.current=sJ(X);if(L.updateMatrixWorld(),h)X.style.cssText="position:absolute;top:0;left:0;pointer-events:none;overflow:hidden;";else{const fe=M(Z.current,R,U);X.style.cssText=`position:absolute;top:0;left:0;transform:translate3d(${fe[0]}px,${fe[1]}px,0);transform-origin:0 0;`}return H&&(i?H.prepend(X):H.appendChild(X)),()=>{H&&H.removeChild(X),Ke.unmount()}}},[H,h]),pe.useLayoutEffect(()=>{b&&(X.className=b)},[b]);const xe=pe.useMemo(()=>h?{position:"absolute",top:0,left:0,width:U.width,height:U.height,transformStyle:"preserve-3d",pointerEvents:"none"}:{position:"absolute",transform:s?"translate3d(-50%,-50%,0)":"none",...o&&{top:-U.height/2,left:-U.width/2,width:U.width,height:U.height},...t},[t,s,o,U,h]),Be=pe.useMemo(()=>({position:"absolute",pointerEvents:T}),[T]);pe.useLayoutEffect(()=>{if(le.current=!1,h){var Ke;(Ke=ae.current)==null||Ke.render(pe.createElement("div",{ref:G,style:xe},pe.createElement("div",{ref:K,style:Be},pe.createElement("div",{ref:B,className:r,style:t,children:n}))))}else{var fe;(fe=ae.current)==null||fe.render(pe.createElement("div",{ref:B,style:xe,className:r,children:n}))}});const Qe=pe.useRef(!0);Ax(Ke=>{if(Z.current){R.updateMatrixWorld(),Z.current.updateWorldMatrix(!0,!1);const fe=h?k.current:M(Z.current,R,U);if(h||Math.abs(D.current-R.zoom)>e||Math.abs(k.current[0]-fe[0])>e||Math.abs(k.current[1]-fe[1])>e){const z=rge(Z.current,R);let Ae=!1;Ce&&(f!=="blending"?Ae=[L]:Array.isArray(f)&&(Ae=f.map(Ve=>Ve.current)));const ge=Qe.current;if(Ae){const Ve=ige(Z.current,R,Q,Ae);Qe.current=Ve&&!z}else Qe.current=!z;ge!==Qe.current&&(p?p(!Qe.current):X.style.display=Qe.current?"block":"none");const Me=Math.floor(g[0]/2),Ee=f?Ce?[g[0],Me]:[Me-1,0]:g;if(X.style.zIndex=`${oge(Z.current,R,Ee)}`,h){const[Ve,Ge]=[U.width/2,U.height/2],ze=R.projectionMatrix.elements[5]*Ge,{isOrthographicCamera:Ze,top:St,left:Dt,bottom:O,right:F}=R,ce=age(R.matrixWorldInverse),be=Ze?`scale(${ze})translate(${KD(-(F+Dt)/2)}px,${KD((St+O)/2)}px)`:`translateZ(${ze}px)`;let Se=Z.current.matrixWorld;u&&(Se=R.matrixWorldInverse.clone().transpose().copyPosition(Se).scale(Z.current.scale),Se.elements[3]=Se.elements[7]=Se.elements[11]=0,Se.elements[15]=1),X.style.width=U.width+"px",X.style.height=U.height+"px",X.style.perspective=Ze?"":`${ze}px`,G.current&&K.current&&(G.current.style.transform=`${be}${ce}translate(${Ve}px,${Ge}px)`,K.current.style.transform=lge(Se,1/((l||10)/400)))}else{const Ve=l===void 0?1:sge(Z.current,R)*l;X.style.transform=`translate3d(${fe[0]}px,${fe[1]}px,0) scale(${Ve})`}k.current=fe,D.current=R.zoom}}if(!Ce&&ue.current&&!le.current)if(h){if(G.current){const fe=G.current.children[0];if(fe!=null&&fe.clientWidth&&fe!=null&&fe.clientHeight){const{isOrthographicCamera:z}=R;if(z||A)C.scale&&(Array.isArray(C.scale)?C.scale instanceof se?ue.current.scale.copy(C.scale.clone().divideScalar(1)):ue.current.scale.set(1/C.scale[0],1/C.scale[1],1/C.scale[2]):ue.current.scale.setScalar(1/C.scale));else{const Ae=(l||10)/400,ge=fe.clientWidth*Ae,Me=fe.clientHeight*Ae;ue.current.scale.set(ge,Me,1)}le.current=!0}}}else{const fe=X.children[0];if(fe!=null&&fe.clientWidth&&fe!=null&&fe.clientHeight){const z=1/Y.factor,Ae=fe.clientWidth*z,ge=fe.clientHeight*z;ue.current.scale.set(Ae,ge,1),le.current=!0}ue.current.lookAt(Ke.camera.position)}});const je=pe.useMemo(()=>({vertexShader:h?void 0:`
          /*
            This shader is from the THREE's SpriteMaterial.
            We need to turn the backing plane into a Sprite
            (make it always face the camera) if "transfrom" 
            is false. 
          */
          #include <common>

          void main() {
            vec2 center = vec2(0., 1.);
            float rotation = 0.0;
            
            // This is somewhat arbitrary, but it seems to work well
            // Need to figure out how to derive this dynamically if it even matters
            float size = 0.03;

            vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
            vec2 scale;
            scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
            scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );

            bool isPerspective = isPerspectiveMatrix( projectionMatrix );
            if ( isPerspective ) scale *= - mvPosition.z;

            vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale * size;
            vec2 rotatedPosition;
            rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
            rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
            mvPosition.xy += rotatedPosition;

            gl_Position = projectionMatrix * mvPosition;
          }
      `,fragmentShader:`
        void main() {
          gl_FragColor = vec4(0.0, 0.0, 0.0, 0.0);
        }
      `}),[h]);return pe.createElement("group",Ya({},C,{ref:Z}),f&&!Ce&&pe.createElement("mesh",{castShadow:m,receiveShadow:v,ref:ue},A||pe.createElement("planeGeometry",null),S||pe.createElement("shaderMaterial",{side:Ga,vertexShader:je.vertexShader,fragmentShader:je.fragmentShader})))});let t1=0;const hge=FK(n=>(R0.onStart=(e,t,r)=>{n({active:!0,item:e,loaded:t,total:r,progress:(t-t1)/(r-t1)*100})},R0.onLoad=()=>{n({active:!1})},R0.onError=e=>n(t=>({errors:[...t.errors,e]})),R0.onProgress=(e,t,r)=>{t===r&&(t1=r),n({active:!0,item:e,loaded:t,total:r,progress:(t-t1)/(r-t1)*100||100})},{errors:[],active:!1,progress:0,item:"",loaded:0,total:0}));function IO(n){return function(e){n.forEach(function(t){typeof t=="function"?t(e):t!=null&&(t.current=e)})}}function hy(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function HV(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function VV(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?HV(Object(t),!0).forEach(function(r){hy(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):HV(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}new Ye;new Ye;function sQ(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}var ba=function n(e,t,r){var i=this;sQ(this,n),hy(this,"dot2",function(s,o){return i.x*s+i.y*o}),hy(this,"dot3",function(s,o,a){return i.x*s+i.y*o+i.z*a}),this.x=e,this.y=t,this.z=r},dge=[new ba(1,1,0),new ba(-1,1,0),new ba(1,-1,0),new ba(-1,-1,0),new ba(1,0,1),new ba(-1,0,1),new ba(1,0,-1),new ba(-1,0,-1),new ba(0,1,1),new ba(0,-1,1),new ba(0,1,-1),new ba(0,-1,-1)],WV=[151,160,137,91,90,15,131,13,201,95,96,53,194,233,7,225,140,36,103,30,69,142,8,99,37,240,21,10,23,190,6,148,247,120,234,75,0,26,197,62,94,252,219,203,117,35,11,32,57,177,33,88,237,149,56,87,174,20,125,136,171,168,68,175,74,165,71,134,139,48,27,166,77,146,158,231,83,111,229,122,60,211,133,230,220,105,92,41,55,46,245,40,244,102,143,54,65,25,63,161,1,216,80,73,209,76,132,187,208,89,18,169,200,196,135,130,116,188,159,86,164,100,109,198,173,186,3,64,52,217,226,250,124,123,5,202,38,147,118,126,255,82,85,212,207,206,59,227,47,16,58,17,182,189,28,42,223,183,170,213,119,248,152,2,44,154,163,70,221,153,101,155,167,43,172,9,129,22,39,253,19,98,108,110,79,113,224,232,178,185,112,104,218,246,97,228,251,34,242,193,238,210,144,12,191,179,162,241,81,51,145,235,249,14,239,107,49,192,214,31,181,199,106,157,184,84,204,176,115,121,50,45,127,4,150,254,138,236,205,93,222,114,67,29,24,72,243,141,128,195,78,66,215,61,156,180],jV=new Array(512),XV=new Array(512),fge=function(n){n>0&&n<1&&(n*=65536),n=Math.floor(n),n<256&&(n|=n<<8);for(var e=0;e<256;e++){var t;e&1?t=WV[e]^n&255:t=WV[e]^n>>8&255,jV[e]=jV[e+256]=t,XV[e]=XV[e+256]=dge[t%12]}};fge(0);function pge(n){if(typeof n=="number")n=Math.abs(n);else if(typeof n=="string"){var e=n;n=0;for(var t=0;t<e.length;t++)n=(n+(t+1)*(e.charCodeAt(t)%96))%2147483647}return n===0&&(n=311),n}function JV(n){var e=pge(n);return function(){var t=e*48271%2147483647;return e=t,t/2147483647}}var mge=function n(e){var t=this;sQ(this,n),hy(this,"seed",0),hy(this,"init",function(r){t.seed=r,t.value=JV(r)}),hy(this,"value",JV(this.seed)),this.init(e)},gge=new mge(Math.random()),vge={radius:1,center:[0,0,0]};function yge(n,e){for(var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:gge,r=VV(VV({},vge),e),i=r.radius,s=r.center,o=0;o<n.length;o+=3){var a=Math.pow(t.value(),.3333333333333333),l=t.value()*2-1,u=t.value()*2-1,h=t.value()*2-1,f=Math.sqrt(l*l+u*u+h*h);l=a*l/f,u=a*u/f,h=a*h/f,n[o]=l*i+s[0],n[o+1]=u*i+s[1],n[o+2]=h*i+s[2]}return n}function YV(n,e){if(e===eY)return console.warn("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Geometry already defined as triangles."),n;if(e===ZT||e===PU){let t=n.getIndex();if(t===null){const o=[],a=n.getAttribute("position");if(a!==void 0){for(let l=0;l<a.count;l++)o.push(l);n.setIndex(o),t=n.getIndex()}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),n}const r=t.count-2,i=[];if(t)if(e===ZT)for(let o=1;o<=r;o++)i.push(t.getX(0)),i.push(t.getX(o)),i.push(t.getX(o+1));else for(let o=0;o<r;o++)o%2===0?(i.push(t.getX(o)),i.push(t.getX(o+1)),i.push(t.getX(o+2))):(i.push(t.getX(o+2)),i.push(t.getX(o+1)),i.push(t.getX(o)));i.length/3!==r&&console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");const s=n.clone();return s.setIndex(i),s.clearGroups(),s}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unknown draw mode:",e),n}var xge=Object.defineProperty,Age=(n,e,t)=>e in n?xge(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,Jt=(n,e,t)=>(Age(n,typeof e!="symbol"?e+"":e,t),t);const KV=(n,e)=>(n%e+e)%e;let _ge=class extends Zu{constructor(n,e){super(),Jt(this,"object"),Jt(this,"domElement"),Jt(this,"enabled",!0),Jt(this,"target",new se),Jt(this,"minDistance",0),Jt(this,"maxDistance",1/0),Jt(this,"minZoom",0),Jt(this,"maxZoom",1/0),Jt(this,"minPolarAngle",0),Jt(this,"maxPolarAngle",Math.PI),Jt(this,"minAzimuthAngle",-1/0),Jt(this,"maxAzimuthAngle",1/0),Jt(this,"enableDamping",!1),Jt(this,"dampingFactor",.05),Jt(this,"enableZoom",!0),Jt(this,"zoomSpeed",1),Jt(this,"enableRotate",!0),Jt(this,"rotateSpeed",1),Jt(this,"enablePan",!0),Jt(this,"panSpeed",1),Jt(this,"screenSpacePanning",!0),Jt(this,"keyPanSpeed",7),Jt(this,"autoRotate",!1),Jt(this,"autoRotateSpeed",2),Jt(this,"reverseOrbit",!1),Jt(this,"keys",{LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"}),Jt(this,"mouseButtons",{LEFT:Jp.ROTATE,MIDDLE:Jp.DOLLY,RIGHT:Jp.PAN}),Jt(this,"touches",{ONE:Yp.ROTATE,TWO:Yp.DOLLY_PAN}),Jt(this,"target0"),Jt(this,"position0"),Jt(this,"zoom0"),Jt(this,"_domElementKeyEvents",null),Jt(this,"getPolarAngle"),Jt(this,"getAzimuthalAngle"),Jt(this,"setPolarAngle"),Jt(this,"setAzimuthalAngle"),Jt(this,"getDistance"),Jt(this,"listenToKeyEvents"),Jt(this,"saveState"),Jt(this,"reset"),Jt(this,"update"),Jt(this,"connect"),Jt(this,"dispose"),this.object=n,this.domElement=e,this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this.getPolarAngle=()=>u.phi,this.getAzimuthalAngle=()=>u.theta,this.setPolarAngle=j=>{let q=KV(j,2*Math.PI),ve=u.phi;ve<0&&(ve+=2*Math.PI),q<0&&(q+=2*Math.PI);let Re=Math.abs(q-ve);2*Math.PI-Re<Re&&(q<ve?q+=2*Math.PI:ve+=2*Math.PI),h.phi=q-ve,t.update()},this.setAzimuthalAngle=j=>{let q=KV(j,2*Math.PI),ve=u.theta;ve<0&&(ve+=2*Math.PI),q<0&&(q+=2*Math.PI);let Re=Math.abs(q-ve);2*Math.PI-Re<Re&&(q<ve?q+=2*Math.PI:ve+=2*Math.PI),h.theta=q-ve,t.update()},this.getDistance=()=>t.object.position.distanceTo(t.target),this.listenToKeyEvents=j=>{j.addEventListener("keydown",O),this._domElementKeyEvents=j},this.saveState=()=>{t.target0.copy(t.target),t.position0.copy(t.object.position),t.zoom0=t.object.zoom},this.reset=()=>{t.target.copy(t.target0),t.object.position.copy(t.position0),t.object.zoom=t.zoom0,t.object.updateProjectionMatrix(),t.dispatchEvent(r),t.update(),a=o.NONE},this.update=(()=>{const j=new se,q=new Hi().setFromUnitVectors(n.up,new se(0,1,0)),ve=q.clone().invert(),Re=new se,Pe=new Hi,Ue=2*Math.PI;return function(){const it=t.object.position;j.copy(it).sub(t.target),j.applyQuaternion(q),u.setFromVector3(j),t.autoRotate&&a===o.NONE&&U(R()),t.enableDamping?(u.theta+=h.theta*t.dampingFactor,u.phi+=h.phi*t.dampingFactor):(u.theta+=h.theta,u.phi+=h.phi);let Mt=t.minAzimuthAngle,J=t.maxAzimuthAngle;return isFinite(Mt)&&isFinite(J)&&(Mt<-Math.PI?Mt+=Ue:Mt>Math.PI&&(Mt-=Ue),J<-Math.PI?J+=Ue:J>Math.PI&&(J-=Ue),Mt<=J?u.theta=Math.max(Mt,Math.min(J,u.theta)):u.theta=u.theta>(Mt+J)/2?Math.max(Mt,u.theta):Math.min(J,u.theta)),u.phi=Math.max(t.minPolarAngle,Math.min(t.maxPolarAngle,u.phi)),u.makeSafe(),u.radius*=f,u.radius=Math.max(t.minDistance,Math.min(t.maxDistance,u.radius)),t.enableDamping===!0?t.target.addScaledVector(p,t.dampingFactor):t.target.add(p),j.setFromSpherical(u),j.applyQuaternion(ve),it.copy(t.target).add(j),t.object.lookAt(t.target),t.enableDamping===!0?(h.theta*=1-t.dampingFactor,h.phi*=1-t.dampingFactor,p.multiplyScalar(1-t.dampingFactor)):(h.set(0,0,0),p.set(0,0,0)),f=1,m||Re.distanceToSquared(t.object.position)>l||8*(1-Pe.dot(t.object.quaternion))>l?(t.dispatchEvent(r),Re.copy(t.object.position),Pe.copy(t.object.quaternion),m=!1,!0):!1}})(),this.connect=j=>{j===document&&console.error('THREE.OrbitControls: "document" should not be used as the target "domElement". Please use "renderer.domElement" instead.'),t.domElement=j,t.domElement.style.touchAction="none",t.domElement.addEventListener("contextmenu",be),t.domElement.addEventListener("pointerdown",Ee),t.domElement.addEventListener("pointercancel",ze),t.domElement.addEventListener("wheel",Dt)},this.dispose=()=>{var j,q,ve,Re,Pe,Ue;(j=t.domElement)==null||j.removeEventListener("contextmenu",be),(q=t.domElement)==null||q.removeEventListener("pointerdown",Ee),(ve=t.domElement)==null||ve.removeEventListener("pointercancel",ze),(Re=t.domElement)==null||Re.removeEventListener("wheel",Dt),(Pe=t.domElement)==null||Pe.ownerDocument.removeEventListener("pointermove",Ve),(Ue=t.domElement)==null||Ue.ownerDocument.removeEventListener("pointerup",Ge),t._domElementKeyEvents!==null&&t._domElementKeyEvents.removeEventListener("keydown",O)};const t=this,r={type:"change"},i={type:"start"},s={type:"end"},o={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let a=o.NONE;const l=1e-6,u=new jD,h=new jD;let f=1;const p=new se;let m=!1;const v=new Ye,S=new Ye,A=new Ye,g=new Ye,M=new Ye,_=new Ye,b=new Ye,T=new Ye,C=new Ye,B=[],P={};function R(){return 2*Math.PI/60/60*t.autoRotateSpeed}function L(){return Math.pow(.95,t.zoomSpeed)}function U(j){t.reverseOrbit?h.theta+=j:h.theta-=j}function Q(j){t.reverseOrbit?h.phi+=j:h.phi-=j}const W=(()=>{const j=new se;return function(q,ve){j.setFromMatrixColumn(ve,0),j.multiplyScalar(-q),p.add(j)}})(),Y=(()=>{const j=new se;return function(q,ve){t.screenSpacePanning===!0?j.setFromMatrixColumn(ve,1):(j.setFromMatrixColumn(ve,0),j.crossVectors(t.object.up,j)),j.multiplyScalar(q),p.add(j)}})(),X=(()=>{const j=new se;return function(q,ve){const Re=t.domElement;if(Re&&t.object instanceof ur&&t.object.isPerspectiveCamera){const Pe=t.object.position;j.copy(Pe).sub(t.target);let Ue=j.length();Ue*=Math.tan(t.object.fov/2*Math.PI/180),W(2*q*Ue/Re.clientHeight,t.object.matrix),Y(2*ve*Ue/Re.clientHeight,t.object.matrix)}else Re&&t.object instanceof Ll&&t.object.isOrthographicCamera?(W(q*(t.object.right-t.object.left)/t.object.zoom/Re.clientWidth,t.object.matrix),Y(ve*(t.object.top-t.object.bottom)/t.object.zoom/Re.clientHeight,t.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),t.enablePan=!1)}})();function ae(j){t.object instanceof ur&&t.object.isPerspectiveCamera?f/=j:t.object instanceof Ll&&t.object.isOrthographicCamera?(t.object.zoom=Math.max(t.minZoom,Math.min(t.maxZoom,t.object.zoom*j)),t.object.updateProjectionMatrix(),m=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),t.enableZoom=!1)}function Z(j){t.object instanceof ur&&t.object.isPerspectiveCamera?f*=j:t.object instanceof Ll&&t.object.isOrthographicCamera?(t.object.zoom=Math.max(t.minZoom,Math.min(t.maxZoom,t.object.zoom/j)),t.object.updateProjectionMatrix(),m=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),t.enableZoom=!1)}function D(j){v.set(j.clientX,j.clientY)}function k(j){b.set(j.clientX,j.clientY)}function G(j){g.set(j.clientX,j.clientY)}function K(j){S.set(j.clientX,j.clientY),A.subVectors(S,v).multiplyScalar(t.rotateSpeed);const q=t.domElement;q&&(U(2*Math.PI*A.x/q.clientHeight),Q(2*Math.PI*A.y/q.clientHeight)),v.copy(S),t.update()}function H(j){T.set(j.clientX,j.clientY),C.subVectors(T,b),C.y>0?ae(L()):C.y<0&&Z(L()),b.copy(T),t.update()}function ue(j){M.set(j.clientX,j.clientY),_.subVectors(M,g).multiplyScalar(t.panSpeed),X(_.x,_.y),g.copy(M),t.update()}function le(j){j.deltaY<0?Z(L()):j.deltaY>0&&ae(L()),t.update()}function Ce(j){let q=!1;switch(j.code){case t.keys.UP:X(0,t.keyPanSpeed),q=!0;break;case t.keys.BOTTOM:X(0,-t.keyPanSpeed),q=!0;break;case t.keys.LEFT:X(t.keyPanSpeed,0),q=!0;break;case t.keys.RIGHT:X(-t.keyPanSpeed,0),q=!0;break}q&&(j.preventDefault(),t.update())}function xe(){if(B.length==1)v.set(B[0].pageX,B[0].pageY);else{const j=.5*(B[0].pageX+B[1].pageX),q=.5*(B[0].pageY+B[1].pageY);v.set(j,q)}}function Be(){if(B.length==1)g.set(B[0].pageX,B[0].pageY);else{const j=.5*(B[0].pageX+B[1].pageX),q=.5*(B[0].pageY+B[1].pageY);g.set(j,q)}}function Qe(){const j=B[0].pageX-B[1].pageX,q=B[0].pageY-B[1].pageY,ve=Math.sqrt(j*j+q*q);b.set(0,ve)}function je(){t.enableZoom&&Qe(),t.enablePan&&Be()}function Ke(){t.enableZoom&&Qe(),t.enableRotate&&xe()}function fe(j){if(B.length==1)S.set(j.pageX,j.pageY);else{const ve=De(j),Re=.5*(j.pageX+ve.x),Pe=.5*(j.pageY+ve.y);S.set(Re,Pe)}A.subVectors(S,v).multiplyScalar(t.rotateSpeed);const q=t.domElement;q&&(U(2*Math.PI*A.x/q.clientHeight),Q(2*Math.PI*A.y/q.clientHeight)),v.copy(S)}function z(j){if(B.length==1)M.set(j.pageX,j.pageY);else{const q=De(j),ve=.5*(j.pageX+q.x),Re=.5*(j.pageY+q.y);M.set(ve,Re)}_.subVectors(M,g).multiplyScalar(t.panSpeed),X(_.x,_.y),g.copy(M)}function Ae(j){const q=De(j),ve=j.pageX-q.x,Re=j.pageY-q.y,Pe=Math.sqrt(ve*ve+Re*Re);T.set(0,Pe),C.set(0,Math.pow(T.y/b.y,t.zoomSpeed)),ae(C.y),b.copy(T)}function ge(j){t.enableZoom&&Ae(j),t.enablePan&&z(j)}function Me(j){t.enableZoom&&Ae(j),t.enableRotate&&fe(j)}function Ee(j){var q,ve;t.enabled!==!1&&(B.length===0&&((q=t.domElement)==null||q.ownerDocument.addEventListener("pointermove",Ve),(ve=t.domElement)==null||ve.ownerDocument.addEventListener("pointerup",Ge)),Se(j),j.pointerType==="touch"?F(j):Ze(j))}function Ve(j){t.enabled!==!1&&(j.pointerType==="touch"?ce(j):St(j))}function Ge(j){var q,ve,Re;Fe(j),B.length===0&&((q=t.domElement)==null||q.releasePointerCapture(j.pointerId),(ve=t.domElement)==null||ve.ownerDocument.removeEventListener("pointermove",Ve),(Re=t.domElement)==null||Re.ownerDocument.removeEventListener("pointerup",Ge)),t.dispatchEvent(s),a=o.NONE}function ze(j){Fe(j)}function Ze(j){let q;switch(j.button){case 0:q=t.mouseButtons.LEFT;break;case 1:q=t.mouseButtons.MIDDLE;break;case 2:q=t.mouseButtons.RIGHT;break;default:q=-1}switch(q){case Jp.DOLLY:if(t.enableZoom===!1)return;k(j),a=o.DOLLY;break;case Jp.ROTATE:if(j.ctrlKey||j.metaKey||j.shiftKey){if(t.enablePan===!1)return;G(j),a=o.PAN}else{if(t.enableRotate===!1)return;D(j),a=o.ROTATE}break;case Jp.PAN:if(j.ctrlKey||j.metaKey||j.shiftKey){if(t.enableRotate===!1)return;D(j),a=o.ROTATE}else{if(t.enablePan===!1)return;G(j),a=o.PAN}break;default:a=o.NONE}a!==o.NONE&&t.dispatchEvent(i)}function St(j){if(t.enabled!==!1)switch(a){case o.ROTATE:if(t.enableRotate===!1)return;K(j);break;case o.DOLLY:if(t.enableZoom===!1)return;H(j);break;case o.PAN:if(t.enablePan===!1)return;ue(j);break}}function Dt(j){t.enabled===!1||t.enableZoom===!1||a!==o.NONE&&a!==o.ROTATE||(j.preventDefault(),t.dispatchEvent(i),le(j),t.dispatchEvent(s))}function O(j){t.enabled===!1||t.enablePan===!1||Ce(j)}function F(j){switch(Xe(j),B.length){case 1:switch(t.touches.ONE){case Yp.ROTATE:if(t.enableRotate===!1)return;xe(),a=o.TOUCH_ROTATE;break;case Yp.PAN:if(t.enablePan===!1)return;Be(),a=o.TOUCH_PAN;break;default:a=o.NONE}break;case 2:switch(t.touches.TWO){case Yp.DOLLY_PAN:if(t.enableZoom===!1&&t.enablePan===!1)return;je(),a=o.TOUCH_DOLLY_PAN;break;case Yp.DOLLY_ROTATE:if(t.enableZoom===!1&&t.enableRotate===!1)return;Ke(),a=o.TOUCH_DOLLY_ROTATE;break;default:a=o.NONE}break;default:a=o.NONE}a!==o.NONE&&t.dispatchEvent(i)}function ce(j){switch(Xe(j),a){case o.TOUCH_ROTATE:if(t.enableRotate===!1)return;fe(j),t.update();break;case o.TOUCH_PAN:if(t.enablePan===!1)return;z(j),t.update();break;case o.TOUCH_DOLLY_PAN:if(t.enableZoom===!1&&t.enablePan===!1)return;ge(j),t.update();break;case o.TOUCH_DOLLY_ROTATE:if(t.enableZoom===!1&&t.enableRotate===!1)return;Me(j),t.update();break;default:a=o.NONE}}function be(j){t.enabled!==!1&&j.preventDefault()}function Se(j){B.push(j)}function Fe(j){delete P[j.pointerId];for(let q=0;q<B.length;q++)if(B[q].pointerId==j.pointerId){B.splice(q,1);return}}function Xe(j){let q=P[j.pointerId];q===void 0&&(q=new Ye,P[j.pointerId]=q),q.set(j.pageX,j.pageY)}function De(j){const q=j.pointerId===B[0].pointerId?B[1]:B[0];return P[q.pointerId]}e!==void 0&&this.connect(e),this.update()}};class DO extends Ys{constructor(e){super(e),this.dracoLoader=null,this.ktx2Loader=null,this.meshoptDecoder=null,this.pluginCallbacks=[],this.register(function(t){return new wge(t)}),this.register(function(t){return new Dge(t)}),this.register(function(t){return new Fge(t)}),this.register(function(t){return new Nge(t)}),this.register(function(t){return new Cge(t)}),this.register(function(t){return new Rge(t)}),this.register(function(t){return new Pge(t)}),this.register(function(t){return new Bge(t)}),this.register(function(t){return new bge(t)}),this.register(function(t){return new Lge(t)}),this.register(function(t){return new Tge(t)}),this.register(function(t){return new Ige(t)}),this.register(function(t){return new Sge(t)}),this.register(function(t){return new Uge(t)}),this.register(function(t){return new Oge(t)})}load(e,t,r,i){const s=this;let o;this.resourcePath!==""?o=this.resourcePath:this.path!==""?o=this.path:o=Ou.extractUrlBase(e),this.manager.itemStart(e);const a=function(u){i?i(u):console.error(u),s.manager.itemError(e),s.manager.itemEnd(e)},l=new Zo(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(this.withCredentials),l.load(e,function(u){try{s.parse(u,o,function(h){t(h),s.manager.itemEnd(e)},a)}catch(h){a(h)}},r,a)}setDRACOLoader(e){return this.dracoLoader=e,this}setDDSLoader(){throw new Error('THREE.GLTFLoader: "MSFT_texture_dds" no longer supported. Please update to "KHR_texture_basisu".')}setKTX2Loader(e){return this.ktx2Loader=e,this}setMeshoptDecoder(e){return this.meshoptDecoder=e,this}register(e){return this.pluginCallbacks.indexOf(e)===-1&&this.pluginCallbacks.push(e),this}unregister(e){return this.pluginCallbacks.indexOf(e)!==-1&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(e),1),this}parse(e,t,r,i){let s;const o={},a={};if(typeof e=="string")s=JSON.parse(e);else if(e instanceof ArrayBuffer)if(Ou.decodeText(new Uint8Array(e.slice(0,4)))===oQ){try{o[An.KHR_BINARY_GLTF]=new kge(e)}catch(u){i&&i(u);return}s=JSON.parse(o[An.KHR_BINARY_GLTF].content)}else s=JSON.parse(Ou.decodeText(new Uint8Array(e)));else s=e;if(s.asset===void 0||s.asset.version[0]<2){i&&i(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported."));return}const l=new Zge(s,{path:t||this.resourcePath||"",crossOrigin:this.crossOrigin,requestHeader:this.requestHeader,manager:this.manager,ktx2Loader:this.ktx2Loader,meshoptDecoder:this.meshoptDecoder});l.fileLoader.setRequestHeader(this.requestHeader);for(let u=0;u<this.pluginCallbacks.length;u++){const h=this.pluginCallbacks[u](l);a[h.name]=h,o[h.name]=!0}if(s.extensionsUsed)for(let u=0;u<s.extensionsUsed.length;++u){const h=s.extensionsUsed[u],f=s.extensionsRequired||[];switch(h){case An.KHR_MATERIALS_UNLIT:o[h]=new Ege;break;case An.KHR_DRACO_MESH_COMPRESSION:o[h]=new Gge(s,this.dracoLoader);break;case An.KHR_TEXTURE_TRANSFORM:o[h]=new zge;break;case An.KHR_MESH_QUANTIZATION:o[h]=new Hge;break;default:f.indexOf(h)>=0&&a[h]===void 0&&console.warn('THREE.GLTFLoader: Unknown extension "'+h+'".')}}l.setExtensions(o),l.setPlugins(a),l.parse(r,i)}parseAsync(e,t){const r=this;return new Promise(function(i,s){r.parse(e,t,i,s)})}}function Mge(){let n={};return{get:function(e){return n[e]},add:function(e,t){n[e]=t},remove:function(e){delete n[e]},removeAll:function(){n={}}}}const An={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_IOR:"KHR_materials_ior",KHR_MATERIALS_SHEEN:"KHR_materials_sheen",KHR_MATERIALS_SPECULAR:"KHR_materials_specular",KHR_MATERIALS_TRANSMISSION:"KHR_materials_transmission",KHR_MATERIALS_IRIDESCENCE:"KHR_materials_iridescence",KHR_MATERIALS_ANISOTROPY:"KHR_materials_anisotropy",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_MATERIALS_VOLUME:"KHR_materials_volume",KHR_TEXTURE_BASISU:"KHR_texture_basisu",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",KHR_MATERIALS_EMISSIVE_STRENGTH:"KHR_materials_emissive_strength",EXT_TEXTURE_WEBP:"EXT_texture_webp",EXT_TEXTURE_AVIF:"EXT_texture_avif",EXT_MESHOPT_COMPRESSION:"EXT_meshopt_compression",EXT_MESH_GPU_INSTANCING:"EXT_mesh_gpu_instancing"};class Sge{constructor(e){this.parser=e,this.name=An.KHR_LIGHTS_PUNCTUAL,this.cache={refs:{},uses:{}}}_markDefs(){const e=this.parser,t=this.parser.json.nodes||[];for(let r=0,i=t.length;r<i;r++){const s=t[r];s.extensions&&s.extensions[this.name]&&s.extensions[this.name].light!==void 0&&e._addNodeRef(this.cache,s.extensions[this.name].light)}}_loadLight(e){const t=this.parser,r="light:"+e;let i=t.cache.get(r);if(i)return i;const s=t.json,o=((s.extensions&&s.extensions[this.name]||{}).lights||[])[e];let a;const l=new xt(16777215);o.color!==void 0&&l.fromArray(o.color);const u=o.range!==void 0?o.range:0;switch(o.type){case"directional":a=new EO(l),a.target.position.set(0,0,-1),a.add(a.target);break;case"point":a=new SO(l),a.distance=u;break;case"spot":a=new MO(l),a.distance=u,o.spot=o.spot||{},o.spot.innerConeAngle=o.spot.innerConeAngle!==void 0?o.spot.innerConeAngle:0,o.spot.outerConeAngle=o.spot.outerConeAngle!==void 0?o.spot.outerConeAngle:Math.PI/4,a.angle=o.spot.outerConeAngle,a.penumbra=1-o.spot.innerConeAngle/o.spot.outerConeAngle,a.target.position.set(0,0,-1),a.add(a.target);break;default:throw new Error("THREE.GLTFLoader: Unexpected light type: "+o.type)}return a.position.set(0,0,0),a.decay=2,yd(a,o),o.intensity!==void 0&&(a.intensity=o.intensity),a.name=t.createUniqueName(o.name||"light_"+e),i=Promise.resolve(a),t.cache.add(r,i),i}getDependency(e,t){if(e==="light")return this._loadLight(t)}createNodeAttachment(e){const t=this,r=this.parser,i=r.json.nodes[e],s=(i.extensions&&i.extensions[this.name]||{}).light;return s===void 0?null:this._loadLight(s).then(function(o){return r._getNodeRef(t.cache,s,o)})}}class Ege{constructor(){this.name=An.KHR_MATERIALS_UNLIT}getMaterialType(){return Vo}extendParams(e,t,r){const i=[];e.color=new xt(1,1,1),e.opacity=1;const s=t.pbrMetallicRoughness;if(s){if(Array.isArray(s.baseColorFactor)){const o=s.baseColorFactor;e.color.fromArray(o),e.opacity=o[3]}s.baseColorTexture!==void 0&&i.push(r.assignTexture(e,"map",s.baseColorTexture,3001))}return Promise.all(i)}}class bge{constructor(e){this.parser=e,this.name=An.KHR_MATERIALS_EMISSIVE_STRENGTH}extendMaterialParams(e,t){const r=this.parser.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const i=r.extensions[this.name].emissiveStrength;return i!==void 0&&(t.emissiveIntensity=i),Promise.resolve()}}class wge{constructor(e){this.parser=e,this.name=An.KHR_MATERIALS_CLEARCOAT}getMaterialType(e){const t=this.parser.json.materials[e];return!t.extensions||!t.extensions[this.name]?null:$u}extendMaterialParams(e,t){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];if(o.clearcoatFactor!==void 0&&(t.clearcoat=o.clearcoatFactor),o.clearcoatTexture!==void 0&&s.push(r.assignTexture(t,"clearcoatMap",o.clearcoatTexture)),o.clearcoatRoughnessFactor!==void 0&&(t.clearcoatRoughness=o.clearcoatRoughnessFactor),o.clearcoatRoughnessTexture!==void 0&&s.push(r.assignTexture(t,"clearcoatRoughnessMap",o.clearcoatRoughnessTexture)),o.clearcoatNormalTexture!==void 0&&(s.push(r.assignTexture(t,"clearcoatNormalMap",o.clearcoatNormalTexture)),o.clearcoatNormalTexture.scale!==void 0)){const a=o.clearcoatNormalTexture.scale;t.clearcoatNormalScale=new Ye(a,a)}return Promise.all(s)}}class Tge{constructor(e){this.parser=e,this.name=An.KHR_MATERIALS_IRIDESCENCE}getMaterialType(e){const t=this.parser.json.materials[e];return!t.extensions||!t.extensions[this.name]?null:$u}extendMaterialParams(e,t){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];return o.iridescenceFactor!==void 0&&(t.iridescence=o.iridescenceFactor),o.iridescenceTexture!==void 0&&s.push(r.assignTexture(t,"iridescenceMap",o.iridescenceTexture)),o.iridescenceIor!==void 0&&(t.iridescenceIOR=o.iridescenceIor),t.iridescenceThicknessRange===void 0&&(t.iridescenceThicknessRange=[100,400]),o.iridescenceThicknessMinimum!==void 0&&(t.iridescenceThicknessRange[0]=o.iridescenceThicknessMinimum),o.iridescenceThicknessMaximum!==void 0&&(t.iridescenceThicknessRange[1]=o.iridescenceThicknessMaximum),o.iridescenceThicknessTexture!==void 0&&s.push(r.assignTexture(t,"iridescenceThicknessMap",o.iridescenceThicknessTexture)),Promise.all(s)}}class Cge{constructor(e){this.parser=e,this.name=An.KHR_MATERIALS_SHEEN}getMaterialType(e){const t=this.parser.json.materials[e];return!t.extensions||!t.extensions[this.name]?null:$u}extendMaterialParams(e,t){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[];t.sheenColor=new xt(0,0,0),t.sheenRoughness=0,t.sheen=1;const o=i.extensions[this.name];return o.sheenColorFactor!==void 0&&t.sheenColor.fromArray(o.sheenColorFactor),o.sheenRoughnessFactor!==void 0&&(t.sheenRoughness=o.sheenRoughnessFactor),o.sheenColorTexture!==void 0&&s.push(r.assignTexture(t,"sheenColorMap",o.sheenColorTexture,3001)),o.sheenRoughnessTexture!==void 0&&s.push(r.assignTexture(t,"sheenRoughnessMap",o.sheenRoughnessTexture)),Promise.all(s)}}class Rge{constructor(e){this.parser=e,this.name=An.KHR_MATERIALS_TRANSMISSION}getMaterialType(e){const t=this.parser.json.materials[e];return!t.extensions||!t.extensions[this.name]?null:$u}extendMaterialParams(e,t){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];return o.transmissionFactor!==void 0&&(t.transmission=o.transmissionFactor),o.transmissionTexture!==void 0&&s.push(r.assignTexture(t,"transmissionMap",o.transmissionTexture)),Promise.all(s)}}class Pge{constructor(e){this.parser=e,this.name=An.KHR_MATERIALS_VOLUME}getMaterialType(e){const t=this.parser.json.materials[e];return!t.extensions||!t.extensions[this.name]?null:$u}extendMaterialParams(e,t){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];t.thickness=o.thicknessFactor!==void 0?o.thicknessFactor:0,o.thicknessTexture!==void 0&&s.push(r.assignTexture(t,"thicknessMap",o.thicknessTexture)),t.attenuationDistance=o.attenuationDistance||1/0;const a=o.attenuationColor||[1,1,1];return t.attenuationColor=new xt(a[0],a[1],a[2]),Promise.all(s)}}class Bge{constructor(e){this.parser=e,this.name=An.KHR_MATERIALS_IOR}getMaterialType(e){const t=this.parser.json.materials[e];return!t.extensions||!t.extensions[this.name]?null:$u}extendMaterialParams(e,t){const r=this.parser.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const i=r.extensions[this.name];return t.ior=i.ior!==void 0?i.ior:1.5,Promise.resolve()}}class Lge{constructor(e){this.parser=e,this.name=An.KHR_MATERIALS_SPECULAR}getMaterialType(e){const t=this.parser.json.materials[e];return!t.extensions||!t.extensions[this.name]?null:$u}extendMaterialParams(e,t){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];t.specularIntensity=o.specularFactor!==void 0?o.specularFactor:1,o.specularTexture!==void 0&&s.push(r.assignTexture(t,"specularIntensityMap",o.specularTexture));const a=o.specularColorFactor||[1,1,1];return t.specularColor=new xt(a[0],a[1],a[2]),o.specularColorTexture!==void 0&&s.push(r.assignTexture(t,"specularColorMap",o.specularColorTexture,3001)),Promise.all(s)}}class Ige{constructor(e){this.parser=e,this.name=An.KHR_MATERIALS_ANISOTROPY}getMaterialType(e){const t=this.parser.json.materials[e];return!t.extensions||!t.extensions[this.name]?null:$u}extendMaterialParams(e,t){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];return o.anisotropyStrength!==void 0&&(t.anisotropy=o.anisotropyStrength),o.anisotropyRotation!==void 0&&(t.anisotropyRotation=o.anisotropyRotation),o.anisotropyTexture!==void 0&&s.push(r.assignTexture(t,"anisotropyMap",o.anisotropyTexture)),Promise.all(s)}}class Dge{constructor(e){this.parser=e,this.name=An.KHR_TEXTURE_BASISU}loadTexture(e){const t=this.parser,r=t.json,i=r.textures[e];if(!i.extensions||!i.extensions[this.name])return null;const s=i.extensions[this.name],o=t.options.ktx2Loader;if(!o){if(r.extensionsRequired&&r.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures");return null}return t.loadTextureImage(e,s.source,o)}}class Fge{constructor(e){this.parser=e,this.name=An.EXT_TEXTURE_WEBP,this.isSupported=null}loadTexture(e){const t=this.name,r=this.parser,i=r.json,s=i.textures[e];if(!s.extensions||!s.extensions[t])return null;const o=s.extensions[t],a=i.images[o.source];let l=r.textureLoader;if(a.uri){const u=r.options.manager.getHandler(a.uri);u!==null&&(l=u)}return this.detectSupport().then(function(u){if(u)return r.loadTextureImage(e,o.source,l);if(i.extensionsRequired&&i.extensionsRequired.indexOf(t)>=0)throw new Error("THREE.GLTFLoader: WebP required by asset but unsupported.");return r.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){const t=new Image;t.src="data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",t.onload=t.onerror=function(){e(t.height===1)}})),this.isSupported}}class Nge{constructor(e){this.parser=e,this.name=An.EXT_TEXTURE_AVIF,this.isSupported=null}loadTexture(e){const t=this.name,r=this.parser,i=r.json,s=i.textures[e];if(!s.extensions||!s.extensions[t])return null;const o=s.extensions[t],a=i.images[o.source];let l=r.textureLoader;if(a.uri){const u=r.options.manager.getHandler(a.uri);u!==null&&(l=u)}return this.detectSupport().then(function(u){if(u)return r.loadTextureImage(e,o.source,l);if(i.extensionsRequired&&i.extensionsRequired.indexOf(t)>=0)throw new Error("THREE.GLTFLoader: AVIF required by asset but unsupported.");return r.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){const t=new Image;t.src="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAABcAAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAEAAAABAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQAMAAAAABNjb2xybmNseAACAAIABoAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAAB9tZGF0EgAKCBgABogQEDQgMgkQAAAAB8dSLfI=",t.onload=t.onerror=function(){e(t.height===1)}})),this.isSupported}}class Uge{constructor(e){this.name=An.EXT_MESHOPT_COMPRESSION,this.parser=e}loadBufferView(e){const t=this.parser.json,r=t.bufferViews[e];if(r.extensions&&r.extensions[this.name]){const i=r.extensions[this.name],s=this.parser.getDependency("buffer",i.buffer),o=this.parser.options.meshoptDecoder;if(!o||!o.supported){if(t.extensionsRequired&&t.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files");return null}return s.then(function(a){const l=i.byteOffset||0,u=i.byteLength||0,h=i.count,f=i.byteStride,p=new Uint8Array(a,l,u);return o.decodeGltfBufferAsync?o.decodeGltfBufferAsync(h,f,p,i.mode,i.filter).then(function(m){return m.buffer}):o.ready.then(function(){const m=new ArrayBuffer(h*f);return o.decodeGltfBuffer(new Uint8Array(m),h,f,p,i.mode,i.filter),m})})}else return null}}class Oge{constructor(e){this.name=An.EXT_MESH_GPU_INSTANCING,this.parser=e}createNodeMesh(e){const t=this.parser.json,r=t.nodes[e];if(!r.extensions||!r.extensions[this.name]||r.mesh===void 0)return null;const i=t.meshes[r.mesh];for(const l of i.primitives)if(l.mode!==La.TRIANGLES&&l.mode!==La.TRIANGLE_STRIP&&l.mode!==La.TRIANGLE_FAN&&l.mode!==void 0)return null;const s=r.extensions[this.name].attributes,o=[],a={};for(const l in s)o.push(this.parser.getDependency("accessor",s[l]).then(u=>(a[l]=u,a[l])));return o.length<1?null:(o.push(this.parser.createNodeMesh(e)),Promise.all(o).then(l=>{const u=l.pop(),h=u.isGroup?u.children:[u],f=l[0].count,p=[];for(const m of h){const v=new zt,S=new se,A=new Hi,g=new se(1,1,1),M=new YU(m.geometry,m.material,f);for(let _=0;_<f;_++)a.TRANSLATION&&S.fromBufferAttribute(a.TRANSLATION,_),a.ROTATION&&A.fromBufferAttribute(a.ROTATION,_),a.SCALE&&g.fromBufferAttribute(a.SCALE,_),M.setMatrixAt(_,v.compose(S,A,g));for(const _ in a)_!=="TRANSLATION"&&_!=="ROTATION"&&_!=="SCALE"&&m.geometry.setAttribute(_,a[_]);Mn.prototype.copy.call(M,m),this.parser.assignFinalMaterial(M),p.push(M)}return u.isGroup?(u.clear(),u.add(...p),u):p[0]}))}}const oQ="glTF",n1=12,QV={JSON:1313821514,BIN:5130562};class kge{constructor(e){this.name=An.KHR_BINARY_GLTF,this.content=null,this.body=null;const t=new DataView(e,0,n1);if(this.header={magic:Ou.decodeText(new Uint8Array(e.slice(0,4))),version:t.getUint32(4,!0),length:t.getUint32(8,!0)},this.header.magic!==oQ)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected.");const r=this.header.length-n1,i=new DataView(e,n1);let s=0;for(;s<r;){const o=i.getUint32(s,!0);s+=4;const a=i.getUint32(s,!0);if(s+=4,a===QV.JSON){const l=new Uint8Array(e,n1+s,o);this.content=Ou.decodeText(l)}else if(a===QV.BIN){const l=n1+s;this.body=e.slice(l,l+o)}s+=o}if(this.content===null)throw new Error("THREE.GLTFLoader: JSON content not found.")}}class Gge{constructor(e,t){if(!t)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=An.KHR_DRACO_MESH_COMPRESSION,this.json=e,this.dracoLoader=t,this.dracoLoader.preload()}decodePrimitive(e,t){const r=this.json,i=this.dracoLoader,s=e.extensions[this.name].bufferView,o=e.extensions[this.name].attributes,a={},l={},u={};for(const h in o){const f=QD[h]||h.toLowerCase();a[f]=o[h]}for(const h in e.attributes){const f=QD[h]||h.toLowerCase();if(o[h]!==void 0){const p=r.accessors[e.attributes[h]],m=dy[p.componentType];u[f]=m.name,l[f]=p.normalized===!0}}return t.getDependency("bufferView",s).then(function(h){return new Promise(function(f){i.decodeDracoFile(h,function(p){for(const m in p.attributes){const v=p.attributes[m],S=l[m];S!==void 0&&(v.normalized=S)}f(p)},a,u)})})}}class zge{constructor(){this.name=An.KHR_TEXTURE_TRANSFORM}extendTexture(e,t){return(t.texCoord===void 0||t.texCoord===e.channel)&&t.offset===void 0&&t.rotation===void 0&&t.scale===void 0||(e=e.clone(),t.texCoord!==void 0&&(e.channel=t.texCoord),t.offset!==void 0&&e.offset.fromArray(t.offset),t.rotation!==void 0&&(e.rotation=t.rotation),t.scale!==void 0&&e.repeat.fromArray(t.scale),e.needsUpdate=!0),e}}class Hge{constructor(){this.name=An.KHR_MESH_QUANTIZATION}}class aQ extends xx{constructor(e,t,r,i){super(e,t,r,i)}copySampleValue_(e){const t=this.resultBuffer,r=this.sampleValues,i=this.valueSize,s=e*i*3+i;for(let o=0;o!==i;o++)t[o]=r[s+o];return t}interpolate_(e,t,r,i){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=a*2,u=a*3,h=i-t,f=(r-t)/h,p=f*f,m=p*f,v=e*u,S=v-u,A=-2*m+3*p,g=m-p,M=1-A,_=g-p+f;for(let b=0;b!==a;b++){const T=o[S+b+a],C=o[S+b+l]*h,B=o[v+b+a],P=o[v+b]*h;s[b]=M*T+_*C+A*B+g*P}return s}}const Vge=new Hi;class Wge extends aQ{interpolate_(e,t,r,i){const s=super.interpolate_(e,t,r,i);return Vge.fromArray(s).normalize().toArray(s),s}}const La={FLOAT:5126,FLOAT_MAT3:35675,FLOAT_MAT4:35676,FLOAT_VEC2:35664,FLOAT_VEC3:35665,FLOAT_VEC4:35666,LINEAR:9729,REPEAT:10497,SAMPLER_2D:35678,POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6,UNSIGNED_BYTE:5121,UNSIGNED_SHORT:5123},dy={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},qV={9728:kr,9729:Ar,9984:q_,9985:xR,9986:ly,9987:Ju},ZV={33071:is,33648:Iy,10497:hf},h2={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},QD={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",...ZM.replace(/\D+/g,"")>=152?{TEXCOORD_0:"uv",TEXCOORD_1:"uv1",TEXCOORD_2:"uv2",TEXCOORD_3:"uv3"}:{TEXCOORD_0:"uv",TEXCOORD_1:"uv2"},COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},td={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},jge={CUBICSPLINE:void 0,LINEAR:Zm,STEP:Fy},d2={OPAQUE:"OPAQUE",MASK:"MASK",BLEND:"BLEND"};function Xge(n){return n.DefaultMaterial===void 0&&(n.DefaultMaterial=new oS({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:Xu})),n.DefaultMaterial}function Pp(n,e,t){for(const r in t.extensions)n[r]===void 0&&(e.userData.gltfExtensions=e.userData.gltfExtensions||{},e.userData.gltfExtensions[r]=t.extensions[r])}function yd(n,e){e.extras!==void 0&&(typeof e.extras=="object"?Object.assign(n.userData,e.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+e.extras))}function Jge(n,e,t){let r=!1,i=!1,s=!1;for(let u=0,h=e.length;u<h;u++){const f=e[u];if(f.POSITION!==void 0&&(r=!0),f.NORMAL!==void 0&&(i=!0),f.COLOR_0!==void 0&&(s=!0),r&&i&&s)break}if(!r&&!i&&!s)return Promise.resolve(n);const o=[],a=[],l=[];for(let u=0,h=e.length;u<h;u++){const f=e[u];if(r){const p=f.POSITION!==void 0?t.getDependency("accessor",f.POSITION):n.attributes.position;o.push(p)}if(i){const p=f.NORMAL!==void 0?t.getDependency("accessor",f.NORMAL):n.attributes.normal;a.push(p)}if(s){const p=f.COLOR_0!==void 0?t.getDependency("accessor",f.COLOR_0):n.attributes.color;l.push(p)}}return Promise.all([Promise.all(o),Promise.all(a),Promise.all(l)]).then(function(u){const h=u[0],f=u[1],p=u[2];return r&&(n.morphAttributes.position=h),i&&(n.morphAttributes.normal=f),s&&(n.morphAttributes.color=p),n.morphTargetsRelative=!0,n})}function Yge(n,e){if(n.updateMorphTargets(),e.weights!==void 0)for(let t=0,r=e.weights.length;t<r;t++)n.morphTargetInfluences[t]=e.weights[t];if(e.extras&&Array.isArray(e.extras.targetNames)){const t=e.extras.targetNames;if(n.morphTargetInfluences.length===t.length){n.morphTargetDictionary={};for(let r=0,i=t.length;r<i;r++)n.morphTargetDictionary[t[r]]=r}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function Kge(n){let e;const t=n.extensions&&n.extensions[An.KHR_DRACO_MESH_COMPRESSION];if(t?e="draco:"+t.bufferView+":"+t.indices+":"+f2(t.attributes):e=n.indices+":"+f2(n.attributes)+":"+n.mode,n.targets!==void 0)for(let r=0,i=n.targets.length;r<i;r++)e+=":"+f2(n.targets[r]);return e}function f2(n){let e="";const t=Object.keys(n).sort();for(let r=0,i=t.length;r<i;r++)e+=t[r]+":"+n[t[r]]+";";return e}function qD(n){switch(n){case Int8Array:return 1/127;case Uint8Array:return 1/255;case Int16Array:return 1/32767;case Uint16Array:return 1/65535;default:throw new Error("THREE.GLTFLoader: Unsupported normalized accessor component type.")}}function Qge(n){return n.search(/\.jpe?g($|\?)/i)>0||n.search(/^data\:image\/jpeg/)===0?"image/jpeg":n.search(/\.webp($|\?)/i)>0||n.search(/^data\:image\/webp/)===0?"image/webp":"image/png"}const qge=new zt;class Zge{constructor(e={},t={}){this.json=e,this.extensions={},this.plugins={},this.options=t,this.cache=new Mge,this.associations=new Map,this.primitiveCache={},this.nodeCache={},this.meshCache={refs:{},uses:{}},this.cameraCache={refs:{},uses:{}},this.lightCache={refs:{},uses:{}},this.sourceCache={},this.textureCache={},this.nodeNamesUsed={};let r=!1,i=!1,s=-1;typeof navigator<"u"&&(r=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)===!0,i=navigator.userAgent.indexOf("Firefox")>-1,s=i?navigator.userAgent.match(/Firefox\/([0-9]+)\./)[1]:-1),typeof createImageBitmap>"u"||r||i&&s<98?this.textureLoader=new aS(this.options.manager):this.textureLoader=new CK(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.textureLoader.setRequestHeader(this.options.requestHeader),this.fileLoader=new Zo(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),this.options.crossOrigin==="use-credentials"&&this.fileLoader.setWithCredentials(!0)}setExtensions(e){this.extensions=e}setPlugins(e){this.plugins=e}parse(e,t){const r=this,i=this.json,s=this.extensions;this.cache.removeAll(),this.nodeCache={},this._invokeAll(function(o){return o._markDefs&&o._markDefs()}),Promise.all(this._invokeAll(function(o){return o.beforeRoot&&o.beforeRoot()})).then(function(){return Promise.all([r.getDependencies("scene"),r.getDependencies("animation"),r.getDependencies("camera")])}).then(function(o){const a={scene:o[0][i.scene||0],scenes:o[0],animations:o[1],cameras:o[2],asset:i.asset,parser:r,userData:{}};Pp(s,a,i),yd(a,i),Promise.all(r._invokeAll(function(l){return l.afterRoot&&l.afterRoot(a)})).then(function(){e(a)})}).catch(t)}_markDefs(){const e=this.json.nodes||[],t=this.json.skins||[],r=this.json.meshes||[];for(let i=0,s=t.length;i<s;i++){const o=t[i].joints;for(let a=0,l=o.length;a<l;a++)e[o[a]].isBone=!0}for(let i=0,s=e.length;i<s;i++){const o=e[i];o.mesh!==void 0&&(this._addNodeRef(this.meshCache,o.mesh),o.skin!==void 0&&(r[o.mesh].isSkinnedMesh=!0)),o.camera!==void 0&&this._addNodeRef(this.cameraCache,o.camera)}}_addNodeRef(e,t){t!==void 0&&(e.refs[t]===void 0&&(e.refs[t]=e.uses[t]=0),e.refs[t]++)}_getNodeRef(e,t,r){if(e.refs[t]<=1)return r;const i=r.clone(),s=(o,a)=>{const l=this.associations.get(o);l!=null&&this.associations.set(a,l);for(const[u,h]of o.children.entries())s(h,a.children[u])};return s(r,i),i.name+="_instance_"+e.uses[t]++,i}_invokeOne(e){const t=Object.values(this.plugins);t.push(this);for(let r=0;r<t.length;r++){const i=e(t[r]);if(i)return i}return null}_invokeAll(e){const t=Object.values(this.plugins);t.unshift(this);const r=[];for(let i=0;i<t.length;i++){const s=e(t[i]);s&&r.push(s)}return r}getDependency(e,t){const r=e+":"+t;let i=this.cache.get(r);if(!i){switch(e){case"scene":i=this.loadScene(t);break;case"node":i=this._invokeOne(function(s){return s.loadNode&&s.loadNode(t)});break;case"mesh":i=this._invokeOne(function(s){return s.loadMesh&&s.loadMesh(t)});break;case"accessor":i=this.loadAccessor(t);break;case"bufferView":i=this._invokeOne(function(s){return s.loadBufferView&&s.loadBufferView(t)});break;case"buffer":i=this.loadBuffer(t);break;case"material":i=this._invokeOne(function(s){return s.loadMaterial&&s.loadMaterial(t)});break;case"texture":i=this._invokeOne(function(s){return s.loadTexture&&s.loadTexture(t)});break;case"skin":i=this.loadSkin(t);break;case"animation":i=this._invokeOne(function(s){return s.loadAnimation&&s.loadAnimation(t)});break;case"camera":i=this.loadCamera(t);break;default:if(i=this._invokeOne(function(s){return s!=this&&s.getDependency&&s.getDependency(e,t)}),!i)throw new Error("Unknown type: "+e);break}this.cache.add(r,i)}return i}getDependencies(e){let t=this.cache.get(e);if(!t){const r=this,i=this.json[e+(e==="mesh"?"es":"s")]||[];t=Promise.all(i.map(function(s,o){return r.getDependency(e,o)})),this.cache.add(e,t)}return t}loadBuffer(e){const t=this.json.buffers[e],r=this.fileLoader;if(t.type&&t.type!=="arraybuffer")throw new Error("THREE.GLTFLoader: "+t.type+" buffer type is not supported.");if(t.uri===void 0&&e===0)return Promise.resolve(this.extensions[An.KHR_BINARY_GLTF].body);const i=this.options;return new Promise(function(s,o){r.load(Ou.resolveURL(t.uri,i.path),s,void 0,function(){o(new Error('THREE.GLTFLoader: Failed to load buffer "'+t.uri+'".'))})})}loadBufferView(e){const t=this.json.bufferViews[e];return this.getDependency("buffer",t.buffer).then(function(r){const i=t.byteLength||0,s=t.byteOffset||0;return r.slice(s,s+i)})}loadAccessor(e){const t=this,r=this.json,i=this.json.accessors[e];if(i.bufferView===void 0&&i.sparse===void 0){const o=h2[i.type],a=dy[i.componentType],l=i.normalized===!0,u=new a(i.count*o);return Promise.resolve(new Pn(u,o,l))}const s=[];return i.bufferView!==void 0?s.push(this.getDependency("bufferView",i.bufferView)):s.push(null),i.sparse!==void 0&&(s.push(this.getDependency("bufferView",i.sparse.indices.bufferView)),s.push(this.getDependency("bufferView",i.sparse.values.bufferView))),Promise.all(s).then(function(o){const a=o[0],l=h2[i.type],u=dy[i.componentType],h=u.BYTES_PER_ELEMENT,f=h*l,p=i.byteOffset||0,m=i.bufferView!==void 0?r.bufferViews[i.bufferView].byteStride:void 0,v=i.normalized===!0;let S,A;if(m&&m!==f){const g=Math.floor(p/m),M="InterleavedBuffer:"+i.bufferView+":"+i.componentType+":"+g+":"+i.count;let _=t.cache.get(M);_||(S=new u(a,g*m,i.count*m/h),_=new rS(S,m/h),t.cache.add(M,_)),A=new df(_,l,p%m/h,v)}else a===null?S=new u(i.count*l):S=new u(a,p,i.count*l),A=new Pn(S,l,v);if(i.sparse!==void 0){const g=h2.SCALAR,M=dy[i.sparse.indices.componentType],_=i.sparse.indices.byteOffset||0,b=i.sparse.values.byteOffset||0,T=new M(o[1],_,i.sparse.count*g),C=new u(o[2],b,i.sparse.count*l);a!==null&&(A=new Pn(A.array.slice(),A.itemSize,A.normalized));for(let B=0,P=T.length;B<P;B++){const R=T[B];if(A.setX(R,C[B*l]),l>=2&&A.setY(R,C[B*l+1]),l>=3&&A.setZ(R,C[B*l+2]),l>=4&&A.setW(R,C[B*l+3]),l>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}}return A})}loadTexture(e){const t=this.json,r=this.options,i=t.textures[e].source,s=t.images[i];let o=this.textureLoader;if(s.uri){const a=r.manager.getHandler(s.uri);a!==null&&(o=a)}return this.loadTextureImage(e,i,o)}loadTextureImage(e,t,r){const i=this,s=this.json,o=s.textures[e],a=s.images[t],l=(a.uri||a.bufferView)+":"+o.sampler;if(this.textureCache[l])return this.textureCache[l];const u=this.loadImageSource(t,r).then(function(h){h.flipY=!1,h.name=o.name||a.name||"",h.name===""&&typeof a.uri=="string"&&a.uri.startsWith("data:image/")===!1&&(h.name=a.uri);const f=(s.samplers||{})[o.sampler]||{};return h.magFilter=qV[f.magFilter]||Ar,h.minFilter=qV[f.minFilter]||Ju,h.wrapS=ZV[f.wrapS]||hf,h.wrapT=ZV[f.wrapT]||hf,i.associations.set(h,{textures:e}),h}).catch(function(){return null});return this.textureCache[l]=u,u}loadImageSource(e,t){const r=this,i=this.json,s=this.options;if(this.sourceCache[e]!==void 0)return this.sourceCache[e].then(f=>f.clone());const o=i.images[e],a=self.URL||self.webkitURL;let l=o.uri||"",u=!1;if(o.bufferView!==void 0)l=r.getDependency("bufferView",o.bufferView).then(function(f){u=!0;const p=new Blob([f],{type:o.mimeType});return l=a.createObjectURL(p),l});else if(o.uri===void 0)throw new Error("THREE.GLTFLoader: Image "+e+" is missing URI and bufferView");const h=Promise.resolve(l).then(function(f){return new Promise(function(p,m){let v=p;t.isImageBitmapLoader===!0&&(v=function(S){const A=new dr(S);A.needsUpdate=!0,p(A)}),t.load(Ou.resolveURL(f,s.path),v,void 0,m)})}).then(function(f){return u===!0&&a.revokeObjectURL(l),f.userData.mimeType=o.mimeType||Qge(o.uri),f}).catch(function(f){throw console.error("THREE.GLTFLoader: Couldn't load texture",l),f});return this.sourceCache[e]=h,h}assignTexture(e,t,r,i){const s=this;return this.getDependency("texture",r.index).then(function(o){if(!o)return null;if(r.texCoord!==void 0&&r.texCoord>0&&(o=o.clone(),o.channel=r.texCoord),s.extensions[An.KHR_TEXTURE_TRANSFORM]){const a=r.extensions!==void 0?r.extensions[An.KHR_TEXTURE_TRANSFORM]:void 0;if(a){const l=s.associations.get(o);o=s.extensions[An.KHR_TEXTURE_TRANSFORM].extendTexture(o,a),s.associations.set(o,l)}}return i!==void 0&&("colorSpace"in o?o.colorSpace=i===3001?"srgb":"srgb-linear":o.encoding=i),e[t]=o,o})}assignFinalMaterial(e){const t=e.geometry;let r=e.material;const i=t.attributes.tangent===void 0,s=t.attributes.color!==void 0,o=t.attributes.normal===void 0;if(e.isPoints){const a="PointsMaterial:"+r.uuid;let l=this.cache.get(a);l||(l=new iS,ci.prototype.copy.call(l,r),l.color.copy(r.color),l.map=r.map,l.sizeAttenuation=!1,this.cache.add(a,l)),r=l}else if(e.isLine){const a="LineBasicMaterial:"+r.uuid;let l=this.cache.get(a);l||(l=new Ts,ci.prototype.copy.call(l,r),l.color.copy(r.color),l.map=r.map,this.cache.add(a,l)),r=l}if(i||s||o){let a="ClonedMaterial:"+r.uuid+":";i&&(a+="derivative-tangents:"),s&&(a+="vertex-colors:"),o&&(a+="flat-shading:");let l=this.cache.get(a);l||(l=r.clone(),s&&(l.vertexColors=!0),o&&(l.flatShading=!0),i&&(l.normalScale&&(l.normalScale.y*=-1),l.clearcoatNormalScale&&(l.clearcoatNormalScale.y*=-1)),this.cache.add(a,l),this.associations.set(l,this.associations.get(r))),r=l}e.material=r}getMaterialType(){return oS}loadMaterial(e){const t=this,r=this.json,i=this.extensions,s=r.materials[e];let o;const a={},l=s.extensions||{},u=[];if(l[An.KHR_MATERIALS_UNLIT]){const f=i[An.KHR_MATERIALS_UNLIT];o=f.getMaterialType(),u.push(f.extendParams(a,s,t))}else{const f=s.pbrMetallicRoughness||{};if(a.color=new xt(1,1,1),a.opacity=1,Array.isArray(f.baseColorFactor)){const p=f.baseColorFactor;a.color.fromArray(p),a.opacity=p[3]}f.baseColorTexture!==void 0&&u.push(t.assignTexture(a,"map",f.baseColorTexture,3001)),a.metalness=f.metallicFactor!==void 0?f.metallicFactor:1,a.roughness=f.roughnessFactor!==void 0?f.roughnessFactor:1,f.metallicRoughnessTexture!==void 0&&(u.push(t.assignTexture(a,"metalnessMap",f.metallicRoughnessTexture)),u.push(t.assignTexture(a,"roughnessMap",f.metallicRoughnessTexture))),o=this._invokeOne(function(p){return p.getMaterialType&&p.getMaterialType(e)}),u.push(Promise.all(this._invokeAll(function(p){return p.extendMaterialParams&&p.extendMaterialParams(e,a)})))}s.doubleSided===!0&&(a.side=Ga);const h=s.alphaMode||d2.OPAQUE;if(h===d2.BLEND?(a.transparent=!0,a.depthWrite=!1):(a.transparent=!1,h===d2.MASK&&(a.alphaTest=s.alphaCutoff!==void 0?s.alphaCutoff:.5)),s.normalTexture!==void 0&&o!==Vo&&(u.push(t.assignTexture(a,"normalMap",s.normalTexture)),a.normalScale=new Ye(1,1),s.normalTexture.scale!==void 0)){const f=s.normalTexture.scale;a.normalScale.set(f,f)}return s.occlusionTexture!==void 0&&o!==Vo&&(u.push(t.assignTexture(a,"aoMap",s.occlusionTexture)),s.occlusionTexture.strength!==void 0&&(a.aoMapIntensity=s.occlusionTexture.strength)),s.emissiveFactor!==void 0&&o!==Vo&&(a.emissive=new xt().fromArray(s.emissiveFactor)),s.emissiveTexture!==void 0&&o!==Vo&&u.push(t.assignTexture(a,"emissiveMap",s.emissiveTexture,3001)),Promise.all(u).then(function(){const f=new o(a);return s.name&&(f.name=s.name),yd(f,s),t.associations.set(f,{materials:e}),s.extensions&&Pp(i,f,s),f})}createUniqueName(e){const t=bn.sanitizeNodeName(e||"");return t in this.nodeNamesUsed?t+"_"+ ++this.nodeNamesUsed[t]:(this.nodeNamesUsed[t]=0,t)}loadGeometries(e){const t=this,r=this.extensions,i=this.primitiveCache;function s(a){return r[An.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(a,t).then(function(l){return $V(l,a,t)})}const o=[];for(let a=0,l=e.length;a<l;a++){const u=e[a],h=Kge(u),f=i[h];if(f)o.push(f.promise);else{let p;u.extensions&&u.extensions[An.KHR_DRACO_MESH_COMPRESSION]?p=s(u):p=$V(new Kt,u,t),i[h]={primitive:u,promise:p},o.push(p)}}return Promise.all(o)}loadMesh(e){const t=this,r=this.json,i=this.extensions,s=r.meshes[e],o=s.primitives,a=[];for(let l=0,u=o.length;l<u;l++){const h=o[l].material===void 0?Xge(this.cache):this.getDependency("material",o[l].material);a.push(h)}return a.push(t.loadGeometries(o)),Promise.all(a).then(function(l){const u=l.slice(0,l.length-1),h=l[l.length-1],f=[];for(let m=0,v=h.length;m<v;m++){const S=h[m],A=o[m];let g;const M=u[m];if(A.mode===La.TRIANGLES||A.mode===La.TRIANGLE_STRIP||A.mode===La.TRIANGLE_FAN||A.mode===void 0)g=s.isSkinnedMesh===!0?new XU(S,M):new _i(S,M),g.isSkinnedMesh===!0&&g.normalizeSkinWeights(),A.mode===La.TRIANGLE_STRIP?g.geometry=YV(g.geometry,PU):A.mode===La.TRIANGLE_FAN&&(g.geometry=YV(g.geometry,ZT));else if(A.mode===La.LINES)g=new jl(S,M);else if(A.mode===La.LINE_STRIP)g=new xh(S,M);else if(A.mode===La.LINE_LOOP)g=new KU(S,M);else if(A.mode===La.POINTS)g=new QU(S,M);else throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+A.mode);Object.keys(g.geometry.morphAttributes).length>0&&Yge(g,s),g.name=t.createUniqueName(s.name||"mesh_"+e),yd(g,s),A.extensions&&Pp(i,g,A),t.assignFinalMaterial(g),f.push(g)}for(let m=0,v=f.length;m<v;m++)t.associations.set(f[m],{meshes:e,primitives:m});if(f.length===1)return s.extensions&&Pp(i,f[0],s),f[0];const p=new eh;s.extensions&&Pp(i,p,s),t.associations.set(p,{meshes:e});for(let m=0,v=f.length;m<v;m++)p.add(f[m]);return p})}loadCamera(e){let t;const r=this.json.cameras[e],i=r[r.type];if(!i){console.warn("THREE.GLTFLoader: Missing camera parameters.");return}return r.type==="perspective"?t=new ur(DU.radToDeg(i.yfov),i.aspectRatio||1,i.znear||1,i.zfar||2e6):r.type==="orthographic"&&(t=new Ll(-i.xmag,i.xmag,i.ymag,-i.ymag,i.znear,i.zfar)),r.name&&(t.name=this.createUniqueName(r.name)),yd(t,r),Promise.resolve(t)}loadSkin(e){const t=this.json.skins[e],r=[];for(let i=0,s=t.joints.length;i<s;i++)r.push(this._loadNodeShallow(t.joints[i]));return t.inverseBindMatrices!==void 0?r.push(this.getDependency("accessor",t.inverseBindMatrices)):r.push(null),Promise.all(r).then(function(i){const s=i.pop(),o=i,a=[],l=[];for(let u=0,h=o.length;u<h;u++){const f=o[u];if(f){a.push(f);const p=new zt;s!==null&&p.fromArray(s.array,u*16),l.push(p)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',t.joints[u])}return new JU(a,l)})}loadAnimation(e){const t=this.json.animations[e],r=t.name?t.name:"animation_"+e,i=[],s=[],o=[],a=[],l=[];for(let u=0,h=t.channels.length;u<h;u++){const f=t.channels[u],p=t.samplers[f.sampler],m=f.target,v=m.node,S=t.parameters!==void 0?t.parameters[p.input]:p.input,A=t.parameters!==void 0?t.parameters[p.output]:p.output;m.node!==void 0&&(i.push(this.getDependency("node",v)),s.push(this.getDependency("accessor",S)),o.push(this.getDependency("accessor",A)),a.push(p),l.push(m))}return Promise.all([Promise.all(i),Promise.all(s),Promise.all(o),Promise.all(a),Promise.all(l)]).then(function(u){const h=u[0],f=u[1],p=u[2],m=u[3],v=u[4],S=[];for(let A=0,g=h.length;A<g;A++){const M=h[A],_=f[A],b=p[A],T=m[A],C=v[A];if(M===void 0)continue;M.updateMatrix();let B;switch(td[C.path]){case td.weights:B=ky;break;case td.rotation:B=ff;break;case td.position:case td.scale:default:B=Gy;break}const P=M.name?M.name:M.uuid,R=T.interpolation!==void 0?jge[T.interpolation]:Zm,L=[];td[C.path]===td.weights?M.traverse(function(Q){Q.morphTargetInfluences&&L.push(Q.name?Q.name:Q.uuid)}):L.push(P);let U=b.array;if(b.normalized){const Q=qD(U.constructor),W=new Float32Array(U.length);for(let Y=0,X=U.length;Y<X;Y++)W[Y]=U[Y]*Q;U=W}for(let Q=0,W=L.length;Q<W;Q++){const Y=new B(L[Q]+"."+td[C.path],_.array,U,R);T.interpolation==="CUBICSPLINE"&&(Y.createInterpolant=function(X){const ae=this instanceof ff?Wge:aQ;return new ae(this.times,this.values,this.getValueSize()/3,X)},Y.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0),S.push(Y)}}return new zy(r,void 0,S)})}createNodeMesh(e){const t=this.json,r=this,i=t.nodes[e];return i.mesh===void 0?null:r.getDependency("mesh",i.mesh).then(function(s){const o=r._getNodeRef(r.meshCache,i.mesh,s);return i.weights!==void 0&&o.traverse(function(a){if(a.isMesh)for(let l=0,u=i.weights.length;l<u;l++)a.morphTargetInfluences[l]=i.weights[l]}),o})}loadNode(e){const t=this.json,r=this,i=t.nodes[e],s=r._loadNodeShallow(e),o=[],a=i.children||[];for(let u=0,h=a.length;u<h;u++)o.push(r.getDependency("node",a[u]));const l=i.skin===void 0?Promise.resolve(null):r.getDependency("skin",i.skin);return Promise.all([s,Promise.all(o),l]).then(function(u){const h=u[0],f=u[1],p=u[2];p!==null&&h.traverse(function(m){m.isSkinnedMesh&&m.bind(p,qge)});for(let m=0,v=f.length;m<v;m++)h.add(f[m]);return h})}_loadNodeShallow(e){const t=this.json,r=this.extensions,i=this;if(this.nodeCache[e]!==void 0)return this.nodeCache[e];const s=t.nodes[e],o=s.name?i.createUniqueName(s.name):"",a=[],l=i._invokeOne(function(u){return u.createNodeMesh&&u.createNodeMesh(e)});return l&&a.push(l),s.camera!==void 0&&a.push(i.getDependency("camera",s.camera).then(function(u){return i._getNodeRef(i.cameraCache,s.camera,u)})),i._invokeAll(function(u){return u.createNodeAttachment&&u.createNodeAttachment(e)}).forEach(function(u){a.push(u)}),this.nodeCache[e]=Promise.all(a).then(function(u){let h;if(s.isBone===!0?h=new bR:u.length>1?h=new eh:u.length===1?h=u[0]:h=new Mn,h!==u[0])for(let f=0,p=u.length;f<p;f++)h.add(u[f]);if(s.name&&(h.userData.name=s.name,h.name=o),yd(h,s),s.extensions&&Pp(r,h,s),s.matrix!==void 0){const f=new zt;f.fromArray(s.matrix),h.applyMatrix4(f)}else s.translation!==void 0&&h.position.fromArray(s.translation),s.rotation!==void 0&&h.quaternion.fromArray(s.rotation),s.scale!==void 0&&h.scale.fromArray(s.scale);return i.associations.has(h)||i.associations.set(h,{}),i.associations.get(h).nodes=e,h}),this.nodeCache[e]}loadScene(e){const t=this.extensions,r=this.json.scenes[e],i=this,s=new eh;r.name&&(s.name=i.createUniqueName(r.name)),yd(s,r),r.extensions&&Pp(t,s,r);const o=r.nodes||[],a=[];for(let l=0,u=o.length;l<u;l++)a.push(i.getDependency("node",o[l]));return Promise.all(a).then(function(l){for(let h=0,f=l.length;h<f;h++)s.add(l[h]);const u=h=>{const f=new Map;for(const[p,m]of i.associations)(p instanceof ci||p instanceof dr)&&f.set(p,m);return h.traverse(p=>{const m=i.associations.get(p);m!=null&&f.set(p,m)}),f};return i.associations=u(s),s})}}function $ge(n,e,t){const r=e.attributes,i=new Wl;if(r.POSITION!==void 0){const a=t.json.accessors[r.POSITION],l=a.min,u=a.max;if(l!==void 0&&u!==void 0){if(i.set(new se(l[0],l[1],l[2]),new se(u[0],u[1],u[2])),a.normalized){const h=qD(dy[a.componentType]);i.min.multiplyScalar(h),i.max.multiplyScalar(h)}}else{console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.");return}}else return;const s=e.targets;if(s!==void 0){const a=new se,l=new se;for(let u=0,h=s.length;u<h;u++){const f=s[u];if(f.POSITION!==void 0){const p=t.json.accessors[f.POSITION],m=p.min,v=p.max;if(m!==void 0&&v!==void 0){if(l.setX(Math.max(Math.abs(m[0]),Math.abs(v[0]))),l.setY(Math.max(Math.abs(m[1]),Math.abs(v[1]))),l.setZ(Math.max(Math.abs(m[2]),Math.abs(v[2]))),p.normalized){const S=qD(dy[p.componentType]);l.multiplyScalar(S)}a.max(l)}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}i.expandByVector(a)}n.boundingBox=i;const o=new Za;i.getCenter(o.center),o.radius=i.min.distanceTo(i.max)/2,n.boundingSphere=o}function $V(n,e,t){const r=e.attributes,i=[];function s(o,a){return t.getDependency("accessor",o).then(function(l){n.setAttribute(a,l)})}for(const o in r){const a=QD[o]||o.toLowerCase();a in n.attributes||i.push(s(r[o],a))}if(e.indices!==void 0&&!n.index){const o=t.getDependency("accessor",e.indices).then(function(a){n.setIndex(a)});i.push(o)}return yd(n,e),$ge(n,e,t),Promise.all(i).then(function(){return e.targets!==void 0?Jge(n,e.targets,t):n})}class eve extends Kt{constructor(e,t,r,i){super();const s=[],o=[],a=[],l=new se,u=new zt;u.makeRotationFromEuler(r),u.setPosition(t);const h=new zt;h.copy(u).invert(),f(),this.setAttribute("position",new Tt(s,3)),this.setAttribute("normal",new Tt(o,3)),this.setAttribute("uv",new Tt(a,2));function f(){let S,A=[];const g=new se,M=new se;if(e.geometry.isGeometry===!0){console.error("THREE.DecalGeometry no longer supports THREE.Geometry. Use BufferGeometry instead.");return}const _=e.geometry,b=_.attributes.position,T=_.attributes.normal;if(_.index!==null){const C=_.index;for(S=0;S<C.count;S++)g.fromBufferAttribute(b,C.getX(S)),M.fromBufferAttribute(T,C.getX(S)),p(A,g,M)}else for(S=0;S<b.count;S++)g.fromBufferAttribute(b,S),M.fromBufferAttribute(T,S),p(A,g,M);for(A=m(A,l.set(1,0,0)),A=m(A,l.set(-1,0,0)),A=m(A,l.set(0,1,0)),A=m(A,l.set(0,-1,0)),A=m(A,l.set(0,0,1)),A=m(A,l.set(0,0,-1)),S=0;S<A.length;S++){const C=A[S];a.push(.5+C.position.x/i.x,.5+C.position.y/i.y),C.position.applyMatrix4(u),s.push(C.position.x,C.position.y,C.position.z),o.push(C.normal.x,C.normal.y,C.normal.z)}}function p(S,A,g){A.applyMatrix4(e.matrixWorld),A.applyMatrix4(h),g.transformDirection(e.matrixWorld),S.push(new e5(A.clone(),g.clone()))}function m(S,A){const g=[],M=.5*Math.abs(i.dot(A));for(let _=0;_<S.length;_+=3){let b,T,C,B=0,P,R,L,U;const Q=S[_+0].position.dot(A)-M,W=S[_+1].position.dot(A)-M,Y=S[_+2].position.dot(A)-M;switch(b=Q>0,T=W>0,C=Y>0,B=(b?1:0)+(T?1:0)+(C?1:0),B){case 0:{g.push(S[_]),g.push(S[_+1]),g.push(S[_+2]);break}case 1:{if(b&&(P=S[_+1],R=S[_+2],L=v(S[_],P,A,M),U=v(S[_],R,A,M)),T){P=S[_],R=S[_+2],L=v(S[_+1],P,A,M),U=v(S[_+1],R,A,M),g.push(L),g.push(R.clone()),g.push(P.clone()),g.push(R.clone()),g.push(L.clone()),g.push(U);break}C&&(P=S[_],R=S[_+1],L=v(S[_+2],P,A,M),U=v(S[_+2],R,A,M)),g.push(P.clone()),g.push(R.clone()),g.push(L),g.push(U),g.push(L.clone()),g.push(R.clone());break}case 2:{b||(P=S[_].clone(),R=v(P,S[_+1],A,M),L=v(P,S[_+2],A,M),g.push(P),g.push(R),g.push(L)),T||(P=S[_+1].clone(),R=v(P,S[_+2],A,M),L=v(P,S[_],A,M),g.push(P),g.push(R),g.push(L)),C||(P=S[_+2].clone(),R=v(P,S[_],A,M),L=v(P,S[_+1],A,M),g.push(P),g.push(R),g.push(L));break}}}return g}function v(S,A,g,M){const _=S.position.dot(g)-M,b=A.position.dot(g)-M,T=_/(_-b);return new e5(new se(S.position.x+T*(A.position.x-S.position.x),S.position.y+T*(A.position.y-S.position.y),S.position.z+T*(A.position.z-S.position.z)),new se(S.normal.x+T*(A.normal.x-S.normal.x),S.normal.y+T*(A.normal.y-S.normal.y),S.normal.z+T*(A.normal.z-S.normal.z)))}}}class e5{constructor(e,t){this.position=e,this.normal=t}clone(){return new this.constructor(this.position.clone(),this.normal.clone())}}const p2=new WeakMap;class tve extends Ys{constructor(e){super(e),this.decoderPath="",this.decoderConfig={},this.decoderBinary=null,this.decoderPending=null,this.workerLimit=4,this.workerPool=[],this.workerNextTaskID=1,this.workerSourceURL="",this.defaultAttributeIDs={position:"POSITION",normal:"NORMAL",color:"COLOR",uv:"TEX_COORD"},this.defaultAttributeTypes={position:"Float32Array",normal:"Float32Array",color:"Float32Array",uv:"Float32Array"}}setDecoderPath(e){return this.decoderPath=e,this}setDecoderConfig(e){return this.decoderConfig=e,this}setWorkerLimit(e){return this.workerLimit=e,this}load(e,t,r,i){const s=new Zo(this.manager);s.setPath(this.path),s.setResponseType("arraybuffer"),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(e,o=>{const a={attributeIDs:this.defaultAttributeIDs,attributeTypes:this.defaultAttributeTypes,useUniqueIDs:!1};this.decodeGeometry(o,a).then(t).catch(i)},r,i)}decodeDracoFile(e,t,r,i){const s={attributeIDs:r||this.defaultAttributeIDs,attributeTypes:i||this.defaultAttributeTypes,useUniqueIDs:!!r};this.decodeGeometry(e,s).then(t)}decodeGeometry(e,t){for(const l in t.attributeTypes){const u=t.attributeTypes[l];u.BYTES_PER_ELEMENT!==void 0&&(t.attributeTypes[l]=u.name)}const r=JSON.stringify(t);if(p2.has(e)){const l=p2.get(e);if(l.key===r)return l.promise;if(e.byteLength===0)throw new Error("THREE.DRACOLoader: Unable to re-decode a buffer with different settings. Buffer has already been transferred.")}let i;const s=this.workerNextTaskID++,o=e.byteLength,a=this._getWorker(s,o).then(l=>(i=l,new Promise((u,h)=>{i._callbacks[s]={resolve:u,reject:h},i.postMessage({type:"decode",id:s,taskConfig:t,buffer:e},[e])}))).then(l=>this._createGeometry(l.geometry));return a.catch(()=>!0).then(()=>{i&&s&&this._releaseTask(i,s)}),p2.set(e,{key:r,promise:a}),a}_createGeometry(e){const t=new Kt;e.index&&t.setIndex(new Pn(e.index.array,1));for(let r=0;r<e.attributes.length;r++){const i=e.attributes[r],s=i.name,o=i.array,a=i.itemSize;t.setAttribute(s,new Pn(o,a))}return t}_loadLibrary(e,t){const r=new Zo(this.manager);return r.setPath(this.decoderPath),r.setResponseType(t),r.setWithCredentials(this.withCredentials),new Promise((i,s)=>{r.load(e,i,void 0,s)})}preload(){return this._initDecoder(),this}_initDecoder(){if(this.decoderPending)return this.decoderPending;const e=typeof WebAssembly!="object"||this.decoderConfig.type==="js",t=[];return e?t.push(this._loadLibrary("draco_decoder.js","text")):(t.push(this._loadLibrary("draco_wasm_wrapper.js","text")),t.push(this._loadLibrary("draco_decoder.wasm","arraybuffer"))),this.decoderPending=Promise.all(t).then(r=>{const i=r[0];e||(this.decoderConfig.wasmBinary=r[1]);const s=nve.toString(),o=["/* draco decoder */",i,"","/* worker */",s.substring(s.indexOf("{")+1,s.lastIndexOf("}"))].join(`
`);this.workerSourceURL=URL.createObjectURL(new Blob([o]))}),this.decoderPending}_getWorker(e,t){return this._initDecoder().then(()=>{if(this.workerPool.length<this.workerLimit){const i=new Worker(this.workerSourceURL);i._callbacks={},i._taskCosts={},i._taskLoad=0,i.postMessage({type:"init",decoderConfig:this.decoderConfig}),i.onmessage=function(s){const o=s.data;switch(o.type){case"decode":i._callbacks[o.id].resolve(o);break;case"error":i._callbacks[o.id].reject(o);break;default:console.error('THREE.DRACOLoader: Unexpected message, "'+o.type+'"')}},this.workerPool.push(i)}else this.workerPool.sort(function(i,s){return i._taskLoad>s._taskLoad?-1:1});const r=this.workerPool[this.workerPool.length-1];return r._taskCosts[e]=t,r._taskLoad+=t,r})}_releaseTask(e,t){e._taskLoad-=e._taskCosts[t],delete e._callbacks[t],delete e._taskCosts[t]}debug(){console.log("Task load: ",this.workerPool.map(e=>e._taskLoad))}dispose(){for(let e=0;e<this.workerPool.length;++e)this.workerPool[e].terminate();return this.workerPool.length=0,this}}function nve(){let n,e;onmessage=function(o){const a=o.data;switch(a.type){case"init":n=a.decoderConfig,e=new Promise(function(h){n.onModuleLoaded=function(f){h({draco:f})},DracoDecoderModule(n)});break;case"decode":const l=a.buffer,u=a.taskConfig;e.then(h=>{const f=h.draco,p=new f.Decoder,m=new f.DecoderBuffer;m.Init(new Int8Array(l),l.byteLength);try{const v=t(f,p,m,u),S=v.attributes.map(A=>A.array.buffer);v.index&&S.push(v.index.array.buffer),self.postMessage({type:"decode",id:a.id,geometry:v},S)}catch(v){console.error(v),self.postMessage({type:"error",id:a.id,error:v.message})}finally{f.destroy(m),f.destroy(p)}});break}};function t(o,a,l,u){const h=u.attributeIDs,f=u.attributeTypes;let p,m;const v=a.GetEncodedGeometryType(l);if(v===o.TRIANGULAR_MESH)p=new o.Mesh,m=a.DecodeBufferToMesh(l,p);else if(v===o.POINT_CLOUD)p=new o.PointCloud,m=a.DecodeBufferToPointCloud(l,p);else throw new Error("THREE.DRACOLoader: Unexpected geometry type.");if(!m.ok()||p.ptr===0)throw new Error("THREE.DRACOLoader: Decoding failed: "+m.error_msg());const S={index:null,attributes:[]};for(const A in h){const g=self[f[A]];let M,_;if(u.useUniqueIDs)_=h[A],M=a.GetAttributeByUniqueId(p,_);else{if(_=a.GetAttributeId(p,o[h[A]]),_===-1)continue;M=a.GetAttribute(p,_)}S.attributes.push(i(o,a,p,A,g,M))}return v===o.TRIANGULAR_MESH&&(S.index=r(o,a,p)),o.destroy(p),S}function r(o,a,l){const u=l.num_faces()*3,h=u*4,f=o._malloc(h);a.GetTrianglesUInt32Array(l,h,f);const p=new Uint32Array(o.HEAPF32.buffer,f,u).slice();return o._free(f),{array:p,itemSize:1}}function i(o,a,l,u,h,f){const p=f.num_components(),m=l.num_points()*p,v=m*h.BYTES_PER_ELEMENT,S=s(o,h),A=o._malloc(v);a.GetAttributeDataArrayForAllPoints(l,f,S,v,A);const g=new h(o.HEAPF32.buffer,A,m).slice();return o._free(A),{name:u,array:g,itemSize:p}}function s(o,a){switch(a){case Float32Array:return o.DT_FLOAT32;case Int8Array:return o.DT_INT8;case Int16Array:return o.DT_INT16;case Int32Array:return o.DT_INT32;case Uint8Array:return o.DT_UINT8;case Uint16Array:return o.DT_UINT16;case Uint32Array:return o.DT_UINT32}}}let vb;const m2=()=>{if(vb)return vb;const n="B9h9z9tFBBBF8fL9gBB9gLaaaaaFa9gEaaaB9gFaFa9gEaaaFaEMcBFFFGGGEIIILF9wFFFLEFBFKNFaFCx/IFMO/LFVK9tv9t9vq95GBt9f9f939h9z9t9f9j9h9s9s9f9jW9vq9zBBp9tv9z9o9v9wW9f9kv9j9v9kv9WvqWv94h919m9mvqBF8Z9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv94h919m9mvqBGy9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv949TvZ91v9u9jvBEn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9P9jWBIi9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9R919hWBLn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9F949wBKI9z9iqlBOc+x8ycGBM/qQFTa8jUUUUBCU/EBlHL8kUUUUBC9+RKGXAGCFJAI9LQBCaRKAE2BBC+gF9HQBALAEAIJHOAGlAGTkUUUBRNCUoBAG9uC/wgBZHKCUGAKCUG9JyRVAECFJRICBRcGXEXAcAF9PQFAVAFAclAcAVJAF9JyRMGXGXAG9FQBAMCbJHKC9wZRSAKCIrCEJCGrRQANCUGJRfCBRbAIRTEXGXAOATlAQ9PQBCBRISEMATAQJRIGXAS9FQBCBRtCBREEXGXAOAIlCi9PQBCBRISLMANCU/CBJAEJRKGXGXGXGXGXATAECKrJ2BBAtCKZrCEZfIBFGEBMAKhB83EBAKCNJhB83EBSEMAKAI2BIAI2BBHmCKrHYAYCE6HYy86BBAKCFJAICIJAYJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCGJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCEJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCIJAYAmJHY2BBAI2BFHmCKrHPAPCE6HPy86BBAKCLJAYAPJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCKJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCOJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCNJAYAmJHY2BBAI2BGHmCKrHPAPCE6HPy86BBAKCVJAYAPJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCcJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCMJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCSJAYAmJHm2BBAI2BEHICKrHYAYCE6HYy86BBAKCQJAmAYJHm2BBAICIrCEZHYAYCE6HYy86BBAKCfJAmAYJHm2BBAICGrCEZHYAYCE6HYy86BBAKCbJAmAYJHK2BBAICEZHIAICE6HIy86BBAKAIJRISGMAKAI2BNAI2BBHmCIrHYAYCb6HYy86BBAKCFJAICNJAYJHY2BBAmCbZHmAmCb6Hmy86BBAKCGJAYAmJHm2BBAI2BFHYCIrHPAPCb6HPy86BBAKCEJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCIJAmAYJHm2BBAI2BGHYCIrHPAPCb6HPy86BBAKCLJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCKJAmAYJHm2BBAI2BEHYCIrHPAPCb6HPy86BBAKCOJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCNJAmAYJHm2BBAI2BIHYCIrHPAPCb6HPy86BBAKCVJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCcJAmAYJHm2BBAI2BLHYCIrHPAPCb6HPy86BBAKCMJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCSJAmAYJHm2BBAI2BKHYCIrHPAPCb6HPy86BBAKCQJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCfJAmAYJHm2BBAI2BOHICIrHYAYCb6HYy86BBAKCbJAmAYJHK2BBAICbZHIAICb6HIy86BBAKAIJRISFMAKAI8pBB83BBAKCNJAICNJ8pBB83BBAICTJRIMAtCGJRtAECTJHEAS9JQBMMGXAIQBCBRISEMGXAM9FQBANAbJ2BBRtCBRKAfREEXAEANCU/CBJAKJ2BBHTCFrCBATCFZl9zAtJHt86BBAEAGJREAKCFJHKAM9HQBMMAfCFJRfAIRTAbCFJHbAG9HQBMMABAcAG9sJANCUGJAMAG9sTkUUUBpANANCUGJAMCaJAG9sJAGTkUUUBpMAMCBAIyAcJRcAIQBMC9+RKSFMCBC99AOAIlAGCAAGCA9Ly6yRKMALCU/EBJ8kUUUUBAKM+OmFTa8jUUUUBCoFlHL8kUUUUBC9+RKGXAFCE9uHOCtJAI9LQBCaRKAE2BBHNC/wFZC/gF9HQBANCbZHVCF9LQBALCoBJCgFCUFT+JUUUBpALC84Jha83EBALC8wJha83EBALC8oJha83EBALCAJha83EBALCiJha83EBALCTJha83EBALha83ENALha83EBAEAIJC9wJRcAECFJHNAOJRMGXAF9FQBCQCbAVCF6yRSABRECBRVCBRQCBRfCBRICBRKEXGXAMAcuQBC9+RKSEMGXGXAN2BBHOC/vF9LQBALCoBJAOCIrCa9zAKJCbZCEWJHb8oGIRTAb8oGBRtGXAOCbZHbAS9PQBALAOCa9zAIJCbZCGWJ8oGBAVAbyROAb9FRbGXGXAGCG9HQBABAt87FBABCIJAO87FBABCGJAT87FBSFMAEAtjGBAECNJAOjGBAECIJATjGBMAVAbJRVALCoBJAKCEWJHmAOjGBAmATjGIALAICGWJAOjGBALCoBJAKCFJCbZHKCEWJHTAtjGBATAOjGIAIAbJRIAKCFJRKSGMGXGXAbCb6QBAQAbJAbC989zJCFJRQSFMAM1BBHbCgFZROGXGXAbCa9MQBAMCFJRMSFMAM1BFHbCgBZCOWAOCgBZqROGXAbCa9MQBAMCGJRMSFMAM1BGHbCgBZCfWAOqROGXAbCa9MQBAMCEJRMSFMAM1BEHbCgBZCdWAOqROGXAbCa9MQBAMCIJRMSFMAM2BIC8cWAOqROAMCLJRMMAOCFrCBAOCFZl9zAQJRQMGXGXAGCG9HQBABAt87FBABCIJAQ87FBABCGJAT87FBSFMAEAtjGBAECNJAQjGBAECIJATjGBMALCoBJAKCEWJHOAQjGBAOATjGIALAICGWJAQjGBALCoBJAKCFJCbZHKCEWJHOAtjGBAOAQjGIAICFJRIAKCFJRKSFMGXAOCDF9LQBALAIAcAOCbZJ2BBHbCIrHTlCbZCGWJ8oGBAVCFJHtATyROALAIAblCbZCGWJ8oGBAtAT9FHmJHtAbCbZHTyRbAT9FRTGXGXAGCG9HQBABAV87FBABCIJAb87FBABCGJAO87FBSFMAEAVjGBAECNJAbjGBAECIJAOjGBMALAICGWJAVjGBALCoBJAKCEWJHYAOjGBAYAVjGIALAICFJHICbZCGWJAOjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAIAmJCbZHICGWJAbjGBALCoBJAKCGJCbZHKCEWJHOAVjGBAOAbjGIAKCFJRKAIATJRIAtATJRVSFMAVCBAM2BBHYyHTAOC/+F6HPJROAYCbZRtGXGXAYCIrHmQBAOCFJRbSFMAORbALAIAmlCbZCGWJ8oGBROMGXGXAtQBAbCFJRVSFMAbRVALAIAYlCbZCGWJ8oGBRbMGXGXAP9FQBAMCFJRYSFMAM1BFHYCgFZRTGXGXAYCa9MQBAMCGJRYSFMAM1BGHYCgBZCOWATCgBZqRTGXAYCa9MQBAMCEJRYSFMAM1BEHYCgBZCfWATqRTGXAYCa9MQBAMCIJRYSFMAM1BIHYCgBZCdWATqRTGXAYCa9MQBAMCLJRYSFMAMCKJRYAM2BLC8cWATqRTMATCFrCBATCFZl9zAQJHQRTMGXGXAmCb6QBAYRPSFMAY1BBHMCgFZROGXGXAMCa9MQBAYCFJRPSFMAY1BFHMCgBZCOWAOCgBZqROGXAMCa9MQBAYCGJRPSFMAY1BGHMCgBZCfWAOqROGXAMCa9MQBAYCEJRPSFMAY1BEHMCgBZCdWAOqROGXAMCa9MQBAYCIJRPSFMAYCLJRPAY2BIC8cWAOqROMAOCFrCBAOCFZl9zAQJHQROMGXGXAtCb6QBAPRMSFMAP1BBHMCgFZRbGXGXAMCa9MQBAPCFJRMSFMAP1BFHMCgBZCOWAbCgBZqRbGXAMCa9MQBAPCGJRMSFMAP1BGHMCgBZCfWAbqRbGXAMCa9MQBAPCEJRMSFMAP1BEHMCgBZCdWAbqRbGXAMCa9MQBAPCIJRMSFMAPCLJRMAP2BIC8cWAbqRbMAbCFrCBAbCFZl9zAQJHQRbMGXGXAGCG9HQBABAT87FBABCIJAb87FBABCGJAO87FBSFMAEATjGBAECNJAbjGBAECIJAOjGBMALCoBJAKCEWJHYAOjGBAYATjGIALAICGWJATjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAICFJHICbZCGWJAOjGBALCoBJAKCGJCbZCEWJHOATjGBAOAbjGIALAIAm9FAmCb6qJHICbZCGWJAbjGBAIAt9FAtCb6qJRIAKCEJRKMANCFJRNABCKJRBAECSJREAKCbZRKAICbZRIAfCEJHfAF9JQBMMCBC99AMAc6yRKMALCoFJ8kUUUUBAKM/tIFGa8jUUUUBCTlRLC9+RKGXAFCLJAI9LQBCaRKAE2BBC/+FZC/QF9HQBALhB83ENAECFJRKAEAIJC98JREGXAF9FQBGXAGCG6QBEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMALCNJAICFZCGWqHGAICGrCBAICFrCFZl9zAG8oGBJHIjGBABAIjGBABCIJRBAFCaJHFQBSGMMEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMABAICGrCBAICFrCFZl9zALCNJAICFZCGWqHI8oGBJHG87FBAIAGjGBABCGJRBAFCaJHFQBMMCBC99AKAE6yRKMAKM+lLKFaF99GaG99FaG99GXGXAGCI9HQBAF9FQFEXGXGX9DBBB8/9DBBB+/ABCGJHG1BB+yAB1BBHE+yHI+L+TABCFJHL1BBHK+yHO+L+THN9DBBBB9gHVyAN9DBB/+hANAN+U9DBBBBANAVyHcAc+MHMAECa3yAI+SHIAI+UAcAMAKCa3yAO+SHcAc+U+S+S+R+VHO+U+SHN+L9DBBB9P9d9FQBAN+oRESFMCUUUU94REMAGAE86BBGXGX9DBBB8/9DBBB+/Ac9DBBBB9gyAcAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMALAG86BBGXGX9DBBB8/9DBBB+/AI9DBBBB9gyAIAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMABAG86BBABCIJRBAFCaJHFQBSGMMAF9FQBEXGXGX9DBBB8/9DBBB+/ABCIJHG8uFB+yAB8uFBHE+yHI+L+TABCGJHL8uFBHK+yHO+L+THN9DBBBB9gHVyAN9DB/+g6ANAN+U9DBBBBANAVyHcAc+MHMAECa3yAI+SHIAI+UAcAMAKCa3yAO+SHcAc+U+S+S+R+VHO+U+SHN+L9DBBB9P9d9FQBAN+oRESFMCUUUU94REMAGAE87FBGXGX9DBBB8/9DBBB+/Ac9DBBBB9gyAcAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMALAG87FBGXGX9DBBB8/9DBBB+/AI9DBBBB9gyAIAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMABAG87FBABCNJRBAFCaJHFQBMMM/SEIEaE99EaF99GXAF9FQBCBREABRIEXGXGX9D/zI818/AICKJ8uFBHLCEq+y+VHKAI8uFB+y+UHO9DB/+g6+U9DBBB8/9DBBB+/AO9DBBBB9gy+SHN+L9DBBB9P9d9FQBAN+oRVSFMCUUUU94RVMAICIJ8uFBRcAICGJ8uFBRMABALCFJCEZAEqCFWJAV87FBGXGXAKAM+y+UHN9DB/+g6+U9DBBB8/9DBBB+/AN9DBBBB9gy+SHS+L9DBBB9P9d9FQBAS+oRMSFMCUUUU94RMMABALCGJCEZAEqCFWJAM87FBGXGXAKAc+y+UHK9DB/+g6+U9DBBB8/9DBBB+/AK9DBBBB9gy+SHS+L9DBBB9P9d9FQBAS+oRcSFMCUUUU94RcMABALCaJCEZAEqCFWJAc87FBGXGX9DBBU8/AOAO+U+TANAN+U+TAKAK+U+THO9DBBBBAO9DBBBB9gy+R9DB/+g6+U9DBBB8/+SHO+L9DBBB9P9d9FQBAO+oRcSFMCUUUU94RcMABALCEZAEqCFWJAc87FBAICNJRIAECIJREAFCaJHFQBMMM9JBGXAGCGrAF9sHF9FQBEXABAB8oGBHGCNWCN91+yAGCi91CnWCUUU/8EJ+++U84GBABCIJRBAFCaJHFQBMMM9TFEaCBCB8oGUkUUBHFABCEJC98ZJHBjGUkUUBGXGXAB8/BCTWHGuQBCaREABAGlCggEJCTrXBCa6QFMAFREMAEM/lFFFaGXGXAFABqCEZ9FQBABRESFMGXGXAGCT9PQBABRESFMABREEXAEAF8oGBjGBAECIJAFCIJ8oGBjGBAECNJAFCNJ8oGBjGBAECSJAFCSJ8oGBjGBAECTJREAFCTJRFAGC9wJHGCb9LQBMMAGCI9JQBEXAEAF8oGBjGBAFCIJRFAECIJREAGC98JHGCE9LQBMMGXAG9FQBEXAEAF2BB86BBAECFJREAFCFJRFAGCaJHGQBMMABMoFFGaGXGXABCEZ9FQBABRESFMAFCgFZC+BwsN9sRIGXGXAGCT9PQBABRESFMABREEXAEAIjGBAECSJAIjGBAECNJAIjGBAECIJAIjGBAECTJREAGC9wJHGCb9LQBMMAGCI9JQBEXAEAIjGBAECIJREAGC98JHGCE9LQBMMGXAG9FQBEXAEAF86BBAECFJREAGCaJHGQBMMABMMMFBCUNMIT9kBB",e="B9h9z9tFBBBFiI9gBB9gLaaaaaFa9gEaaaB9gFaFaEMcBBFBFFGGGEILF9wFFFLEFBFKNFaFCx/aFMO/LFVK9tv9t9vq95GBt9f9f939h9z9t9f9j9h9s9s9f9jW9vq9zBBp9tv9z9o9v9wW9f9kv9j9v9kv9WvqWv94h919m9mvqBG8Z9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv94h919m9mvqBIy9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv949TvZ91v9u9jvBLn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9P9jWBKi9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9R919hWBOn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9F949wBNI9z9iqlBVc+N9IcIBTEM9+FLa8jUUUUBCTlRBCBRFEXCBRGCBREEXABCNJAGJAECUaAFAGrCFZHIy86BBAEAIJREAGCFJHGCN9HQBMAFCx+YUUBJAE86BBAFCEWCxkUUBJAB8pEN83EBAFCFJHFCUG9HQBMMk8lLbaE97F9+FaL978jUUUUBCU/KBlHL8kUUUUBC9+RKGXAGCFJAI9LQBCaRKAE2BBC+gF9HQBALAEAIJHOAGlAG/8cBBCUoBAG9uC/wgBZHKCUGAKCUG9JyRNAECFJRKCBRVGXEXAVAF9PQFANAFAVlAVANJAF9JyRcGXGXAG9FQBAcCbJHIC9wZHMCE9sRSAMCFWRQAICIrCEJCGrRfCBRbEXAKRTCBRtGXEXGXAOATlAf9PQBCBRKSLMALCU/CBJAtAM9sJRmATAfJRKCBREGXAMCoB9JQBAOAKlC/gB9JQBCBRIEXAmAIJREGXGXGXGXGXATAICKrJ2BBHYCEZfIBFGEBMAECBDtDMIBSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMIBAKCTJRKMGXGXGXGXGXAYCGrCEZfIBFGEBMAECBDtDMITSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMITAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMITAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMITAKCTJRKMGXGXGXGXGXAYCIrCEZfIBFGEBMAECBDtDMIASEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIAAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIAAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMIAAKCTJRKMGXGXGXGXGXAYCKrfIBFGEBMAECBDtDMI8wSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHYCEWCxkUUBJDBEBAYCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHYCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMI8wAKCIJAeDeBJAYCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHYCEWCxkUUBJDBEBAYCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHYCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMI8wAKCNJAeDeBJAYCx+YUUBJ2BBJRKSFMAEAKDBBBDMI8wAKCTJRKMAICoBJREAICUFJAM9LQFAERIAOAKlC/fB9LQBMMGXAEAM9PQBAECErRIEXGXAOAKlCi9PQBCBRKSOMAmAEJRYGXGXGXGXGXATAECKrJ2BBAICKZrCEZfIBFGEBMAYCBDtDMIBSEMAYAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAYAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAYAKDBBBDMIBAKCTJRKMAICGJRIAECTJHEAM9JQBMMGXAK9FQBAKRTAtCFJHtCI6QGSFMMCBRKSEMGXAM9FQBALCUGJAbJREALAbJDBGBReCBRYEXAEALCU/CBJAYJHIDBIBHdCFD9tAdCFDbHPD9OD9hD9RHdAIAMJDBIBH8ZCFD9tA8ZAPD9OD9hD9RH8ZDQBTFtGmEYIPLdKeOnHpAIAQJDBIBHyCFD9tAyAPD9OD9hD9RHyAIASJDBIBH8cCFD9tA8cAPD9OD9hD9RH8cDQBTFtGmEYIPLdKeOnH8dDQBFTtGEmYILPdKOenHPAPDQBFGEBFGEBFGEBFGEAeD9uHeDyBjGBAEAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeApA8dDQNVi8ZcMpySQ8c8dfb8e8fHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeAdA8ZDQNiV8ZcpMyS8cQ8df8eb8fHdAyA8cDQNiV8ZcpMyS8cQ8df8eb8fH8ZDQBFTtGEmYILPdKOenHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeAdA8ZDQNVi8ZcMpySQ8c8dfb8e8fHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJREAYCTJHYAM9JQBMMAbCIJHbAG9JQBMMABAVAG9sJALCUGJAcAG9s/8cBBALALCUGJAcCaJAG9sJAG/8cBBMAcCBAKyAVJRVAKQBMC9+RKSFMCBC99AOAKlAGCAAGCA9Ly6yRKMALCU/KBJ8kUUUUBAKMNBT+BUUUBM+KmFTa8jUUUUBCoFlHL8kUUUUBC9+RKGXAFCE9uHOCtJAI9LQBCaRKAE2BBHNC/wFZC/gF9HQBANCbZHVCF9LQBALCoBJCgFCUF/8MBALC84Jha83EBALC8wJha83EBALC8oJha83EBALCAJha83EBALCiJha83EBALCTJha83EBALha83ENALha83EBAEAIJC9wJRcAECFJHNAOJRMGXAF9FQBCQCbAVCF6yRSABRECBRVCBRQCBRfCBRICBRKEXGXAMAcuQBC9+RKSEMGXGXAN2BBHOC/vF9LQBALCoBJAOCIrCa9zAKJCbZCEWJHb8oGIRTAb8oGBRtGXAOCbZHbAS9PQBALAOCa9zAIJCbZCGWJ8oGBAVAbyROAb9FRbGXGXAGCG9HQBABAt87FBABCIJAO87FBABCGJAT87FBSFMAEAtjGBAECNJAOjGBAECIJATjGBMAVAbJRVALCoBJAKCEWJHmAOjGBAmATjGIALAICGWJAOjGBALCoBJAKCFJCbZHKCEWJHTAtjGBATAOjGIAIAbJRIAKCFJRKSGMGXGXAbCb6QBAQAbJAbC989zJCFJRQSFMAM1BBHbCgFZROGXGXAbCa9MQBAMCFJRMSFMAM1BFHbCgBZCOWAOCgBZqROGXAbCa9MQBAMCGJRMSFMAM1BGHbCgBZCfWAOqROGXAbCa9MQBAMCEJRMSFMAM1BEHbCgBZCdWAOqROGXAbCa9MQBAMCIJRMSFMAM2BIC8cWAOqROAMCLJRMMAOCFrCBAOCFZl9zAQJRQMGXGXAGCG9HQBABAt87FBABCIJAQ87FBABCGJAT87FBSFMAEAtjGBAECNJAQjGBAECIJATjGBMALCoBJAKCEWJHOAQjGBAOATjGIALAICGWJAQjGBALCoBJAKCFJCbZHKCEWJHOAtjGBAOAQjGIAICFJRIAKCFJRKSFMGXAOCDF9LQBALAIAcAOCbZJ2BBHbCIrHTlCbZCGWJ8oGBAVCFJHtATyROALAIAblCbZCGWJ8oGBAtAT9FHmJHtAbCbZHTyRbAT9FRTGXGXAGCG9HQBABAV87FBABCIJAb87FBABCGJAO87FBSFMAEAVjGBAECNJAbjGBAECIJAOjGBMALAICGWJAVjGBALCoBJAKCEWJHYAOjGBAYAVjGIALAICFJHICbZCGWJAOjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAIAmJCbZHICGWJAbjGBALCoBJAKCGJCbZHKCEWJHOAVjGBAOAbjGIAKCFJRKAIATJRIAtATJRVSFMAVCBAM2BBHYyHTAOC/+F6HPJROAYCbZRtGXGXAYCIrHmQBAOCFJRbSFMAORbALAIAmlCbZCGWJ8oGBROMGXGXAtQBAbCFJRVSFMAbRVALAIAYlCbZCGWJ8oGBRbMGXGXAP9FQBAMCFJRYSFMAM1BFHYCgFZRTGXGXAYCa9MQBAMCGJRYSFMAM1BGHYCgBZCOWATCgBZqRTGXAYCa9MQBAMCEJRYSFMAM1BEHYCgBZCfWATqRTGXAYCa9MQBAMCIJRYSFMAM1BIHYCgBZCdWATqRTGXAYCa9MQBAMCLJRYSFMAMCKJRYAM2BLC8cWATqRTMATCFrCBATCFZl9zAQJHQRTMGXGXAmCb6QBAYRPSFMAY1BBHMCgFZROGXGXAMCa9MQBAYCFJRPSFMAY1BFHMCgBZCOWAOCgBZqROGXAMCa9MQBAYCGJRPSFMAY1BGHMCgBZCfWAOqROGXAMCa9MQBAYCEJRPSFMAY1BEHMCgBZCdWAOqROGXAMCa9MQBAYCIJRPSFMAYCLJRPAY2BIC8cWAOqROMAOCFrCBAOCFZl9zAQJHQROMGXGXAtCb6QBAPRMSFMAP1BBHMCgFZRbGXGXAMCa9MQBAPCFJRMSFMAP1BFHMCgBZCOWAbCgBZqRbGXAMCa9MQBAPCGJRMSFMAP1BGHMCgBZCfWAbqRbGXAMCa9MQBAPCEJRMSFMAP1BEHMCgBZCdWAbqRbGXAMCa9MQBAPCIJRMSFMAPCLJRMAP2BIC8cWAbqRbMAbCFrCBAbCFZl9zAQJHQRbMGXGXAGCG9HQBABAT87FBABCIJAb87FBABCGJAO87FBSFMAEATjGBAECNJAbjGBAECIJAOjGBMALCoBJAKCEWJHYAOjGBAYATjGIALAICGWJATjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAICFJHICbZCGWJAOjGBALCoBJAKCGJCbZCEWJHOATjGBAOAbjGIALAIAm9FAmCb6qJHICbZCGWJAbjGBAIAt9FAtCb6qJRIAKCEJRKMANCFJRNABCKJRBAECSJREAKCbZRKAICbZRIAfCEJHfAF9JQBMMCBC99AMAc6yRKMALCoFJ8kUUUUBAKM/tIFGa8jUUUUBCTlRLC9+RKGXAFCLJAI9LQBCaRKAE2BBC/+FZC/QF9HQBALhB83ENAECFJRKAEAIJC98JREGXAF9FQBGXAGCG6QBEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMALCNJAICFZCGWqHGAICGrCBAICFrCFZl9zAG8oGBJHIjGBABAIjGBABCIJRBAFCaJHFQBSGMMEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMABAICGrCBAICFrCFZl9zALCNJAICFZCGWqHI8oGBJHG87FBAIAGjGBABCGJRBAFCaJHFQBMMCBC99AKAE6yRKMAKM/dLEK97FaF97GXGXAGCI9HQBAF9FQFCBRGEXABABDBBBHECiD+rFCiD+sFD/6FHIAECND+rFCiD+sFD/6FAID/gFAECTD+rFCiD+sFD/6FHLD/gFD/kFD/lFHKCBDtD+2FHOAICUUUU94DtHND9OD9RD/kFHI9DBB/+hDYAIAID/mFAKAKD/mFALAOALAND9OD9RD/kFHIAID/mFD/kFD/kFD/jFD/nFHLD/mF9DBBX9LDYHOD/kFCgFDtD9OAECUUU94DtD9OD9QAIALD/mFAOD/kFCND+rFCU/+EDtD9OD9QAKALD/mFAOD/kFCTD+rFCUU/8ODtD9OD9QDMBBABCTJRBAGCIJHGAF9JQBSGMMAF9FQBCBRGEXABCTJHVAVDBBBHECBDtHOCUU98D8cFCUU98D8cEHND9OABDBBBHKAEDQILKOSQfbPden8c8d8e8fCggFDtD9OD/6FAKAEDQBFGENVcMTtmYi8ZpyHECTD+sFD/6FHID/gFAECTD+rFCTD+sFD/6FHLD/gFD/kFD/lFHE9DB/+g6DYALAEAOD+2FHOALCUUUU94DtHcD9OD9RD/kFHLALD/mFAEAED/mFAIAOAIAcD9OD9RD/kFHEAED/mFD/kFD/kFD/jFD/nFHID/mF9DBBX9LDYHOD/kFCTD+rFALAID/mFAOD/kFCggEDtD9OD9QHLAEAID/mFAOD/kFCaDbCBDnGCBDnECBDnKCBDnOCBDncCBDnMCBDnfCBDnbD9OHEDQNVi8ZcMpySQ8c8dfb8e8fD9QDMBBABAKAND9OALAEDQBFTtGEmYILPdKOenD9QDMBBABCAJRBAGCIJHGAF9JQBMMM/hEIGaF97FaL978jUUUUBCTlREGXAF9FQBCBRIEXAEABDBBBHLABCTJHKDBBBHODQILKOSQfbPden8c8d8e8fHNCTD+sFHVCID+rFDMIBAB9DBBU8/DY9D/zI818/DYAVCEDtD9QD/6FD/nFHVALAODQBFGENVcMTtmYi8ZpyHLCTD+rFCTD+sFD/6FD/mFHOAOD/mFAVALCTD+sFD/6FD/mFHcAcD/mFAVANCTD+rFCTD+sFD/6FD/mFHNAND/mFD/kFD/kFD/lFCBDtD+4FD/jF9DB/+g6DYHVD/mF9DBBX9LDYHLD/kFCggEDtHMD9OAcAVD/mFALD/kFCTD+rFD9QHcANAVD/mFALD/kFCTD+rFAOAVD/mFALD/kFAMD9OD9QHVDQBFTtGEmYILPdKOenHLD8dBAEDBIBDyB+t+J83EBABCNJALD8dFAEDBIBDyF+t+J83EBAKAcAVDQNVi8ZcMpySQ8c8dfb8e8fHVD8dBAEDBIBDyG+t+J83EBABCiJAVD8dFAEDBIBDyE+t+J83EBABCAJRBAICIJHIAF9JQBMMM9jFF97GXAGCGrAF9sHG9FQBCBRFEXABABDBBBHECND+rFCND+sFD/6FAECiD+sFCnD+rFCUUU/8EDtD+uFD/mFDMBBABCTJRBAFCIJHFAG9JQBMMM9TFEaCBCB8oGUkUUBHFABCEJC98ZJHBjGUkUUBGXGXAB8/BCTWHGuQBCaREABAGlCggEJCTrXBCa6QFMAFREMAEMMMFBCUNMIT9tBB",t=new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,3,2,0,0,5,3,1,0,1,12,1,0,10,22,2,12,0,65,0,65,0,65,0,252,10,0,0,11,7,0,65,0,253,15,26,11]),r=new Uint8Array([32,0,65,253,3,1,2,34,4,106,6,5,11,8,7,20,13,33,12,16,128,9,116,64,19,113,127,15,10,21,22,14,255,66,24,54,136,107,18,23,192,26,114,118,132,17,77,101,130,144,27,87,131,44,45,74,156,154,70,167]);if(typeof WebAssembly!="object")return{supported:!1};let i=n;WebAssembly.validate(t)&&(i=e);let s;const o=WebAssembly.instantiate(a(i),{}).then(f=>{s=f.instance,s.exports.__wasm_call_ctors()});function a(f){const p=new Uint8Array(f.length);for(let v=0;v<f.length;++v){const S=f.charCodeAt(v);p[v]=S>96?S-71:S>64?S-65:S>47?S+4:S>46?63:62}let m=0;for(let v=0;v<f.length;++v)p[m++]=p[v]<60?r[p[v]]:(p[v]-60)*64+p[++v];return p.buffer.slice(0,m)}function l(f,p,m,v,S,A){const g=s.exports.sbrk,M=m+3&-4,_=g(M*v),b=g(S.length),T=new Uint8Array(s.exports.memory.buffer);T.set(S,b);const C=f(_,m,v,b,S.length);if(C===0&&A&&A(_,M,v),p.set(T.subarray(_,_+m*v)),g(_-g(0)),C!==0)throw new Error(`Malformed buffer data: ${C}`)}const u={0:"",1:"meshopt_decodeFilterOct",2:"meshopt_decodeFilterQuat",3:"meshopt_decodeFilterExp",NONE:"",OCTAHEDRAL:"meshopt_decodeFilterOct",QUATERNION:"meshopt_decodeFilterQuat",EXPONENTIAL:"meshopt_decodeFilterExp"},h={0:"meshopt_decodeVertexBuffer",1:"meshopt_decodeIndexBuffer",2:"meshopt_decodeIndexSequence",ATTRIBUTES:"meshopt_decodeVertexBuffer",TRIANGLES:"meshopt_decodeIndexBuffer",INDICES:"meshopt_decodeIndexSequence"};return vb={ready:o,supported:!0,decodeVertexBuffer(f,p,m,v,S){l(s.exports.meshopt_decodeVertexBuffer,f,p,m,v,s.exports[u[S]])},decodeIndexBuffer(f,p,m,v){l(s.exports.meshopt_decodeIndexBuffer,f,p,m,v)},decodeIndexSequence(f,p,m,v){l(s.exports.meshopt_decodeIndexSequence,f,p,m,v)},decodeGltfBuffer(f,p,m,v,S,A){l(s.exports[h[S]],f,p,m,v,s.exports[u[A]])}},vb},t5=n=>n===Object(n)&&!Array.isArray(n)&&typeof n!="function";function FO(n,e){const t=Oo(i=>i.gl),r=Pf(aS,t5(n)?Object.values(n):n);if(pe.useLayoutEffect(()=>{e==null||e(r)},[e]),pe.useEffect(()=>{(Array.isArray(r)?r:[r]).forEach(t.initTexture)},[t,r]),t5(n)){const i=Object.keys(n),s={};return i.forEach(o=>Object.assign(s,{[o]:r[i.indexOf(o)]})),s}else return r}FO.preload=n=>Pf.preload(aS,n);FO.clear=n=>Pf.clear(aS,n);function rve(n){return Array.isArray(n)}function g2(n=[0,0,0]){return rve(n)?n:n instanceof se||n instanceof eS?[n.x,n.y,n.z]:[n,n,n]}const ive=pe.forwardRef(function({debug:n,mesh:e,children:t,position:r,rotation:i,scale:s,...o},a){const l=pe.useRef(null);pe.useImperativeHandle(a,()=>l.current);const u=pe.useRef(null);return pe.useLayoutEffect(()=>{const h=(e==null?void 0:e.current)||l.current.parent,f=l.current;if(!(h instanceof _i))throw new Error('Decal must have a Mesh as parent or specify its "mesh" prop');const p={position:new se,rotation:new eS,scale:new se(1,1,1)};if(h){wu(p,{position:r,scale:s});const m=h.matrixWorld.clone();if(h.matrixWorld.identity(),!i||typeof i=="number"){const v=new Mn;v.position.copy(p.position),v.lookAt(h.position),typeof i=="number"&&v.rotateZ(i),wu(p,{rotation:v.rotation})}else wu(p,{rotation:i});return f.geometry=new eve(h,p.position,p.rotation,p.scale),u.current&&wu(u.current,p),h.matrixWorld=m,()=>{f.geometry.dispose()}}},[e,...g2(r),...g2(s),...g2(i)]),pe.createElement("mesh",{ref:l},t||pe.createElement("meshStandardMaterial",Ya({transparent:!0,polygonOffset:!0,polygonOffsetFactor:-10},o)),n&&pe.createElement("mesh",{ref:u},pe.createElement("boxGeometry",null),pe.createElement("meshNormalMaterial",{wireframe:!0}),pe.createElement("axesHelper",null)))});let yb=null;function lQ(n,e,t){return r=>{t&&t(r),n&&(yb||(yb=new tve),yb.setDecoderPath(typeof n=="string"?n:"https://www.gstatic.com/draco/versioned/decoders/1.5.5/"),r.setDRACOLoader(yb)),e&&r.setMeshoptDecoder(typeof m2=="function"?m2():m2)}}function BR(n,e=!0,t=!0,r){return Pf(DO,n,lQ(e,t,r))}BR.preload=(n,e=!0,t=!0,r)=>Pf.preload(DO,n,lQ(e,t,r));BR.clear=n=>Pf.clear(DO,n);const NO=pe.forwardRef(({makeDefault:n,camera:e,regress:t,domElement:r,enableDamping:i=!0,keyEvents:s=!1,onChange:o,onStart:a,onEnd:l,...u},h)=>{const f=Oo(C=>C.invalidate),p=Oo(C=>C.camera),m=Oo(C=>C.gl),v=Oo(C=>C.events),S=Oo(C=>C.setEvents),A=Oo(C=>C.set),g=Oo(C=>C.get),M=Oo(C=>C.performance),_=e||p,b=r||v.connected||m.domElement,T=pe.useMemo(()=>new _ge(_),[_]);return Ax(()=>{T.enabled&&T.update()},-1),pe.useEffect(()=>(s&&T.connect(s===!0?b:s),T.connect(b),()=>void T.dispose()),[s,b,t,T,f]),pe.useEffect(()=>{const C=R=>{f(),t&&M.regress(),o&&o(R)},B=R=>{a&&a(R)},P=R=>{l&&l(R)};return T.addEventListener("change",C),T.addEventListener("start",B),T.addEventListener("end",P),()=>{T.removeEventListener("start",B),T.removeEventListener("end",P),T.removeEventListener("change",C)}},[o,a,l,T,f,S]),pe.useEffect(()=>{if(n){const C=g().controls;return A({controls:T}),()=>A({controls:C})}},[n,T]),pe.createElement("primitive",Ya({ref:h,object:T,enableDamping:i},u))});class sve extends iS{constructor(e){super(e),this.onBeforeCompile=(t,r)=>{const{isWebGL2:i}=r.capabilities;t.fragmentShader=t.fragmentShader.replace("#include <output_fragment>",`
        ${i?"#include <output_fragment>":`#extension GL_OES_standard_derivatives : enable
#include <output_fragment>`}
      vec2 cxy = 2.0 * gl_PointCoord - 1.0;
      float r = dot(cxy, cxy);
      float delta = fwidth(r);     
      float mask = 1.0 - smoothstep(1.0 - delta, 1.0 + delta, r);
      gl_FragColor = vec4(gl_FragColor.rgb, mask * gl_FragColor.a );
      #include <tonemapping_fragment>
      #include <encodings_fragment>
      `)}}}const ove=pe.forwardRef((n,e)=>{const[t]=pe.useState(()=>new sve(null));return pe.createElement("primitive",Ya({},n,{object:t,ref:e,attach:"material"}))}),ave=pe.forwardRef(({children:n,enabled:e=!0,speed:t=1,rotationIntensity:r=1,floatIntensity:i=1,floatingRange:s=[-.1,.1],...o},a)=>{const l=pe.useRef(null),u=pe.useRef(Math.random()*1e4);return Ax(h=>{var f,p;if(!e||t===0)return;const m=u.current+h.clock.getElapsedTime();l.current.rotation.x=Math.cos(m/4*t)/8*r,l.current.rotation.y=Math.sin(m/4*t)/8*r,l.current.rotation.z=Math.sin(m/4*t)/20*r;let v=Math.sin(m/4*t)/10;v=DU.mapLinear(v,-.1,.1,(f=s==null?void 0:s[0])!==null&&f!==void 0?f:-.1,(p=s==null?void 0:s[1])!==null&&p!==void 0?p:.1),l.current.position.y=v*i,l.current.updateMatrix()}),pe.createElement("group",o,pe.createElement("group",{ref:IO([l,a]),matrixAutoUpdate:!1},n))});let Bp,r1;const lve=pe.createContext(null),n5=new zt,r5=new se,uve=pe.forwardRef(({children:n,range:e,limit:t=1e3,...r},i)=>{const s=pe.useRef(null),[o,a]=pe.useState([]),[[l,u,h]]=pe.useState(()=>[new Float32Array(t*3),Float32Array.from({length:t*3},()=>1),Float32Array.from({length:t},()=>1)]);pe.useEffect(()=>{s.current.geometry.attributes.position.needsUpdate=!0}),Ax(()=>{for(s.current.updateMatrix(),s.current.updateMatrixWorld(),n5.copy(s.current.matrixWorld).invert(),s.current.geometry.drawRange.count=Math.min(t,e!==void 0?e:t,o.length),Bp=0;Bp<o.length;Bp++)r1=o[Bp].current,r1.getWorldPosition(r5).applyMatrix4(n5),r5.toArray(l,Bp*3),s.current.geometry.attributes.position.needsUpdate=!0,r1.matrixWorldNeedsUpdate=!0,r1.color.toArray(u,Bp*3),s.current.geometry.attributes.color.needsUpdate=!0,h.set([r1.size],Bp),s.current.geometry.attributes.size.needsUpdate=!0});const f=pe.useMemo(()=>({getParent:()=>s,subscribe:p=>(a(m=>[...m,p]),()=>a(m=>m.filter(v=>v.current!==p.current)))}),[]);return pe.createElement("points",Ya({userData:{instances:o},matrixAutoUpdate:!1,ref:IO([i,s]),raycast:()=>null},r),pe.createElement("bufferGeometry",null,pe.createElement("bufferAttribute",{attach:"attributes-position",count:l.length/3,array:l,itemSize:3,usage:Dm}),pe.createElement("bufferAttribute",{attach:"attributes-color",count:u.length/3,array:u,itemSize:3,usage:Dm}),pe.createElement("bufferAttribute",{attach:"attributes-size",count:h.length,array:h,itemSize:1,usage:Dm})),pe.createElement(lve.Provider,{value:f},n))}),cve=pe.forwardRef(({children:n,positions:e,colors:t,sizes:r,stride:i=3,...s},o)=>{const a=pe.useRef(null);return Ax(()=>{const l=a.current.geometry.attributes;l.position.needsUpdate=!0,t&&(l.color.needsUpdate=!0),r&&(l.size.needsUpdate=!0)}),pe.createElement("points",Ya({ref:IO([o,a])},s),pe.createElement("bufferGeometry",null,pe.createElement("bufferAttribute",{attach:"attributes-position",count:e.length/i,array:e,itemSize:i,usage:Dm}),t&&pe.createElement("bufferAttribute",{attach:"attributes-color",count:t.length/i,array:t,itemSize:3,usage:Dm}),r&&pe.createElement("bufferAttribute",{attach:"attributes-size",count:r.length/i,array:r,itemSize:1,usage:Dm})),n)}),hve=pe.forwardRef((n,e)=>n.positions instanceof Float32Array?pe.createElement(cve,Ya({},n,{ref:e})):pe.createElement(uve,Ya({},n,{ref:e})));var uQ={exports:{}},dve="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",fve=dve,pve=fve;function cQ(){}function hQ(){}hQ.resetWarningCache=cQ;var mve=function(){function n(r,i,s,o,a,l){if(l!==pve){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}n.isRequired=n;function e(){return n}var t={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:e,element:n,elementType:n,instanceOf:e,node:n,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:hQ,resetWarningCache:cQ};return t.PropTypes=t,t};uQ.exports=mve();var dQ=uQ.exports;function UO({all:n,scene:e,camera:t}){const r=Oo(({gl:o})=>o),i=Oo(({camera:o})=>o),s=Oo(({scene:o})=>o);return pe.useLayoutEffect(()=>{const o=[];n&&(e||s).traverse(l=>{l.visible===!1&&(o.push(l),l.visible=!0)}),r.compile(e||s,t||i);const a=new GU(128);new kU(.01,1e5,a).update(r,e||s),a.dispose(),o.forEach(l=>l.visible=!1)},[]),null}const OO=()=>{const{progress:n}=hge();return we.jsx(cge,{children:we.jsx("span",{className:"canvas-load",children:we.jsxs("p",{style:{fontSize:14,color:"#f1f1f1",fontWeight:800,marginTop:40},children:[n.toFixed(2),"%"]})})})},gve=()=>{const n=BR("./planet/scene.gltf");return we.jsx("primitive",{object:n.scene,scale:2.5,"position-y":0,"rotation-y":0})},vve=()=>we.jsx(PR,{shadows:!0,frameloop:"demand",gl:{preserveDrawingBuffer:!0},camera:{fov:45,near:.1,far:200,position:[-4,3,6]},children:we.jsxs(pe.Suspense,{fallback:we.jsx(OO,{}),children:[we.jsx(NO,{autoRotate:!0,enableZoom:!1,maxPolarAngle:Math.PI/2,minPolarAngle:Math.PI/2}),we.jsx(gve,{})]})}),yve=n=>{const[e]=FO([n.imgUrl]);return we.jsxs(ave,{speed:1.75,rotationIntensity:1,floatIntensity:2,children:[we.jsx("ambientLight",{intensity:.25}),we.jsx("directionalLight",{position:[0,0,.05]}),we.jsxs("mesh",{castShadow:!0,receiveShadow:!0,scale:2.75,children:[we.jsx("icosahedronGeometry",{args:[1,1]}),we.jsx("meshStandardMaterial",{color:"#fff8eb",polygonOffset:!0,polygonOffsetFactor:-5,flatShading:!0}),we.jsx(ive,{position:[0,0,1],rotation:[2*Math.PI,0,6.25],map:e})]})]})},xve=({icon:n})=>we.jsxs(PR,{frameLoop:"demand",gl:{preserveDrawingBuffer:!0},children:[we.jsxs(pe.Suspense,{fallback:we.jsx(OO,{}),children:[we.jsx(NO,{enableZoom:!1}),we.jsx(yve,{imgUrl:n})]}),we.jsx(UO,{all:!0})]}),Ave=({isMobile:n})=>{const e=BR("./desktop_pc/scene.gltf");return we.jsxs("mesh",{children:[we.jsx("hemisphereLight",{intensity:.15,groundColor:""}),we.jsx("pointLight",{intensity:1}),we.jsx("spotLight",{position:[-20,50,10],angle:.12,penumbra:1,intensity:1,castShadow:!0,"shadow-mapSize":1024}),we.jsx("primitive",{object:e.scene,scale:n?.1:.75,position:n?[0,-3,-2.2]:[0,-3.25,-1.5],rotation:[-.01,-.2,-.1]})]})},_ve=()=>{const[n,e]=pe.useState(!1);return pe.useEffect(()=>{const t=window.matchMedia("(max-width: 500px)");e(t.matches);const r=i=>{e(i.matches)};return t.addEventListener("change",r),()=>{t.removeEventListener("change",r)}},[]),we.jsxs(PR,{frameLoop:"demand",shadows:!0,camera:{position:[20,3,5],fov:25},gl:{preserveDrawingBuffer:!0},children:[we.jsxs(pe.Suspense,{fallback:we.jsx(OO,{}),children:[we.jsx(NO,{enableZoom:!1,maxPolarAngle:Math.PI/2,minPolarAngle:Math.PI/2}),we.jsx(Ave,{isMobile:n})]}),we.jsx(UO,{all:!0})]})},Mve=n=>{const e=pe.useRef(),t=yge(new Float32Array(5e3),{radius:1.2});return Ax((r,i)=>{e.current.rotation.x-=i/10,e.current.rotation.y-=i/15}),we.jsx("group",{children:we.jsx(hve,{ref:e,positions:t,stride:3,frustumCulled:!0,...n,children:we.jsx(ove,{transparent:!0,color:"#f272c8",size:.002,SizeAttenuation:!0,depthWrite:!1})})})},Sve=()=>we.jsx("div",{className:"w-full h-auto absolute inset-0 z-[-1]",children:we.jsxs(PR,{camera:{position:[0,0,1]},children:[we.jsx(pe.Suspense,{fallback:null,children:we.jsx(Mve,{})}),we.jsx(UO,{all:!0})]})}),fQ=pe.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"}),LR=pe.createContext({}),kO=pe.createContext(null),IR=typeof document<"u",i5=IR?pe.useLayoutEffect:pe.useEffect,pQ=pe.createContext({strict:!1});function Eve(n,e,t,r){const{visualElement:i}=pe.useContext(LR),s=pe.useContext(pQ),o=pe.useContext(kO),a=pe.useContext(fQ).reducedMotion,l=pe.useRef();r=r||s.renderer,!l.current&&r&&(l.current=r(n,{visualState:e,parent:i,props:t,presenceContext:o,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:a}));const u=l.current;return pe.useInsertionEffect(()=>{u&&u.update(t,o)}),i5(()=>{u&&u.render()}),pe.useEffect(()=>{u&&u.updateFeatures()}),(window.HandoffAppearAnimations?i5:pe.useEffect)(()=>{u&&u.animationState&&u.animationState.animateChanges()}),u}function B0(n){return typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function bve(n,e,t){return pe.useCallback(r=>{r&&n.mount&&n.mount(r),e&&(r?e.mount(r):e.unmount()),t&&(typeof t=="function"?t(r):B0(t)&&(t.current=r))},[e])}function aM(n){return typeof n=="string"||Array.isArray(n)}function DR(n){return typeof n=="object"&&typeof n.start=="function"}const GO=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],zO=["initial",...GO];function FR(n){return DR(n.animate)||zO.some(e=>aM(n[e]))}function mQ(n){return!!(FR(n)||n.variants)}function wve(n,e){if(FR(n)){const{initial:t,animate:r}=n;return{initial:t===!1||aM(t)?t:void 0,animate:aM(r)?r:void 0}}return n.inherit!==!1?e:{}}function Tve(n){const{initial:e,animate:t}=wve(n,pe.useContext(LR));return pe.useMemo(()=>({initial:e,animate:t}),[s5(e),s5(t)])}function s5(n){return Array.isArray(n)?n.join(" "):n}const o5={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},lM={};for(const n in o5)lM[n]={isEnabled:e=>o5[n].some(t=>!!e[t])};function Cve(n){for(const e in n)lM[e]={...lM[e],...n[e]}}const gQ=pe.createContext({}),vQ=pe.createContext({}),Rve=Symbol.for("motionComponentSymbol");function Pve({preloadedFeatures:n,createVisualElement:e,useRender:t,useVisualState:r,Component:i}){n&&Cve(n);function s(a,l){let u;const h={...pe.useContext(fQ),...a,layoutId:Bve(a)},{isStatic:f}=h,p=Tve(a),m=r(a,f);if(!f&&IR){p.visualElement=Eve(i,m,h,e);const v=pe.useContext(vQ),S=pe.useContext(pQ).strict;p.visualElement&&(u=p.visualElement.loadFeatures(h,S,n,v))}return pe.createElement(LR.Provider,{value:p},u&&p.visualElement?pe.createElement(u,{visualElement:p.visualElement,...h}):null,t(i,a,bve(m,p.visualElement,l),m,f,p.visualElement))}const o=pe.forwardRef(s);return o[Rve]=i,o}function Bve({layoutId:n}){const e=pe.useContext(gQ).id;return e&&n!==void 0?e+"-"+n:n}function Lve(n){function e(r,i={}){return Pve(n(r,i))}if(typeof Proxy>"u")return e;const t=new Map;return new Proxy(e,{get:(r,i)=>(t.has(i)||t.set(i,e(i)),t.get(i))})}const Ive=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function HO(n){return typeof n!="string"||n.includes("-")?!1:!!(Ive.indexOf(n)>-1||/[A-Z]/.test(n))}const rC={};function Dve(n){Object.assign(rC,n)}const cS=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],mg=new Set(cS);function yQ(n,{layout:e,layoutId:t}){return mg.has(n)||n.startsWith("origin")||(e||t!==void 0)&&(!!rC[n]||n==="opacity")}const yo=n=>!!(n&&n.getVelocity),Fve={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Nve=cS.length;function Uve(n,{enableHardwareAcceleration:e=!0,allowTransformNone:t=!0},r,i){let s="";for(let o=0;o<Nve;o++){const a=cS[o];if(n[a]!==void 0){const l=Fve[a]||a;s+=`${l}(${n[a]}) `}}return e&&!n.z&&(s+="translateZ(0)"),s=s.trim(),i?s=i(n,r?"":s):t&&r&&(s="none"),s}const xQ=n=>e=>typeof e=="string"&&e.startsWith(n),AQ=xQ("--"),ZD=xQ("var(--"),Ove=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,kve=(n,e)=>e&&typeof n=="number"?e.transform(n):n,pf=(n,e,t)=>Math.min(Math.max(t,n),e),gg={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},u_={...gg,transform:n=>pf(0,1,n)},xb={...gg,default:1},c_=n=>Math.round(n*1e5)/1e5,NR=/(-)?([\d]*\.?[\d])+/g,_Q=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,Gve=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function hS(n){return typeof n=="string"}const dS=n=>({test:e=>hS(e)&&e.endsWith(n)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${n}`}),fd=dS("deg"),ku=dS("%"),Wt=dS("px"),zve=dS("vh"),Hve=dS("vw"),a5={...ku,parse:n=>ku.parse(n)/100,transform:n=>ku.transform(n*100)},l5={...gg,transform:Math.round},MQ={borderWidth:Wt,borderTopWidth:Wt,borderRightWidth:Wt,borderBottomWidth:Wt,borderLeftWidth:Wt,borderRadius:Wt,radius:Wt,borderTopLeftRadius:Wt,borderTopRightRadius:Wt,borderBottomRightRadius:Wt,borderBottomLeftRadius:Wt,width:Wt,maxWidth:Wt,height:Wt,maxHeight:Wt,size:Wt,top:Wt,right:Wt,bottom:Wt,left:Wt,padding:Wt,paddingTop:Wt,paddingRight:Wt,paddingBottom:Wt,paddingLeft:Wt,margin:Wt,marginTop:Wt,marginRight:Wt,marginBottom:Wt,marginLeft:Wt,rotate:fd,rotateX:fd,rotateY:fd,rotateZ:fd,scale:xb,scaleX:xb,scaleY:xb,scaleZ:xb,skew:fd,skewX:fd,skewY:fd,distance:Wt,translateX:Wt,translateY:Wt,translateZ:Wt,x:Wt,y:Wt,z:Wt,perspective:Wt,transformPerspective:Wt,opacity:u_,originX:a5,originY:a5,originZ:Wt,zIndex:l5,fillOpacity:u_,strokeOpacity:u_,numOctaves:l5};function VO(n,e,t,r){const{style:i,vars:s,transform:o,transformOrigin:a}=n;let l=!1,u=!1,h=!0;for(const f in e){const p=e[f];if(AQ(f)){s[f]=p;continue}const m=MQ[f],v=kve(p,m);if(mg.has(f)){if(l=!0,o[f]=v,!h)continue;p!==(m.default||0)&&(h=!1)}else f.startsWith("origin")?(u=!0,a[f]=v):i[f]=v}if(e.transform||(l||r?i.transform=Uve(n.transform,t,h,r):i.transform&&(i.transform="none")),u){const{originX:f="50%",originY:p="50%",originZ:m=0}=a;i.transformOrigin=`${f} ${p} ${m}`}}const WO=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function SQ(n,e,t){for(const r in e)!yo(e[r])&&!yQ(r,t)&&(n[r]=e[r])}function Vve({transformTemplate:n},e,t){return pe.useMemo(()=>{const r=WO();return VO(r,e,{enableHardwareAcceleration:!t},n),Object.assign({},r.vars,r.style)},[e])}function Wve(n,e,t){const r=n.style||{},i={};return SQ(i,r,n),Object.assign(i,Vve(n,e,t)),n.transformValues?n.transformValues(i):i}function jve(n,e,t){const r={},i=Wve(n,e,t);return n.drag&&n.dragListener!==!1&&(r.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),n.tabIndex===void 0&&(n.onTap||n.onTapStart||n.whileTap)&&(r.tabIndex=0),r.style=i,r}const Xve=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onLayoutAnimationStart","onLayoutAnimationComplete","onLayoutMeasure","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","ignoreStrict","viewport"]);function iC(n){return n.startsWith("while")||n.startsWith("drag")&&n!=="draggable"||n.startsWith("layout")||n.startsWith("onTap")||n.startsWith("onPan")||Xve.has(n)}let EQ=n=>!iC(n);function Jve(n){n&&(EQ=e=>e.startsWith("on")?!iC(e):n(e))}try{Jve(require("@emotion/is-prop-valid").default)}catch{}function Yve(n,e,t){const r={};for(const i in n)i==="values"&&typeof n.values=="object"||(EQ(i)||t===!0&&iC(i)||!e&&!iC(i)||n.draggable&&i.startsWith("onDrag"))&&(r[i]=n[i]);return r}function u5(n,e,t){return typeof n=="string"?n:Wt.transform(e+t*n)}function Kve(n,e,t){const r=u5(e,n.x,n.width),i=u5(t,n.y,n.height);return`${r} ${i}`}const Qve={offset:"stroke-dashoffset",array:"stroke-dasharray"},qve={offset:"strokeDashoffset",array:"strokeDasharray"};function Zve(n,e,t=1,r=0,i=!0){n.pathLength=1;const s=i?Qve:qve;n[s.offset]=Wt.transform(-r);const o=Wt.transform(e),a=Wt.transform(t);n[s.array]=`${o} ${a}`}function jO(n,{attrX:e,attrY:t,attrScale:r,originX:i,originY:s,pathLength:o,pathSpacing:a=1,pathOffset:l=0,...u},h,f,p){if(VO(n,u,h,p),f){n.style.viewBox&&(n.attrs.viewBox=n.style.viewBox);return}n.attrs=n.style,n.style={};const{attrs:m,style:v,dimensions:S}=n;m.transform&&(S&&(v.transform=m.transform),delete m.transform),S&&(i!==void 0||s!==void 0||v.transform)&&(v.transformOrigin=Kve(S,i!==void 0?i:.5,s!==void 0?s:.5)),e!==void 0&&(m.x=e),t!==void 0&&(m.y=t),r!==void 0&&(m.scale=r),o!==void 0&&Zve(m,o,a,l,!1)}const bQ=()=>({...WO(),attrs:{}}),XO=n=>typeof n=="string"&&n.toLowerCase()==="svg";function $ve(n,e,t,r){const i=pe.useMemo(()=>{const s=bQ();return jO(s,e,{enableHardwareAcceleration:!1},XO(r),n.transformTemplate),{...s.attrs,style:{...s.style}}},[e]);if(n.style){const s={};SQ(s,n.style,n),i.style={...s,...i.style}}return i}function e0e(n=!1){return(e,t,r,{latestValues:i},s)=>{const o=(HO(e)?$ve:jve)(t,i,s,e),a={...Yve(t,typeof e=="string",n),...o,ref:r},{children:l}=t,u=pe.useMemo(()=>yo(l)?l.get():l,[l]);return pe.createElement(e,{...a,children:u})}}const JO=n=>n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();function wQ(n,{style:e,vars:t},r,i){Object.assign(n.style,e,i&&i.getProjectionStyles(r));for(const s in t)n.style.setProperty(s,t[s])}const TQ=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function CQ(n,e,t,r){wQ(n,e,void 0,r);for(const i in e.attrs)n.setAttribute(TQ.has(i)?i:JO(i),e.attrs[i])}function YO(n,e){const{style:t}=n,r={};for(const i in t)(yo(t[i])||e.style&&yo(e.style[i])||yQ(i,n))&&(r[i]=t[i]);return r}function RQ(n,e){const t=YO(n,e);for(const r in n)if(yo(n[r])||yo(e[r])){const i=cS.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;t[i]=n[r]}return t}function KO(n,e,t,r={},i={}){return typeof e=="function"&&(e=e(t!==void 0?t:n.custom,r,i)),typeof e=="string"&&(e=n.variants&&n.variants[e]),typeof e=="function"&&(e=e(t!==void 0?t:n.custom,r,i)),e}function t0e(n){const e=pe.useRef(null);return e.current===null&&(e.current=n()),e.current}const sC=n=>Array.isArray(n),n0e=n=>!!(n&&typeof n=="object"&&n.mix&&n.toValue),r0e=n=>sC(n)?n[n.length-1]||0:n;function nT(n){const e=yo(n)?n.get():n;return n0e(e)?e.toValue():e}function i0e({scrapeMotionValuesFromProps:n,createRenderState:e,onMount:t},r,i,s){const o={latestValues:s0e(r,i,s,n),renderState:e()};return t&&(o.mount=a=>t(r,a,o)),o}const PQ=n=>(e,t)=>{const r=pe.useContext(LR),i=pe.useContext(kO),s=()=>i0e(n,e,r,i);return t?s():t0e(s)};function s0e(n,e,t,r){const i={},s=r(n,{});for(const p in s)i[p]=nT(s[p]);let{initial:o,animate:a}=n;const l=FR(n),u=mQ(n);e&&u&&!l&&n.inherit!==!1&&(o===void 0&&(o=e.initial),a===void 0&&(a=e.animate));let h=t?t.initial===!1:!1;h=h||o===!1;const f=h?a:o;return f&&typeof f!="boolean"&&!DR(f)&&(Array.isArray(f)?f:[f]).forEach(p=>{const m=KO(n,p);if(!m)return;const{transitionEnd:v,transition:S,...A}=m;for(const g in A){let M=A[g];if(Array.isArray(M)){const _=h?M.length-1:0;M=M[_]}M!==null&&(i[g]=M)}for(const g in v)i[g]=v[g]}),i}const o0e={useVisualState:PQ({scrapeMotionValuesFromProps:RQ,createRenderState:bQ,onMount:(n,e,{renderState:t,latestValues:r})=>{try{t.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{t.dimensions={x:0,y:0,width:0,height:0}}jO(t,r,{enableHardwareAcceleration:!1},XO(e.tagName),n.transformTemplate),CQ(e,t)}})},a0e={useVisualState:PQ({scrapeMotionValuesFromProps:YO,createRenderState:WO})};function l0e(n,{forwardMotionProps:e=!1},t,r){return{...HO(n)?o0e:a0e,preloadedFeatures:t,useRender:e0e(e),createVisualElement:r,Component:n}}function th(n,e,t,r={passive:!0}){return n.addEventListener(e,t,r),()=>n.removeEventListener(e,t)}const BQ=n=>n.pointerType==="mouse"?typeof n.button!="number"||n.button<=0:n.isPrimary!==!1;function UR(n,e="page"){return{point:{x:n[e+"X"],y:n[e+"Y"]}}}const u0e=n=>e=>BQ(e)&&n(e,UR(e));function uh(n,e,t,r){return th(n,e,u0e(t),r)}const c0e=(n,e)=>t=>e(n(t)),jd=(...n)=>n.reduce(c0e);function LQ(n){let e=null;return()=>{const t=()=>{e=null};return e===null?(e=n,t):!1}}const c5=LQ("dragHorizontal"),h5=LQ("dragVertical");function IQ(n){let e=!1;if(n==="y")e=h5();else if(n==="x")e=c5();else{const t=c5(),r=h5();t&&r?e=()=>{t(),r()}:(t&&t(),r&&r())}return e}function DQ(){const n=IQ(!0);return n?(n(),!1):!0}let Bf=class{constructor(e){this.isMounted=!1,this.node=e}update(){}};function h0e(n){let e=[],t=[],r=0,i=!1,s=!1;const o=new WeakSet,a={schedule:(l,u=!1,h=!1)=>{const f=h&&i,p=f?e:t;return u&&o.add(l),p.indexOf(l)===-1&&(p.push(l),f&&i&&(r=e.length)),l},cancel:l=>{const u=t.indexOf(l);u!==-1&&t.splice(u,1),o.delete(l)},process:l=>{if(i){s=!0;return}if(i=!0,[e,t]=[t,e],t.length=0,r=e.length,r)for(let u=0;u<r;u++){const h=e[u];h(l),o.has(h)&&(a.schedule(h),n())}i=!1,s&&(s=!1,a.process(l))}};return a}const gr={delta:0,timestamp:0,isProcessing:!1},d0e=40;let $D=!0,uM=!1;const OR=["read","update","preRender","render","postRender"],fy=OR.reduce((n,e)=>(n[e]=h0e(()=>uM=!0),n),{}),f0e=n=>fy[n].process(gr),FQ=n=>{uM=!1,gr.delta=$D?1e3/60:Math.max(Math.min(n-gr.timestamp,d0e),1),gr.timestamp=n,gr.isProcessing=!0,OR.forEach(f0e),gr.isProcessing=!1,uM&&($D=!1,requestAnimationFrame(FQ))},p0e=()=>{uM=!0,$D=!0,gr.isProcessing||requestAnimationFrame(FQ)},wr=OR.reduce((n,e)=>{const t=fy[e];return n[e]=(r,i=!1,s=!1)=>(uM||p0e(),t.schedule(r,i,s)),n},{});function Ah(n){OR.forEach(e=>fy[e].cancel(n))}function d5(n,e){const t="pointer"+(e?"enter":"leave"),r="onHover"+(e?"Start":"End"),i=(s,o)=>{if(s.type==="touch"||DQ())return;const a=n.getProps();n.animationState&&a.whileHover&&n.animationState.setActive("whileHover",e),a[r]&&wr.update(()=>a[r](s,o))};return uh(n.current,t,i,{passive:!n.getProps()[r]})}class m0e extends Bf{mount(){this.unmount=jd(d5(this.node,!0),d5(this.node,!1))}unmount(){}}class g0e extends Bf{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=jd(th(this.node.current,"focus",()=>this.onFocus()),th(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const NQ=(n,e)=>e?n===e?!0:NQ(n,e.parentElement):!1,Gi=n=>n;function v2(n,e){if(!e)return;const t=new PointerEvent("pointer"+n);e(t,UR(t))}class v0e extends Bf{constructor(){super(...arguments),this.removeStartListeners=Gi,this.removeEndListeners=Gi,this.removeAccessibleListeners=Gi,this.startPointerPress=(e,t)=>{if(this.removeEndListeners(),this.isPressing)return;const r=this.node.getProps(),i=uh(window,"pointerup",(o,a)=>{if(!this.checkPressEnd())return;const{onTap:l,onTapCancel:u}=this.node.getProps();wr.update(()=>{NQ(this.node.current,o.target)?l&&l(o,a):u&&u(o,a)})},{passive:!(r.onTap||r.onPointerUp)}),s=uh(window,"pointercancel",(o,a)=>this.cancelPress(o,a),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=jd(i,s),this.startPress(e,t)},this.startAccessiblePress=()=>{const e=s=>{if(s.key!=="Enter"||this.isPressing)return;const o=a=>{a.key!=="Enter"||!this.checkPressEnd()||v2("up",(l,u)=>{const{onTap:h}=this.node.getProps();h&&wr.update(()=>h(l,u))})};this.removeEndListeners(),this.removeEndListeners=th(this.node.current,"keyup",o),v2("down",(a,l)=>{this.startPress(a,l)})},t=th(this.node.current,"keydown",e),r=()=>{this.isPressing&&v2("cancel",(s,o)=>this.cancelPress(s,o))},i=th(this.node.current,"blur",r);this.removeAccessibleListeners=jd(t,i)}}startPress(e,t){this.isPressing=!0;const{onTapStart:r,whileTap:i}=this.node.getProps();i&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&wr.update(()=>r(e,t))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!DQ()}cancelPress(e,t){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&wr.update(()=>r(e,t))}mount(){const e=this.node.getProps(),t=uh(this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),r=th(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=jd(t,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const e3=new WeakMap,y2=new WeakMap,y0e=n=>{const e=e3.get(n.target);e&&e(n)},x0e=n=>{n.forEach(y0e)};function A0e({root:n,...e}){const t=n||document;y2.has(t)||y2.set(t,{});const r=y2.get(t),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(x0e,{root:n,...e})),r[i]}function _0e(n,e,t){const r=A0e(e);return e3.set(n,t),r.observe(n),()=>{e3.delete(n),r.unobserve(n)}}const M0e={some:0,all:1};class S0e extends Bf{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:r,amount:i="some",once:s}=e,o={root:t?t.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:M0e[i]},a=l=>{const{isIntersecting:u}=l;if(this.isInView===u||(this.isInView=u,s&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:h,onViewportLeave:f}=this.node.getProps(),p=u?h:f;p&&p(l)};return _0e(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:t}=this.node;["amount","margin","root"].some(E0e(e,t))&&this.startObserver()}unmount(){}}function E0e({viewport:n={}},{viewport:e={}}={}){return t=>n[t]!==e[t]}const b0e={inView:{Feature:S0e},tap:{Feature:v0e},focus:{Feature:g0e},hover:{Feature:m0e}};function UQ(n,e){if(!Array.isArray(e))return!1;const t=e.length;if(t!==n.length)return!1;for(let r=0;r<t;r++)if(e[r]!==n[r])return!1;return!0}function w0e(n){const e={};return n.values.forEach((t,r)=>e[r]=t.get()),e}function T0e(n){const e={};return n.values.forEach((t,r)=>e[r]=t.getVelocity()),e}function kR(n,e,t){const r=n.getProps();return KO(r,e,t!==void 0?t:r.custom,w0e(n),T0e(n))}const C0e="framerAppearId",R0e="data-"+JO(C0e);let QO=Gi;const Om=n=>n*1e3,ch=n=>n/1e3,P0e={current:!1},OQ=n=>Array.isArray(n)&&typeof n[0]=="number";function kQ(n){return!!(!n||typeof n=="string"&&GQ[n]||OQ(n)||Array.isArray(n)&&n.every(kQ))}const z1=([n,e,t,r])=>`cubic-bezier(${n}, ${e}, ${t}, ${r})`,GQ={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:z1([0,.65,.55,1]),circOut:z1([.55,0,1,.45]),backIn:z1([.31,.01,.66,-.59]),backOut:z1([.33,1.53,.69,.99])};function zQ(n){if(n)return OQ(n)?z1(n):Array.isArray(n)?n.map(zQ):GQ[n]}function B0e(n,e,t,{delay:r=0,duration:i,repeat:s=0,repeatType:o="loop",ease:a,times:l}={}){const u={[e]:t};l&&(u.offset=l);const h=zQ(a);return Array.isArray(h)&&(u.easing=h),n.animate(u,{delay:r,duration:i,easing:Array.isArray(h)?"linear":h,fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"})}const f5={waapi:()=>Object.hasOwnProperty.call(Element.prototype,"animate")},x2={},HQ={};for(const n in f5)HQ[n]=()=>(x2[n]===void 0&&(x2[n]=f5[n]()),x2[n]);function L0e(n,{repeat:e,repeatType:t="loop"}){const r=e&&t!=="loop"&&e%2===1?0:n.length-1;return n[r]}const VQ=(n,e,t)=>(((1-3*t+3*e)*n+(3*t-6*e))*n+3*e)*n,I0e=1e-7,D0e=12;function F0e(n,e,t,r,i){let s,o,a=0;do o=e+(t-e)/2,s=VQ(o,r,i)-n,s>0?t=o:e=o;while(Math.abs(s)>I0e&&++a<D0e);return o}function fS(n,e,t,r){if(n===e&&t===r)return Gi;const i=s=>F0e(s,0,1,n,t);return s=>s===0||s===1?s:VQ(i(s),e,r)}const N0e=fS(.42,0,1,1),U0e=fS(0,0,.58,1),WQ=fS(.42,0,.58,1),O0e=n=>Array.isArray(n)&&typeof n[0]!="number",jQ=n=>e=>e<=.5?n(2*e)/2:(2-n(2*(1-e)))/2,XQ=n=>e=>1-n(1-e),JQ=n=>1-Math.sin(Math.acos(n)),qO=XQ(JQ),k0e=jQ(qO),YQ=fS(.33,1.53,.69,.99),ZO=XQ(YQ),G0e=jQ(ZO),z0e=n=>(n*=2)<1?.5*ZO(n):.5*(2-Math.pow(2,-10*(n-1))),H0e={linear:Gi,easeIn:N0e,easeInOut:WQ,easeOut:U0e,circIn:JQ,circInOut:k0e,circOut:qO,backIn:ZO,backInOut:G0e,backOut:YQ,anticipate:z0e},p5=n=>{if(Array.isArray(n)){QO(n.length===4);const[e,t,r,i]=n;return fS(e,t,r,i)}else if(typeof n=="string")return H0e[n];return n},$O=(n,e)=>t=>!!(hS(t)&&Gve.test(t)&&t.startsWith(n)||e&&Object.prototype.hasOwnProperty.call(t,e)),KQ=(n,e,t)=>r=>{if(!hS(r))return r;const[i,s,o,a]=r.match(NR);return{[n]:parseFloat(i),[e]:parseFloat(s),[t]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},V0e=n=>pf(0,255,n),A2={...gg,transform:n=>Math.round(V0e(n))},Am={test:$O("rgb","red"),parse:KQ("red","green","blue"),transform:({red:n,green:e,blue:t,alpha:r=1})=>"rgba("+A2.transform(n)+", "+A2.transform(e)+", "+A2.transform(t)+", "+c_(u_.transform(r))+")"};function W0e(n){let e="",t="",r="",i="";return n.length>5?(e=n.substring(1,3),t=n.substring(3,5),r=n.substring(5,7),i=n.substring(7,9)):(e=n.substring(1,2),t=n.substring(2,3),r=n.substring(3,4),i=n.substring(4,5),e+=e,t+=t,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(t,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const t3={test:$O("#"),parse:W0e,transform:Am.transform},L0={test:$O("hsl","hue"),parse:KQ("hue","saturation","lightness"),transform:({hue:n,saturation:e,lightness:t,alpha:r=1})=>"hsla("+Math.round(n)+", "+ku.transform(c_(e))+", "+ku.transform(c_(t))+", "+c_(u_.transform(r))+")"},Os={test:n=>Am.test(n)||t3.test(n)||L0.test(n),parse:n=>Am.test(n)?Am.parse(n):L0.test(n)?L0.parse(n):t3.parse(n),transform:n=>hS(n)?n:n.hasOwnProperty("red")?Am.transform(n):L0.transform(n)},Sr=(n,e,t)=>-t*n+t*e+n;function _2(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*(2/3-t)*6:n}function j0e({hue:n,saturation:e,lightness:t,alpha:r}){n/=360,e/=100,t/=100;let i=0,s=0,o=0;if(!e)i=s=o=t;else{const a=t<.5?t*(1+e):t+e-t*e,l=2*t-a;i=_2(l,a,n+1/3),s=_2(l,a,n),o=_2(l,a,n-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:r}}const M2=(n,e,t)=>{const r=n*n;return Math.sqrt(Math.max(0,t*(e*e-r)+r))},X0e=[t3,Am,L0],J0e=n=>X0e.find(e=>e.test(n));function m5(n){const e=J0e(n);let t=e.parse(n);return e===L0&&(t=j0e(t)),t}const QQ=(n,e)=>{const t=m5(n),r=m5(e),i={...t};return s=>(i.red=M2(t.red,r.red,s),i.green=M2(t.green,r.green,s),i.blue=M2(t.blue,r.blue,s),i.alpha=Sr(t.alpha,r.alpha,s),Am.transform(i))};function Y0e(n){var e,t;return isNaN(n)&&hS(n)&&(((e=n.match(NR))===null||e===void 0?void 0:e.length)||0)+(((t=n.match(_Q))===null||t===void 0?void 0:t.length)||0)>0}const qQ={regex:Ove,countKey:"Vars",token:"${v}",parse:Gi},ZQ={regex:_Q,countKey:"Colors",token:"${c}",parse:Os.parse},$Q={regex:NR,countKey:"Numbers",token:"${n}",parse:gg.parse};function S2(n,{regex:e,countKey:t,token:r,parse:i}){const s=n.tokenised.match(e);s&&(n["num"+t]=s.length,n.tokenised=n.tokenised.replace(e,r),n.values.push(...s.map(i)))}function oC(n){const e=n.toString(),t={value:e,tokenised:e,values:[],numVars:0,numColors:0,numNumbers:0};return t.value.includes("var(--")&&S2(t,qQ),S2(t,ZQ),S2(t,$Q),t}function eq(n){return oC(n).values}function tq(n){const{values:e,numColors:t,numVars:r,tokenised:i}=oC(n),s=e.length;return o=>{let a=i;for(let l=0;l<s;l++)l<r?a=a.replace(qQ.token,o[l]):l<r+t?a=a.replace(ZQ.token,Os.transform(o[l])):a=a.replace($Q.token,c_(o[l]));return a}}const K0e=n=>typeof n=="number"?0:n;function Q0e(n){const e=eq(n);return tq(n)(e.map(K0e))}const mf={test:Y0e,parse:eq,createTransformer:tq,getAnimatableNone:Q0e},nq=(n,e)=>t=>`${t>0?e:n}`;function rq(n,e){return typeof n=="number"?t=>Sr(n,e,t):Os.test(n)?QQ(n,e):n.startsWith("var(")?nq(n,e):sq(n,e)}const iq=(n,e)=>{const t=[...n],r=t.length,i=n.map((s,o)=>rq(s,e[o]));return s=>{for(let o=0;o<r;o++)t[o]=i[o](s);return t}},q0e=(n,e)=>{const t={...n,...e},r={};for(const i in t)n[i]!==void 0&&e[i]!==void 0&&(r[i]=rq(n[i],e[i]));return i=>{for(const s in r)t[s]=r[s](i);return t}},sq=(n,e)=>{const t=mf.createTransformer(e),r=oC(n),i=oC(e);return r.numVars===i.numVars&&r.numColors===i.numColors&&r.numNumbers>=i.numNumbers?jd(iq(r.values,i.values),t):nq(n,e)},cM=(n,e,t)=>{const r=e-n;return r===0?1:(t-n)/r},g5=(n,e)=>t=>Sr(n,e,t);function Z0e(n){return typeof n=="number"?g5:typeof n=="string"?Os.test(n)?QQ:sq:Array.isArray(n)?iq:typeof n=="object"?q0e:g5}function $0e(n,e,t){const r=[],i=t||Z0e(n[0]),s=n.length-1;for(let o=0;o<s;o++){let a=i(n[o],n[o+1]);if(e){const l=Array.isArray(e)?e[o]||Gi:e;a=jd(l,a)}r.push(a)}return r}function oq(n,e,{clamp:t=!0,ease:r,mixer:i}={}){const s=n.length;if(QO(s===e.length),s===1)return()=>e[0];n[0]>n[s-1]&&(n=[...n].reverse(),e=[...e].reverse());const o=$0e(e,r,i),a=o.length,l=u=>{let h=0;if(a>1)for(;h<n.length-2&&!(u<n[h+1]);h++);const f=cM(n[h],n[h+1],u);return o[h](f)};return t?u=>l(pf(n[0],n[s-1],u)):l}function eye(n,e){const t=n[n.length-1];for(let r=1;r<=e;r++){const i=cM(0,e,r);n.push(Sr(t,1,i))}}function tye(n){const e=[0];return eye(e,n.length-1),e}function nye(n,e){return n.map(t=>t*e)}function rye(n,e){return n.map(()=>e||WQ).splice(0,n.length-1)}function aC({duration:n=300,keyframes:e,times:t,ease:r="easeInOut"}){const i=O0e(r)?r.map(p5):p5(r),s={done:!1,value:e[0]},o=nye(t&&t.length===e.length?t:tye(e),n),a=oq(o,e,{ease:Array.isArray(i)?i:rye(e,i)});return{calculatedDuration:n,next:l=>(s.value=a(l),s.done=l>=n,s)}}function aq(n,e){return e?n*(1e3/e):0}const iye=5;function lq(n,e,t){const r=Math.max(e-iye,0);return aq(t-n(r),e-r)}const E2=.001,sye=.01,oye=10,aye=.05,lye=1;function uye({duration:n=800,bounce:e=.25,velocity:t=0,mass:r=1}){let i,s,o=1-e;o=pf(aye,lye,o),n=pf(sye,oye,ch(n)),o<1?(i=u=>{const h=u*o,f=h*n,p=h-t,m=n3(u,o),v=Math.exp(-f);return E2-p/m*v},s=u=>{const h=u*o*n,f=h*t+t,p=Math.pow(o,2)*Math.pow(u,2)*n,m=Math.exp(-h),v=n3(Math.pow(u,2),o);return(-i(u)+E2>0?-1:1)*((f-p)*m)/v}):(i=u=>{const h=Math.exp(-u*n),f=(u-t)*n+1;return-E2+h*f},s=u=>{const h=Math.exp(-u*n),f=(t-u)*(n*n);return h*f});const a=5/n,l=hye(i,s,a);if(n=Om(n),isNaN(l))return{stiffness:100,damping:10,duration:n};{const u=Math.pow(l,2)*r;return{stiffness:u,damping:o*2*Math.sqrt(r*u),duration:n}}}const cye=12;function hye(n,e,t){let r=t;for(let i=1;i<cye;i++)r=r-n(r)/e(r);return r}function n3(n,e){return n*Math.sqrt(1-e*e)}const dye=["duration","bounce"],fye=["stiffness","damping","mass"];function v5(n,e){return e.some(t=>n[t]!==void 0)}function pye(n){let e={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...n};if(!v5(n,fye)&&v5(n,dye)){const t=uye(n);e={...e,...t,velocity:0,mass:1},e.isResolvedFromDuration=!0}return e}function uq({keyframes:n,restDelta:e,restSpeed:t,...r}){const i=n[0],s=n[n.length-1],o={done:!1,value:i},{stiffness:a,damping:l,mass:u,velocity:h,duration:f,isResolvedFromDuration:p}=pye(r),m=h?-ch(h):0,v=l/(2*Math.sqrt(a*u)),S=s-i,A=ch(Math.sqrt(a/u)),g=Math.abs(S)<5;t||(t=g?.01:2),e||(e=g?.005:.5);let M;if(v<1){const _=n3(A,v);M=b=>{const T=Math.exp(-v*A*b);return s-T*((m+v*A*S)/_*Math.sin(_*b)+S*Math.cos(_*b))}}else if(v===1)M=_=>s-Math.exp(-A*_)*(S+(m+A*S)*_);else{const _=A*Math.sqrt(v*v-1);M=b=>{const T=Math.exp(-v*A*b),C=Math.min(_*b,300);return s-T*((m+v*A*S)*Math.sinh(C)+_*S*Math.cosh(C))/_}}return{calculatedDuration:p&&f||null,next:_=>{const b=M(_);if(p)o.done=_>=f;else{let T=m;_!==0&&(v<1?T=lq(M,_,b):T=0);const C=Math.abs(T)<=t,B=Math.abs(s-b)<=e;o.done=C&&B}return o.value=o.done?s:b,o}}}function y5({keyframes:n,velocity:e=0,power:t=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:o,min:a,max:l,restDelta:u=.5,restSpeed:h}){const f=n[0],p={done:!1,value:f},m=P=>a!==void 0&&P<a||l!==void 0&&P>l,v=P=>a===void 0?l:l===void 0||Math.abs(a-P)<Math.abs(l-P)?a:l;let S=t*e;const A=f+S,g=o===void 0?A:o(A);g!==A&&(S=g-f);const M=P=>-S*Math.exp(-P/r),_=P=>g+M(P),b=P=>{const R=M(P),L=_(P);p.done=Math.abs(R)<=u,p.value=p.done?g:L};let T,C;const B=P=>{m(p.value)&&(T=P,C=uq({keyframes:[p.value,v(p.value)],velocity:lq(_,P,p.value),damping:i,stiffness:s,restDelta:u,restSpeed:h}))};return B(0),{calculatedDuration:null,next:P=>{let R=!1;return!C&&T===void 0&&(R=!0,b(P),B(P)),T!==void 0&&P>T?C.next(P-T):(!R&&b(P),p)}}}const mye=n=>{const e=({timestamp:t})=>n(t);return{start:()=>wr.update(e,!0),stop:()=>Ah(e),now:()=>gr.isProcessing?gr.timestamp:performance.now()}},x5=2e4;function A5(n){let e=0;const t=50;let r=n.next(e);for(;!r.done&&e<x5;)e+=t,r=n.next(e);return e>=x5?1/0:e}const gye={decay:y5,inertia:y5,tween:aC,keyframes:aC,spring:uq};function lC({autoplay:n=!0,delay:e=0,driver:t=mye,keyframes:r,type:i="keyframes",repeat:s=0,repeatDelay:o=0,repeatType:a="loop",onPlay:l,onStop:u,onComplete:h,onUpdate:f,...p}){let m=1,v=!1,S,A;const g=()=>{S&&S(),A=new Promise(K=>{S=K})};g();let M;const _=gye[i]||aC;let b;_!==aC&&typeof r[0]!="number"&&(b=oq([0,100],r,{clamp:!1}),r=[0,100]);const T=_({...p,keyframes:r});let C;a==="mirror"&&(C=_({...p,keyframes:[...r].reverse(),velocity:-(p.velocity||0)}));let B="idle",P=null,R=null,L=null;T.calculatedDuration===null&&s&&(T.calculatedDuration=A5(T));const{calculatedDuration:U}=T;let Q=1/0,W=1/0;U!==null&&(Q=U+o,W=Q*(s+1)-o);let Y=0;const X=K=>{if(R===null)return;m>0&&(R=Math.min(R,K)),P!==null?Y=P:Y=(K-R)*m;const H=Y-e,ue=H<0;Y=Math.max(H,0),B==="finished"&&P===null&&(Y=W);let le=Y,Ce=T;if(s){const je=Y/Q;let Ke=Math.floor(je),fe=je%1;!fe&&je>=1&&(fe=1),fe===1&&Ke--,Ke=Math.min(Ke,s+1);const z=!!(Ke%2);z&&(a==="reverse"?(fe=1-fe,o&&(fe-=o/Q)):a==="mirror"&&(Ce=C));let Ae=pf(0,1,fe);Y>W&&(Ae=a==="reverse"&&z?1:0),le=Ae*Q}const xe=ue?{done:!1,value:r[0]}:Ce.next(le);b&&(xe.value=b(xe.value));let{done:Be}=xe;!ue&&U!==null&&(Be=Y>=W);const Qe=P===null&&(B==="finished"||B==="running"&&Be||m<0&&Y<=0);return f&&f(xe.value),Qe&&D(),xe},ae=()=>{M&&M.stop(),M=void 0},Z=()=>{B="idle",ae(),g(),R=L=null},D=()=>{B="finished",h&&h(),ae(),g()},k=()=>{if(v)return;M||(M=t(X));const K=M.now();l&&l(),P!==null?R=K-P:(!R||B==="finished")&&(R=K),L=R,P=null,B="running",M.start()};n&&k();const G={then(K,H){return A.then(K,H)},get time(){return ch(Y)},set time(K){K=Om(K),Y=K,P!==null||!M||m===0?P=K:R=M.now()-K/m},get duration(){const K=T.calculatedDuration===null?A5(T):T.calculatedDuration;return ch(K)},get speed(){return m},set speed(K){K===m||!M||(m=K,G.time=ch(Y))},get state(){return B},play:k,pause:()=>{B="paused",P=Y},stop:()=>{v=!0,B!=="idle"&&(B="idle",u&&u(),Z())},cancel:()=>{L!==null&&X(L),Z()},complete:()=>{B="finished"},sample:K=>(R=0,X(K))};return G}const vye=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),Ab=10,yye=2e4,xye=(n,e)=>e.type==="spring"||n==="backgroundColor"||!kQ(e.ease);function Aye(n,e,{onUpdate:t,onComplete:r,...i}){if(!(HQ.waapi()&&vye.has(e)&&!i.repeatDelay&&i.repeatType!=="mirror"&&i.damping!==0&&i.type!=="inertia"))return!1;let s=!1,o,a;const l=()=>{a=new Promise(A=>{o=A})};l();let{keyframes:u,duration:h=300,ease:f,times:p}=i;if(xye(e,i)){const A=lC({...i,repeat:0,delay:0});let g={done:!1,value:u[0]};const M=[];let _=0;for(;!g.done&&_<yye;)g=A.sample(_),M.push(g.value),_+=Ab;p=void 0,u=M,h=_-Ab,f="linear"}const m=B0e(n.owner.current,e,u,{...i,duration:h,ease:f,times:p}),v=()=>m.cancel(),S=()=>{wr.update(v),o(),l()};return m.onfinish=()=>{n.set(L0e(u,i)),r&&r(),S()},{then(A,g){return a.then(A,g)},get time(){return ch(m.currentTime||0)},set time(A){m.currentTime=Om(A)},get speed(){return m.playbackRate},set speed(A){m.playbackRate=A},get duration(){return ch(h)},play:()=>{s||(m.play(),Ah(v))},pause:()=>m.pause(),stop:()=>{if(s=!0,m.playState==="idle")return;const{currentTime:A}=m;if(A){const g=lC({...i,autoplay:!1});n.setWithVelocity(g.sample(A-Ab).value,g.sample(A).value,Ab)}S()},complete:()=>m.finish(),cancel:S}}function _ye({keyframes:n,delay:e,onUpdate:t,onComplete:r}){const i=()=>(t&&t(n[n.length-1]),r&&r(),{time:0,speed:1,duration:0,play:Gi,pause:Gi,stop:Gi,then:s=>(s(),Promise.resolve()),cancel:Gi,complete:Gi});return e?lC({keyframes:[0,1],duration:0,delay:e,onComplete:i}):i()}const Mye={type:"spring",stiffness:500,damping:25,restSpeed:10},Sye=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),Eye={type:"keyframes",duration:.8},bye={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},wye=(n,{keyframes:e})=>e.length>2?Eye:mg.has(n)?n.startsWith("scale")?Sye(e[1]):Mye:bye,r3=(n,e)=>n==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(mf.test(e)||e==="0")&&!e.startsWith("url(")),Tye=new Set(["brightness","contrast","saturate","opacity"]);function Cye(n){const[e,t]=n.slice(0,-1).split("(");if(e==="drop-shadow")return n;const[r]=t.match(NR)||[];if(!r)return n;const i=t.replace(r,"");let s=Tye.has(e)?1:0;return r!==t&&(s*=100),e+"("+s+i+")"}const Rye=/([a-z-]*)\(.*?\)/g,i3={...mf,getAnimatableNone:n=>{const e=n.match(Rye);return e?e.map(Cye).join(" "):n}},Pye={...MQ,color:Os,backgroundColor:Os,outlineColor:Os,fill:Os,stroke:Os,borderColor:Os,borderTopColor:Os,borderRightColor:Os,borderBottomColor:Os,borderLeftColor:Os,filter:i3,WebkitFilter:i3},ek=n=>Pye[n];function cq(n,e){let t=ek(n);return t!==i3&&(t=mf),t.getAnimatableNone?t.getAnimatableNone(e):void 0}const hq=n=>/^0[^.\s]+$/.test(n);function Bye(n){if(typeof n=="number")return n===0;if(n!==null)return n==="none"||n==="0"||hq(n)}function Lye(n,e,t,r){const i=r3(e,t);let s;Array.isArray(t)?s=[...t]:s=[null,t];const o=r.from!==void 0?r.from:n.get();let a;const l=[];for(let u=0;u<s.length;u++)s[u]===null&&(s[u]=u===0?o:s[u-1]),Bye(s[u])&&l.push(u),typeof s[u]=="string"&&s[u]!=="none"&&s[u]!=="0"&&(a=s[u]);if(i&&l.length&&a)for(let u=0;u<l.length;u++){const h=l[u];s[h]=cq(e,a)}return s}function Iye({when:n,delay:e,delayChildren:t,staggerChildren:r,staggerDirection:i,repeat:s,repeatType:o,repeatDelay:a,from:l,elapsed:u,...h}){return!!Object.keys(h).length}function dq(n,e){return n[e]||n.default||n}const tk=(n,e,t,r={})=>i=>{const s=dq(r,n)||{},o=s.delay||r.delay||0;let{elapsed:a=0}=r;a=a-Om(o);const l=Lye(e,n,t,s),u=l[0],h=l[l.length-1],f=r3(n,u),p=r3(n,h);let m={keyframes:l,velocity:e.getVelocity(),ease:"easeOut",...s,delay:-a,onUpdate:v=>{e.set(v),s.onUpdate&&s.onUpdate(v)},onComplete:()=>{i(),s.onComplete&&s.onComplete()}};if(Iye(s)||(m={...m,...wye(n,m)}),m.duration&&(m.duration=Om(m.duration)),m.repeatDelay&&(m.repeatDelay=Om(m.repeatDelay)),!f||!p||P0e.current||s.type===!1)return _ye(m);if(e.owner&&e.owner.current instanceof HTMLElement&&!e.owner.getProps().onUpdate){const v=Aye(e,n,m);if(v)return v}return lC(m)};function uC(n){return!!(yo(n)&&n.add)}const Dye=n=>/^\-?\d*\.?\d+$/.test(n);function nk(n,e){n.indexOf(e)===-1&&n.push(e)}function rk(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}class ik{constructor(){this.subscriptions=[]}add(e){return nk(this.subscriptions,e),()=>rk(this.subscriptions,e)}notify(e,t,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,t,r);else for(let s=0;s<i;s++){const o=this.subscriptions[s];o&&o(e,t,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Fye=n=>!isNaN(parseFloat(n));class Nye{constructor(e,t={}){this.version="10.12.16",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(r,i=!0)=>{this.prev=this.current,this.current=r;const{delta:s,timestamp:o}=gr;this.lastUpdated!==o&&(this.timeDelta=s,this.lastUpdated=o,wr.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>wr.postRender(this.velocityCheck),this.velocityCheck=({timestamp:r})=>{r!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=e,this.canTrackVelocity=Fye(this.current),this.owner=t.owner}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new ik);const r=this.events[e].add(t);return e==="change"?()=>{r(),wr.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e,t=!0){!t||!this.passiveEffect?this.updateAndNotify(e,t):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,t,r){this.set(t),this.prev=e,this.timeDelta=r}jump(e){this.updateAndNotify(e),this.prev=e,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?aq(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Vy(n,e){return new Nye(n,e)}const fq=n=>e=>e.test(n),Uye={test:n=>n==="auto",parse:n=>n},pq=[gg,Wt,ku,fd,Hve,zve,Uye],i1=n=>pq.find(fq(n)),Oye=[...pq,Os,mf],kye=n=>Oye.find(fq(n));function Gye(n,e,t){n.hasValue(e)?n.getValue(e).set(t):n.addValue(e,Vy(t))}function zye(n,e){const t=kR(n,e);let{transitionEnd:r={},transition:i={},...s}=t?n.makeTargetAnimatable(t,!1):{};s={...s,...r};for(const o in s){const a=r0e(s[o]);Gye(n,o,a)}}function Hye(n,e,t){var r,i;const s=Object.keys(e).filter(a=>!n.hasValue(a)),o=s.length;if(o)for(let a=0;a<o;a++){const l=s[a],u=e[l];let h=null;Array.isArray(u)&&(h=u[0]),h===null&&(h=(i=(r=t[l])!==null&&r!==void 0?r:n.readValue(l))!==null&&i!==void 0?i:e[l]),h!=null&&(typeof h=="string"&&(Dye(h)||hq(h))?h=parseFloat(h):!kye(h)&&mf.test(u)&&(h=cq(l,u)),n.addValue(l,Vy(h,{owner:n})),t[l]===void 0&&(t[l]=h),h!==null&&n.setBaseTarget(l,h))}}function Vye(n,e){return e?(e[n]||e.default||e).from:void 0}function Wye(n,e,t){const r={};for(const i in n){const s=Vye(i,e);if(s!==void 0)r[i]=s;else{const o=t.getValue(i);o&&(r[i]=o.get())}}return r}function jye({protectedKeys:n,needsAnimating:e},t){const r=n.hasOwnProperty(t)&&e[t]!==!0;return e[t]=!1,r}function mq(n,e,{delay:t=0,transitionOverride:r,type:i}={}){let{transition:s=n.getDefaultTransition(),transitionEnd:o,...a}=n.makeTargetAnimatable(e);const l=n.getValue("willChange");r&&(s=r);const u=[],h=i&&n.animationState&&n.animationState.getState()[i];for(const f in a){const p=n.getValue(f),m=a[f];if(!p||m===void 0||h&&jye(h,f))continue;const v={delay:t,elapsed:0,...s};if(window.HandoffAppearAnimations&&!p.hasAnimated){const A=n.getProps()[R0e];A&&(v.elapsed=window.HandoffAppearAnimations(A,f,p,wr))}p.start(tk(f,p,m,n.shouldReduceMotion&&mg.has(f)?{type:!1}:v));const S=p.animation;uC(l)&&(l.add(f),S.then(()=>l.remove(f))),u.push(S)}return o&&Promise.all(u).then(()=>{o&&zye(n,o)}),u}function s3(n,e,t={}){const r=kR(n,e,t.custom);let{transition:i=n.getDefaultTransition()||{}}=r||{};t.transitionOverride&&(i=t.transitionOverride);const s=r?()=>Promise.all(mq(n,r,t)):()=>Promise.resolve(),o=n.variantChildren&&n.variantChildren.size?(l=0)=>{const{delayChildren:u=0,staggerChildren:h,staggerDirection:f}=i;return Xye(n,e,u+l,h,f,t)}:()=>Promise.resolve(),{when:a}=i;if(a){const[l,u]=a==="beforeChildren"?[s,o]:[o,s];return l().then(()=>u())}else return Promise.all([s(),o(t.delay)])}function Xye(n,e,t=0,r=0,i=1,s){const o=[],a=(n.variantChildren.size-1)*r,l=i===1?(u=0)=>u*r:(u=0)=>a-u*r;return Array.from(n.variantChildren).sort(Jye).forEach((u,h)=>{u.notify("AnimationStart",e),o.push(s3(u,e,{...s,delay:t+l(h)}).then(()=>u.notify("AnimationComplete",e)))}),Promise.all(o)}function Jye(n,e){return n.sortNodePosition(e)}function Yye(n,e,t={}){n.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(s=>s3(n,s,t));r=Promise.all(i)}else if(typeof e=="string")r=s3(n,e,t);else{const i=typeof e=="function"?kR(n,e,t.custom):e;r=Promise.all(mq(n,i,t))}return r.then(()=>n.notify("AnimationComplete",e))}const Kye=[...GO].reverse(),Qye=GO.length;function qye(n){return e=>Promise.all(e.map(({animation:t,options:r})=>Yye(n,t,r)))}function Zye(n){let e=qye(n);const t=exe();let r=!0;const i=(l,u)=>{const h=kR(n,u);if(h){const{transition:f,transitionEnd:p,...m}=h;l={...l,...m,...p}}return l};function s(l){e=l(n)}function o(l,u){const h=n.getProps(),f=n.getVariantContext(!0)||{},p=[],m=new Set;let v={},S=1/0;for(let g=0;g<Qye;g++){const M=Kye[g],_=t[M],b=h[M]!==void 0?h[M]:f[M],T=aM(b),C=M===u?_.isActive:null;C===!1&&(S=g);let B=b===f[M]&&b!==h[M]&&T;if(B&&r&&n.manuallyAnimateOnMount&&(B=!1),_.protectedKeys={...v},!_.isActive&&C===null||!b&&!_.prevProp||DR(b)||typeof b=="boolean")continue;const P=$ye(_.prevProp,b);let R=P||M===u&&_.isActive&&!B&&T||g>S&&T;const L=Array.isArray(b)?b:[b];let U=L.reduce(i,{});C===!1&&(U={});const{prevResolvedValues:Q={}}=_,W={...Q,...U},Y=X=>{R=!0,m.delete(X),_.needsAnimating[X]=!0};for(const X in W){const ae=U[X],Z=Q[X];v.hasOwnProperty(X)||(ae!==Z?sC(ae)&&sC(Z)?!UQ(ae,Z)||P?Y(X):_.protectedKeys[X]=!0:ae!==void 0?Y(X):m.add(X):ae!==void 0&&m.has(X)?Y(X):_.protectedKeys[X]=!0)}_.prevProp=b,_.prevResolvedValues=U,_.isActive&&(v={...v,...U}),r&&n.blockInitialAnimation&&(R=!1),R&&!B&&p.push(...L.map(X=>({animation:X,options:{type:M,...l}})))}if(m.size){const g={};m.forEach(M=>{const _=n.getBaseTarget(M);_!==void 0&&(g[M]=_)}),p.push({animation:g})}let A=!!p.length;return r&&h.initial===!1&&!n.manuallyAnimateOnMount&&(A=!1),r=!1,A?e(p):Promise.resolve()}function a(l,u,h){var f;if(t[l].isActive===u)return Promise.resolve();(f=n.variantChildren)===null||f===void 0||f.forEach(m=>{var v;return(v=m.animationState)===null||v===void 0?void 0:v.setActive(l,u)}),t[l].isActive=u;const p=o(h,l);for(const m in t)t[m].protectedKeys={};return p}return{animateChanges:o,setActive:a,setAnimateFunction:s,getState:()=>t}}function $ye(n,e){return typeof e=="string"?e!==n:Array.isArray(e)?!UQ(e,n):!1}function Lp(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function exe(){return{animate:Lp(!0),whileInView:Lp(),whileHover:Lp(),whileTap:Lp(),whileDrag:Lp(),whileFocus:Lp(),exit:Lp()}}class txe extends Bf{constructor(e){super(e),e.animationState||(e.animationState=Zye(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();this.unmount(),DR(e)&&(this.unmount=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){}}let nxe=0;class rxe extends Bf{constructor(){super(...arguments),this.id=nxe++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t,custom:r}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const s=this.node.animationState.setActive("exit",!e,{custom:r??this.node.getProps().custom});t&&!e&&s.then(()=>t(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const ixe={animation:{Feature:txe},exit:{Feature:rxe}},_5=(n,e)=>Math.abs(n-e);function sxe(n,e){const t=_5(n.x,e.x),r=_5(n.y,e.y);return Math.sqrt(t**2+r**2)}class gq{constructor(e,t,{transformPagePoint:r}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const u=w2(this.lastMoveEventInfo,this.history),h=this.startEvent!==null,f=sxe(u.offset,{x:0,y:0})>=3;if(!h&&!f)return;const{point:p}=u,{timestamp:m}=gr;this.history.push({...p,timestamp:m});const{onStart:v,onMove:S}=this.handlers;h||(v&&v(this.lastMoveEvent,u),this.startEvent=this.lastMoveEvent),S&&S(this.lastMoveEvent,u)},this.handlePointerMove=(u,h)=>{this.lastMoveEvent=u,this.lastMoveEventInfo=b2(h,this.transformPagePoint),wr.update(this.updatePoint,!0)},this.handlePointerUp=(u,h)=>{if(this.end(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const{onEnd:f,onSessionEnd:p}=this.handlers,m=w2(u.type==="pointercancel"?this.lastMoveEventInfo:b2(h,this.transformPagePoint),this.history);this.startEvent&&f&&f(u,m),p&&p(u,m)},!BQ(e))return;this.handlers=t,this.transformPagePoint=r;const i=UR(e),s=b2(i,this.transformPagePoint),{point:o}=s,{timestamp:a}=gr;this.history=[{...o,timestamp:a}];const{onSessionStart:l}=t;l&&l(e,w2(s,this.history)),this.removeListeners=jd(uh(window,"pointermove",this.handlePointerMove),uh(window,"pointerup",this.handlePointerUp),uh(window,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Ah(this.updatePoint)}}function b2(n,e){return e?{point:e(n.point)}:n}function M5(n,e){return{x:n.x-e.x,y:n.y-e.y}}function w2({point:n},e){return{point:n,delta:M5(n,vq(e)),offset:M5(n,oxe(e)),velocity:axe(e,.1)}}function oxe(n){return n[0]}function vq(n){return n[n.length-1]}function axe(n,e){if(n.length<2)return{x:0,y:0};let t=n.length-1,r=null;const i=vq(n);for(;t>=0&&(r=n[t],!(i.timestamp-r.timestamp>Om(e)));)t--;if(!r)return{x:0,y:0};const s=ch(i.timestamp-r.timestamp);if(s===0)return{x:0,y:0};const o={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function $o(n){return n.max-n.min}function o3(n,e=0,t=.01){return Math.abs(n-e)<=t}function S5(n,e,t,r=.5){n.origin=r,n.originPoint=Sr(e.min,e.max,n.origin),n.scale=$o(t)/$o(e),(o3(n.scale,1,1e-4)||isNaN(n.scale))&&(n.scale=1),n.translate=Sr(t.min,t.max,n.origin)-n.originPoint,(o3(n.translate)||isNaN(n.translate))&&(n.translate=0)}function h_(n,e,t,r){S5(n.x,e.x,t.x,r?r.originX:void 0),S5(n.y,e.y,t.y,r?r.originY:void 0)}function E5(n,e,t){n.min=t.min+e.min,n.max=n.min+$o(e)}function lxe(n,e,t){E5(n.x,e.x,t.x),E5(n.y,e.y,t.y)}function b5(n,e,t){n.min=e.min-t.min,n.max=n.min+$o(e)}function d_(n,e,t){b5(n.x,e.x,t.x),b5(n.y,e.y,t.y)}function uxe(n,{min:e,max:t},r){return e!==void 0&&n<e?n=r?Sr(e,n,r.min):Math.max(n,e):t!==void 0&&n>t&&(n=r?Sr(t,n,r.max):Math.min(n,t)),n}function w5(n,e,t){return{min:e!==void 0?n.min+e:void 0,max:t!==void 0?n.max+t-(n.max-n.min):void 0}}function cxe(n,{top:e,left:t,bottom:r,right:i}){return{x:w5(n.x,t,i),y:w5(n.y,e,r)}}function T5(n,e){let t=e.min-n.min,r=e.max-n.max;return e.max-e.min<n.max-n.min&&([t,r]=[r,t]),{min:t,max:r}}function hxe(n,e){return{x:T5(n.x,e.x),y:T5(n.y,e.y)}}function dxe(n,e){let t=.5;const r=$o(n),i=$o(e);return i>r?t=cM(e.min,e.max-r,n.min):r>i&&(t=cM(n.min,n.max-i,e.min)),pf(0,1,t)}function fxe(n,e){const t={};return e.min!==void 0&&(t.min=e.min-n.min),e.max!==void 0&&(t.max=e.max-n.min),t}const a3=.35;function pxe(n=a3){return n===!1?n=0:n===!0&&(n=a3),{x:C5(n,"left","right"),y:C5(n,"top","bottom")}}function C5(n,e,t){return{min:R5(n,e),max:R5(n,t)}}function R5(n,e){return typeof n=="number"?n:n[e]||0}const P5=()=>({translate:0,scale:1,origin:0,originPoint:0}),I0=()=>({x:P5(),y:P5()}),B5=()=>({min:0,max:0}),oi=()=>({x:B5(),y:B5()});function Su(n){return[n("x"),n("y")]}function yq({top:n,left:e,right:t,bottom:r}){return{x:{min:e,max:t},y:{min:n,max:r}}}function mxe({x:n,y:e}){return{top:e.min,right:n.max,bottom:e.max,left:n.min}}function gxe(n,e){if(!e)return n;const t=e({x:n.left,y:n.top}),r=e({x:n.right,y:n.bottom});return{top:t.y,left:t.x,bottom:r.y,right:r.x}}function T2(n){return n===void 0||n===1}function l3({scale:n,scaleX:e,scaleY:t}){return!T2(n)||!T2(e)||!T2(t)}function qp(n){return l3(n)||xq(n)||n.z||n.rotate||n.rotateX||n.rotateY}function xq(n){return L5(n.x)||L5(n.y)}function L5(n){return n&&n!=="0%"}function cC(n,e,t){const r=n-t,i=e*r;return t+i}function I5(n,e,t,r,i){return i!==void 0&&(n=cC(n,i,r)),cC(n,t,r)+e}function u3(n,e=0,t=1,r,i){n.min=I5(n.min,e,t,r,i),n.max=I5(n.max,e,t,r,i)}function Aq(n,{x:e,y:t}){u3(n.x,e.translate,e.scale,e.originPoint),u3(n.y,t.translate,t.scale,t.originPoint)}function vxe(n,e,t,r=!1){const i=t.length;if(!i)return;e.x=e.y=1;let s,o;for(let a=0;a<i;a++){s=t[a],o=s.projectionDelta;const l=s.instance;l&&l.style&&l.style.display==="contents"||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&D0(n,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,Aq(n,o)),r&&qp(s.latestValues)&&D0(n,s.latestValues))}e.x=D5(e.x),e.y=D5(e.y)}function D5(n){return Number.isInteger(n)||n>1.0000000000001||n<.999999999999?n:1}function xd(n,e){n.min=n.min+e,n.max=n.max+e}function F5(n,e,[t,r,i]){const s=e[i]!==void 0?e[i]:.5,o=Sr(n.min,n.max,s);u3(n,e[t],e[r],o,e.scale)}const yxe=["x","scaleX","originX"],xxe=["y","scaleY","originY"];function D0(n,e){F5(n.x,e,yxe),F5(n.y,e,xxe)}function _q(n,e){return yq(gxe(n.getBoundingClientRect(),e))}function Axe(n,e,t){const r=_q(n,t),{scroll:i}=e;return i&&(xd(r.x,i.offset.x),xd(r.y,i.offset.y)),r}const _xe=new WeakMap;let Mxe=class{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=oi(),this.visualElement=e}start(e,{snapToCursor:t=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=l=>{this.stopAnimation(),t&&this.snapToCursor(UR(l,"page").point)},s=(l,u)=>{const{drag:h,dragPropagation:f,onDragStart:p}=this.getProps();if(h&&!f&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=IQ(h),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Su(v=>{let S=this.getAxisMotionValue(v).get()||0;if(ku.test(S)){const{projection:A}=this.visualElement;if(A&&A.layout){const g=A.layout.layoutBox[v];g&&(S=$o(g)*(parseFloat(S)/100))}}this.originPoint[v]=S}),p&&wr.update(()=>p(l,u),!1,!0);const{animationState:m}=this.visualElement;m&&m.setActive("whileDrag",!0)},o=(l,u)=>{const{dragPropagation:h,dragDirectionLock:f,onDirectionLock:p,onDrag:m}=this.getProps();if(!h&&!this.openGlobalLock)return;const{offset:v}=u;if(f&&this.currentDirection===null){this.currentDirection=Sxe(v),this.currentDirection!==null&&p&&p(this.currentDirection);return}this.updateAxis("x",u.point,v),this.updateAxis("y",u.point,v),this.visualElement.render(),m&&m(l,u)},a=(l,u)=>this.stop(l,u);this.panSession=new gq(e,{onSessionStart:i,onStart:s,onMove:o,onSessionEnd:a},{transformPagePoint:this.visualElement.getTransformPagePoint()})}stop(e,t){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=t;this.startAnimation(i);const{onDragEnd:s}=this.getProps();s&&wr.update(()=>s(e,t))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,r){const{drag:i}=this.getProps();if(!r||!_b(e,i,this.currentDirection))return;const s=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=uxe(o,this.constraints[e],this.elastic[e])),s.set(o)}resolveConstraints(){const{dragConstraints:e,dragElastic:t}=this.getProps(),{layout:r}=this.visualElement.projection||{},i=this.constraints;e&&B0(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=cxe(r.layoutBox,e):this.constraints=!1,this.elastic=pxe(t),i!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&Su(s=>{this.getAxisMotionValue(s)&&(this.constraints[s]=fxe(r.layoutBox[s],this.constraints[s]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!B0(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=Axe(r,i.root,this.visualElement.getTransformPagePoint());let o=hxe(i.layout.layoutBox,s);if(t){const a=t(mxe(o));this.hasMutatedConstraints=!!a,a&&(o=yq(a))}return o}startAnimation(e){const{drag:t,dragMomentum:r,dragElastic:i,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},u=Su(h=>{if(!_b(h,t,this.currentDirection))return;let f=l&&l[h]||{};o&&(f={min:0,max:0});const p=i?200:1e6,m=i?40:1e7,v={type:"inertia",velocity:r?e[h]:0,bounceStiffness:p,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...s,...f};return this.startAxisValueAnimation(h,v)});return Promise.all(u).then(a)}startAxisValueAnimation(e,t){const r=this.getAxisMotionValue(e);return r.start(tk(e,r,0,t))}stopAnimation(){Su(e=>this.getAxisMotionValue(e).stop())}getAxisMotionValue(e){const t="_drag"+e.toUpperCase(),r=this.visualElement.getProps();return r[t]||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Su(t=>{const{drag:r}=this.getProps();if(!_b(t,r,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(t);if(i&&i.layout){const{min:o,max:a}=i.layout.layoutBox[t];s.set(e[t]-Sr(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:r}=this.visualElement;if(!B0(t)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};Su(o=>{const a=this.getAxisMotionValue(o);if(a){const l=a.get();i[o]=dxe({min:l,max:l},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Su(o=>{if(!_b(o,e,null))return;const a=this.getAxisMotionValue(o),{min:l,max:u}=this.constraints[o];a.set(Sr(l,u,i[o]))})}addListeners(){if(!this.visualElement.current)return;_xe.set(this.visualElement,this);const e=this.visualElement.current,t=uh(e,"pointerdown",l=>{const{drag:u,dragListener:h=!0}=this.getProps();u&&h&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();B0(l)&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),r();const o=th(window,"resize",()=>this.scalePositionWithinConstraints()),a=i.addEventListener("didUpdate",({delta:l,hasLayoutChanged:u})=>{this.isDragging&&u&&(Su(h=>{const f=this.getAxisMotionValue(h);f&&(this.originPoint[h]+=l[h].translate,f.set(f.get()+l[h].translate))}),this.visualElement.render())});return()=>{o(),t(),s(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:o=a3,dragMomentum:a=!0}=e;return{...e,drag:t,dragDirectionLock:r,dragPropagation:i,dragConstraints:s,dragElastic:o,dragMomentum:a}}};function _b(n,e,t){return(e===!0||e===n)&&(t===null||t===n)}function Sxe(n,e=10){let t=null;return Math.abs(n.y)>e?t="y":Math.abs(n.x)>e&&(t="x"),t}let Exe=class extends Bf{constructor(e){super(e),this.removeGroupControls=Gi,this.removeListeners=Gi,this.controls=new Mxe(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Gi}unmount(){this.removeGroupControls(),this.removeListeners()}};const N5=n=>(e,t)=>{n&&wr.update(()=>n(e,t))};let bxe=class extends Bf{constructor(){super(...arguments),this.removePointerDownListener=Gi}onPointerDown(e){this.session=new gq(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint()})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:N5(e),onStart:N5(t),onMove:r,onEnd:(s,o)=>{delete this.session,i&&wr.update(()=>i(s,o))}}}mount(){this.removePointerDownListener=uh(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}};function wxe(){const n=pe.useContext(kO);if(n===null)return[!0,null];const{isPresent:e,onExitComplete:t,register:r}=n,i=pe.useId();return pe.useEffect(()=>r(i),[]),!e&&t?[!1,()=>t&&t(i)]:[!0]}const rT={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function U5(n,e){return e.max===e.min?0:n/(e.max-e.min)*100}const s1={correct:(n,e)=>{if(!e.target)return n;if(typeof n=="string")if(Wt.test(n))n=parseFloat(n);else return n;const t=U5(n,e.target.x),r=U5(n,e.target.y);return`${t}% ${r}%`}},Txe={correct:(n,{treeScale:e,projectionDelta:t})=>{const r=n,i=mf.parse(n);if(i.length>5)return r;const s=mf.createTransformer(n),o=typeof i[0]!="number"?1:0,a=t.x.scale*e.x,l=t.y.scale*e.y;i[0+o]/=a,i[1+o]/=l;const u=Sr(a,l,.5);return typeof i[2+o]=="number"&&(i[2+o]/=u),typeof i[3+o]=="number"&&(i[3+o]/=u),s(i)}};let Cxe=class extends XM.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:r,layoutId:i}=this.props,{projection:s}=e;Dve(Rxe),s&&(t.group&&t.group.add(s),r&&r.register&&i&&r.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),rT.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:r,drag:i,isPresent:s}=this.props,o=r.projection;return o&&(o.isPresent=s,i||e.layoutDependency!==t||t===void 0?o.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?o.promote():o.relegate()||wr.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),queueMicrotask(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:r}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}};function Mq(n){const[e,t]=wxe(),r=pe.useContext(gQ);return XM.createElement(Cxe,{...n,layoutGroup:r,switchLayoutGroup:pe.useContext(vQ),isPresent:e,safeToRemove:t})}const Rxe={borderRadius:{...s1,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:s1,borderTopRightRadius:s1,borderBottomLeftRadius:s1,borderBottomRightRadius:s1,boxShadow:Txe},Sq=["TopLeft","TopRight","BottomLeft","BottomRight"],Pxe=Sq.length,O5=n=>typeof n=="string"?parseFloat(n):n,k5=n=>typeof n=="number"||Wt.test(n);function Bxe(n,e,t,r,i,s){i?(n.opacity=Sr(0,t.opacity!==void 0?t.opacity:1,Lxe(r)),n.opacityExit=Sr(e.opacity!==void 0?e.opacity:1,0,Ixe(r))):s&&(n.opacity=Sr(e.opacity!==void 0?e.opacity:1,t.opacity!==void 0?t.opacity:1,r));for(let o=0;o<Pxe;o++){const a=`border${Sq[o]}Radius`;let l=G5(e,a),u=G5(t,a);l===void 0&&u===void 0||(l||(l=0),u||(u=0),l===0||u===0||k5(l)===k5(u)?(n[a]=Math.max(Sr(O5(l),O5(u),r),0),(ku.test(u)||ku.test(l))&&(n[a]+="%")):n[a]=u)}(e.rotate||t.rotate)&&(n.rotate=Sr(e.rotate||0,t.rotate||0,r))}function G5(n,e){return n[e]!==void 0?n[e]:n.borderRadius}const Lxe=Eq(0,.5,qO),Ixe=Eq(.5,.95,Gi);function Eq(n,e,t){return r=>r<n?0:r>e?1:t(cM(n,e,r))}function z5(n,e){n.min=e.min,n.max=e.max}function wa(n,e){z5(n.x,e.x),z5(n.y,e.y)}function H5(n,e,t,r,i){return n-=e,n=cC(n,1/t,r),i!==void 0&&(n=cC(n,1/i,r)),n}function Dxe(n,e=0,t=1,r=.5,i,s=n,o=n){if(ku.test(e)&&(e=parseFloat(e),e=Sr(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=Sr(s.min,s.max,r);n===s&&(a-=e),n.min=H5(n.min,e,t,a,i),n.max=H5(n.max,e,t,a,i)}function V5(n,e,[t,r,i],s,o){Dxe(n,e[t],e[r],e[i],e.scale,s,o)}const Fxe=["x","scaleX","originX"],Nxe=["y","scaleY","originY"];function W5(n,e,t,r){V5(n.x,e,Fxe,t?t.x:void 0,r?r.x:void 0),V5(n.y,e,Nxe,t?t.y:void 0,r?r.y:void 0)}function j5(n){return n.translate===0&&n.scale===1}function bq(n){return j5(n.x)&&j5(n.y)}function c3(n,e){return n.x.min===e.x.min&&n.x.max===e.x.max&&n.y.min===e.y.min&&n.y.max===e.y.max}function X5(n){return $o(n.x)/$o(n.y)}class Uxe{constructor(){this.members=[]}add(e){nk(this.members,e),e.scheduleRender()}remove(e){if(rk(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const t=this.members[this.members.length-1];t&&this.promote(t)}}relegate(e){const t=this.members.findIndex(i=>e===i);if(t===0)return!1;let r;for(let i=t;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){r=s;break}}return r?(this.promote(r),!0):!1}promote(e,t){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,t&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:t,resumingFrom:r}=e;t.onExitComplete&&t.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function J5(n,e,t){let r="";const i=n.x.translate/e.x,s=n.y.translate/e.y;if((i||s)&&(r=`translate3d(${i}px, ${s}px, 0) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),t){const{rotate:l,rotateX:u,rotateY:h}=t;l&&(r+=`rotate(${l}deg) `),u&&(r+=`rotateX(${u}deg) `),h&&(r+=`rotateY(${h}deg) `)}const o=n.x.scale*e.x,a=n.y.scale*e.y;return(o!==1||a!==1)&&(r+=`scale(${o}, ${a})`),r||"none"}const Oxe=(n,e)=>n.depth-e.depth;let kxe=class{constructor(){this.children=[],this.isDirty=!1}add(e){nk(this.children,e),this.isDirty=!0}remove(e){rk(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(Oxe),this.isDirty=!1,this.children.forEach(e)}};function Gxe(n,e){const t=performance.now(),r=({timestamp:i})=>{const s=i-t;s>=e&&(Ah(r),n(s-e))};return wr.read(r,!0),()=>Ah(r)}function zxe(n){window.MotionDebug&&window.MotionDebug.record(n)}function Hxe(n){return n instanceof SVGElement&&n.tagName!=="svg"}function Vxe(n,e,t){const r=yo(n)?n:Vy(n);return r.start(tk("",r,e,t)),r.animation}const Y5=["","X","Y","Z"],K5=1e3;let Wxe=0;const Zp={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function wq({attachResizeListener:n,defaultParent:e,measureScroll:t,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(s={},o=e==null?void 0:e()){this.id=Wxe++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{Zp.totalNodes=Zp.resolvedTargetDeltas=Zp.recalculatedProjection=0,this.nodes.forEach(Jxe),this.nodes.forEach(Zxe),this.nodes.forEach($xe),this.nodes.forEach(Yxe),zxe(Zp)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=s,this.root=o?o.root||o:this,this.path=o?[...o.path,o]:[],this.parent=o,this.depth=o?o.depth+1:0;for(let a=0;a<this.path.length;a++)this.path[a].shouldResetTransform=!0;this.root===this&&(this.nodes=new kxe)}addEventListener(s,o){return this.eventHandlers.has(s)||this.eventHandlers.set(s,new ik),this.eventHandlers.get(s).add(o)}notifyListeners(s,...o){const a=this.eventHandlers.get(s);a&&a.notify(...o)}hasListeners(s){return this.eventHandlers.has(s)}mount(s,o=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=Hxe(s),this.instance=s;const{layoutId:a,layout:l,visualElement:u}=this.options;if(u&&!u.current&&u.mount(s),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),o&&(l||a)&&(this.isLayoutDirty=!0),n){let h;const f=()=>this.root.updateBlockedByResize=!1;n(s,()=>{this.root.updateBlockedByResize=!0,h&&h(),h=Gxe(f,250),rT.hasAnimatedSinceResize&&(rT.hasAnimatedSinceResize=!1,this.nodes.forEach(q5))})}a&&this.root.registerSharedNode(a,this),this.options.animate!==!1&&u&&(a||l)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:f,hasRelativeTargetChanged:p,layout:m})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const v=this.options.transition||u.getDefaultTransition()||iAe,{onLayoutAnimationStart:S,onLayoutAnimationComplete:A}=u.getProps(),g=!this.targetLayout||!c3(this.targetLayout,m)||p,M=!f&&p;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||M||f&&(g||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(h,M);const _={...dq(v,"layout"),onPlay:S,onComplete:A};(u.shouldReduceMotion||this.options.layoutRoot)&&(_.delay=0,_.type=!1),this.startAnimation(_)}else f||q5(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=m})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const s=this.getStack();s&&s.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Ah(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(eAe),this.animationId++)}getTransformTemplate(){const{visualElement:s}=this.options;return s&&s.getProps().transformTemplate}willUpdate(s=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const h=this.path[u];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:o,layout:a}=this.options;if(o===void 0&&!a)return;const l=this.getTransformTemplate();this.prevTransformTemplateValue=l?l(this.latestValues,""):void 0,this.updateSnapshot(),s&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Q5);return}this.isUpdating||this.nodes.forEach(Qxe),this.isUpdating=!1,this.nodes.forEach(qxe),this.nodes.forEach(jxe),this.nodes.forEach(Xxe),this.clearAllSnapshots();const s=performance.now();gr.delta=pf(0,1e3/60,s-gr.timestamp),gr.timestamp=s,gr.isProcessing=!0,fy.update.process(gr),fy.preRender.process(gr),fy.render.process(gr),gr.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(Kxe),this.sharedNodes.forEach(tAe)}scheduleUpdateProjection(){wr.preRender(this.updateProjection,!1,!0)}scheduleCheckAfterUnmount(){wr.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let a=0;a<this.path.length;a++)this.path[a].updateScroll();const s=this.layout;this.layout=this.measure(!1),this.layoutCorrected=oi(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:o}=this.options;o&&o.notify("LayoutMeasure",this.layout.layoutBox,s?s.layoutBox:void 0)}updateScroll(s="measure"){let o=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===s&&(o=!1),o&&(this.scroll={animationId:this.root.animationId,phase:s,isRoot:r(this.instance),offset:t(this.instance)})}resetTransform(){if(!i)return;const s=this.isLayoutDirty||this.shouldResetTransform,o=this.projectionDelta&&!bq(this.projectionDelta),a=this.getTransformTemplate(),l=a?a(this.latestValues,""):void 0,u=l!==this.prevTransformTemplateValue;s&&(o||qp(this.latestValues)||u)&&(i(this.instance,l),this.shouldResetTransform=!1,this.scheduleRender())}measure(s=!0){const o=this.measurePageBox();let a=this.removeElementScroll(o);return s&&(a=this.removeTransform(a)),sAe(a),{animationId:this.root.animationId,measuredBox:o,layoutBox:a,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:s}=this.options;if(!s)return oi();const o=s.measureViewportBox(),{scroll:a}=this.root;return a&&(xd(o.x,a.offset.x),xd(o.y,a.offset.y)),o}removeElementScroll(s){const o=oi();wa(o,s);for(let a=0;a<this.path.length;a++){const l=this.path[a],{scroll:u,options:h}=l;if(l!==this.root&&u&&h.layoutScroll){if(u.isRoot){wa(o,s);const{scroll:f}=this.root;f&&(xd(o.x,-f.offset.x),xd(o.y,-f.offset.y))}xd(o.x,u.offset.x),xd(o.y,u.offset.y)}}return o}applyTransform(s,o=!1){const a=oi();wa(a,s);for(let l=0;l<this.path.length;l++){const u=this.path[l];!o&&u.options.layoutScroll&&u.scroll&&u!==u.root&&D0(a,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),qp(u.latestValues)&&D0(a,u.latestValues)}return qp(this.latestValues)&&D0(a,this.latestValues),a}removeTransform(s){const o=oi();wa(o,s);for(let a=0;a<this.path.length;a++){const l=this.path[a];if(!l.instance||!qp(l.latestValues))continue;l3(l.latestValues)&&l.updateSnapshot();const u=oi(),h=l.measurePageBox();wa(u,h),W5(o,l.latestValues,l.snapshot?l.snapshot.layoutBox:void 0,u)}return qp(this.latestValues)&&W5(o,this.latestValues),o}setTargetDelta(s){this.targetDelta=s,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(s){this.options={...this.options,...s,crossfade:s.crossfade!==void 0?s.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==gr.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(s=!1){var o;const a=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=a.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=a.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=a.isSharedProjectionDirty);const l=!!this.resumingFrom||this!==a;if(!(s||l&&this.isSharedProjectionDirty||this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:u,layoutId:h}=this.options;if(!(!this.layout||!(u||h))){if(this.resolvedRelativeTargetAt=gr.timestamp,!this.targetDelta&&!this.relativeTarget){const f=this.getClosestProjectingParent();f&&f.layout&&this.animationProgress!==1?(this.relativeParent=f,this.forceRelativeParentToResolveTarget(),this.relativeTarget=oi(),this.relativeTargetOrigin=oi(),d_(this.relativeTargetOrigin,this.layout.layoutBox,f.layout.layoutBox),wa(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=oi(),this.targetWithTransforms=oi()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),lxe(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):wa(this.target,this.layout.layoutBox),Aq(this.target,this.targetDelta)):wa(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const f=this.getClosestProjectingParent();f&&!!f.resumingFrom==!!this.resumingFrom&&!f.options.layoutScroll&&f.target&&this.animationProgress!==1?(this.relativeParent=f,this.forceRelativeParentToResolveTarget(),this.relativeTarget=oi(),this.relativeTargetOrigin=oi(),d_(this.relativeTargetOrigin,this.target,f.target),wa(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Zp.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||l3(this.parent.latestValues)||xq(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var s;const o=this.getLead(),a=!!this.resumingFrom||this!==o;let l=!0;if((this.isProjectionDirty||!((s=this.parent)===null||s===void 0)&&s.isProjectionDirty)&&(l=!1),a&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(l=!1),this.resolvedRelativeTargetAt===gr.timestamp&&(l=!1),l)return;const{layout:u,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||h))return;wa(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,p=this.treeScale.y;vxe(this.layoutCorrected,this.treeScale,this.path,a),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox);const{target:m}=o;if(!m){this.projectionTransform&&(this.projectionDelta=I0(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=I0(),this.projectionDeltaWithTransform=I0());const v=this.projectionTransform;h_(this.projectionDelta,this.layoutCorrected,m,this.latestValues),this.projectionTransform=J5(this.projectionDelta,this.treeScale),(this.projectionTransform!==v||this.treeScale.x!==f||this.treeScale.y!==p)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",m)),Zp.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(s=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),s){const o=this.getStack();o&&o.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(s,o=!1){const a=this.snapshot,l=a?a.latestValues:{},u={...this.latestValues},h=I0();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!o;const f=oi(),p=a?a.source:void 0,m=this.layout?this.layout.source:void 0,v=p!==m,S=this.getStack(),A=!S||S.members.length<=1,g=!!(v&&!A&&this.options.crossfade===!0&&!this.path.some(rAe));this.animationProgress=0;let M;this.mixTargetDelta=_=>{const b=_/1e3;Z5(h.x,s.x,b),Z5(h.y,s.y,b),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(d_(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),nAe(this.relativeTarget,this.relativeTargetOrigin,f,b),M&&c3(this.relativeTarget,M)&&(this.isProjectionDirty=!1),M||(M=oi()),wa(M,this.relativeTarget)),v&&(this.animationValues=u,Bxe(u,l,this.latestValues,b,g,A)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=b},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(s){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Ah(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=wr.update(()=>{rT.hasAnimatedSinceResize=!0,this.currentAnimation=Vxe(0,K5,{...s,onUpdate:o=>{this.mixTargetDelta(o),s.onUpdate&&s.onUpdate(o)},onComplete:()=>{s.onComplete&&s.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const s=this.getStack();s&&s.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(K5),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const s=this.getLead();let{targetWithTransforms:o,target:a,layout:l,latestValues:u}=s;if(!(!o||!a||!l)){if(this!==s&&this.layout&&l&&Tq(this.options.animationType,this.layout.layoutBox,l.layoutBox)){a=this.target||oi();const h=$o(this.layout.layoutBox.x);a.x.min=s.target.x.min,a.x.max=a.x.min+h;const f=$o(this.layout.layoutBox.y);a.y.min=s.target.y.min,a.y.max=a.y.min+f}wa(o,a),D0(o,u),h_(this.projectionDeltaWithTransform,this.layoutCorrected,o,u)}}registerSharedNode(s,o){this.sharedNodes.has(s)||this.sharedNodes.set(s,new Uxe),this.sharedNodes.get(s).add(o);const a=o.options.initialPromotionConfig;o.promote({transition:a?a.transition:void 0,preserveFollowOpacity:a&&a.shouldPreserveFollowOpacity?a.shouldPreserveFollowOpacity(o):void 0})}isLead(){const s=this.getStack();return s?s.lead===this:!0}getLead(){var s;const{layoutId:o}=this.options;return o?((s=this.getStack())===null||s===void 0?void 0:s.lead)||this:this}getPrevLead(){var s;const{layoutId:o}=this.options;return o?(s=this.getStack())===null||s===void 0?void 0:s.prevLead:void 0}getStack(){const{layoutId:s}=this.options;if(s)return this.root.sharedNodes.get(s)}promote({needsReset:s,transition:o,preserveFollowOpacity:a}={}){const l=this.getStack();l&&l.promote(this,a),s&&(this.projectionDelta=void 0,this.needsReset=!0),o&&this.setOptions({transition:o})}relegate(){const s=this.getStack();return s?s.relegate(this):!1}resetRotation(){const{visualElement:s}=this.options;if(!s)return;let o=!1;const{latestValues:a}=s;if((a.rotate||a.rotateX||a.rotateY||a.rotateZ)&&(o=!0),!o)return;const l={};for(let u=0;u<Y5.length;u++){const h="rotate"+Y5[u];a[h]&&(l[h]=a[h],s.setStaticValue(h,0))}s.render();for(const u in l)s.setStaticValue(u,l[u]);s.scheduleRender()}getProjectionStyles(s={}){var o,a;const l={};if(!this.instance||this.isSVG)return l;if(this.isVisible)l.visibility="";else return{visibility:"hidden"};const u=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,l.opacity="",l.pointerEvents=nT(s.pointerEvents)||"",l.transform=u?u(this.latestValues,""):"none",l;const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){const v={};return this.options.layoutId&&(v.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,v.pointerEvents=nT(s.pointerEvents)||""),this.hasProjected&&!qp(this.latestValues)&&(v.transform=u?u({},""):"none",this.hasProjected=!1),v}const f=h.animationValues||h.latestValues;this.applyTransformsToTarget(),l.transform=J5(this.projectionDeltaWithTransform,this.treeScale,f),u&&(l.transform=u(f,l.transform));const{x:p,y:m}=this.projectionDelta;l.transformOrigin=`${p.origin*100}% ${m.origin*100}% 0`,h.animationValues?l.opacity=h===this?(a=(o=f.opacity)!==null&&o!==void 0?o:this.latestValues.opacity)!==null&&a!==void 0?a:1:this.preserveOpacity?this.latestValues.opacity:f.opacityExit:l.opacity=h===this?f.opacity!==void 0?f.opacity:"":f.opacityExit!==void 0?f.opacityExit:0;for(const v in rC){if(f[v]===void 0)continue;const{correct:S,applyTo:A}=rC[v],g=l.transform==="none"?f[v]:S(f[v],h);if(A){const M=A.length;for(let _=0;_<M;_++)l[A[_]]=g}else l[v]=g}return this.options.layoutId&&(l.pointerEvents=h===this?nT(s.pointerEvents)||"":"none"),l}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(s=>{var o;return(o=s.currentAnimation)===null||o===void 0?void 0:o.stop()}),this.root.nodes.forEach(Q5),this.root.sharedNodes.clear()}}}function jxe(n){n.updateLayout()}function Xxe(n){var e;const t=((e=n.resumeFrom)===null||e===void 0?void 0:e.snapshot)||n.snapshot;if(n.isLead()&&n.layout&&t&&n.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=n.layout,{animationType:s}=n.options,o=t.source!==n.layout.source;s==="size"?Su(f=>{const p=o?t.measuredBox[f]:t.layoutBox[f],m=$o(p);p.min=r[f].min,p.max=p.min+m}):Tq(s,t.layoutBox,r)&&Su(f=>{const p=o?t.measuredBox[f]:t.layoutBox[f],m=$o(r[f]);p.max=p.min+m,n.relativeTarget&&!n.currentAnimation&&(n.isProjectionDirty=!0,n.relativeTarget[f].max=n.relativeTarget[f].min+m)});const a=I0();h_(a,r,t.layoutBox);const l=I0();o?h_(l,n.applyTransform(i,!0),t.measuredBox):h_(l,r,t.layoutBox);const u=!bq(a);let h=!1;if(!n.resumeFrom){const f=n.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:p,layout:m}=f;if(p&&m){const v=oi();d_(v,t.layoutBox,p.layoutBox);const S=oi();d_(S,r,m.layoutBox),c3(v,S)||(h=!0),f.options.layoutRoot&&(n.relativeTarget=S,n.relativeTargetOrigin=v,n.relativeParent=f)}}}n.notifyListeners("didUpdate",{layout:r,snapshot:t,delta:l,layoutDelta:a,hasLayoutChanged:u,hasRelativeTargetChanged:h})}else if(n.isLead()){const{onExitComplete:r}=n.options;r&&r()}n.options.transition=void 0}function Jxe(n){Zp.totalNodes++,n.parent&&(n.isProjecting()||(n.isProjectionDirty=n.parent.isProjectionDirty),n.isSharedProjectionDirty||(n.isSharedProjectionDirty=!!(n.isProjectionDirty||n.parent.isProjectionDirty||n.parent.isSharedProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=n.parent.isTransformDirty))}function Yxe(n){n.isProjectionDirty=n.isSharedProjectionDirty=n.isTransformDirty=!1}function Kxe(n){n.clearSnapshot()}function Q5(n){n.clearMeasurements()}function Qxe(n){n.isLayoutDirty=!1}function qxe(n){const{visualElement:e}=n.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),n.resetTransform()}function q5(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0,n.isProjectionDirty=!0}function Zxe(n){n.resolveTargetDelta()}function $xe(n){n.calcProjection()}function eAe(n){n.resetRotation()}function tAe(n){n.removeLeadSnapshot()}function Z5(n,e,t){n.translate=Sr(e.translate,0,t),n.scale=Sr(e.scale,1,t),n.origin=e.origin,n.originPoint=e.originPoint}function $5(n,e,t,r){n.min=Sr(e.min,t.min,r),n.max=Sr(e.max,t.max,r)}function nAe(n,e,t,r){$5(n.x,e.x,t.x,r),$5(n.y,e.y,t.y,r)}function rAe(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const iAe={duration:.45,ease:[.4,0,.1,1]};function e9(n){n.min=Math.round(n.min),n.max=Math.round(n.max)}function sAe(n){e9(n.x),e9(n.y)}function Tq(n,e,t){return n==="position"||n==="preserve-aspect"&&!o3(X5(e),X5(t),.2)}const oAe=wq({attachResizeListener:(n,e)=>th(n,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),C2={current:void 0},Cq=wq({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!C2.current){const n=new oAe({});n.mount(window),n.setOptions({layoutScroll:!0}),C2.current=n}return C2.current},resetTransform:(n,e)=>{n.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:n=>window.getComputedStyle(n).position==="fixed"}),aAe={pan:{Feature:bxe},drag:{Feature:Exe,ProjectionNode:Cq,MeasureLayout:Mq}},lAe=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function uAe(n){const e=lAe.exec(n);if(!e)return[,];const[,t,r]=e;return[t,r]}function h3(n,e,t=1){const[r,i]=uAe(n);if(!r)return;const s=window.getComputedStyle(e).getPropertyValue(r);return s?s.trim():ZD(i)?h3(i,e,t+1):i}function cAe(n,{...e},t){const r=n.current;if(!(r instanceof Element))return{target:e,transitionEnd:t};t&&(t={...t}),n.values.forEach(i=>{const s=i.get();if(!ZD(s))return;const o=h3(s,r);o&&i.set(o)});for(const i in e){const s=e[i];if(!ZD(s))continue;const o=h3(s,r);o&&(e[i]=o,t||(t={}),t[i]===void 0&&(t[i]=s))}return{target:e,transitionEnd:t}}const hAe=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),Rq=n=>hAe.has(n),dAe=n=>Object.keys(n).some(Rq),t9=n=>n===gg||n===Wt,n9=(n,e)=>parseFloat(n.split(", ")[e]),r9=(n,e)=>(t,{transform:r})=>{if(r==="none"||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/);if(i)return n9(i[1],e);{const s=r.match(/^matrix\((.+)\)$/);return s?n9(s[1],n):0}},fAe=new Set(["x","y","z"]),pAe=cS.filter(n=>!fAe.has(n));function mAe(n){const e=[];return pAe.forEach(t=>{const r=n.getValue(t);r!==void 0&&(e.push([t,r.get()]),r.set(t.startsWith("scale")?1:0))}),e.length&&n.render(),e}const i9={width:({x:n},{paddingLeft:e="0",paddingRight:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),height:({y:n},{paddingTop:e="0",paddingBottom:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),top:(n,{top:e})=>parseFloat(e),left:(n,{left:e})=>parseFloat(e),bottom:({y:n},{top:e})=>parseFloat(e)+(n.max-n.min),right:({x:n},{left:e})=>parseFloat(e)+(n.max-n.min),x:r9(4,13),y:r9(5,14)},gAe=(n,e,t)=>{const r=e.measureViewportBox(),i=e.current,s=getComputedStyle(i),{display:o}=s,a={};o==="none"&&e.setStaticValue("display",n.display||"block"),t.forEach(u=>{a[u]=i9[u](r,s)}),e.render();const l=e.measureViewportBox();return t.forEach(u=>{const h=e.getValue(u);h&&h.jump(a[u]),n[u]=i9[u](l,s)}),n},vAe=(n,e,t={},r={})=>{e={...e},r={...r};const i=Object.keys(e).filter(Rq);let s=[],o=!1;const a=[];if(i.forEach(l=>{const u=n.getValue(l);if(!n.hasValue(l))return;let h=t[l],f=i1(h);const p=e[l];let m;if(sC(p)){const v=p.length,S=p[0]===null?1:0;h=p[S],f=i1(h);for(let A=S;A<v&&p[A]!==null;A++)m?QO(i1(p[A])===m):m=i1(p[A])}else m=i1(p);if(f!==m)if(t9(f)&&t9(m)){const v=u.get();typeof v=="string"&&u.set(parseFloat(v)),typeof p=="string"?e[l]=parseFloat(p):Array.isArray(p)&&m===Wt&&(e[l]=p.map(parseFloat))}else f!=null&&f.transform&&m!=null&&m.transform&&(h===0||p===0)?h===0?u.set(m.transform(h)):e[l]=f.transform(p):(o||(s=mAe(n),o=!0),a.push(l),r[l]=r[l]!==void 0?r[l]:e[l],u.jump(p))}),a.length){const l=a.indexOf("height")>=0?window.pageYOffset:null,u=gAe(e,n,a);return s.length&&s.forEach(([h,f])=>{n.getValue(h).set(f)}),n.render(),IR&&l!==null&&window.scrollTo({top:l}),{target:u,transitionEnd:r}}else return{target:e,transitionEnd:r}};function yAe(n,e,t,r){return dAe(e)?vAe(n,e,t,r):{target:e,transitionEnd:r}}const xAe=(n,e,t,r)=>{const i=cAe(n,e,r);return e=i.target,r=i.transitionEnd,yAe(n,e,t,r)},d3={current:null},Pq={current:!1};function AAe(){if(Pq.current=!0,!!IR)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),e=()=>d3.current=n.matches;n.addListener(e),e()}else d3.current=!1}function _Ae(n,e,t){const{willChange:r}=e;for(const i in e){const s=e[i],o=t[i];if(yo(s))n.addValue(i,s),uC(r)&&r.add(i);else if(yo(o))n.addValue(i,Vy(s,{owner:n})),uC(r)&&r.remove(i);else if(o!==s)if(n.hasValue(i)){const a=n.getValue(i);!a.hasAnimated&&a.set(s)}else{const a=n.getStaticValue(i);n.addValue(i,Vy(a!==void 0?a:s,{owner:n}))}}for(const i in t)e[i]===void 0&&n.removeValue(i);return e}const s9=new WeakMap,Bq=Object.keys(lM),MAe=Bq.length,o9=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],SAe=zO.length;class EAe{constructor({parent:e,props:t,presenceContext:r,reducedMotionConfig:i,visualState:s},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>wr.render(this.render,!1,!0);const{latestValues:a,renderState:l}=s;this.latestValues=a,this.baseTarget={...a},this.initialValues=t.initial?{...a}:{},this.renderState=l,this.parent=e,this.props=t,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=o,this.isControllingVariants=FR(t),this.isVariantNode=mQ(t),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:u,...h}=this.scrapeMotionValuesFromProps(t,{});for(const f in h){const p=h[f];a[f]!==void 0&&yo(p)&&(p.set(a[f],!1),uC(u)&&u.add(f))}}scrapeMotionValuesFromProps(e,t){return{}}mount(e){this.current=e,s9.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((t,r)=>this.bindToMotionValue(r,t)),Pq.current||AAe(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:d3.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){s9.delete(this.current),this.projection&&this.projection.unmount(),Ah(this.notifyUpdate),Ah(this.render),this.valueSubscriptions.forEach(e=>e()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features)this.features[e].unmount();this.current=null}bindToMotionValue(e,t){const r=mg.has(e),i=t.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&wr.update(this.notifyUpdate,!1,!0),r&&this.projection&&(this.projection.isTransformDirty=!0)}),s=t.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(e,()=>{i(),s()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}loadFeatures({children:e,...t},r,i,s){let o,a;for(let l=0;l<MAe;l++){const u=Bq[l],{isEnabled:h,Feature:f,ProjectionNode:p,MeasureLayout:m}=lM[u];p&&(o=p),h(t)&&(!this.features[u]&&f&&(this.features[u]=new f(this)),m&&(a=m))}if(!this.projection&&o){this.projection=new o(this.latestValues,this.parent&&this.parent.projection);const{layoutId:l,layout:u,drag:h,dragConstraints:f,layoutScroll:p,layoutRoot:m}=t;this.projection.setOptions({layoutId:l,layout:u,alwaysMeasureLayout:!!h||f&&B0(f),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof u=="string"?u:"both",initialPromotionConfig:s,layoutScroll:p,layoutRoot:m})}return a}updateFeatures(){for(const e in this.features){const t=this.features[e];t.isMounted?t.update():(t.mount(),t.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):oi()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}makeTargetAnimatable(e,t=!0){return this.makeTargetAnimatableFromInstance(e,this.props,t)}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let r=0;r<o9.length;r++){const i=o9[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s=e["on"+i];s&&(this.propEventSubscriptions[i]=this.on(i,s))}this.prevMotionValues=_Ae(this,this.scrapeMotionValuesFromProps(e,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(e=!1){if(e)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const r=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(r.initial=this.props.initial),r}const t={};for(let r=0;r<SAe;r++){const i=zO[r],s=this.props[i];(aM(s)||s===!1)&&(t[i]=s)}return t}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){t!==this.values.get(e)&&(this.removeValue(e),this.bindToMotionValue(e,t)),this.values.set(e,t),this.latestValues[e]=t.get()}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&t!==void 0&&(r=Vy(t,{owner:this}),this.addValue(e,r)),r}readValue(e){return this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.readValueFromInstance(this.current,e,this.options)}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){var t;const{initial:r}=this.props,i=typeof r=="string"||typeof r=="object"?(t=KO(this.props,r))===null||t===void 0?void 0:t[e]:void 0;if(r&&i!==void 0)return i;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!yo(s)?s:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,t){return this.events[e]||(this.events[e]=new ik),this.events[e].add(t)}notify(e,...t){this.events[e]&&this.events[e].notify(...t)}}class Lq extends EAe{sortInstanceNodePosition(e,t){return e.compareDocumentPosition(t)&2?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,{vars:t,style:r}){delete t[e],delete r[e]}makeTargetAnimatableFromInstance({transition:e,transitionEnd:t,...r},{transformValues:i},s){let o=Wye(r,e||{},this);if(i&&(t&&(t=i(t)),r&&(r=i(r)),o&&(o=i(o))),s){Hye(this,r,o);const a=xAe(this,r,o,t);t=a.transitionEnd,r=a.target}return{transition:e,transitionEnd:t,...r}}}function bAe(n){return window.getComputedStyle(n)}class wAe extends Lq{readValueFromInstance(e,t){if(mg.has(t)){const r=ek(t);return r&&r.default||0}else{const r=bAe(e),i=(AQ(t)?r.getPropertyValue(t):r[t])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:t}){return _q(e,t)}build(e,t,r,i){VO(e,t,r,i.transformTemplate)}scrapeMotionValuesFromProps(e,t){return YO(e,t)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;yo(e)&&(this.childSubscription=e.on("change",t=>{this.current&&(this.current.textContent=`${t}`)}))}renderInstance(e,t,r,i){wQ(e,t,r,i)}}class TAe extends Lq{constructor(){super(...arguments),this.isSVGTag=!1}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(mg.has(t)){const r=ek(t);return r&&r.default||0}return t=TQ.has(t)?t:JO(t),e.getAttribute(t)}measureInstanceViewportBox(){return oi()}scrapeMotionValuesFromProps(e,t){return RQ(e,t)}build(e,t,r,i){jO(e,t,r,this.isSVGTag,i.transformTemplate)}renderInstance(e,t,r,i){CQ(e,t,r,i)}mount(e){this.isSVGTag=XO(e.tagName),super.mount(e)}}const CAe=(n,e)=>HO(n)?new TAe(e,{enableHardwareAcceleration:!1}):new wAe(e,{enableHardwareAcceleration:!0}),RAe={layout:{ProjectionNode:Cq,MeasureLayout:Mq}},PAe={...ixe,...b0e,...aAe,...RAe},ea=Lve((n,e)=>l0e(n,e,PAe,CAe)),os={paddingX:"sm:px-16 px-6",paddingY:"sm:py-16 py-6",padding:"sm:px-16 px-6 sm:py-16 py-10",heroHeadText:"font-black text-white lg:text-[80px] sm:text-[60px] xs:text-[50px] text-[40px] lg:leading-[98px] mt-2",heroSubText:"text-[#dfd9ff] font-medium lg:text-[30px] sm:text-[26px] xs:text-[20px] text-[16px] lg:leading-[40px]",sectionHeadText:"text-white font-black md:text-[60px] sm:text-[50px] xs:text-[40px] text-[30px]",sectionSubText:"sm:text-[18px] text-[14px] text-secondary uppercase tracking-wider"},BAe=()=>we.jsxs("section",{className:"relative w-full h-screen mx-auto",children:[we.jsxs("div",{className:`${os.paddingX}
      absolute insent-0 top-[120px] max-w-7xl mx-auto flex flex-row items-start gap-5`,children:[we.jsxs("div",{className:"flex flex-col justify-center items-center mt-5",children:[we.jsx("div",{className:"w-5 h-5 rounded-full bg-[#915eff]"}),we.jsx("div",{className:"w-1 sm:h-80 h-40 violet-gradient"})]}),we.jsxs("div",{children:[we.jsxs("h1",{className:`${os.heroHeadText}`,children:["Hi, I'm ",we.jsx("span",{className:"text-[#915eff]",children:"Rushil"})]}),we.jsxs("p",{className:`${os.heroSubText} mt-2 text-white-100`,children:["I'm a high School student",we.jsx("br",{className:"sm:block hidden"})," who loves to code and design."]})]})]}),we.jsx(_ve,{}),we.jsx("div",{className:"absolute xs:bottom-10 bottom-32 w-full flex justify-center items-center",children:we.jsx("a",{href:"#about",children:we.jsx("div",{className:"w-[35px] h-[64px] rounded-3xl border-4 border-secondary flex justify-center items-start p-2",children:we.jsx(ea.dev,{animate:{y:[0,24,0]},transition:{duration:1.5,repeat:1/0,repeatType:"loop"},className:"w-3 h-3 rounded-full bg-secondary mb-1"})})})})]}),LAe="/assets/logo-c1063d16.svg",IAe="/assets/backend-565fc01f.png",DAe="/assets/creator-dbbffaec.png",FAe="/assets/mobile-896ef2f5.png",NAe="/assets/web-0d05165f.png",UAe="/assets/github-3b4e1609.png",OAe="/assets/menu-242d80a8.svg",kAe="/assets/close-ad0e0ca6.svg",GAe="/assets/css-79a7f026.png",zAe="/assets/docker-602a695a.png",HAe="/assets/figma-184a11e6.png",VAe="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAPAAAADwCAYAAAA+VemSAAAACXBIWXMAAAsTAAALEwEAmpwYAAANG0lEQVR4nO2dX6xcRR2AD9QYgpYElEDv3fltqdUSHtSISNWIiIE09vbuzMKa+GBq4p/4hoIGEx/qSxOiL1T62Adj4kN90gegSXnQxAdCIiYkloQKSKKQpo3c7szeikrXzPZCW3r39uzdc2bOzPm+5Jc0t7t7dn4z386cc+bMFAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQFs415cdVqtHrJZjzqgTToudhFEn/N/8//nXxP6eAHAJIy13Oi3HnZFxqdBy3L+HJAJEZLy/e5016og1cr60vGvh3+Pf6z+DSgQIzGhZLVgjz80q7hUia/XC6mCHUIEAgfDCWS2vzCvvJRK/zrkxQILyIjFA4vIiMUDi8iIxQOLyIjFA4vIiMUDi8iIxQOLyIjFA4vIiMUDi8iIxQOLyIjFA4vIiMUDi8iIxQOLyIjFA4vIiMbSe1OVFYmgtuciLxNBKnJE/xJaucomNeu1cr7s9dm4Baie3HpieGFoHEgMkDhIDJA4SAyQOEgMkDhIDNASn5YDV8vis70NigMg4LT++eFsFibnFBMngjPzoynujSIzE0Hhsv/vo9AkOSIzE0Fj8vrtXn6WExEgMjcMa9cPyUw2RGImhMVijfjD7fGEkRmKIjtXq4c1P+kdiJIZojLR8z+9wP9+TO0iMxBAcp+W788qLxDyKCBFwRr5TlbxIjMQQENeTb1st71QpLxIjMSQ2bJ4qsVE/m/V7+SVs/FI2l/8YqDeslmecVof9ebYPp9Uhq9VTTqtTdZahwlywPA80v+etSmJn5EVn5Aln5DPjorhm2mvHB4prR8uLd1stB61Wb8YWFYmhVlxPfSuUvPNcnd4M46Vt1zsjjzmj3oot6/RcqNfP9WVHiHxAZjit9oeWN7TEntGgs2i1PB9bViSGynB9+WYseecZTs/ZGx+NLesGueCcGMphtfq6NfLfRjTcgD3xeFBssUY9HbvM03PBcBqugjUyaIq8MSRe2Ss3Oi0vxy4zEsPMDI081DR5Y0g87KkvxS4vEkOyw+ZpMdTdfqhqndxHbkCZp/6gcU4MKfS8lzTYf9t9t90SqtZGpnNX7DIjMVwV36tZrf7T/MYqvwtdnc7IycbnRXNhq7WMTNekIK+PkVbfD50fp9UvY5e73I+b4hZT2xhp1bNavR278ZUWeHnx7tA5clqWYpcbieEKRj21LyV5fQwHt94cuipX9nV2xi43EsNlONPZY7U6F7uxzRrjwR0fDF2Vp5d3bY1d7pkl1pwTZ4vrd7/mr+bGbmSbEnhp2/Wh8+VnZsUu96YkNpwTZ4fT6oEUe953Y7W3oELn7MyenTfELvemJdb0xNmQurwTgXX386Hz5h/ji13uuSQ29MTJY42632pZjd2Y5m6MWj0S42Jf7HIjcYuxPflqDvJeEFh+Hzx/Wv0idrmRuKXYfvcr1sgoduOpTmD1dsiplH5ZnhRmYrmy+WM4nQ621703J3nfC61+GvJ2W/TyInH7GPbli06Ljd1Y6gl11hnZFiKPq4MdYrW8Er/M1Ybl6nRzmTzHmq28a6HVb0Llc70la3MIy3C6eZztyRecUcPYjSNIA9Tq4VB5pSeG2mmTvBcElv9Z3flGqKZFTwy1MTLd3WvnhtHFCiqx3yVCq59stIh7lSAxVI7fhcAZ+VdsmaKGlj8Ol+WOEM2L4TRUvORLc3cUCH6PWKtfj3Tnc3U3MXpimJvRg+qzyLu+zGVz6Iz81hn1Vy/krPlHYtg0rtf9tDNyJnav19Qoncc59x5iOA0zg7zVC4zEst4pCRuqVY0z2z9Fz1uPwEgsSFwn9sHFTzojp2MPT3MWGIkFietg2O/e3vSNqHMRGIkFiZE3bYGRWJC4Cs4ub99ltXojdo/WRoGRWJAYedMWGIkFiTfV8+qFT1gj/4zdk6UaVQqMxILEM8nbX/w48jZLYCQWJEbedHvgeR+CX2/apb+2Mdl/WKvDfuNyH06rQ1arp5xWp2KPYlyN+cgSvweP1fKP2JWSQ5TNechG69/jjLzojDzhnyDb6BHI8YHiWr+Rm9VysOm3Dy0SF8Vqf3s3x2VbchQ49DRDv52MM/JYkx9csW2edom86Qkco9GOBp1Fq+X52LK6huSjEZzbJ7f5gsdOfm5RNv+pDR/XeuOjsfPrGpKPqIyW1QLD5rQFjiLxl4sPOC3HY8vqNsiHb9tFzoz3d6+zRp6Lnexco2w9pDp8XNkrNzotL8fOs5uejz/H2Ao2GNaoI7GTnHOUrYdKG23gntjvvBE7z27jfBwpcn0g32p5J3aCc47SdVF1ow3cE0/uIzcg3269XBg5P9JyZ5EbTT5/ySVK10Utx+/sKYIuahg/31NDy/EiJ1LfLDqVKFsfNRz7ZKg1qt/FGvVq7HxvFFndWrL97qOxE9qGKFsfVR/XGvXzelvQOmXQ6lDsfDdtU/basFqOxU5oG6JsfVR93FFP7au3Ba1TBi1LsfO9Ufg2X+SC0+ql2AltQ5SujwyGi34OvWtAzqeGVi8VudCmzcdiRvn6qPa4p5d3bS0C44/pGpDz6aGGRS4gcN4CjwfFliIw/pguuqRtEZghdN4C33/Lh4rAJNADnyhygYtYeQvMObDkfRHLX1KP/4uYf5StjxqOvbfeFpTiVWiVz22ktVUZoic19yhbH5UfW6tD9bag9cqgnoyd79ZM5PAwlTJfgf2sqCIwjZ6JpTObSunxE7z9RO/oyc04ytZFHcf285OLQDR5LrTN9WEGD48T5iuwf0KoCESzn0ZSeT5O6OGB/nwFXut97qt/w7vOPbEldW19oN/Dkjr5CuyfSloZdG6qq+34z3ZG/hZbVNfWJXXeZXWwQ6yWV2InPbcom/96v4d61q9fVcfMK2vU07Fz7NaJdq5Muc6q/UQOAk/iaJVDySavSmnbtCLl+6EnrrYxlc17oIb9F7/2d87rQts29rzvB4nzFHgSWqzf++jMnp03zNou/PzqJu/MYJH3IgynMxX4YmN/0+93NDLd3X7/ow33RjLd3U3fG8m2edg8DSTOV+DLQqtTk4tRl+9OeHjtb43fndAi73QYTrdA4ITDMmy+OkiMwLFFdcg7H0hMDxxbWEfPi8ShG1rZjMcWIqWwDJvpiRE4vogOeePAcJoeGHkTB4kZQtPzJg4Scw7MsDlxkJiLWJzzJg4ScxWaC1aJw7TL99/qkHesVk+VzZ9/LZuty8X8MT0yPEh8YQE1a+RXK1p9bNb8+ff497Z9oUGLvPFos8RWq7/bXvfeeXPoP8N/VuzyIG9LaeM58eQB90H31qpyOFza9lGn1Z/alUPFw/hNoU09sV/p4tTg5g9XnUP/mf6zW5LD13iet2G0QWL/kPtqb0HVlUP/2U1+kB55Myf34fTQyEN159AaGWQrr2bY3Hiy7YkD7reT4z5WlmFzOuTYE1uj7g+VP6fVA1nlTtPzJkdmPfHJcVFcEyp3/lj+mFnIa7hglSwZ9cRPhM6d3/M3eXk1PW/y5CDxsCcPhs6bv2AWu9zIC1kMp4f97u2hq9IfM3a5NxuWYXN+pNwTn9ULHwmdr8nsrBTl1QybsyXVnriO3f6uhj9mcvIaLlhlT4o9sd8nKHSeTi/v2pqUvJqetzWk1hPH2AFvZV9nZzLyGnre1pGYxHtD58dpWWpAuZEXMhhOa3UodD06o56MXu6rhGXYDClI7B+4D11T1qhXY5cbeSGb4fTIdO4KVZ3+WI2Wl3NeSK0ntlqeCVVrVsux5uaBq82QqsRG7qu78ob9zj2xy4m8kKXE/rzUz5Cqq3pXBp2bmvoUEj0vZCGxM+rZOmZmjQfFFmvU0/HLh7yQ/4Wto+OlbddXVdH+s/xnNqBcVwQXrCDLntivILna396dt3pHg87iZJnaJpaRC1aQs8ROi7VaHj+zZ+cNs5bLz692Rh5zRr0VvRzICy0eTk+Wm7VaDo5Md/f4QHHttHL4//Ov8a9t8vKxDJuhdRK/F1qdmlyM0uqw7519TP594W+non8/5IVYNHo4nUFwzgu1g8TIC4mDxPS8kDhIzLAZEgeJOeeFxEFiLlhB4iAxV5shcZCYW0WQOEjMfV5IHCRmkgYkDhIzwwoSB4mZHgmJ03aJmdsMydNWiZEXsqFtEiMvZEdbJEZeyJbcJUZeyJ5cJUZeaA25SYy80DpykRh5obWkLjHyQutJVWLkBUhUYuQFSFRi5AVIVGLkBUhUYuQFSFRi5AVIVGLkBUhUYuQFSFRi5AVIVGLkBUhUYuQFSFRi5AVIVGLkBUhUYuQFCMxoWS1YI89VIO8L/geBCgQIzHh/9zpr1BFr5PzM4ho579/rP4OKA4jISMudTsvx0gJrOe7fQ6UBNIhzfdlhtXrEajnmjDrhtNhJGHXC/83/n39N7O8JAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFCE4v/t8177cNMPugAAAABJRU5ErkJggg==",WAe="/assets/html-92b76a73.png",jAe="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAPAAAADwCAYAAAA+VemSAAAACXBIWXMAAAsTAAALEwEAmpwYAAAOgElEQVR4nO2dCdCVZRXHz8Pnwi4groElmijuK6m4YCqJpZmJqJla40qGWjgYZZQL5p4GJZlboKKTGzoouWSAiQsuqONY42Q1LVrZYlpZnebcy51B6uO7977LeZ/7/H4z/wGGmfve5zznf577vu+ziAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAtIW+JIqIQafkgKSGd8ARMVAMjIEpBBQCZQQmCSgEceeApIZ3wBExUAyMgSkEFAJlBCYJKARx54CkhnfAETFQDIyBKQQUAmUEJgkoBHHngKSGd8ARMVAMjIEpBBQCZQQmCSgEceeApIZ3wBExUAyMgSkEFAJlBCYJKARx54CkhnfAETFQDIyBKQQUAmUEJgkoBHHngKSGd8ARMVAMjIEpBBQCZQQmCSgEceeApIZ3wBExUAyMgSkEFAJlBCYJKARx54CkhnfAETFQDIyBKQQUAmUEJgkoBHHngKSGd8ARMVAMjIEpBBQCZQQmCSgEceeApIZ3wBExUAyMgSkEFAJlBCYJKARx54CkhnfAETFQDIyBKQQUAmUEJgkoBHHngKSGd8ARMVAMjIEpBBQCZQQmCSgEceeApIZ3wBExUAyMgSkEFAJlBCYJKARx54CkhnfAETFQDIyBKQQUAmUEJgkoBHHngKSGd8ARMVAMjIEpBBQCZQQmCSgEceeApIZ3wBExUAyMgSkEFAJlBCYJKARx54CkhnfAETFQDIyBKQQUAmUEJgkoBHHngKSGd8ARMVAMjIEpBBQCZQQmCSgEceeApIZ3wBExUAyMgSkEFAJlBCYJKARx54CkhnfAETFQDIyBKQQUAmUEJgkoBHHngKSGd8ARMVAMjIEpBBQCZQQmCSgEceeApIZ3wBExUAyMgSkEFAJlBCYJKARx54CkhnfAETFQDIyBKQQUAmUEJgkoBHHngKSGd8ARMVAMjIEpBBQCZQQmCSgEceeApIZ3wBExUAyMgSkEFAJlBCYJKARx54CkhnfAETFQDIyB/Sp+yKQJHwmlft+3l4kumiN62dmixx8WdJ9dg246LOjggUH79A4aQv3v79sg6Oab1P//pAlBL50iev9s0b8tq3bBkdTwDnjsisHA7zwj+v1viB62f9C+vbN9395rBx03JuhV00TfXFrF/kgM74DHriob+A8/EZ16YtChg7N9x+40oF/QyccGfXVhlfojMbwDHruqaOB3l4teMkV00IBijLuq1loz6PRJov94rgr9kRjeAY9dVTPwy/eJ7rZtOcZdVVtvHvSp2737IzG8DRC7qmTghdeWN+p2p769g94zEwNj4AqYMyYDz7tcdI0uX/PKCtn3mP01r/5IDG8DxK4qGPjumdUxr6yQvY6aezEGxsAVMGmVDWz3vAP7+xtWunnltGRu2f2RGN4GiF2eBranvttu4W9UWY3WHxL0tYcwMAaugFmrZuDzJ2e/fhkaN6a82WaSGt4GiF1eBv79Y6L9+/qbs1ndcCEGxsAVMGxVDDztZH9TtqIh64Ra0Sm+PxLD2wCxy8PANtNqw6H+pmxWgwcGvWZ6Wf2RGN4GiF0eBr732/nd+24/MugVU0WfuUP09cX11Ub259J5oldPE917l/oroXY//9hDgr6xpMz+SAxvA8QuDwNPOjq7cfv1qd+X/ufFnq9nr4J22LK1z990WKgtPyy/PxLD2wCxy8PANuc46/vZR29qfR3xxPE9f3ZXV9Azjwv61tNe/ZEY3gaIXWUb+O/PSs0kWa553ufba+u/losefuDqf44/eZt3fySGtwFiV9kGfnF+tmvarht/far99trIOmqz//3MGWeK/vP5KvRHYngHPHaVbeAHr8t2zQP2yD6pwh54NeZejx0d9JUFVeqPxPAOeOwq28C2cCHL9T57eD6zor46SfTa85p7CKal9kdieAc8dpVt4NuvzHZN28ius/sjMbwDHrvKNnDWd8AH7omBOwpvA8Susg38yA2S+f2v7VLZuf2RGN4Bj11lG9geGGW95qxzO7k/EsM74LGrbAPb6NmrV7Zrrjso6E/v79T+SAzvgMeusg1s2nJEtmuaRgwPtd08Oq8/EsM74LHLw8C2QCDrdU22Fc+NM6r3Kkgz9UdieAc8dnkY+KaL8t2Jw1YcPXZzp/RHYngHPHZ5GNiOTFlzjfwM3JAdZLZgduz9kRjeAY9dHgY2fXI1iwqyasetgt5yaTXmNmvL/ZEY3gGPXV4GtuWARRm4ITti1FYu/XZRTP2RGN4Bj11eBjbZrKqiTWxae62gnz406LN3xtAfieEd8NjlaeDn75LayYBlmHjl1UwPfLe6T64lNbwDHrs8DWz6+uk+e0NvNzLozZeI/vsF/z54b38khnfAY5e3gc1AB+9TvoEbsu19bruiSv2RGN4Bj13eBja9uVRqI6KXiUWCfvhD/mcDY+AKGCI2VcHApt8tzr7ZXVZ1dQX94gm+q50kNbwNELuqYmDTHx+X2mQMTxOLBN1qRNAnnDa3k9TwNkDsqpKBGycW2iiYdcVSVq3RFfSCM8p/Wi2p4W2A2FU1Azf0w+9JbSKG92h81MGhthUuBsbA7maNycAmO0zshMP8R+OD9irvvlhSw9sAsavKBl55G9j9Rvua+JCxobYxPAbGwO6mjc3ADc2fJbrLNn4mPuv44tsqqeFtgNgVk4EbWjRH9KP7Zjt1sB2FEGq7ahbbH4nhbYDYFaOBG3ruzvo9sh12VpaJN14/29EuPfdHYngbIHbFbOCVZ3JdeY7o+zcux8TnnlZcmyU1vJMndnWCgRt6d7norZeJ7jSqWAMP7B/0z08U1R+J4Z00sauTDLyyFl4rtfnNRZn4m18qqj8SwztRYlenGrghO+93/93zN/Do7Yppt6SGd4LErk43cEN3Xi26wbr5GbhXr6C/frSI/kgM78SIXakY2GR7Y+21c34mnnd5Ef2RGN5JEbtSMrDpradF99gxHwN/4YT82y6p4Z0QMcvm96ZmYNNrD0ntlMOsbT94HwyMgR0T+fXF1TSwLWIouu02LTJr27f5IAbGwE0m3M8flNrWqLboPa8kthP+sibxkQeFXN/jXnhGfXRcOq9YAy+Zm73t6w3BwBi4h0Sz0wVmnCnat3c9aU6ekF/S3Ped7El83Mfz+T7L737vQoVRmxW7DtemQ2Zte78+GBgD93CavW3vsuqE+rtn5pPENtplTeJTJ4bMo+75k6W2+fqqn33OScXeX2e9D+7qwsAYuJvXHXYEZ3erbQYPDPri/OwJvOdO2e8Dp3wm28buq5v2aNva2ESMIsxra3vt87O0vX9fDIyBV9kjeda5UjNoT8lj281kOaX+hXvy2VDdFhG0c1tgG7o3cyrDpsOCvrEkfwO/ujB7+zdaDwNj4BUJZXsS79riYvWhg4P+6Mb2Rp8xOYy+pjuuau3adj6RnR7YyjXGjs7/fvjqadkNvN1IDJy8gf+0VPRzx9Tvp9qd0jfp6FA7c7eZxH17mdQ2asvDvCZbk9vsqDt9UvvnAo/fO799qexzNt8ke9uPGIeBkzbw3ItFNxyaj5HsKfVJE0LtyfJfnnzvdWxr1JfvE71iqtR+kuZlXrumPYTqqZ3LfiC6fQ4nL9i+WLYBfNa4n35MddcFS2p4m7Bd/eyB7A9RVie7jx4xPOjwDetGK+Ia9hCsmbbuvkN+17T7zgWz24u5/QyffGx+3+XB6/LPC0kNbyNmkY2YRRm4DH3l1OYMvHiO5L5/1d671I8JbWanSNss/pZLpfZuOa/r9+1dzHtqSQ1vE2aRLUfLY06ul1o5DGzi+OJ+adi9qE12ue4CqW06d89M0RtnSO1khUP3C7ruoPyvO3E864GTN7Al9mVn+5yPm1X287yVY0dsAYFtReP9vfPSw9cXU9QlNbxH0awyE4wb45+QrcoKT6tttZ+x3t87D+00qrXihYE72MCm3/xYdP0h/onZrGwktddf7bT1xCP8v38VH17pCklqeJsvz3nPZe5vnEUXndV+O+09dB6vlLw0oeD1z5Ia3sbLU3d9q9hXS3nIJkBkffpqvzi2+IB/W1rVsA3yXc6JgTvMwCZ7elr2kSHNymZR5bVO95cP5zuppGj171vOod+SGt6GK0L2sKdPQZMvsuiqafkvKLCn2d7tkh5kSx3vb3PyCAZO0MAmq/Z2Do938jY07eRi7v1spZFNyvBun3SjQQPaWzCCgRMegRv61SP5rNnNIvs5bxMiimynzaf+8intL+goStuPDPrSveX2uaSGt8nKWCN8zfTm1gjnLZvBZBuil9XWx28t/lyjZrTWmkGnnljslj4YOBEDr7xLx6c+Vl8+WMaoa69L7Jplt9PmNl9/gc+9ca9eQT9xQNBXFvj1s6SGt7HKlu2kYdvt/L89pLLKfsIeMra1Oc5FydYP28O8Mu6P1xkQ9JQjQ23JpXe7JTW8A+4l2zvZTsjbd7f63lFZRh3bCcS2uPnFw/7t6u5p9SVT6mbOa7KLvdO1bXptR5F3ctooIA9JangHvAqyA65tIf9XJ4kefmDQnbcOtamZNrJYstpobffQm2xUX8NrezmbYefPqm/u7v39W5GZbdGc+t5hpx1VPx1hhy1DbWMEa2OjmA3oV//3ZsNDbfsgWz1kC/Bvv7K+Ftu7HdqNJDW8A46IgWJgDEwhoBAoIzBJQCGIOwckNbwDjoiBYmAMTCGgECgjMElAIYg7ByQ1vAOOiIFiYAxMIaAQKCMwSUAhiDsHJDW8A46IgWJgDEwhoBAoIzBJQCGIOwckNbwDjoiBYmAMTCGgECgjMElAIYg7ByQ1vAOOiIFiYAxMIaAQKCMwSUAhiDsHJDW8A46IgWJgDEwhoBBoiiMwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEg+/BceiofdqS/+vQAAAABJRU5ErkJggg==",XAe="/assets/mongodb-54000b2b.png",JAe="/assets/nodejs-d83eb6dd.png",YAe="/assets/reactjs-966214a8.png",KAe="/assets/redux-171787ca.png",QAe="/assets/tailwind-6ece120d.png",qAe="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAPAAAADwCAYAAAA+VemSAAAACXBIWXMAAAsTAAALEwEAmpwYAAANMUlEQVR4nO2d+48V9RXAv//Gtw/balttayOpjVZr06TPqLRJ09Q+09Yaa01sapNWKqiAqCiU+MJXfSGC+ADxQa1AK0WMogJW2L3syrIvdpcL+95ln7B7mu8Y7GaD9N7ZmXvuzPl8kvOLMXsvZ87nnLkz852vcwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAsfDX7BaCHOSlBpw1tBNOkAOPwAhMI6AReCYwRUAjyHYNOGtoJ5wgBx6BEZhGQCPwTGCKgEaQ7Rpw1tBOOEEOPAIjMI2ARuCZwBQBjSDbNeCsoZ1wghx4BEZgGgGNwDOBKQIaQbZrwFlDO+EEOfAIjMA0AhqBZwJTBDSCbNeAs4Z2wgly4BEYgWkENALPBKYIaATZrgFnDe2EE+TAIzAC0whoBJ4JTBHQCLJdA84a2gknyIFHYASmEdAIPBOYIqARZLsGnDW0E06QA4/ACEwjoBF4JjBFQCPIdg04a2gnnCAHHoERmEZAI/BMYIqARpDtGnDW0E44QQ48AiMwjYBG4JnAFAGNINs14KyhnXCCHHgERmAaAY3AM4EpAhpBtmvAWUM74QQ58AiMwDQCGoFnAlMENIJs14CzhnbCCXLgERiBaQQ0As8EpghoBNmuAWcN7YQT5MAjMALTCGgEnglMEdAIsl0DzhraCSfIgUdgBKYR0Ag8E5gioBFkuwacNbQTTpADj8AITCOgEXgmMEVAI8h2DThraCecIAcegRGYRkAj8ExgioBGkO0acNbQTjhBDjwCIzCNgEbgmcAUAY0g2zXgrKGdcIIceARGYBoBjcAzgSkCGkG2a8BZQzvhBDnwCIzANAIagWcCUwQ0gmzXgLOGdsIJcuARGIFpBDQCzwSmCGgE2a4BZw3thBPkwCMwAtMIaASeCUwR0AiyXQPOGtoJJ8iBR2AEphHQCDwTmCKgEWS7Bpw1tBNOkAOPwAhMI6AReCYwRUAjyHYNOGtoJ5wgBx6BEZhGQCPwTGCKgEaQ7Rpw1tBOOEEOPALnW+Dm7jEBkYUbOiqW81mLCvKjBxrl6qcPyF83FeXJt3tk275BebdtWJq6xqJj0jt0TPqG34+uI0ej/7bv8Gj0/2ypH5BndvbKfVs7ZcGLHXLlE61y0d0N8vkFtUzgJNGWE4GrQ+ALltbL3Ofa5eXafin2j6faL/uGj8nOliFZub1b5jzbJrOXN8ip82oS+Xc4a2jLicB6Ap97a100XeuLo6LNsYnJaHqv3dUrf17XJucsrkNgBM4XSQl88fIG+fue/kiaamXVm90IjMD5YqYCn3dbnWzY3SeT1evtBzz0WhcCI3C+iCvwR+bsjk5Lh8YmJCvc9cphBEbgfBFH4NOuq4kuTGWNpZuKCIzAtgU+a1FB9rQPSxa5MebZhrOG9hXmUoL7wOULfPoNtZmVN3Dt+nYERmCbAn/8L3vk9f1HJMtc/fQBBEZgmwIv23xIss4Vq1sQGIHtCXzhXfuq+v5uqfxqRTMCI7A9gbc1DEoeuOTBRgRGYFsC/+zhJskL37unAYER2JbAm/cOVOy7tHSPyT9q+qNHHu/d2im3bSxGz1U/uK0zWoUUvktrT/xVZN++Yx8CI7Adgc++ZW+qv33D395U6JdLH2uWMxcWSpbrjPm10bLEIPiOliEp9SuG1VHcB87JfeCfPNQol61sTiX+8NSBxIo8rKZJ63uGCM8yf1iOwprbtAjPT4cGkcSxPHNhQf74zAF5s+nkt7m+HPPznDW05dSOLywsJFbobzUNqf070jh9Hj82Kb9/sjW173zB0nr527ZOOXKCZ7TDcYnzN501tAXSjjwIHB7cGBxNdqFCONX93er05PXTTrPDKXb/8LEPPj/uAn9nDW2BtCMPAn9tab0kzYo34i3n8zMUOVwQC5P/o3Pi/Q1nDW2BtCMPAoeHHpIknNKWc6HKJxxxL2CFcNbQFkg78iBwuDqdJC/u7lM/Lj5mOGtoJ1w78iDwPf8+LEnyp7Vt6sfFxwxnDe2Ea0ceBH709S5JknDbTvu4+JjhrKGdcO3Ig8BP7eiRJJkd8zFGXwXhrKGdcO3Ig8DPvtMrSfLrmCuBfBWEs4Z2wrUjDwKvfrNbkiQ8XKF9XHzMcNbQTrh25EHgIFzSOyeEV/JoHxsfI5w1tBOuHXkQOOnbSIGwF5L2sfExwllDO+HakQeBw0KHNAgbk2kfH19mOGtoJ1w78iBwWKWUFkHi8Ky19nHyJYazhnbCtSMPAoc4NHBU0mJX69BJlzL6KgpnDe2Ea0deBF6f8K2k6QyMTERrjk+5trqnsbOGdsK1Iy8Cp/U7eDphc+/wWWG/Je1j5xEYgfMi8Kfm1UjP0P/W06bN7rbhaBVUtYnsrKGdcO3Ii8Ah7t6S7KKGUgjbt1y2sjn2+l0ERmAEnrKZ2YleT1MJ6oujctWaVvUr1s4a2h1TO/I0gUOEV7tq0tw9Fu1FrHWxy1lDu+C0I28Cf3LunujtmNp09I3L9S90yCfmVlZkZw3tgtOOvAkc4uLlDdF7paqBtt7xaKfBj1Xo1NpZQ7vYtCOPAoeY+1y7VBP1xVH56UNNCIzACFyqxPe/muwqpSR4/t0+mXVTMi+JP1E4a2hPCu3I6wQ+HmGvompjYGRC5jybznu3nDW0C0w78i5weNDikYTfmZXk2y9PT3jdsbOGdoFpR94FnrpmuBo3/m7qGpPv3BlvJ0IERmAzAof4wX37pXMwvVVLcRken4i9off0cNbQLirtsCRwiHMW18n2xpPvDKjByPiE/PzhmV+ldtbQLijtsCZwiPDc8rzn22VI6bHLDyPcu/7lozOT2FlDu5i0w6LAx+PcW+vklbrktyWdCeFZ7m/e/h4CIzAClypy+P1ZODgi1UJz95h85nq2F2UCM4FLljisIpq7vj3VV/OUw+Pbu2NNYWcN7dM47bB8Cn2iCIsPwmqiorLIE5MiF91d/hYvzhraBaMdCHzivJx2XY3c/NLBir7lYzqvNRxBYARG4Jk0uPBbdMnGovQP64h84V3lPeThrKE9AbWDCVxank6fXyu3//OQDI5W9tbTk2XuEOGsoS2QdiBw+fkKq5wqtd64f/hYWS8FcNbQFkg7EDhe3r66pF42FSpzD/mSMh6zdNbQFkg7EHhm+fvNymbpPpLuFetlmw8hMAIjcFpNcNaigrz63mBqAoenxZjATGAmcIpnMqdcu0c27O5LReDGzlEERmAErsTTXBtr+xMXOFwwK3UHCGcN7d+g2sFv4GTz+bkFtan8Jj51XmnPRjtraAukHQicfE6XbT6UuMBfvLGAwAiMwJV6L3XShEbLBGYCM4ErIPCXbt6buMBh90UERmAEroDA5y+pT1Te8DK+Uj/bWaMSB7SaIw+/gc+7rS5662Slti/5fzH7nobEH6cs9bOdNbQPtnbkQeCvL3t/4r3dPDSj19EkFQs3dEiS1HaMlPzZzhraB1s78iTw8dPN8CL3M0u86JNGvHNgWJIkPCBS6mc7a2gLpB15E3jqy+Hu/Neh6L5sJb/LLx5pkqRZvuVwyZ/vrKEtkHbkVeCp+xA98GpndGEp7e9x1qKCtPeOS9L8dlULAiOwTYGnvmMqLAq49LHmkm/JlBPnL6lPZWPxycnSH+II4ayhUXDVFFYEnn56Hbb5vGJVi3z6uppE3p01mNKbOuqKpV/AQuAqEAqB0xd4KuGiV6FjRNa81RNt+fndO/eddMfAcKsqbM9y5ROt0etuwil6moTX+CAwE5gJXCZh25XwgvW9B0fk3bbhaBK29oxV7FU6x0+fwz1uBEZgBM4gbzTyWll+A/MbOLNcEmPLUWcN7d+g2mHxIlZep69HYH2hEBiBx45OyjdiPhLqrKEtkHYwgauPhRs6Yh9PZw1tgbQDgauLTYX+aANyBEZgBM4YO1uGogdDZtKQnTW0J6B2MIGrg+2NR+SM+TNfeOGsoS2QdiCwPuvf6S1r/yMERmAErgIGRiaizcSTbMjOGtoTUDvyMIG/cmtd9OhjVpiYFFm7q1fOvmVv4rlw1tAWSDvyIHCIcAr64wcb5d6tnbKjZaiizyyXSvhOz/+nT751R3qv/XHW0BZIO/Ii8PQIOxn88P79smRjUbbUD1R8Y+6p1LSPyOKXizLrpuQnLgJXQbEhcPo5CPdWw6L7yx9viXZOeGlPv9QXR2X06GTiK4hausdk3a5euWZdW9mriRCYCVxWEeR1Ape7Pej3722Qq9a0yvwXO6I1uCve6IpOd7e+NxhtHTo9Nu8diNYDh/duXf9CR7Q+ePbyBvnsDcm/7aOccNbQLh6CHHgERmAaAY3AM4EpAhpBtmvAWUM74QQ58AiMwDQCGoFnAlMENIJs14CzhnbCCXLgERiBaQQ0As8EpghoBNmuAWcN7YQT5MAjMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4bf4LtvMh68AvCz8AAAAASUVORK5CYII=",ZAe="/assets/threejs-1d0654a8.svg",$Ae="/assets/meta-e386841a.png",e1e="/assets/shopify-c0fdbc80.png",t1e="/assets/starbucks-af2a76fc.png",n1e="/assets/tesla-4c857950.png",r1e="/assets/carrent-aba013d1.png",i1e="/assets/jobit-ecb9d39c.png",s1e="/assets/tripguide-892dd3b1.png",a9=[{id:"about",title:"About"},{id:"work",title:"Work"},{id:"contact",title:"Contact"}],o1e=[{title:"Web Developer",icon:NAe},{title:"React Native Developer",icon:FAe},{title:"Backend Developer",icon:IAe},{title:"Content Creator",icon:DAe}],a1e=[{name:"HTML 5",icon:WAe},{name:"CSS 3",icon:GAe},{name:"JavaScript",icon:jAe},{name:"TypeScript",icon:qAe},{name:"React JS",icon:YAe},{name:"Redux Toolkit",icon:KAe},{name:"Tailwind CSS",icon:QAe},{name:"Node JS",icon:JAe},{name:"MongoDB",icon:XAe},{name:"Three JS",icon:ZAe},{name:"git",icon:VAe},{name:"figma",icon:HAe},{name:"docker",icon:zAe}],l1e=[{title:"React.js Developer",company_name:"Starbucks",icon:t1e,iconBg:"#383E56",date:"March 2020 - April 2021",points:["Developing and maintaining web applications using React.js and other related technologies.","Collaborating with cross-functional teams including designers, product managers, and other developers to create high-quality products.","Implementing responsive design and ensuring cross-browser compatibility.","Participating in code reviews and providing constructive feedback to other developers."]},{title:"React Native Developer",company_name:"Tesla",icon:n1e,iconBg:"#E6DEDD",date:"Jan 2021 - Feb 2022",points:["Developing and maintaining web applications using React.js and other related technologies.","Collaborating with cross-functional teams including designers, product managers, and other developers to create high-quality products.","Implementing responsive design and ensuring cross-browser compatibility.","Participating in code reviews and providing constructive feedback to other developers."]},{title:"Web Developer",company_name:"Shopify",icon:e1e,iconBg:"#383E56",date:"Jan 2022 - Jan 2023",points:["Developing and maintaining web applications using React.js and other related technologies.","Collaborating with cross-functional teams including designers, product managers, and other developers to create high-quality products.","Implementing responsive design and ensuring cross-browser compatibility.","Participating in code reviews and providing constructive feedback to other developers."]},{title:"Full stack Developer",company_name:"Meta",icon:$Ae,iconBg:"#E6DEDD",date:"Jan 2023 - Present",points:["Developing and maintaining web applications using React.js and other related technologies.","Collaborating with cross-functional teams including designers, product managers, and other developers to create high-quality products.","Implementing responsive design and ensuring cross-browser compatibility.","Participating in code reviews and providing constructive feedback to other developers."]}],u1e=[{testimonial:"I thought it was impossible to make a website as beautiful as our product, but Rick proved me wrong.",name:"Sara Lee",designation:"CFO",company:"Acme Co",image:"https://randomuser.me/api/portraits/women/4.jpg"},{testimonial:"I've never met a web developer who truly cares about their clients' success like Rick does.",name:"Chris Brown",designation:"COO",company:"DEF Corp",image:"https://randomuser.me/api/portraits/men/5.jpg"},{testimonial:"After Rick optimized our website, our traffic increased by 50%. We can't thank them enough!",name:"Lisa Wang",designation:"CTO",company:"456 Enterprises",image:"https://randomuser.me/api/portraits/women/6.jpg"}],c1e=[{name:"Car Rent",description:"Web-based platform that allows users to search, book, and manage car rentals from various providers, providing a convenient and efficient solution for transportation needs.",tags:[{name:"react",color:"blue-text-gradient"},{name:"mongodb",color:"green-text-gradient"},{name:"tailwind",color:"pink-text-gradient"}],image:r1e,source_code_link:"https://github.com/"},{name:"Job IT",description:"Web application that enables users to search for job openings, view estimated salary ranges for positions, and locate available jobs based on their current location.",tags:[{name:"react",color:"blue-text-gradient"},{name:"restapi",color:"green-text-gradient"},{name:"scss",color:"pink-text-gradient"}],image:i1e,source_code_link:"https://github.com/"},{name:"Trip Guide",description:"A comprehensive travel booking platform that allows users to book flights, hotels, and rental cars, and offers curated recommendations for popular destinations.",tags:[{name:"nextjs",color:"blue-text-gradient"},{name:"supabase",color:"green-text-gradient"},{name:"css",color:"pink-text-gradient"}],image:s1e,source_code_link:"https://github.com/"}],h1e=()=>{const[n,e]=pe.useState(""),[t,r]=pe.useState(!1);return we.jsx("nav",{className:`${os.paddingX} w-full flex items-center py-5 fixed top-0 z-20 bg-primary`,children:we.jsxs("div",{className:"w-full flex justify-between items-center max-w-7xl mx-auto",children:[we.jsxs(lae,{to:"/",className:"flex items-center gap-2",onClick:()=>{e(""),window.scrollTo(0,0)},children:[we.jsx("img",{src:LAe,alt:"logo",className:"w-9 h-9 object-contain"}),we.jsxs("p",{className:"text-white text-[18px] font-bold cursor-pointer flex",children:["Rushil  ",we.jsx("span",{className:"sm:block hidden",children:"| High School Student"})]})]}),we.jsx("ul",{className:"list-none hidden sm:flex flex-row gap-10",children:a9.map(i=>we.jsx("li",{className:`${n===i.title?"text-white":"text-secondary"} hover:text-white text-[18px] font-medium cursor-pointer`,onClick:()=>{e(i.title)},children:we.jsx("a",{href:`#${i.id}`,children:i.title})},i.id))}),we.jsxs("div",{className:"sm:hidden flex flex-1 justify-end items-center",children:[we.jsx("img",{src:t?kAe:OAe,alt:"menu",className:"w-[28px] h-[28px] object-contain cursor-pointer",onClick:()=>r(!t)}),we.jsx("div",{className:`${t?"flex":"hidden"} p-6 black-gradient absolute top-20 right-0 mx-4 my-2 min-w-[140px] z-10 rounded-xl`,children:we.jsx("ul",{className:"list-none flex justify-end items-start flex-col gap-4",children:a9.map(i=>we.jsx("li",{className:`${n===i.title?"text-white":"text-secondary"} font-poppins font-medium cursor-pointer text-[16px]`,onClick:()=>{r(!t),e(i.title)},children:we.jsx("a",{href:`#${i.id}`,children:i.title})},i.id))})})]})]})})},GR=n=>({hidden:{y:-50,opacity:0},show:{y:0,opacity:1,transition:{type:"spring",duration:1.25,delay:n}}}),pS=(n,e,t,r)=>({hidden:{x:n==="left"?100:n==="right"?-100:0,y:n==="up"?100:n==="down"?-100:0,opacity:0},show:{x:0,y:0,opacity:1,transition:{type:e,delay:t,duration:r,ease:"easeOut"}}}),l9=(n,e,t,r)=>({hidden:{x:n==="left"?"-100%":n==="right"?"100%":0,y:n==="up"||n==="down"?"100%":0},show:{x:0,y:0,transition:{type:e,delay:t,duration:r,ease:"easeOut"}}}),d1e=(n,e)=>({hidden:{},show:{transition:{staggerChildren:n,delayChildren:e||0}}});var f1e=Object.defineProperty,p1e=Object.defineProperties,m1e=Object.getOwnPropertyDescriptors,u9=Object.getOwnPropertySymbols,g1e=Object.prototype.hasOwnProperty,v1e=Object.prototype.propertyIsEnumerable,c9=(n,e,t)=>e in n?f1e(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,o1=(n,e)=>{for(var t in e||(e={}))g1e.call(e,t)&&c9(n,t,e[t]);if(u9)for(var t of u9(e))v1e.call(e,t)&&c9(n,t,e[t]);return n},a1=(n,e)=>p1e(n,m1e(e)),Iq=class extends pe.Component{constructor(n){super(n),this.ref=XM.createRef(),this.state={style:{}};const e={reverse:!1,max:35,perspective:1e3,easing:"cubic-bezier(.03,.98,.52,.99)",scale:"1.1",speed:"1000",transition:!0,axis:null,reset:!0};this.width=null,this.height=null,this.left=null,this.top=null,this.transitionTimeout=null,this.updateCall=null,this.element=null,this.settings=Object.assign({},e,this.props.options),this.reverse=this.settings.reverse?-1:1,this.onMouseEnter=this.onMouseEnter.bind(this,this.props.onMouseEnter),this.onMouseMove=this.onMouseMove.bind(this,this.props.onMouseMove),this.onMouseLeave=this.onMouseLeave.bind(this,this.props.onMouseLeave)}componentDidMount(){this.element=this.ref.current,setTimeout(()=>{this.element.parentElement.querySelector(":hover")===this.element&&this.onMouseEnter()},0)}componentWillUnmount(){clearTimeout(this.transitionTimeout),cancelAnimationFrame(this.updateCall)}onMouseEnter(n=()=>{},e){return this.updateElementPosition(),this.setState(Object.assign({},this.state,{style:a1(o1({},this.state.style),{willChange:"transform"})})),this.setTransition(),n(e)}reset(){window.requestAnimationFrame(()=>{this.setState(Object.assign({},this.state,{style:a1(o1({},this.state.style),{transform:`perspective(${this.settings.perspective}px) rotateX(0deg) rotateY(0deg) scale3d(1, 1, 1)`})}))})}onMouseMove(n=()=>{},e){return e.persist(),this.updateCall!==null&&window.cancelAnimationFrame(this.updateCall),this.event=e,this.updateCall=requestAnimationFrame(this.update.bind(this,e)),n(e)}setTransition(){clearTimeout(this.transitionTimeout),this.setState(Object.assign({},this.state,{style:a1(o1({},this.state.style),{transition:`${this.settings.speed}ms ${this.settings.easing}`})})),this.transitionTimeout=setTimeout(()=>{this.setState(Object.assign({},this.state,{style:a1(o1({},this.state.style),{transition:""})}))},this.settings.speed)}onMouseLeave(n=()=>{},e){return this.setTransition(),this.settings.reset&&this.reset(),n(e)}getValues(n){const e=(n.nativeEvent.clientX-this.left)/this.width,t=(n.nativeEvent.clientY-this.top)/this.height,r=Math.min(Math.max(e,0),1),i=Math.min(Math.max(t,0),1),s=(this.reverse*(this.settings.max/2-r*this.settings.max)).toFixed(2),o=(this.reverse*(i*this.settings.max-this.settings.max/2)).toFixed(2),a=r*100,l=i*100;return{tiltX:s,tiltY:o,percentageX:a,percentageY:l}}updateElementPosition(){const n=this.element.getBoundingClientRect();this.width=this.element.offsetWidth,this.height=this.element.offsetHeight,this.left=n.left,this.top=n.top}update(n){const e=this.getValues(n);this.setState(Object.assign({},this.state,{style:a1(o1({},this.state.style),{transform:`perspective(${this.settings.perspective}px) rotateX(${this.settings.axis==="x"?0:e.tiltY}deg) rotateY(${this.settings.axis==="y"?0:e.tiltX}deg) scale3d(${this.settings.scale}, ${this.settings.scale}, ${this.settings.scale})`})})),this.updateCall=null}render(){const n=Object.assign({},this.props.style,this.state.style);return we.jsx("div",{style:n,ref:this.ref,className:this.props.className,onMouseEnter:this.onMouseEnter,onMouseMove:this.onMouseMove,onMouseLeave:this.onMouseLeave,children:this.props.children})}};const _x=(n,e)=>function(){return we.jsxs(ea.section,{variants:d1e(),initial:"hidden",whileInView:"show",viewport:{once:!0,amount:.25},className:`${os.padding} max-w-7xl mx-auto relative z-0`,children:[we.jsx("span",{className:"hash-span",id:e,children:" "}),we.jsx(n,{})]})},y1e=({index:n,title:e,icon:t})=>we.jsx(Iq,{className:"xs:w-[250px] w-full",children:we.jsx(ea.div,{variants:pS("right","spring",.5*n,.75),className:"w-full green-pink-gradient p-[1px] rounded-[20px] shadow-card",children:we.jsxs("div",{options:{max:45,scale:1,speed:450},className:"bg-tertiary rounded-[20px] py-5 px-12 min-h-[280px] flex justify-evenly items-center flex-col",children:[we.jsx("img",{src:t,alt:e,className:"w-16 h-16 object-contain"}),we.jsx("h3",{className:"text-white text-[20px] font-bold mt-5 text-center",children:e})]})})}),x1e=()=>we.jsxs(we.Fragment,{children:[we.jsxs(ea.div,{variants:GR(),children:[we.jsx("p",{className:os.sectionSubText,children:"Introduction"}),we.jsx("h2",{className:os.sectionHeadText,children:"Overview"})]}),we.jsx(ea.p,{variants:pS("","",.1,1),className:"mt-4 text-secondary text-[17px] max-w-3xl leading-[30px]",children:"I'm a high school Student with expertise in high school and other work"}),we.jsx("div",{className:"mt-20 flex flex-wrap gap-10",children:o1e.map((n,e)=>we.jsx(y1e,{index:e,...n},n.title))})]}),A1e=_x(x1e,"about"),_1e=()=>we.jsx("div",{className:"flex flex-row flex-wrap justify-center gap-10",children:a1e.map(n=>we.jsx("div",{className:"w-28 h-28 key={technology.name}",children:we.jsx(xve,{icon:n.icon})}))}),M1e=_x(_1e,"");var zR={},Dq={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(n){(function(){var e={}.hasOwnProperty;function t(){for(var r=[],i=0;i<arguments.length;i++){var s=arguments[i];if(s){var o=typeof s;if(o==="string"||o==="number")r.push(s);else if(Array.isArray(s)){if(s.length){var a=t.apply(null,s);a&&r.push(a)}}else if(o==="object"){if(s.toString!==Object.prototype.toString&&!s.toString.toString().includes("[native code]")){r.push(s.toString());continue}for(var l in s)e.call(s,l)&&s[l]&&r.push(l)}}}return r.join(" ")}n.exports?(t.default=t,n.exports=t):window.classNames=t})()})(Dq);var Fq=Dq.exports;zR.__esModule=!0;zR.default=void 0;var S1e=sk(pe),nd=sk(dQ),E1e=sk(Fq);function sk(n){return n&&n.__esModule?n:{default:n}}const Nq=({animate:n=!0,className:e="",layout:t="2-columns",lineColor:r="#FFF",children:i})=>(typeof window=="object"&&document.documentElement.style.setProperty("--line-color",r),S1e.default.createElement("div",{className:(0,E1e.default)(e,"vertical-timeline",{"vertical-timeline--animate":n,"vertical-timeline--two-columns":t==="2-columns","vertical-timeline--one-column-left":t==="1-column"||t==="1-column-left","vertical-timeline--one-column-right":t==="1-column-right"})},i));Nq.propTypes={children:nd.default.oneOfType([nd.default.arrayOf(nd.default.node),nd.default.node]).isRequired,className:nd.default.string,animate:nd.default.bool,layout:nd.default.oneOf(["1-column-left","1-column","2-columns","1-column-right"]),lineColor:nd.default.string};var b1e=Nq;zR.default=b1e;var HR={};function f3(){return f3=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},f3.apply(this,arguments)}function w1e(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,p3(n,e)}function p3(n,e){return p3=Object.setPrototypeOf||function(t,r){return t.__proto__=r,t},p3(n,e)}function T1e(n,e){if(n==null)return{};var t={},r=Object.keys(n),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(t[i]=n[i]);return t}var m3=new Map,R2=new WeakMap,h9=0,Uq=void 0;function C1e(n){Uq=n}function R1e(n){return n?(R2.has(n)||(h9+=1,R2.set(n,h9.toString())),R2.get(n)):"0"}function P1e(n){return Object.keys(n).sort().filter(function(e){return n[e]!==void 0}).map(function(e){return e+"_"+(e==="root"?R1e(n.root):n[e])}).toString()}function B1e(n){var e=P1e(n),t=m3.get(e);if(!t){var r=new Map,i,s=new IntersectionObserver(function(o){o.forEach(function(a){var l,u=a.isIntersecting&&i.some(function(h){return a.intersectionRatio>=h});n.trackVisibility&&typeof a.isVisible>"u"&&(a.isVisible=u),(l=r.get(a.target))==null||l.forEach(function(h){h(u,a)})})},n);i=s.thresholds||(Array.isArray(n.threshold)?n.threshold:[n.threshold||0]),t={id:e,observer:s,elements:r},m3.set(e,t)}return t}function ok(n,e,t,r){if(t===void 0&&(t={}),r===void 0&&(r=Uq),typeof window.IntersectionObserver>"u"&&r!==void 0){var i=n.getBoundingClientRect();return e(r,{isIntersecting:r,target:n,intersectionRatio:typeof t.threshold=="number"?t.threshold:0,time:0,boundingClientRect:i,intersectionRect:i,rootBounds:i}),function(){}}var s=B1e(t),o=s.id,a=s.observer,l=s.elements,u=l.get(n)||[];return l.has(n)||l.set(n,u),u.push(e),a.observe(n),function(){u.splice(u.indexOf(e),1),u.length===0&&(l.delete(n),a.unobserve(n)),l.size===0&&(a.disconnect(),m3.delete(o))}}var L1e=["children","as","triggerOnce","threshold","root","rootMargin","onChange","skip","trackVisibility","delay","initialInView","fallbackInView"];function d9(n){return typeof n.children!="function"}var hC=function(n){w1e(e,n);function e(r){var i;return i=n.call(this,r)||this,i.node=null,i._unobserveCb=null,i.handleNode=function(s){i.node&&(i.unobserve(),!s&&!i.props.triggerOnce&&!i.props.skip&&i.setState({inView:!!i.props.initialInView,entry:void 0})),i.node=s||null,i.observeNode()},i.handleChange=function(s,o){s&&i.props.triggerOnce&&i.unobserve(),d9(i.props)||i.setState({inView:s,entry:o}),i.props.onChange&&i.props.onChange(s,o)},i.state={inView:!!r.initialInView,entry:void 0},i}var t=e.prototype;return t.componentDidUpdate=function(r){(r.rootMargin!==this.props.rootMargin||r.root!==this.props.root||r.threshold!==this.props.threshold||r.skip!==this.props.skip||r.trackVisibility!==this.props.trackVisibility||r.delay!==this.props.delay)&&(this.unobserve(),this.observeNode())},t.componentWillUnmount=function(){this.unobserve(),this.node=null},t.observeNode=function(){if(!(!this.node||this.props.skip)){var r=this.props,i=r.threshold,s=r.root,o=r.rootMargin,a=r.trackVisibility,l=r.delay,u=r.fallbackInView;this._unobserveCb=ok(this.node,this.handleChange,{threshold:i,root:s,rootMargin:o,trackVisibility:a,delay:l},u)}},t.unobserve=function(){this._unobserveCb&&(this._unobserveCb(),this._unobserveCb=null)},t.render=function(){if(!d9(this.props)){var r=this.state,i=r.inView,s=r.entry;return this.props.children({inView:i,entry:s,ref:this.handleNode})}var o=this.props,a=o.children,l=o.as,u=T1e(o,L1e);return pe.createElement(l||"div",f3({ref:this.handleNode},u),a)},e}(pe.Component);hC.displayName="InView";hC.defaultProps={threshold:0,triggerOnce:!1,initialInView:!1};function I1e(n){var e=n===void 0?{}:n,t=e.threshold,r=e.delay,i=e.trackVisibility,s=e.rootMargin,o=e.root,a=e.triggerOnce,l=e.skip,u=e.initialInView,h=e.fallbackInView,f=pe.useRef(),p=pe.useState({inView:!!u}),m=p[0],v=p[1],S=pe.useCallback(function(g){f.current!==void 0&&(f.current(),f.current=void 0),!l&&g&&(f.current=ok(g,function(M,_){v({inView:M,entry:_}),_.isIntersecting&&a&&f.current&&(f.current(),f.current=void 0)},{root:o,rootMargin:s,threshold:t,trackVisibility:i,delay:r},h))},[Array.isArray(t)?t.toString():t,o,s,a,l,i,h,r]);pe.useEffect(function(){!f.current&&m.entry&&!a&&!l&&v({inView:!!u})});var A=[S,m.inView,m.entry];return A.ref=A[0],A.inView=A[1],A.entry=A[2],A}const D1e=Object.freeze(Object.defineProperty({__proto__:null,InView:hC,default:hC,defaultFallbackInView:C1e,observe:ok,useInView:I1e},Symbol.toStringTag,{value:"Module"})),F1e=fie(D1e);HR.__esModule=!0;HR.default=void 0;var rd=ak(pe),or=ak(dQ),Mb=ak(Fq),N1e=F1e;function ak(n){return n&&n.__esModule?n:{default:n}}const Oq=({children:n="",className:e="",contentArrowStyle:t=null,contentStyle:r=null,date:i="",dateClassName:s="",icon:o=null,iconClassName:a="",iconOnClick:l=null,onTimelineElementClick:u=null,iconStyle:h=null,id:f="",position:p="",style:m=null,textClassName:v="",intersectionObserverProps:S={rootMargin:"0px 0px -40px 0px",triggerOnce:!0},visible:A=!1})=>rd.default.createElement(N1e.InView,S,({inView:g,ref:M})=>rd.default.createElement("div",{ref:M,id:f,className:(0,Mb.default)(e,"vertical-timeline-element",{"vertical-timeline-element--left":p==="left","vertical-timeline-element--right":p==="right","vertical-timeline-element--no-children":n===""}),style:m},rd.default.createElement(rd.default.Fragment,null,rd.default.createElement("span",{style:h,onClick:l,className:(0,Mb.default)(a,"vertical-timeline-element-icon",{"bounce-in":g||A,"is-hidden":!(g||A)})},o),rd.default.createElement("div",{style:r,onClick:u,className:(0,Mb.default)(v,"vertical-timeline-element-content",{"bounce-in":g||A,"is-hidden":!(g||A)})},rd.default.createElement("div",{style:t,className:"vertical-timeline-element-content-arrow"}),n,rd.default.createElement("span",{className:(0,Mb.default)(s,"vertical-timeline-element-date")},i)))));Oq.propTypes={children:or.default.oneOfType([or.default.arrayOf(or.default.node),or.default.node]),className:or.default.string,contentArrowStyle:or.default.shape({}),contentStyle:or.default.shape({}),date:or.default.node,dateClassName:or.default.string,icon:or.default.element,iconClassName:or.default.string,iconStyle:or.default.shape({}),iconOnClick:or.default.func,onTimelineElementClick:or.default.func,id:or.default.string,position:or.default.string,style:or.default.shape({}),textClassName:or.default.string,visible:or.default.bool,intersectionObserverProps:or.default.shape({root:or.default.object,rootMargin:or.default.string,threshold:or.default.number,triggerOnce:or.default.bool})};var U1e=Oq;HR.default=U1e;var kq={VerticalTimeline:zR.default,VerticalTimelineElement:HR.default};const O1e=({experience:n})=>we.jsxs(kq.VerticalTimelineElement,{contentStyle:{background:"#1d1836",color:"#fff"},contentArrowStyle:{borderRight:"7px solid  #232631"},date:n.date,iconStyle:{background:n.iconBg},icon:we.jsx("div",{className:"flex justify-center items-center w-full h-full",children:we.jsx("img",{src:n.icon,alt:n.company,className:"w-[60%] h-[60%] object-contain"})}),children:[we.jsxs("div",{children:[we.jsx("h3",{className:"text-white text-[24px] font-bold",children:n.title}),we.jsx("p",{className:"text-secondary text-[16px] font-semibold",style:{margin:0},children:n.company_name})]}),we.jsx("ul",{className:"mt-5 list-disc ml-5 space-y-2",children:n.points.map((e,t)=>we.jsx("li",{className:"text-white-100 text-[14px] pl-1 tracking-wider",children:e},`experience-point-${t}`))})]}),k1e=()=>we.jsxs(we.Fragment,{children:[we.jsxs(ea.div,{variants:GR(),children:[we.jsx("p",{className:os.sectionSubText,children:"What I've done so far"}),we.jsx("h2",{className:os.sectionHeadText,children:"Work Experience"})]}),we.jsx("div",{className:"mt-20 flex flex-col",children:we.jsx(kq.VerticalTimeline,{children:l1e.map((n,e)=>we.jsx(O1e,{experience:n},e))})})]}),G1e=_x(k1e,"work"),z1e=({index:n,name:e,description:t,tags:r,image:i,source_code_link:s})=>we.jsx(ea.div,{variants:pS("up","spring",n*.5,.75),children:we.jsxs(Iq,{options:{max:45,scale:1,speed:450},className:"bg-tertiary p-5 rounded 2xl sm:w-[360px] w-full",children:[we.jsxs("div",{className:"relative w-full h-[230px]",children:[we.jsx("img",{src:i,alt:e,className:"w-full h-full object-cover rounded-2xl"}),we.jsx("div",{className:"absolute inset-0 flex justify-end m-3 card-img_hover",children:we.jsx("div",{onClick:()=>window.open(s,"_blank"),className:"black-gradient w-10 h-10 rounded-full flex justify-center items-center cursor-pointer",children:we.jsx("img",{src:UAe,alt:"github",className:"w-1/2 h-1/2 object-contain"})})})]}),we.jsxs("div",{className:"mt-5",children:[we.jsx("h3",{className:"text-white text-[24px] font-bold",children:e}),we.jsx("p",{className:"mt-2 text-secondary text-[14px]",children:t})]}),we.jsx("div",{className:"mt-4 flex flex-wrap gap-2",children:r.map(o=>we.jsxs("p",{className:`text-[14px] ${o.color}`,children:["#",o.name]},o.name))})]})}),H1e=()=>we.jsxs(we.Fragment,{children:[we.jsxs(ea.div,{variants:GR(),children:[we.jsx("p",{className:os.sectionSubText,children:"My Projects."}),we.jsx("h2",{className:os.sectionHeadText,children:"Projects."})]}),we.jsx("div",{className:"w-full flex ",children:we.jsx(ea.p,{variants:pS("","",.1,1),className:"text-secondary text-[17px] max-w-3xl leading-[30px]"})}),we.jsx("div",{className:"mt-20 flex flex-wrap gap-7",children:c1e.map((n,e)=>we.jsx(z1e,{index:e,...n},`project-${e}`))})]}),V1e=_x(H1e,""),W1e=({index:n,testimonial:e,name:t,designation:r,company:i,image:s})=>we.jsxs(ea.div,{variants:pS("","spring",n*.5,.75),className:"bg-black-200 p-10 rounded-3xl xs:w-[320px] w-full",children:[we.jsx("p",{className:"text-white font-black text-[48px]",children:'"'}),we.jsxs("div",{className:"mt-1",children:[we.jsx("p",{className:"text-white tracking-wider text-[18px]",children:e}),we.jsxs("div",{className:"mt-7 flex justify-between items-center gap-1",children:[we.jsxs("div",{className:"flex-1 flex flex-col",children:[we.jsxs("p",{className:"text-white font-medium text-[16px]",children:[we.jsx("span",{className:"blue-text-gradient",children:"@"})," ",t]}),we.jsxs("p",{className:"mt-1 text-secondary text-[12px]",children:[r," at ",i]})]}),we.jsx("img",{src:s,alt:`feedback-by-${t}`,className:"w-10 h-10 rounded-full object-cover"})]})]})]}),j1e=()=>we.jsxs("div",{className:"mt-12 bg-black-100 rounded-[20px]",children:[we.jsx("div",{className:`${os.padding}
      bg-tertiary rounded-2xl min-h-[300px]`,children:we.jsxs(ea.div,{variants:GR(),children:[we.jsx("p",{className:os.sectionSubText,children:" What Others Say"}),we.jsx("h2",{className:os.sectionHeadText,children:"Testimonials."})]})}),we.jsx("div",{className:`${os.paddingX} -mt-20 pb-14 flex flex-wrap gap-7`,children:u1e.map((n,e)=>we.jsx(W1e,{index:e,...n},n.name))})]}),X1e=_x(j1e,""),J1e=()=>{const n=pe.useRef(),[e,t]=pe.useState({name:"",email:"",message:""}),[r,i]=pe.useState(!1),s=a=>{},o=a=>{};return we.jsxs("div",{className:"xl:mt-12 xl:flex-row flex-col-reverse flex gap-0 overflow-hidden",children:[we.jsxs(ea.div,{variants:l9("left","tween",.2,1),className:"flex-[0.75] bg-black-100 p-8 rounded-2xl",children:[we.jsx("p",{className:os.sectionSubText,children:"Get in touch"}),we.jsx("h3",{className:os.sectionHeadText,children:"Contact."}),we.jsxs("form",{ref:n,onSubmit:o,className:"mt-12 flex flex-col gap-8",children:[we.jsxs("label",{className:"flex flex-col",children:[we.jsx("span",{className:"text-white font-medium mb-4",children:"Your Name"}),we.jsx("input",{type:"text",name:"name",value:e.name,onChange:s,placeholder:"What's your Name?",className:"bg-tartiary py-4 px-6 placeholder:text-secondary text-white rounded-lg outlined-none border-none font-medium"})]}),we.jsxs("label",{className:"flex flex-col",children:[we.jsx("span",{className:"text-white font-medium mb-4",children:"Your Email"}),we.jsx("input",{type:"text",name:"email",value:e.email,onChange:s,placeholder:"What's your Name?",className:"bg-tartiary py-4 px-6 placeholder:text-secondary text-white rounded-lg outlined-none border-none font-medium"})]}),we.jsxs("label",{className:"flex flex-col",children:[we.jsx("span",{className:"text-white font-medium mb-4",children:"Your Name"}),we.jsx("textarea",{rows:"7",name:"message",value:e.name,onChange:s,placeholder:"What's your Message?",className:"bg-tartiary py-4 px-6 placeholder:text-secondary text-white rounded-lg outlined-none border-none font-medium"})]}),we.jsx("button",{type:"submit",className:"bg-tertiary py-3 px-8 outline-none w-fit text-white font-bold shadow-md shadow-primary rounded-xl",children:r?"Sending...":"Send Message!"})]})]}),we.jsx(ea.div,{variants:l9("right","tween",.2,1),className:"xl:flex-1 xl:h-auto md:h-[550px] h-[350px]",children:we.jsx(vve,{})})]})},Y1e=_x(J1e,"contact"),K1e=()=>we.jsx(sae,{children:we.jsxs("div",{className:"relative z-0 bg-primary",children:[we.jsxs("div",{className:"bg-hero-pattern bg-cover bg-no-repeat bg-center",children:[we.jsx(h1e,{}),we.jsx(BAe,{})]}),we.jsx(A1e,{}),we.jsx(G1e,{}),we.jsx(M1e,{}),we.jsx(V1e,{}),we.jsx(X1e,{}),we.jsxs("div",{className:"relative z-0",children:[we.jsx(Y1e,{}),we.jsx(Sve,{})]})]})});cI.createRoot(document.getElementById("root")).render(we.jsx(XM.StrictMode,{children:we.jsx(K1e,{})}));function lk(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function Q1e(n){if(n.__esModule)return n;var e=n.default;if(typeof e=="function"){var t=function r(){if(this instanceof r){var i=[null];i.push.apply(i,arguments);var s=Function.bind.apply(e,i);return new s}return e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(n).forEach(function(r){var i=Object.getOwnPropertyDescriptor(n,r);Object.defineProperty(t,r,i.get?i:{enumerable:!0,get:function(){return n[r]}})}),t}var Gq={exports:{}},VR={},zq={exports:{}},mn={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mS=Symbol.for("react.element"),q1e=Symbol.for("react.portal"),Z1e=Symbol.for("react.fragment"),$1e=Symbol.for("react.strict_mode"),e_e=Symbol.for("react.profiler"),t_e=Symbol.for("react.provider"),n_e=Symbol.for("react.context"),r_e=Symbol.for("react.forward_ref"),i_e=Symbol.for("react.suspense"),s_e=Symbol.for("react.memo"),o_e=Symbol.for("react.lazy"),f9=Symbol.iterator;function a_e(n){return n===null||typeof n!="object"?null:(n=f9&&n[f9]||n["@@iterator"],typeof n=="function"?n:null)}var Hq={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Vq=Object.assign,Wq={};function Mx(n,e,t){this.props=n,this.context=e,this.refs=Wq,this.updater=t||Hq}Mx.prototype.isReactComponent={};Mx.prototype.setState=function(n,e){if(typeof n!="object"&&typeof n!="function"&&n!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,n,e,"setState")};Mx.prototype.forceUpdate=function(n){this.updater.enqueueForceUpdate(this,n,"forceUpdate")};function jq(){}jq.prototype=Mx.prototype;function uk(n,e,t){this.props=n,this.context=e,this.refs=Wq,this.updater=t||Hq}var ck=uk.prototype=new jq;ck.constructor=uk;Vq(ck,Mx.prototype);ck.isPureReactComponent=!0;var p9=Array.isArray,Xq=Object.prototype.hasOwnProperty,hk={current:null},Jq={key:!0,ref:!0,__self:!0,__source:!0};function Yq(n,e,t){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)Xq.call(e,r)&&!Jq.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=t;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(n&&n.defaultProps)for(r in a=n.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:mS,type:n,key:s,ref:o,props:i,_owner:hk.current}}function l_e(n,e){return{$$typeof:mS,type:n.type,key:e,ref:n.ref,props:n.props,_owner:n._owner}}function dk(n){return typeof n=="object"&&n!==null&&n.$$typeof===mS}function u_e(n){var e={"=":"=0",":":"=2"};return"$"+n.replace(/[=:]/g,function(t){return e[t]})}var m9=/\/+/g;function P2(n,e){return typeof n=="object"&&n!==null&&n.key!=null?u_e(""+n.key):e.toString(36)}function iT(n,e,t,r,i){var s=typeof n;(s==="undefined"||s==="boolean")&&(n=null);var o=!1;if(n===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(n.$$typeof){case mS:case q1e:o=!0}}if(o)return o=n,i=i(o),n=r===""?"."+P2(o,0):r,p9(i)?(t="",n!=null&&(t=n.replace(m9,"$&/")+"/"),iT(i,e,t,"",function(u){return u})):i!=null&&(dk(i)&&(i=l_e(i,t+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(m9,"$&/")+"/")+n)),e.push(i)),1;if(o=0,r=r===""?".":r+":",p9(n))for(var a=0;a<n.length;a++){s=n[a];var l=r+P2(s,a);o+=iT(s,e,t,l,i)}else if(l=a_e(n),typeof l=="function")for(n=l.call(n),a=0;!(s=n.next()).done;)s=s.value,l=r+P2(s,a++),o+=iT(s,e,t,l,i);else if(s==="object")throw e=String(n),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Sb(n,e,t){if(n==null)return n;var r=[],i=0;return iT(n,r,"","",function(s){return e.call(t,s,i++)}),r}function c_e(n){if(n._status===-1){var e=n._result;e=e(),e.then(function(t){(n._status===0||n._status===-1)&&(n._status=1,n._result=t)},function(t){(n._status===0||n._status===-1)&&(n._status=2,n._result=t)}),n._status===-1&&(n._status=0,n._result=e)}if(n._status===1)return n._result.default;throw n._result}var Ks={current:null},sT={transition:null},h_e={ReactCurrentDispatcher:Ks,ReactCurrentBatchConfig:sT,ReactCurrentOwner:hk};mn.Children={map:Sb,forEach:function(n,e,t){Sb(n,function(){e.apply(this,arguments)},t)},count:function(n){var e=0;return Sb(n,function(){e++}),e},toArray:function(n){return Sb(n,function(e){return e})||[]},only:function(n){if(!dk(n))throw Error("React.Children.only expected to receive a single React element child.");return n}};mn.Component=Mx;mn.Fragment=Z1e;mn.Profiler=e_e;mn.PureComponent=uk;mn.StrictMode=$1e;mn.Suspense=i_e;mn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=h_e;mn.cloneElement=function(n,e,t){if(n==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+n+".");var r=Vq({},n.props),i=n.key,s=n.ref,o=n._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=hk.current),e.key!==void 0&&(i=""+e.key),n.type&&n.type.defaultProps)var a=n.type.defaultProps;for(l in e)Xq.call(e,l)&&!Jq.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=t;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:mS,type:n.type,key:i,ref:s,props:r,_owner:o}};mn.createContext=function(n){return n={$$typeof:n_e,_currentValue:n,_currentValue2:n,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},n.Provider={$$typeof:t_e,_context:n},n.Consumer=n};mn.createElement=Yq;mn.createFactory=function(n){var e=Yq.bind(null,n);return e.type=n,e};mn.createRef=function(){return{current:null}};mn.forwardRef=function(n){return{$$typeof:r_e,render:n}};mn.isValidElement=dk;mn.lazy=function(n){return{$$typeof:o_e,_payload:{_status:-1,_result:n},_init:c_e}};mn.memo=function(n,e){return{$$typeof:s_e,type:n,compare:e===void 0?null:e}};mn.startTransition=function(n){var e=sT.transition;sT.transition={};try{n()}finally{sT.transition=e}};mn.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};mn.useCallback=function(n,e){return Ks.current.useCallback(n,e)};mn.useContext=function(n){return Ks.current.useContext(n)};mn.useDebugValue=function(){};mn.useDeferredValue=function(n){return Ks.current.useDeferredValue(n)};mn.useEffect=function(n,e){return Ks.current.useEffect(n,e)};mn.useId=function(){return Ks.current.useId()};mn.useImperativeHandle=function(n,e,t){return Ks.current.useImperativeHandle(n,e,t)};mn.useInsertionEffect=function(n,e){return Ks.current.useInsertionEffect(n,e)};mn.useLayoutEffect=function(n,e){return Ks.current.useLayoutEffect(n,e)};mn.useMemo=function(n,e){return Ks.current.useMemo(n,e)};mn.useReducer=function(n,e,t){return Ks.current.useReducer(n,e,t)};mn.useRef=function(n){return Ks.current.useRef(n)};mn.useState=function(n){return Ks.current.useState(n)};mn.useSyncExternalStore=function(n,e,t){return Ks.current.useSyncExternalStore(n,e,t)};mn.useTransition=function(){return Ks.current.useTransition()};mn.version="18.2.0";zq.exports=mn;var me=zq.exports;const gS=lk(me),g9=hie({__proto__:null,default:gS},[me]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var d_e=me,f_e=Symbol.for("react.element"),p_e=Symbol.for("react.fragment"),m_e=Object.prototype.hasOwnProperty,g_e=d_e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,v_e={key:!0,ref:!0,__self:!0,__source:!0};function Kq(n,e,t){var r,i={},s=null,o=null;t!==void 0&&(s=""+t),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)m_e.call(e,r)&&!v_e.hasOwnProperty(r)&&(i[r]=e[r]);if(n&&n.defaultProps)for(r in e=n.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:f_e,type:n,key:s,ref:o,props:i,_owner:g_e.current}}VR.Fragment=p_e;VR.jsx=Kq;VR.jsxs=Kq;Gq.exports=VR;var Te=Gq.exports,g3={},Qq={exports:{}},aa={},qq={exports:{}},Zq={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){function e(D,k){var G=D.length;D.push(k);e:for(;0<G;){var K=G-1>>>1,H=D[K];if(0<i(H,k))D[K]=k,D[G]=H,G=K;else break e}}function t(D){return D.length===0?null:D[0]}function r(D){if(D.length===0)return null;var k=D[0],G=D.pop();if(G!==k){D[0]=G;e:for(var K=0,H=D.length,ue=H>>>1;K<ue;){var le=2*(K+1)-1,Ce=D[le],xe=le+1,Be=D[xe];if(0>i(Ce,G))xe<H&&0>i(Be,Ce)?(D[K]=Be,D[xe]=G,K=xe):(D[K]=Ce,D[le]=G,K=le);else if(xe<H&&0>i(Be,G))D[K]=Be,D[xe]=G,K=xe;else break e}}return k}function i(D,k){var G=D.sortIndex-k.sortIndex;return G!==0?G:D.id-k.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();n.unstable_now=function(){return o.now()-a}}var l=[],u=[],h=1,f=null,p=3,m=!1,v=!1,S=!1,A=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,M=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(D){for(var k=t(u);k!==null;){if(k.callback===null)r(u);else if(k.startTime<=D)r(u),k.sortIndex=k.expirationTime,e(l,k);else break;k=t(u)}}function b(D){if(S=!1,_(D),!v)if(t(l)!==null)v=!0,ae(T);else{var k=t(u);k!==null&&Z(b,k.startTime-D)}}function T(D,k){v=!1,S&&(S=!1,g(P),P=-1),m=!0;var G=p;try{for(_(k),f=t(l);f!==null&&(!(f.expirationTime>k)||D&&!U());){var K=f.callback;if(typeof K=="function"){f.callback=null,p=f.priorityLevel;var H=K(f.expirationTime<=k);k=n.unstable_now(),typeof H=="function"?f.callback=H:f===t(l)&&r(l),_(k)}else r(l);f=t(l)}if(f!==null)var ue=!0;else{var le=t(u);le!==null&&Z(b,le.startTime-k),ue=!1}return ue}finally{f=null,p=G,m=!1}}var C=!1,B=null,P=-1,R=5,L=-1;function U(){return!(n.unstable_now()-L<R)}function Q(){if(B!==null){var D=n.unstable_now();L=D;var k=!0;try{k=B(!0,D)}finally{k?W():(C=!1,B=null)}}else C=!1}var W;if(typeof M=="function")W=function(){M(Q)};else if(typeof MessageChannel<"u"){var Y=new MessageChannel,X=Y.port2;Y.port1.onmessage=Q,W=function(){X.postMessage(null)}}else W=function(){A(Q,0)};function ae(D){B=D,C||(C=!0,W())}function Z(D,k){P=A(function(){D(n.unstable_now())},k)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(D){D.callback=null},n.unstable_continueExecution=function(){v||m||(v=!0,ae(T))},n.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<D?Math.floor(1e3/D):5},n.unstable_getCurrentPriorityLevel=function(){return p},n.unstable_getFirstCallbackNode=function(){return t(l)},n.unstable_next=function(D){switch(p){case 1:case 2:case 3:var k=3;break;default:k=p}var G=p;p=k;try{return D()}finally{p=G}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(D,k){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var G=p;p=D;try{return k()}finally{p=G}},n.unstable_scheduleCallback=function(D,k,G){var K=n.unstable_now();switch(typeof G=="object"&&G!==null?(G=G.delay,G=typeof G=="number"&&0<G?K+G:K):G=K,D){case 1:var H=-1;break;case 2:H=250;break;case 5:H=1073741823;break;case 4:H=1e4;break;default:H=5e3}return H=G+H,D={id:h++,callback:k,priorityLevel:D,startTime:G,expirationTime:H,sortIndex:-1},G>K?(D.sortIndex=G,e(u,D),t(l)===null&&D===t(u)&&(S?(g(P),P=-1):S=!0,Z(b,G-K))):(D.sortIndex=H,e(l,D),v||m||(v=!0,ae(T))),D},n.unstable_shouldYield=U,n.unstable_wrapCallback=function(D){var k=p;return function(){var G=p;p=k;try{return D.apply(this,arguments)}finally{p=G}}}})(Zq);qq.exports=Zq;var y_e=qq.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $q=me,ta=y_e;function at(n){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+n,t=1;t<arguments.length;t++)e+="&args[]="+encodeURIComponent(arguments[t]);return"Minified React error #"+n+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var eZ=new Set,hM={};function vg(n,e){Wy(n,e),Wy(n+"Capture",e)}function Wy(n,e){for(hM[n]=e,n=0;n<e.length;n++)eZ.add(e[n])}var _h=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),v3=Object.prototype.hasOwnProperty,x_e=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,v9={},y9={};function A_e(n){return v3.call(y9,n)?!0:v3.call(v9,n)?!1:x_e.test(n)?y9[n]=!0:(v9[n]=!0,!1)}function __e(n,e,t,r){if(t!==null&&t.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:t!==null?!t.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function M_e(n,e,t,r){if(e===null||typeof e>"u"||__e(n,e,t,r))return!0;if(r)return!1;if(t!==null)switch(t.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Qs(n,e,t,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=t,this.propertyName=n,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var hs={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){hs[n]=new Qs(n,0,!1,n,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var e=n[0];hs[e]=new Qs(e,1,!1,n[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(n){hs[n]=new Qs(n,2,!1,n.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){hs[n]=new Qs(n,2,!1,n,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){hs[n]=new Qs(n,3,!1,n.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(n){hs[n]=new Qs(n,3,!0,n,null,!1,!1)});["capture","download"].forEach(function(n){hs[n]=new Qs(n,4,!1,n,null,!1,!1)});["cols","rows","size","span"].forEach(function(n){hs[n]=new Qs(n,6,!1,n,null,!1,!1)});["rowSpan","start"].forEach(function(n){hs[n]=new Qs(n,5,!1,n.toLowerCase(),null,!1,!1)});var fk=/[\-:]([a-z])/g;function pk(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var e=n.replace(fk,pk);hs[e]=new Qs(e,1,!1,n,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var e=n.replace(fk,pk);hs[e]=new Qs(e,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(n){var e=n.replace(fk,pk);hs[e]=new Qs(e,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(n){hs[n]=new Qs(n,1,!1,n.toLowerCase(),null,!1,!1)});hs.xlinkHref=new Qs("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(n){hs[n]=new Qs(n,1,!1,n.toLowerCase(),null,!0,!0)});function mk(n,e,t,r){var i=hs.hasOwnProperty(e)?hs[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(M_e(e,t,i,r)&&(t=null),r||i===null?A_e(e)&&(t===null?n.removeAttribute(e):n.setAttribute(e,""+t)):i.mustUseProperty?n[i.propertyName]=t===null?i.type===3?!1:"":t:(e=i.attributeName,r=i.attributeNamespace,t===null?n.removeAttribute(e):(i=i.type,t=i===3||i===4&&t===!0?"":""+t,r?n.setAttributeNS(r,e,t):n.setAttribute(e,t))))}var Rh=$q.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Eb=Symbol.for("react.element"),F0=Symbol.for("react.portal"),N0=Symbol.for("react.fragment"),gk=Symbol.for("react.strict_mode"),y3=Symbol.for("react.profiler"),tZ=Symbol.for("react.provider"),nZ=Symbol.for("react.context"),vk=Symbol.for("react.forward_ref"),x3=Symbol.for("react.suspense"),A3=Symbol.for("react.suspense_list"),yk=Symbol.for("react.memo"),Ad=Symbol.for("react.lazy"),rZ=Symbol.for("react.offscreen"),x9=Symbol.iterator;function l1(n){return n===null||typeof n!="object"?null:(n=x9&&n[x9]||n["@@iterator"],typeof n=="function"?n:null)}var Br=Object.assign,B2;function H1(n){if(B2===void 0)try{throw Error()}catch(t){var e=t.stack.trim().match(/\n( *(at )?)/);B2=e&&e[1]||""}return`
`+B2+n}var L2=!1;function I2(n,e){if(!n||L2)return"";L2=!0;var t=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(n,[],e)}else{try{e.call()}catch(u){r=u}n.call(e.prototype)}else{try{throw Error()}catch(u){r=u}n()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return n.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",n.displayName)),l}while(1<=o&&0<=a);break}}}finally{L2=!1,Error.prepareStackTrace=t}return(n=n?n.displayName||n.name:"")?H1(n):""}function S_e(n){switch(n.tag){case 5:return H1(n.type);case 16:return H1("Lazy");case 13:return H1("Suspense");case 19:return H1("SuspenseList");case 0:case 2:case 15:return n=I2(n.type,!1),n;case 11:return n=I2(n.type.render,!1),n;case 1:return n=I2(n.type,!0),n;default:return""}}function _3(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case N0:return"Fragment";case F0:return"Portal";case y3:return"Profiler";case gk:return"StrictMode";case x3:return"Suspense";case A3:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case nZ:return(n.displayName||"Context")+".Consumer";case tZ:return(n._context.displayName||"Context")+".Provider";case vk:var e=n.render;return n=n.displayName,n||(n=e.displayName||e.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case yk:return e=n.displayName||null,e!==null?e:_3(n.type)||"Memo";case Ad:e=n._payload,n=n._init;try{return _3(n(e))}catch{}}return null}function E_e(n){var e=n.type;switch(n.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=e.render,n=n.displayName||n.name||"",e.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return _3(e);case 8:return e===gk?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function gf(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function iZ(n){var e=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function b_e(n){var e=iZ(n)?"checked":"value",t=Object.getOwnPropertyDescriptor(n.constructor.prototype,e),r=""+n[e];if(!n.hasOwnProperty(e)&&typeof t<"u"&&typeof t.get=="function"&&typeof t.set=="function"){var i=t.get,s=t.set;return Object.defineProperty(n,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(n,e,{enumerable:t.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){n._valueTracker=null,delete n[e]}}}}function bb(n){n._valueTracker||(n._valueTracker=b_e(n))}function sZ(n){if(!n)return!1;var e=n._valueTracker;if(!e)return!0;var t=e.getValue(),r="";return n&&(r=iZ(n)?n.checked?"true":"false":n.value),n=r,n!==t?(e.setValue(n),!0):!1}function dC(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function M3(n,e){var t=e.checked;return Br({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:t??n._wrapperState.initialChecked})}function A9(n,e){var t=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;t=gf(e.value!=null?e.value:t),n._wrapperState={initialChecked:r,initialValue:t,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function oZ(n,e){e=e.checked,e!=null&&mk(n,"checked",e,!1)}function S3(n,e){oZ(n,e);var t=gf(e.value),r=e.type;if(t!=null)r==="number"?(t===0&&n.value===""||n.value!=t)&&(n.value=""+t):n.value!==""+t&&(n.value=""+t);else if(r==="submit"||r==="reset"){n.removeAttribute("value");return}e.hasOwnProperty("value")?E3(n,e.type,t):e.hasOwnProperty("defaultValue")&&E3(n,e.type,gf(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(n.defaultChecked=!!e.defaultChecked)}function _9(n,e,t){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+n._wrapperState.initialValue,t||e===n.value||(n.value=e),n.defaultValue=e}t=n.name,t!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,t!==""&&(n.name=t)}function E3(n,e,t){(e!=="number"||dC(n.ownerDocument)!==n)&&(t==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+t&&(n.defaultValue=""+t))}var V1=Array.isArray;function py(n,e,t,r){if(n=n.options,e){e={};for(var i=0;i<t.length;i++)e["$"+t[i]]=!0;for(t=0;t<n.length;t++)i=e.hasOwnProperty("$"+n[t].value),n[t].selected!==i&&(n[t].selected=i),i&&r&&(n[t].defaultSelected=!0)}else{for(t=""+gf(t),e=null,i=0;i<n.length;i++){if(n[i].value===t){n[i].selected=!0,r&&(n[i].defaultSelected=!0);return}e!==null||n[i].disabled||(e=n[i])}e!==null&&(e.selected=!0)}}function b3(n,e){if(e.dangerouslySetInnerHTML!=null)throw Error(at(91));return Br({},e,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function M9(n,e){var t=e.value;if(t==null){if(t=e.children,e=e.defaultValue,t!=null){if(e!=null)throw Error(at(92));if(V1(t)){if(1<t.length)throw Error(at(93));t=t[0]}e=t}e==null&&(e=""),t=e}n._wrapperState={initialValue:gf(t)}}function aZ(n,e){var t=gf(e.value),r=gf(e.defaultValue);t!=null&&(t=""+t,t!==n.value&&(n.value=t),e.defaultValue==null&&n.defaultValue!==t&&(n.defaultValue=t)),r!=null&&(n.defaultValue=""+r)}function S9(n){var e=n.textContent;e===n._wrapperState.initialValue&&e!==""&&e!==null&&(n.value=e)}function lZ(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function w3(n,e){return n==null||n==="http://www.w3.org/1999/xhtml"?lZ(e):n==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var wb,uZ=function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,t,r,i){MSApp.execUnsafeLocalFunction(function(){return n(e,t,r,i)})}:n}(function(n,e){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=e;else{for(wb=wb||document.createElement("div"),wb.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=wb.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;e.firstChild;)n.appendChild(e.firstChild)}});function dM(n,e){if(e){var t=n.firstChild;if(t&&t===n.lastChild&&t.nodeType===3){t.nodeValue=e;return}}n.textContent=e}var f_={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},w_e=["Webkit","ms","Moz","O"];Object.keys(f_).forEach(function(n){w_e.forEach(function(e){e=e+n.charAt(0).toUpperCase()+n.substring(1),f_[e]=f_[n]})});function cZ(n,e,t){return e==null||typeof e=="boolean"||e===""?"":t||typeof e!="number"||e===0||f_.hasOwnProperty(n)&&f_[n]?(""+e).trim():e+"px"}function hZ(n,e){n=n.style;for(var t in e)if(e.hasOwnProperty(t)){var r=t.indexOf("--")===0,i=cZ(t,e[t],r);t==="float"&&(t="cssFloat"),r?n.setProperty(t,i):n[t]=i}}var T_e=Br({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function T3(n,e){if(e){if(T_e[n]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(at(137,n));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(at(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(at(61))}if(e.style!=null&&typeof e.style!="object")throw Error(at(62))}}function C3(n,e){if(n.indexOf("-")===-1)return typeof e.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var R3=null;function xk(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var P3=null,my=null,gy=null;function E9(n){if(n=xS(n)){if(typeof P3!="function")throw Error(at(280));var e=n.stateNode;e&&(e=YR(e),P3(n.stateNode,n.type,e))}}function dZ(n){my?gy?gy.push(n):gy=[n]:my=n}function fZ(){if(my){var n=my,e=gy;if(gy=my=null,E9(n),e)for(n=0;n<e.length;n++)E9(e[n])}}function pZ(n,e){return n(e)}function mZ(){}var D2=!1;function gZ(n,e,t){if(D2)return n(e,t);D2=!0;try{return pZ(n,e,t)}finally{D2=!1,(my!==null||gy!==null)&&(mZ(),fZ())}}function fM(n,e){var t=n.stateNode;if(t===null)return null;var r=YR(t);if(r===null)return null;t=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(n=n.type,r=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!r;break e;default:n=!1}if(n)return null;if(t&&typeof t!="function")throw Error(at(231,e,typeof t));return t}var B3=!1;if(_h)try{var u1={};Object.defineProperty(u1,"passive",{get:function(){B3=!0}}),window.addEventListener("test",u1,u1),window.removeEventListener("test",u1,u1)}catch{B3=!1}function C_e(n,e,t,r,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(t,u)}catch(h){this.onError(h)}}var p_=!1,fC=null,pC=!1,L3=null,R_e={onError:function(n){p_=!0,fC=n}};function P_e(n,e,t,r,i,s,o,a,l){p_=!1,fC=null,C_e.apply(R_e,arguments)}function B_e(n,e,t,r,i,s,o,a,l){if(P_e.apply(this,arguments),p_){if(p_){var u=fC;p_=!1,fC=null}else throw Error(at(198));pC||(pC=!0,L3=u)}}function yg(n){var e=n,t=n;if(n.alternate)for(;e.return;)e=e.return;else{n=e;do e=n,e.flags&4098&&(t=e.return),n=e.return;while(n)}return e.tag===3?t:null}function vZ(n){if(n.tag===13){var e=n.memoizedState;if(e===null&&(n=n.alternate,n!==null&&(e=n.memoizedState)),e!==null)return e.dehydrated}return null}function b9(n){if(yg(n)!==n)throw Error(at(188))}function L_e(n){var e=n.alternate;if(!e){if(e=yg(n),e===null)throw Error(at(188));return e!==n?null:n}for(var t=n,r=e;;){var i=t.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){t=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===t)return b9(i),n;if(s===r)return b9(i),e;s=s.sibling}throw Error(at(188))}if(t.return!==r.return)t=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===t){o=!0,t=i,r=s;break}if(a===r){o=!0,r=i,t=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===t){o=!0,t=s,r=i;break}if(a===r){o=!0,r=s,t=i;break}a=a.sibling}if(!o)throw Error(at(189))}}if(t.alternate!==r)throw Error(at(190))}if(t.tag!==3)throw Error(at(188));return t.stateNode.current===t?n:e}function yZ(n){return n=L_e(n),n!==null?xZ(n):null}function xZ(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var e=xZ(n);if(e!==null)return e;n=n.sibling}return null}var AZ=ta.unstable_scheduleCallback,w9=ta.unstable_cancelCallback,I_e=ta.unstable_shouldYield,D_e=ta.unstable_requestPaint,Yr=ta.unstable_now,F_e=ta.unstable_getCurrentPriorityLevel,Ak=ta.unstable_ImmediatePriority,_Z=ta.unstable_UserBlockingPriority,mC=ta.unstable_NormalPriority,N_e=ta.unstable_LowPriority,MZ=ta.unstable_IdlePriority,WR=null,Gu=null;function U_e(n){if(Gu&&typeof Gu.onCommitFiberRoot=="function")try{Gu.onCommitFiberRoot(WR,n,void 0,(n.current.flags&128)===128)}catch{}}var Il=Math.clz32?Math.clz32:G_e,O_e=Math.log,k_e=Math.LN2;function G_e(n){return n>>>=0,n===0?32:31-(O_e(n)/k_e|0)|0}var Tb=64,Cb=4194304;function W1(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function gC(n,e){var t=n.pendingLanes;if(t===0)return 0;var r=0,i=n.suspendedLanes,s=n.pingedLanes,o=t&268435455;if(o!==0){var a=o&~i;a!==0?r=W1(a):(s&=o,s!==0&&(r=W1(s)))}else o=t&~i,o!==0?r=W1(o):s!==0&&(r=W1(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=t&16),e=n.entangledLanes,e!==0)for(n=n.entanglements,e&=r;0<e;)t=31-Il(e),i=1<<t,r|=n[t],e&=~i;return r}function z_e(n,e){switch(n){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function H_e(n,e){for(var t=n.suspendedLanes,r=n.pingedLanes,i=n.expirationTimes,s=n.pendingLanes;0<s;){var o=31-Il(s),a=1<<o,l=i[o];l===-1?(!(a&t)||a&r)&&(i[o]=z_e(a,e)):l<=e&&(n.expiredLanes|=a),s&=~a}}function I3(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function SZ(){var n=Tb;return Tb<<=1,!(Tb&4194240)&&(Tb=64),n}function F2(n){for(var e=[],t=0;31>t;t++)e.push(n);return e}function vS(n,e,t){n.pendingLanes|=e,e!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,e=31-Il(e),n[e]=t}function V_e(n,e){var t=n.pendingLanes&~e;n.pendingLanes=e,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=e,n.mutableReadLanes&=e,n.entangledLanes&=e,e=n.entanglements;var r=n.eventTimes;for(n=n.expirationTimes;0<t;){var i=31-Il(t),s=1<<i;e[i]=0,r[i]=-1,n[i]=-1,t&=~s}}function _k(n,e){var t=n.entangledLanes|=e;for(n=n.entanglements;t;){var r=31-Il(t),i=1<<r;i&e|n[r]&e&&(n[r]|=e),t&=~i}}var Hn=0;function EZ(n){return n&=-n,1<n?4<n?n&268435455?16:536870912:4:1}var bZ,Mk,wZ,TZ,CZ,D3=!1,Rb=[],Xd=null,Jd=null,Yd=null,pM=new Map,mM=new Map,Td=[],W_e="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function T9(n,e){switch(n){case"focusin":case"focusout":Xd=null;break;case"dragenter":case"dragleave":Jd=null;break;case"mouseover":case"mouseout":Yd=null;break;case"pointerover":case"pointerout":pM.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":mM.delete(e.pointerId)}}function c1(n,e,t,r,i,s){return n===null||n.nativeEvent!==s?(n={blockedOn:e,domEventName:t,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=xS(e),e!==null&&Mk(e)),n):(n.eventSystemFlags|=r,e=n.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),n)}function j_e(n,e,t,r,i){switch(e){case"focusin":return Xd=c1(Xd,n,e,t,r,i),!0;case"dragenter":return Jd=c1(Jd,n,e,t,r,i),!0;case"mouseover":return Yd=c1(Yd,n,e,t,r,i),!0;case"pointerover":var s=i.pointerId;return pM.set(s,c1(pM.get(s)||null,n,e,t,r,i)),!0;case"gotpointercapture":return s=i.pointerId,mM.set(s,c1(mM.get(s)||null,n,e,t,r,i)),!0}return!1}function RZ(n){var e=_m(n.target);if(e!==null){var t=yg(e);if(t!==null){if(e=t.tag,e===13){if(e=vZ(t),e!==null){n.blockedOn=e,CZ(n.priority,function(){wZ(t)});return}}else if(e===3&&t.stateNode.current.memoizedState.isDehydrated){n.blockedOn=t.tag===3?t.stateNode.containerInfo:null;return}}}n.blockedOn=null}function oT(n){if(n.blockedOn!==null)return!1;for(var e=n.targetContainers;0<e.length;){var t=F3(n.domEventName,n.eventSystemFlags,e[0],n.nativeEvent);if(t===null){t=n.nativeEvent;var r=new t.constructor(t.type,t);R3=r,t.target.dispatchEvent(r),R3=null}else return e=xS(t),e!==null&&Mk(e),n.blockedOn=t,!1;e.shift()}return!0}function C9(n,e,t){oT(n)&&t.delete(e)}function X_e(){D3=!1,Xd!==null&&oT(Xd)&&(Xd=null),Jd!==null&&oT(Jd)&&(Jd=null),Yd!==null&&oT(Yd)&&(Yd=null),pM.forEach(C9),mM.forEach(C9)}function h1(n,e){n.blockedOn===e&&(n.blockedOn=null,D3||(D3=!0,ta.unstable_scheduleCallback(ta.unstable_NormalPriority,X_e)))}function gM(n){function e(i){return h1(i,n)}if(0<Rb.length){h1(Rb[0],n);for(var t=1;t<Rb.length;t++){var r=Rb[t];r.blockedOn===n&&(r.blockedOn=null)}}for(Xd!==null&&h1(Xd,n),Jd!==null&&h1(Jd,n),Yd!==null&&h1(Yd,n),pM.forEach(e),mM.forEach(e),t=0;t<Td.length;t++)r=Td[t],r.blockedOn===n&&(r.blockedOn=null);for(;0<Td.length&&(t=Td[0],t.blockedOn===null);)RZ(t),t.blockedOn===null&&Td.shift()}var vy=Rh.ReactCurrentBatchConfig,vC=!0;function J_e(n,e,t,r){var i=Hn,s=vy.transition;vy.transition=null;try{Hn=1,Sk(n,e,t,r)}finally{Hn=i,vy.transition=s}}function Y_e(n,e,t,r){var i=Hn,s=vy.transition;vy.transition=null;try{Hn=4,Sk(n,e,t,r)}finally{Hn=i,vy.transition=s}}function Sk(n,e,t,r){if(vC){var i=F3(n,e,t,r);if(i===null)j2(n,e,r,yC,t),T9(n,r);else if(j_e(i,n,e,t,r))r.stopPropagation();else if(T9(n,r),e&4&&-1<W_e.indexOf(n)){for(;i!==null;){var s=xS(i);if(s!==null&&bZ(s),s=F3(n,e,t,r),s===null&&j2(n,e,r,yC,t),s===i)break;i=s}i!==null&&r.stopPropagation()}else j2(n,e,r,null,t)}}var yC=null;function F3(n,e,t,r){if(yC=null,n=xk(r),n=_m(n),n!==null)if(e=yg(n),e===null)n=null;else if(t=e.tag,t===13){if(n=vZ(e),n!==null)return n;n=null}else if(t===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;n=null}else e!==n&&(n=null);return yC=n,null}function PZ(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(F_e()){case Ak:return 1;case _Z:return 4;case mC:case N_e:return 16;case MZ:return 536870912;default:return 16}default:return 16}}var Bd=null,Ek=null,aT=null;function BZ(){if(aT)return aT;var n,e=Ek,t=e.length,r,i="value"in Bd?Bd.value:Bd.textContent,s=i.length;for(n=0;n<t&&e[n]===i[n];n++);var o=t-n;for(r=1;r<=o&&e[t-r]===i[s-r];r++);return aT=i.slice(n,1<r?1-r:void 0)}function lT(n){var e=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&e===13&&(n=13)):n=e,n===10&&(n=13),32<=n||n===13?n:0}function Pb(){return!0}function R9(){return!1}function la(n){function e(t,r,i,s,o){this._reactName=t,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in n)n.hasOwnProperty(a)&&(t=n[a],this[a]=t?t(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Pb:R9,this.isPropagationStopped=R9,this}return Br(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():typeof t.returnValue!="unknown"&&(t.returnValue=!1),this.isDefaultPrevented=Pb)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():typeof t.cancelBubble!="unknown"&&(t.cancelBubble=!0),this.isPropagationStopped=Pb)},persist:function(){},isPersistent:Pb}),e}var Sx={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},bk=la(Sx),yS=Br({},Sx,{view:0,detail:0}),K_e=la(yS),N2,U2,d1,jR=Br({},yS,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:wk,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==d1&&(d1&&n.type==="mousemove"?(N2=n.screenX-d1.screenX,U2=n.screenY-d1.screenY):U2=N2=0,d1=n),N2)},movementY:function(n){return"movementY"in n?n.movementY:U2}}),P9=la(jR),Q_e=Br({},jR,{dataTransfer:0}),q_e=la(Q_e),Z_e=Br({},yS,{relatedTarget:0}),O2=la(Z_e),$_e=Br({},Sx,{animationName:0,elapsedTime:0,pseudoElement:0}),eMe=la($_e),tMe=Br({},Sx,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),nMe=la(tMe),rMe=Br({},Sx,{data:0}),B9=la(rMe),iMe={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},sMe={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},oMe={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function aMe(n){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(n):(n=oMe[n])?!!e[n]:!1}function wk(){return aMe}var lMe=Br({},yS,{key:function(n){if(n.key){var e=iMe[n.key]||n.key;if(e!=="Unidentified")return e}return n.type==="keypress"?(n=lT(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?sMe[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:wk,charCode:function(n){return n.type==="keypress"?lT(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?lT(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),uMe=la(lMe),cMe=Br({},jR,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),L9=la(cMe),hMe=Br({},yS,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:wk}),dMe=la(hMe),fMe=Br({},Sx,{propertyName:0,elapsedTime:0,pseudoElement:0}),pMe=la(fMe),mMe=Br({},jR,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),gMe=la(mMe),vMe=[9,13,27,32],Tk=_h&&"CompositionEvent"in window,m_=null;_h&&"documentMode"in document&&(m_=document.documentMode);var yMe=_h&&"TextEvent"in window&&!m_,LZ=_h&&(!Tk||m_&&8<m_&&11>=m_),I9=String.fromCharCode(32),D9=!1;function IZ(n,e){switch(n){case"keyup":return vMe.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function DZ(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var U0=!1;function xMe(n,e){switch(n){case"compositionend":return DZ(e);case"keypress":return e.which!==32?null:(D9=!0,I9);case"textInput":return n=e.data,n===I9&&D9?null:n;default:return null}}function AMe(n,e){if(U0)return n==="compositionend"||!Tk&&IZ(n,e)?(n=BZ(),aT=Ek=Bd=null,U0=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return LZ&&e.locale!=="ko"?null:e.data;default:return null}}var _Me={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function F9(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e==="input"?!!_Me[n.type]:e==="textarea"}function FZ(n,e,t,r){dZ(r),e=xC(e,"onChange"),0<e.length&&(t=new bk("onChange","change",null,t,r),n.push({event:t,listeners:e}))}var g_=null,vM=null;function MMe(n){XZ(n,0)}function XR(n){var e=G0(n);if(sZ(e))return n}function SMe(n,e){if(n==="change")return e}var NZ=!1;if(_h){var k2;if(_h){var G2="oninput"in document;if(!G2){var N9=document.createElement("div");N9.setAttribute("oninput","return;"),G2=typeof N9.oninput=="function"}k2=G2}else k2=!1;NZ=k2&&(!document.documentMode||9<document.documentMode)}function U9(){g_&&(g_.detachEvent("onpropertychange",UZ),vM=g_=null)}function UZ(n){if(n.propertyName==="value"&&XR(vM)){var e=[];FZ(e,vM,n,xk(n)),gZ(MMe,e)}}function EMe(n,e,t){n==="focusin"?(U9(),g_=e,vM=t,g_.attachEvent("onpropertychange",UZ)):n==="focusout"&&U9()}function bMe(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return XR(vM)}function wMe(n,e){if(n==="click")return XR(e)}function TMe(n,e){if(n==="input"||n==="change")return XR(e)}function CMe(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}var zl=typeof Object.is=="function"?Object.is:CMe;function yM(n,e){if(zl(n,e))return!0;if(typeof n!="object"||n===null||typeof e!="object"||e===null)return!1;var t=Object.keys(n),r=Object.keys(e);if(t.length!==r.length)return!1;for(r=0;r<t.length;r++){var i=t[r];if(!v3.call(e,i)||!zl(n[i],e[i]))return!1}return!0}function O9(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function k9(n,e){var t=O9(n);n=0;for(var r;t;){if(t.nodeType===3){if(r=n+t.textContent.length,n<=e&&r>=e)return{node:t,offset:e-n};n=r}e:{for(;t;){if(t.nextSibling){t=t.nextSibling;break e}t=t.parentNode}t=void 0}t=O9(t)}}function OZ(n,e){return n&&e?n===e?!0:n&&n.nodeType===3?!1:e&&e.nodeType===3?OZ(n,e.parentNode):"contains"in n?n.contains(e):n.compareDocumentPosition?!!(n.compareDocumentPosition(e)&16):!1:!1}function kZ(){for(var n=window,e=dC();e instanceof n.HTMLIFrameElement;){try{var t=typeof e.contentWindow.location.href=="string"}catch{t=!1}if(t)n=e.contentWindow;else break;e=dC(n.document)}return e}function Ck(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e&&(e==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||e==="textarea"||n.contentEditable==="true")}function RMe(n){var e=kZ(),t=n.focusedElem,r=n.selectionRange;if(e!==t&&t&&t.ownerDocument&&OZ(t.ownerDocument.documentElement,t)){if(r!==null&&Ck(t)){if(e=r.start,n=r.end,n===void 0&&(n=e),"selectionStart"in t)t.selectionStart=e,t.selectionEnd=Math.min(n,t.value.length);else if(n=(e=t.ownerDocument||document)&&e.defaultView||window,n.getSelection){n=n.getSelection();var i=t.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!n.extend&&s>r&&(i=r,r=s,s=i),i=k9(t,s);var o=k9(t,r);i&&o&&(n.rangeCount!==1||n.anchorNode!==i.node||n.anchorOffset!==i.offset||n.focusNode!==o.node||n.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),n.removeAllRanges(),s>r?(n.addRange(e),n.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),n.addRange(e)))}}for(e=[],n=t;n=n.parentNode;)n.nodeType===1&&e.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof t.focus=="function"&&t.focus(),t=0;t<e.length;t++)n=e[t],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var PMe=_h&&"documentMode"in document&&11>=document.documentMode,O0=null,N3=null,v_=null,U3=!1;function G9(n,e,t){var r=t.window===t?t.document:t.nodeType===9?t:t.ownerDocument;U3||O0==null||O0!==dC(r)||(r=O0,"selectionStart"in r&&Ck(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),v_&&yM(v_,r)||(v_=r,r=xC(N3,"onSelect"),0<r.length&&(e=new bk("onSelect","select",null,e,t),n.push({event:e,listeners:r}),e.target=O0)))}function Bb(n,e){var t={};return t[n.toLowerCase()]=e.toLowerCase(),t["Webkit"+n]="webkit"+e,t["Moz"+n]="moz"+e,t}var k0={animationend:Bb("Animation","AnimationEnd"),animationiteration:Bb("Animation","AnimationIteration"),animationstart:Bb("Animation","AnimationStart"),transitionend:Bb("Transition","TransitionEnd")},z2={},GZ={};_h&&(GZ=document.createElement("div").style,"AnimationEvent"in window||(delete k0.animationend.animation,delete k0.animationiteration.animation,delete k0.animationstart.animation),"TransitionEvent"in window||delete k0.transitionend.transition);function JR(n){if(z2[n])return z2[n];if(!k0[n])return n;var e=k0[n],t;for(t in e)if(e.hasOwnProperty(t)&&t in GZ)return z2[n]=e[t];return n}var zZ=JR("animationend"),HZ=JR("animationiteration"),VZ=JR("animationstart"),WZ=JR("transitionend"),jZ=new Map,z9="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Lf(n,e){jZ.set(n,e),vg(e,[n])}for(var H2=0;H2<z9.length;H2++){var V2=z9[H2],BMe=V2.toLowerCase(),LMe=V2[0].toUpperCase()+V2.slice(1);Lf(BMe,"on"+LMe)}Lf(zZ,"onAnimationEnd");Lf(HZ,"onAnimationIteration");Lf(VZ,"onAnimationStart");Lf("dblclick","onDoubleClick");Lf("focusin","onFocus");Lf("focusout","onBlur");Lf(WZ,"onTransitionEnd");Wy("onMouseEnter",["mouseout","mouseover"]);Wy("onMouseLeave",["mouseout","mouseover"]);Wy("onPointerEnter",["pointerout","pointerover"]);Wy("onPointerLeave",["pointerout","pointerover"]);vg("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));vg("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));vg("onBeforeInput",["compositionend","keypress","textInput","paste"]);vg("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));vg("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));vg("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var j1="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),IMe=new Set("cancel close invalid load scroll toggle".split(" ").concat(j1));function H9(n,e,t){var r=n.type||"unknown-event";n.currentTarget=t,B_e(r,e,void 0,n),n.currentTarget=null}function XZ(n,e){e=(e&4)!==0;for(var t=0;t<n.length;t++){var r=n[t],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;H9(i,a,u),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;H9(i,a,u),s=l}}}if(pC)throw n=L3,pC=!1,L3=null,n}function er(n,e){var t=e[H3];t===void 0&&(t=e[H3]=new Set);var r=n+"__bubble";t.has(r)||(JZ(e,n,2,!1),t.add(r))}function W2(n,e,t){var r=0;e&&(r|=4),JZ(t,n,r,e)}var Lb="_reactListening"+Math.random().toString(36).slice(2);function xM(n){if(!n[Lb]){n[Lb]=!0,eZ.forEach(function(t){t!=="selectionchange"&&(IMe.has(t)||W2(t,!1,n),W2(t,!0,n))});var e=n.nodeType===9?n:n.ownerDocument;e===null||e[Lb]||(e[Lb]=!0,W2("selectionchange",!1,e))}}function JZ(n,e,t,r){switch(PZ(e)){case 1:var i=J_e;break;case 4:i=Y_e;break;default:i=Sk}t=i.bind(null,e,t,n),i=void 0,!B3||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?n.addEventListener(e,t,{capture:!0,passive:i}):n.addEventListener(e,t,!0):i!==void 0?n.addEventListener(e,t,{passive:i}):n.addEventListener(e,t,!1)}function j2(n,e,t,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=_m(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}gZ(function(){var u=s,h=xk(t),f=[];e:{var p=jZ.get(n);if(p!==void 0){var m=bk,v=n;switch(n){case"keypress":if(lT(t)===0)break e;case"keydown":case"keyup":m=uMe;break;case"focusin":v="focus",m=O2;break;case"focusout":v="blur",m=O2;break;case"beforeblur":case"afterblur":m=O2;break;case"click":if(t.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=P9;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=q_e;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=dMe;break;case zZ:case HZ:case VZ:m=eMe;break;case WZ:m=pMe;break;case"scroll":m=K_e;break;case"wheel":m=gMe;break;case"copy":case"cut":case"paste":m=nMe;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=L9}var S=(e&4)!==0,A=!S&&n==="scroll",g=S?p!==null?p+"Capture":null:p;S=[];for(var M=u,_;M!==null;){_=M;var b=_.stateNode;if(_.tag===5&&b!==null&&(_=b,g!==null&&(b=fM(M,g),b!=null&&S.push(AM(M,b,_)))),A)break;M=M.return}0<S.length&&(p=new m(p,v,null,t,h),f.push({event:p,listeners:S}))}}if(!(e&7)){e:{if(p=n==="mouseover"||n==="pointerover",m=n==="mouseout"||n==="pointerout",p&&t!==R3&&(v=t.relatedTarget||t.fromElement)&&(_m(v)||v[Mh]))break e;if((m||p)&&(p=h.window===h?h:(p=h.ownerDocument)?p.defaultView||p.parentWindow:window,m?(v=t.relatedTarget||t.toElement,m=u,v=v?_m(v):null,v!==null&&(A=yg(v),v!==A||v.tag!==5&&v.tag!==6)&&(v=null)):(m=null,v=u),m!==v)){if(S=P9,b="onMouseLeave",g="onMouseEnter",M="mouse",(n==="pointerout"||n==="pointerover")&&(S=L9,b="onPointerLeave",g="onPointerEnter",M="pointer"),A=m==null?p:G0(m),_=v==null?p:G0(v),p=new S(b,M+"leave",m,t,h),p.target=A,p.relatedTarget=_,b=null,_m(h)===u&&(S=new S(g,M+"enter",v,t,h),S.target=_,S.relatedTarget=A,b=S),A=b,m&&v)t:{for(S=m,g=v,M=0,_=S;_;_=Gv(_))M++;for(_=0,b=g;b;b=Gv(b))_++;for(;0<M-_;)S=Gv(S),M--;for(;0<_-M;)g=Gv(g),_--;for(;M--;){if(S===g||g!==null&&S===g.alternate)break t;S=Gv(S),g=Gv(g)}S=null}else S=null;m!==null&&V9(f,p,m,S,!1),v!==null&&A!==null&&V9(f,A,v,S,!0)}}e:{if(p=u?G0(u):window,m=p.nodeName&&p.nodeName.toLowerCase(),m==="select"||m==="input"&&p.type==="file")var T=SMe;else if(F9(p))if(NZ)T=TMe;else{T=bMe;var C=EMe}else(m=p.nodeName)&&m.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(T=wMe);if(T&&(T=T(n,u))){FZ(f,T,t,h);break e}C&&C(n,p,u),n==="focusout"&&(C=p._wrapperState)&&C.controlled&&p.type==="number"&&E3(p,"number",p.value)}switch(C=u?G0(u):window,n){case"focusin":(F9(C)||C.contentEditable==="true")&&(O0=C,N3=u,v_=null);break;case"focusout":v_=N3=O0=null;break;case"mousedown":U3=!0;break;case"contextmenu":case"mouseup":case"dragend":U3=!1,G9(f,t,h);break;case"selectionchange":if(PMe)break;case"keydown":case"keyup":G9(f,t,h)}var B;if(Tk)e:{switch(n){case"compositionstart":var P="onCompositionStart";break e;case"compositionend":P="onCompositionEnd";break e;case"compositionupdate":P="onCompositionUpdate";break e}P=void 0}else U0?IZ(n,t)&&(P="onCompositionEnd"):n==="keydown"&&t.keyCode===229&&(P="onCompositionStart");P&&(LZ&&t.locale!=="ko"&&(U0||P!=="onCompositionStart"?P==="onCompositionEnd"&&U0&&(B=BZ()):(Bd=h,Ek="value"in Bd?Bd.value:Bd.textContent,U0=!0)),C=xC(u,P),0<C.length&&(P=new B9(P,n,null,t,h),f.push({event:P,listeners:C}),B?P.data=B:(B=DZ(t),B!==null&&(P.data=B)))),(B=yMe?xMe(n,t):AMe(n,t))&&(u=xC(u,"onBeforeInput"),0<u.length&&(h=new B9("onBeforeInput","beforeinput",null,t,h),f.push({event:h,listeners:u}),h.data=B))}XZ(f,e)})}function AM(n,e,t){return{instance:n,listener:e,currentTarget:t}}function xC(n,e){for(var t=e+"Capture",r=[];n!==null;){var i=n,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=fM(n,t),s!=null&&r.unshift(AM(n,s,i)),s=fM(n,e),s!=null&&r.push(AM(n,s,i))),n=n.return}return r}function Gv(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function V9(n,e,t,r,i){for(var s=e._reactName,o=[];t!==null&&t!==r;){var a=t,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=fM(t,s),l!=null&&o.unshift(AM(t,l,a))):i||(l=fM(t,s),l!=null&&o.push(AM(t,l,a)))),t=t.return}o.length!==0&&n.push({event:e,listeners:o})}var DMe=/\r\n?/g,FMe=/\u0000|\uFFFD/g;function W9(n){return(typeof n=="string"?n:""+n).replace(DMe,`
`).replace(FMe,"")}function Ib(n,e,t){if(e=W9(e),W9(n)!==e&&t)throw Error(at(425))}function AC(){}var O3=null,k3=null;function G3(n,e){return n==="textarea"||n==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var z3=typeof setTimeout=="function"?setTimeout:void 0,NMe=typeof clearTimeout=="function"?clearTimeout:void 0,j9=typeof Promise=="function"?Promise:void 0,UMe=typeof queueMicrotask=="function"?queueMicrotask:typeof j9<"u"?function(n){return j9.resolve(null).then(n).catch(OMe)}:z3;function OMe(n){setTimeout(function(){throw n})}function X2(n,e){var t=e,r=0;do{var i=t.nextSibling;if(n.removeChild(t),i&&i.nodeType===8)if(t=i.data,t==="/$"){if(r===0){n.removeChild(i),gM(e);return}r--}else t!=="$"&&t!=="$?"&&t!=="$!"||r++;t=i}while(t);gM(e)}function Kd(n){for(;n!=null;n=n.nextSibling){var e=n.nodeType;if(e===1||e===3)break;if(e===8){if(e=n.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return n}function X9(n){n=n.previousSibling;for(var e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="$"||t==="$!"||t==="$?"){if(e===0)return n;e--}else t==="/$"&&e++}n=n.previousSibling}return null}var Ex=Math.random().toString(36).slice(2),Ru="__reactFiber$"+Ex,_M="__reactProps$"+Ex,Mh="__reactContainer$"+Ex,H3="__reactEvents$"+Ex,kMe="__reactListeners$"+Ex,GMe="__reactHandles$"+Ex;function _m(n){var e=n[Ru];if(e)return e;for(var t=n.parentNode;t;){if(e=t[Mh]||t[Ru]){if(t=e.alternate,e.child!==null||t!==null&&t.child!==null)for(n=X9(n);n!==null;){if(t=n[Ru])return t;n=X9(n)}return e}n=t,t=n.parentNode}return null}function xS(n){return n=n[Ru]||n[Mh],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function G0(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(at(33))}function YR(n){return n[_M]||null}var V3=[],z0=-1;function If(n){return{current:n}}function ir(n){0>z0||(n.current=V3[z0],V3[z0]=null,z0--)}function Kn(n,e){z0++,V3[z0]=n.current,n.current=e}var vf={},ws=If(vf),mo=If(!1),tg=vf;function jy(n,e){var t=n.type.contextTypes;if(!t)return vf;var r=n.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in t)i[s]=e[s];return r&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=e,n.__reactInternalMemoizedMaskedChildContext=i),i}function go(n){return n=n.childContextTypes,n!=null}function _C(){ir(mo),ir(ws)}function J9(n,e,t){if(ws.current!==vf)throw Error(at(168));Kn(ws,e),Kn(mo,t)}function YZ(n,e,t){var r=n.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return t;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(at(108,E_e(n)||"Unknown",i));return Br({},t,r)}function MC(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||vf,tg=ws.current,Kn(ws,n),Kn(mo,mo.current),!0}function Y9(n,e,t){var r=n.stateNode;if(!r)throw Error(at(169));t?(n=YZ(n,e,tg),r.__reactInternalMemoizedMergedChildContext=n,ir(mo),ir(ws),Kn(ws,n)):ir(mo),Kn(mo,t)}var Yc=null,KR=!1,J2=!1;function KZ(n){Yc===null?Yc=[n]:Yc.push(n)}function zMe(n){KR=!0,KZ(n)}function Df(){if(!J2&&Yc!==null){J2=!0;var n=0,e=Hn;try{var t=Yc;for(Hn=1;n<t.length;n++){var r=t[n];do r=r(!0);while(r!==null)}Yc=null,KR=!1}catch(i){throw Yc!==null&&(Yc=Yc.slice(n+1)),AZ(Ak,Df),i}finally{Hn=e,J2=!1}}return null}var H0=[],V0=0,SC=null,EC=0,Oa=[],ka=0,ng=null,nh=1,rh="";function $p(n,e){H0[V0++]=EC,H0[V0++]=SC,SC=n,EC=e}function QZ(n,e,t){Oa[ka++]=nh,Oa[ka++]=rh,Oa[ka++]=ng,ng=n;var r=nh;n=rh;var i=32-Il(r)-1;r&=~(1<<i),t+=1;var s=32-Il(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,nh=1<<32-Il(e)+i|t<<i|r,rh=s+n}else nh=1<<s|t<<i|r,rh=n}function Rk(n){n.return!==null&&($p(n,1),QZ(n,1,0))}function Pk(n){for(;n===SC;)SC=H0[--V0],H0[V0]=null,EC=H0[--V0],H0[V0]=null;for(;n===ng;)ng=Oa[--ka],Oa[ka]=null,rh=Oa[--ka],Oa[ka]=null,nh=Oa[--ka],Oa[ka]=null}var Ko=null,Wo=null,cr=!1,wl=null;function qZ(n,e){var t=Va(5,null,null,0);t.elementType="DELETED",t.stateNode=e,t.return=n,e=n.deletions,e===null?(n.deletions=[t],n.flags|=16):e.push(t)}function K9(n,e){switch(n.tag){case 5:var t=n.type;return e=e.nodeType!==1||t.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(n.stateNode=e,Ko=n,Wo=Kd(e.firstChild),!0):!1;case 6:return e=n.pendingProps===""||e.nodeType!==3?null:e,e!==null?(n.stateNode=e,Ko=n,Wo=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(t=ng!==null?{id:nh,overflow:rh}:null,n.memoizedState={dehydrated:e,treeContext:t,retryLane:1073741824},t=Va(18,null,null,0),t.stateNode=e,t.return=n,n.child=t,Ko=n,Wo=null,!0):!1;default:return!1}}function W3(n){return(n.mode&1)!==0&&(n.flags&128)===0}function j3(n){if(cr){var e=Wo;if(e){var t=e;if(!K9(n,e)){if(W3(n))throw Error(at(418));e=Kd(t.nextSibling);var r=Ko;e&&K9(n,e)?qZ(r,t):(n.flags=n.flags&-4097|2,cr=!1,Ko=n)}}else{if(W3(n))throw Error(at(418));n.flags=n.flags&-4097|2,cr=!1,Ko=n}}}function Q9(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;Ko=n}function Db(n){if(n!==Ko)return!1;if(!cr)return Q9(n),cr=!0,!1;var e;if((e=n.tag!==3)&&!(e=n.tag!==5)&&(e=n.type,e=e!=="head"&&e!=="body"&&!G3(n.type,n.memoizedProps)),e&&(e=Wo)){if(W3(n))throw ZZ(),Error(at(418));for(;e;)qZ(n,e),e=Kd(e.nextSibling)}if(Q9(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(at(317));e:{for(n=n.nextSibling,e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="/$"){if(e===0){Wo=Kd(n.nextSibling);break e}e--}else t!=="$"&&t!=="$!"&&t!=="$?"||e++}n=n.nextSibling}Wo=null}}else Wo=Ko?Kd(n.stateNode.nextSibling):null;return!0}function ZZ(){for(var n=Wo;n;)n=Kd(n.nextSibling)}function Xy(){Wo=Ko=null,cr=!1}function Bk(n){wl===null?wl=[n]:wl.push(n)}var HMe=Rh.ReactCurrentBatchConfig;function Al(n,e){if(n&&n.defaultProps){e=Br({},e),n=n.defaultProps;for(var t in n)e[t]===void 0&&(e[t]=n[t]);return e}return e}var bC=If(null),wC=null,W0=null,Lk=null;function Ik(){Lk=W0=wC=null}function Dk(n){var e=bC.current;ir(bC),n._currentValue=e}function X3(n,e,t){for(;n!==null;){var r=n.alternate;if((n.childLanes&e)!==e?(n.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),n===t)break;n=n.return}}function yy(n,e){wC=n,Lk=W0=null,n=n.dependencies,n!==null&&n.firstContext!==null&&(n.lanes&e&&(co=!0),n.firstContext=null)}function Ka(n){var e=n._currentValue;if(Lk!==n)if(n={context:n,memoizedValue:e,next:null},W0===null){if(wC===null)throw Error(at(308));W0=n,wC.dependencies={lanes:0,firstContext:n}}else W0=W0.next=n;return e}var Mm=null;function Fk(n){Mm===null?Mm=[n]:Mm.push(n)}function $Z(n,e,t,r){var i=e.interleaved;return i===null?(t.next=t,Fk(e)):(t.next=i.next,i.next=t),e.interleaved=t,Sh(n,r)}function Sh(n,e){n.lanes|=e;var t=n.alternate;for(t!==null&&(t.lanes|=e),t=n,n=n.return;n!==null;)n.childLanes|=e,t=n.alternate,t!==null&&(t.childLanes|=e),t=n,n=n.return;return t.tag===3?t.stateNode:null}var _d=!1;function Nk(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function e$(n,e){n=n.updateQueue,e.updateQueue===n&&(e.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function hh(n,e){return{eventTime:n,lane:e,tag:0,payload:null,callback:null,next:null}}function Qd(n,e,t){var r=n.updateQueue;if(r===null)return null;if(r=r.shared,Rn&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Sh(n,t)}return i=r.interleaved,i===null?(e.next=e,Fk(r)):(e.next=i.next,i.next=e),r.interleaved=e,Sh(n,t)}function uT(n,e,t){if(e=e.updateQueue,e!==null&&(e=e.shared,(t&4194240)!==0)){var r=e.lanes;r&=n.pendingLanes,t|=r,e.lanes=t,_k(n,t)}}function q9(n,e){var t=n.updateQueue,r=n.alternate;if(r!==null&&(r=r.updateQueue,t===r)){var i=null,s=null;if(t=t.firstBaseUpdate,t!==null){do{var o={eventTime:t.eventTime,lane:t.lane,tag:t.tag,payload:t.payload,callback:t.callback,next:null};s===null?i=s=o:s=s.next=o,t=t.next}while(t!==null);s===null?i=s=e:s=s.next=e}else i=s=e;t={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},n.updateQueue=t;return}n=t.lastBaseUpdate,n===null?t.firstBaseUpdate=e:n.next=e,t.lastBaseUpdate=e}function TC(n,e,t,r){var i=n.updateQueue;_d=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var h=n.alternate;h!==null&&(h=h.updateQueue,a=h.lastBaseUpdate,a!==o&&(a===null?h.firstBaseUpdate=u:a.next=u,h.lastBaseUpdate=l))}if(s!==null){var f=i.baseState;o=0,h=u=l=null,a=s;do{var p=a.lane,m=a.eventTime;if((r&p)===p){h!==null&&(h=h.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var v=n,S=a;switch(p=e,m=t,S.tag){case 1:if(v=S.payload,typeof v=="function"){f=v.call(m,f,p);break e}f=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=S.payload,p=typeof v=="function"?v.call(m,f,p):v,p==null)break e;f=Br({},f,p);break e;case 2:_d=!0}}a.callback!==null&&a.lane!==0&&(n.flags|=64,p=i.effects,p===null?i.effects=[a]:p.push(a))}else m={eventTime:m,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},h===null?(u=h=m,l=f):h=h.next=m,o|=p;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;p=a,a=p.next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}while(1);if(h===null&&(l=f),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=h,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);ig|=o,n.lanes=o,n.memoizedState=f}}function Z9(n,e,t){if(n=e.effects,e.effects=null,n!==null)for(e=0;e<n.length;e++){var r=n[e],i=r.callback;if(i!==null){if(r.callback=null,r=t,typeof i!="function")throw Error(at(191,i));i.call(r)}}}var t$=new $q.Component().refs;function J3(n,e,t,r){e=n.memoizedState,t=t(r,e),t=t==null?e:Br({},e,t),n.memoizedState=t,n.lanes===0&&(n.updateQueue.baseState=t)}var QR={isMounted:function(n){return(n=n._reactInternals)?yg(n)===n:!1},enqueueSetState:function(n,e,t){n=n._reactInternals;var r=Ws(),i=Zd(n),s=hh(r,i);s.payload=e,t!=null&&(s.callback=t),e=Qd(n,s,i),e!==null&&(Dl(e,n,i,r),uT(e,n,i))},enqueueReplaceState:function(n,e,t){n=n._reactInternals;var r=Ws(),i=Zd(n),s=hh(r,i);s.tag=1,s.payload=e,t!=null&&(s.callback=t),e=Qd(n,s,i),e!==null&&(Dl(e,n,i,r),uT(e,n,i))},enqueueForceUpdate:function(n,e){n=n._reactInternals;var t=Ws(),r=Zd(n),i=hh(t,r);i.tag=2,e!=null&&(i.callback=e),e=Qd(n,i,r),e!==null&&(Dl(e,n,r,t),uT(e,n,r))}};function $9(n,e,t,r,i,s,o){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!yM(t,r)||!yM(i,s):!0}function n$(n,e,t){var r=!1,i=vf,s=e.contextType;return typeof s=="object"&&s!==null?s=Ka(s):(i=go(e)?tg:ws.current,r=e.contextTypes,s=(r=r!=null)?jy(n,i):vf),e=new e(t,s),n.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=QR,n.stateNode=e,e._reactInternals=n,r&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=i,n.__reactInternalMemoizedMaskedChildContext=s),e}function e8(n,e,t,r){n=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(t,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(t,r),e.state!==n&&QR.enqueueReplaceState(e,e.state,null)}function Y3(n,e,t,r){var i=n.stateNode;i.props=t,i.state=n.memoizedState,i.refs=t$,Nk(n);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Ka(s):(s=go(e)?tg:ws.current,i.context=jy(n,s)),i.state=n.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(J3(n,e,s,t),i.state=n.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&QR.enqueueReplaceState(i,i.state,null),TC(n,t,i,r),i.state=n.memoizedState),typeof i.componentDidMount=="function"&&(n.flags|=4194308)}function f1(n,e,t){if(n=t.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(t._owner){if(t=t._owner,t){if(t.tag!==1)throw Error(at(309));var r=t.stateNode}if(!r)throw Error(at(147,n));var i=r,s=""+n;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;a===t$&&(a=i.refs={}),o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof n!="string")throw Error(at(284));if(!t._owner)throw Error(at(290,n))}return n}function Fb(n,e){throw n=Object.prototype.toString.call(e),Error(at(31,n==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":n))}function t8(n){var e=n._init;return e(n._payload)}function r$(n){function e(g,M){if(n){var _=g.deletions;_===null?(g.deletions=[M],g.flags|=16):_.push(M)}}function t(g,M){if(!n)return null;for(;M!==null;)e(g,M),M=M.sibling;return null}function r(g,M){for(g=new Map;M!==null;)M.key!==null?g.set(M.key,M):g.set(M.index,M),M=M.sibling;return g}function i(g,M){return g=$d(g,M),g.index=0,g.sibling=null,g}function s(g,M,_){return g.index=_,n?(_=g.alternate,_!==null?(_=_.index,_<M?(g.flags|=2,M):_):(g.flags|=2,M)):(g.flags|=1048576,M)}function o(g){return n&&g.alternate===null&&(g.flags|=2),g}function a(g,M,_,b){return M===null||M.tag!==6?(M=eL(_,g.mode,b),M.return=g,M):(M=i(M,_),M.return=g,M)}function l(g,M,_,b){var T=_.type;return T===N0?h(g,M,_.props.children,b,_.key):M!==null&&(M.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===Ad&&t8(T)===M.type)?(b=i(M,_.props),b.ref=f1(g,M,_),b.return=g,b):(b=mT(_.type,_.key,_.props,null,g.mode,b),b.ref=f1(g,M,_),b.return=g,b)}function u(g,M,_,b){return M===null||M.tag!==4||M.stateNode.containerInfo!==_.containerInfo||M.stateNode.implementation!==_.implementation?(M=tL(_,g.mode,b),M.return=g,M):(M=i(M,_.children||[]),M.return=g,M)}function h(g,M,_,b,T){return M===null||M.tag!==7?(M=Gm(_,g.mode,b,T),M.return=g,M):(M=i(M,_),M.return=g,M)}function f(g,M,_){if(typeof M=="string"&&M!==""||typeof M=="number")return M=eL(""+M,g.mode,_),M.return=g,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case Eb:return _=mT(M.type,M.key,M.props,null,g.mode,_),_.ref=f1(g,null,M),_.return=g,_;case F0:return M=tL(M,g.mode,_),M.return=g,M;case Ad:var b=M._init;return f(g,b(M._payload),_)}if(V1(M)||l1(M))return M=Gm(M,g.mode,_,null),M.return=g,M;Fb(g,M)}return null}function p(g,M,_,b){var T=M!==null?M.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return T!==null?null:a(g,M,""+_,b);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Eb:return _.key===T?l(g,M,_,b):null;case F0:return _.key===T?u(g,M,_,b):null;case Ad:return T=_._init,p(g,M,T(_._payload),b)}if(V1(_)||l1(_))return T!==null?null:h(g,M,_,b,null);Fb(g,_)}return null}function m(g,M,_,b,T){if(typeof b=="string"&&b!==""||typeof b=="number")return g=g.get(_)||null,a(M,g,""+b,T);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Eb:return g=g.get(b.key===null?_:b.key)||null,l(M,g,b,T);case F0:return g=g.get(b.key===null?_:b.key)||null,u(M,g,b,T);case Ad:var C=b._init;return m(g,M,_,C(b._payload),T)}if(V1(b)||l1(b))return g=g.get(_)||null,h(M,g,b,T,null);Fb(M,b)}return null}function v(g,M,_,b){for(var T=null,C=null,B=M,P=M=0,R=null;B!==null&&P<_.length;P++){B.index>P?(R=B,B=null):R=B.sibling;var L=p(g,B,_[P],b);if(L===null){B===null&&(B=R);break}n&&B&&L.alternate===null&&e(g,B),M=s(L,M,P),C===null?T=L:C.sibling=L,C=L,B=R}if(P===_.length)return t(g,B),cr&&$p(g,P),T;if(B===null){for(;P<_.length;P++)B=f(g,_[P],b),B!==null&&(M=s(B,M,P),C===null?T=B:C.sibling=B,C=B);return cr&&$p(g,P),T}for(B=r(g,B);P<_.length;P++)R=m(B,g,P,_[P],b),R!==null&&(n&&R.alternate!==null&&B.delete(R.key===null?P:R.key),M=s(R,M,P),C===null?T=R:C.sibling=R,C=R);return n&&B.forEach(function(U){return e(g,U)}),cr&&$p(g,P),T}function S(g,M,_,b){var T=l1(_);if(typeof T!="function")throw Error(at(150));if(_=T.call(_),_==null)throw Error(at(151));for(var C=T=null,B=M,P=M=0,R=null,L=_.next();B!==null&&!L.done;P++,L=_.next()){B.index>P?(R=B,B=null):R=B.sibling;var U=p(g,B,L.value,b);if(U===null){B===null&&(B=R);break}n&&B&&U.alternate===null&&e(g,B),M=s(U,M,P),C===null?T=U:C.sibling=U,C=U,B=R}if(L.done)return t(g,B),cr&&$p(g,P),T;if(B===null){for(;!L.done;P++,L=_.next())L=f(g,L.value,b),L!==null&&(M=s(L,M,P),C===null?T=L:C.sibling=L,C=L);return cr&&$p(g,P),T}for(B=r(g,B);!L.done;P++,L=_.next())L=m(B,g,P,L.value,b),L!==null&&(n&&L.alternate!==null&&B.delete(L.key===null?P:L.key),M=s(L,M,P),C===null?T=L:C.sibling=L,C=L);return n&&B.forEach(function(Q){return e(g,Q)}),cr&&$p(g,P),T}function A(g,M,_,b){if(typeof _=="object"&&_!==null&&_.type===N0&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case Eb:e:{for(var T=_.key,C=M;C!==null;){if(C.key===T){if(T=_.type,T===N0){if(C.tag===7){t(g,C.sibling),M=i(C,_.props.children),M.return=g,g=M;break e}}else if(C.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===Ad&&t8(T)===C.type){t(g,C.sibling),M=i(C,_.props),M.ref=f1(g,C,_),M.return=g,g=M;break e}t(g,C);break}else e(g,C);C=C.sibling}_.type===N0?(M=Gm(_.props.children,g.mode,b,_.key),M.return=g,g=M):(b=mT(_.type,_.key,_.props,null,g.mode,b),b.ref=f1(g,M,_),b.return=g,g=b)}return o(g);case F0:e:{for(C=_.key;M!==null;){if(M.key===C)if(M.tag===4&&M.stateNode.containerInfo===_.containerInfo&&M.stateNode.implementation===_.implementation){t(g,M.sibling),M=i(M,_.children||[]),M.return=g,g=M;break e}else{t(g,M);break}else e(g,M);M=M.sibling}M=tL(_,g.mode,b),M.return=g,g=M}return o(g);case Ad:return C=_._init,A(g,M,C(_._payload),b)}if(V1(_))return v(g,M,_,b);if(l1(_))return S(g,M,_,b);Fb(g,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,M!==null&&M.tag===6?(t(g,M.sibling),M=i(M,_),M.return=g,g=M):(t(g,M),M=eL(_,g.mode,b),M.return=g,g=M),o(g)):t(g,M)}return A}var Jy=r$(!0),i$=r$(!1),AS={},zu=If(AS),MM=If(AS),SM=If(AS);function Sm(n){if(n===AS)throw Error(at(174));return n}function Uk(n,e){switch(Kn(SM,e),Kn(MM,n),Kn(zu,AS),n=e.nodeType,n){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:w3(null,"");break;default:n=n===8?e.parentNode:e,e=n.namespaceURI||null,n=n.tagName,e=w3(e,n)}ir(zu),Kn(zu,e)}function Yy(){ir(zu),ir(MM),ir(SM)}function s$(n){Sm(SM.current);var e=Sm(zu.current),t=w3(e,n.type);e!==t&&(Kn(MM,n),Kn(zu,t))}function Ok(n){MM.current===n&&(ir(zu),ir(MM))}var xr=If(0);function CC(n){for(var e=n;e!==null;){if(e.tag===13){var t=e.memoizedState;if(t!==null&&(t=t.dehydrated,t===null||t.data==="$?"||t.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Y2=[];function kk(){for(var n=0;n<Y2.length;n++)Y2[n]._workInProgressVersionPrimary=null;Y2.length=0}var cT=Rh.ReactCurrentDispatcher,K2=Rh.ReactCurrentBatchConfig,rg=0,Rr=null,yi=null,ki=null,RC=!1,y_=!1,EM=0,VMe=0;function xs(){throw Error(at(321))}function Gk(n,e){if(e===null)return!1;for(var t=0;t<e.length&&t<n.length;t++)if(!zl(n[t],e[t]))return!1;return!0}function zk(n,e,t,r,i,s){if(rg=s,Rr=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,cT.current=n===null||n.memoizedState===null?JMe:YMe,n=t(r,i),y_){s=0;do{if(y_=!1,EM=0,25<=s)throw Error(at(301));s+=1,ki=yi=null,e.updateQueue=null,cT.current=KMe,n=t(r,i)}while(y_)}if(cT.current=PC,e=yi!==null&&yi.next!==null,rg=0,ki=yi=Rr=null,RC=!1,e)throw Error(at(300));return n}function Hk(){var n=EM!==0;return EM=0,n}function Eu(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ki===null?Rr.memoizedState=ki=n:ki=ki.next=n,ki}function Qa(){if(yi===null){var n=Rr.alternate;n=n!==null?n.memoizedState:null}else n=yi.next;var e=ki===null?Rr.memoizedState:ki.next;if(e!==null)ki=e,yi=n;else{if(n===null)throw Error(at(310));yi=n,n={memoizedState:yi.memoizedState,baseState:yi.baseState,baseQueue:yi.baseQueue,queue:yi.queue,next:null},ki===null?Rr.memoizedState=ki=n:ki=ki.next=n}return ki}function bM(n,e){return typeof e=="function"?e(n):e}function Q2(n){var e=Qa(),t=e.queue;if(t===null)throw Error(at(311));t.lastRenderedReducer=n;var r=yi,i=r.baseQueue,s=t.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,t.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,u=s;do{var h=u.lane;if((rg&h)===h)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:n(r,u.action);else{var f={lane:h,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=f,o=r):l=l.next=f,Rr.lanes|=h,ig|=h}u=u.next}while(u!==null&&u!==s);l===null?o=r:l.next=a,zl(r,e.memoizedState)||(co=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,t.lastRenderedState=r}if(n=t.interleaved,n!==null){i=n;do s=i.lane,Rr.lanes|=s,ig|=s,i=i.next;while(i!==n)}else i===null&&(t.lanes=0);return[e.memoizedState,t.dispatch]}function q2(n){var e=Qa(),t=e.queue;if(t===null)throw Error(at(311));t.lastRenderedReducer=n;var r=t.dispatch,i=t.pending,s=e.memoizedState;if(i!==null){t.pending=null;var o=i=i.next;do s=n(s,o.action),o=o.next;while(o!==i);zl(s,e.memoizedState)||(co=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),t.lastRenderedState=s}return[s,r]}function o$(){}function a$(n,e){var t=Rr,r=Qa(),i=e(),s=!zl(r.memoizedState,i);if(s&&(r.memoizedState=i,co=!0),r=r.queue,Vk(c$.bind(null,t,r,n),[n]),r.getSnapshot!==e||s||ki!==null&&ki.memoizedState.tag&1){if(t.flags|=2048,wM(9,u$.bind(null,t,r,i,e),void 0,null),Vi===null)throw Error(at(349));rg&30||l$(t,e,i)}return i}function l$(n,e,t){n.flags|=16384,n={getSnapshot:e,value:t},e=Rr.updateQueue,e===null?(e={lastEffect:null,stores:null},Rr.updateQueue=e,e.stores=[n]):(t=e.stores,t===null?e.stores=[n]:t.push(n))}function u$(n,e,t,r){e.value=t,e.getSnapshot=r,h$(e)&&d$(n)}function c$(n,e,t){return t(function(){h$(e)&&d$(n)})}function h$(n){var e=n.getSnapshot;n=n.value;try{var t=e();return!zl(n,t)}catch{return!0}}function d$(n){var e=Sh(n,1);e!==null&&Dl(e,n,1,-1)}function n8(n){var e=Eu();return typeof n=="function"&&(n=n()),e.memoizedState=e.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:bM,lastRenderedState:n},e.queue=n,n=n.dispatch=XMe.bind(null,Rr,n),[e.memoizedState,n]}function wM(n,e,t,r){return n={tag:n,create:e,destroy:t,deps:r,next:null},e=Rr.updateQueue,e===null?(e={lastEffect:null,stores:null},Rr.updateQueue=e,e.lastEffect=n.next=n):(t=e.lastEffect,t===null?e.lastEffect=n.next=n:(r=t.next,t.next=n,n.next=r,e.lastEffect=n)),n}function f$(){return Qa().memoizedState}function hT(n,e,t,r){var i=Eu();Rr.flags|=n,i.memoizedState=wM(1|e,t,void 0,r===void 0?null:r)}function qR(n,e,t,r){var i=Qa();r=r===void 0?null:r;var s=void 0;if(yi!==null){var o=yi.memoizedState;if(s=o.destroy,r!==null&&Gk(r,o.deps)){i.memoizedState=wM(e,t,s,r);return}}Rr.flags|=n,i.memoizedState=wM(1|e,t,s,r)}function r8(n,e){return hT(8390656,8,n,e)}function Vk(n,e){return qR(2048,8,n,e)}function p$(n,e){return qR(4,2,n,e)}function m$(n,e){return qR(4,4,n,e)}function g$(n,e){if(typeof e=="function")return n=n(),e(n),function(){e(null)};if(e!=null)return n=n(),e.current=n,function(){e.current=null}}function v$(n,e,t){return t=t!=null?t.concat([n]):null,qR(4,4,g$.bind(null,e,n),t)}function Wk(){}function y$(n,e){var t=Qa();e=e===void 0?null:e;var r=t.memoizedState;return r!==null&&e!==null&&Gk(e,r[1])?r[0]:(t.memoizedState=[n,e],n)}function x$(n,e){var t=Qa();e=e===void 0?null:e;var r=t.memoizedState;return r!==null&&e!==null&&Gk(e,r[1])?r[0]:(n=n(),t.memoizedState=[n,e],n)}function A$(n,e,t){return rg&21?(zl(t,e)||(t=SZ(),Rr.lanes|=t,ig|=t,n.baseState=!0),e):(n.baseState&&(n.baseState=!1,co=!0),n.memoizedState=t)}function WMe(n,e){var t=Hn;Hn=t!==0&&4>t?t:4,n(!0);var r=K2.transition;K2.transition={};try{n(!1),e()}finally{Hn=t,K2.transition=r}}function _$(){return Qa().memoizedState}function jMe(n,e,t){var r=Zd(n);if(t={lane:r,action:t,hasEagerState:!1,eagerState:null,next:null},M$(n))S$(e,t);else if(t=$Z(n,e,t,r),t!==null){var i=Ws();Dl(t,n,r,i),E$(t,e,r)}}function XMe(n,e,t){var r=Zd(n),i={lane:r,action:t,hasEagerState:!1,eagerState:null,next:null};if(M$(n))S$(e,i);else{var s=n.alternate;if(n.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,t);if(i.hasEagerState=!0,i.eagerState=a,zl(a,o)){var l=e.interleaved;l===null?(i.next=i,Fk(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}t=$Z(n,e,i,r),t!==null&&(i=Ws(),Dl(t,n,r,i),E$(t,e,r))}}function M$(n){var e=n.alternate;return n===Rr||e!==null&&e===Rr}function S$(n,e){y_=RC=!0;var t=n.pending;t===null?e.next=e:(e.next=t.next,t.next=e),n.pending=e}function E$(n,e,t){if(t&4194240){var r=e.lanes;r&=n.pendingLanes,t|=r,e.lanes=t,_k(n,t)}}var PC={readContext:Ka,useCallback:xs,useContext:xs,useEffect:xs,useImperativeHandle:xs,useInsertionEffect:xs,useLayoutEffect:xs,useMemo:xs,useReducer:xs,useRef:xs,useState:xs,useDebugValue:xs,useDeferredValue:xs,useTransition:xs,useMutableSource:xs,useSyncExternalStore:xs,useId:xs,unstable_isNewReconciler:!1},JMe={readContext:Ka,useCallback:function(n,e){return Eu().memoizedState=[n,e===void 0?null:e],n},useContext:Ka,useEffect:r8,useImperativeHandle:function(n,e,t){return t=t!=null?t.concat([n]):null,hT(4194308,4,g$.bind(null,e,n),t)},useLayoutEffect:function(n,e){return hT(4194308,4,n,e)},useInsertionEffect:function(n,e){return hT(4,2,n,e)},useMemo:function(n,e){var t=Eu();return e=e===void 0?null:e,n=n(),t.memoizedState=[n,e],n},useReducer:function(n,e,t){var r=Eu();return e=t!==void 0?t(e):e,r.memoizedState=r.baseState=e,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:e},r.queue=n,n=n.dispatch=jMe.bind(null,Rr,n),[r.memoizedState,n]},useRef:function(n){var e=Eu();return n={current:n},e.memoizedState=n},useState:n8,useDebugValue:Wk,useDeferredValue:function(n){return Eu().memoizedState=n},useTransition:function(){var n=n8(!1),e=n[0];return n=WMe.bind(null,n[1]),Eu().memoizedState=n,[e,n]},useMutableSource:function(){},useSyncExternalStore:function(n,e,t){var r=Rr,i=Eu();if(cr){if(t===void 0)throw Error(at(407));t=t()}else{if(t=e(),Vi===null)throw Error(at(349));rg&30||l$(r,e,t)}i.memoizedState=t;var s={value:t,getSnapshot:e};return i.queue=s,r8(c$.bind(null,r,s,n),[n]),r.flags|=2048,wM(9,u$.bind(null,r,s,t,e),void 0,null),t},useId:function(){var n=Eu(),e=Vi.identifierPrefix;if(cr){var t=rh,r=nh;t=(r&~(1<<32-Il(r)-1)).toString(32)+t,e=":"+e+"R"+t,t=EM++,0<t&&(e+="H"+t.toString(32)),e+=":"}else t=VMe++,e=":"+e+"r"+t.toString(32)+":";return n.memoizedState=e},unstable_isNewReconciler:!1},YMe={readContext:Ka,useCallback:y$,useContext:Ka,useEffect:Vk,useImperativeHandle:v$,useInsertionEffect:p$,useLayoutEffect:m$,useMemo:x$,useReducer:Q2,useRef:f$,useState:function(){return Q2(bM)},useDebugValue:Wk,useDeferredValue:function(n){var e=Qa();return A$(e,yi.memoizedState,n)},useTransition:function(){var n=Q2(bM)[0],e=Qa().memoizedState;return[n,e]},useMutableSource:o$,useSyncExternalStore:a$,useId:_$,unstable_isNewReconciler:!1},KMe={readContext:Ka,useCallback:y$,useContext:Ka,useEffect:Vk,useImperativeHandle:v$,useInsertionEffect:p$,useLayoutEffect:m$,useMemo:x$,useReducer:q2,useRef:f$,useState:function(){return q2(bM)},useDebugValue:Wk,useDeferredValue:function(n){var e=Qa();return yi===null?e.memoizedState=n:A$(e,yi.memoizedState,n)},useTransition:function(){var n=q2(bM)[0],e=Qa().memoizedState;return[n,e]},useMutableSource:o$,useSyncExternalStore:a$,useId:_$,unstable_isNewReconciler:!1};function Ky(n,e){try{var t="",r=e;do t+=S_e(r),r=r.return;while(r);var i=t}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:n,source:e,stack:i,digest:null}}function Z2(n,e,t){return{value:n,source:null,stack:t??null,digest:e??null}}function K3(n,e){try{console.error(e.value)}catch(t){setTimeout(function(){throw t})}}var QMe=typeof WeakMap=="function"?WeakMap:Map;function b$(n,e,t){t=hh(-1,t),t.tag=3,t.payload={element:null};var r=e.value;return t.callback=function(){LC||(LC=!0,sF=r),K3(n,e)},t}function w$(n,e,t){t=hh(-1,t),t.tag=3;var r=n.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;t.payload=function(){return r(i)},t.callback=function(){K3(n,e)}}var s=n.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(t.callback=function(){K3(n,e),typeof r!="function"&&(qd===null?qd=new Set([this]):qd.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),t}function i8(n,e,t){var r=n.pingCache;if(r===null){r=n.pingCache=new QMe;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(t)||(i.add(t),n=cSe.bind(null,n,e,t),e.then(n,n))}function s8(n){do{var e;if((e=n.tag===13)&&(e=n.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return n;n=n.return}while(n!==null);return null}function o8(n,e,t,r,i){return n.mode&1?(n.flags|=65536,n.lanes=i,n):(n===e?n.flags|=65536:(n.flags|=128,t.flags|=131072,t.flags&=-52805,t.tag===1&&(t.alternate===null?t.tag=17:(e=hh(-1,1),e.tag=2,Qd(t,e,1))),t.lanes|=1),n)}var qMe=Rh.ReactCurrentOwner,co=!1;function zs(n,e,t,r){e.child=n===null?i$(e,null,t,r):Jy(e,n.child,t,r)}function a8(n,e,t,r,i){t=t.render;var s=e.ref;return yy(e,i),r=zk(n,e,t,r,s,i),t=Hk(),n!==null&&!co?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~i,Eh(n,e,i)):(cr&&t&&Rk(e),e.flags|=1,zs(n,e,r,i),e.child)}function l8(n,e,t,r,i){if(n===null){var s=t.type;return typeof s=="function"&&!Zk(s)&&s.defaultProps===void 0&&t.compare===null&&t.defaultProps===void 0?(e.tag=15,e.type=s,T$(n,e,s,r,i)):(n=mT(t.type,null,r,e,e.mode,i),n.ref=e.ref,n.return=e,e.child=n)}if(s=n.child,!(n.lanes&i)){var o=s.memoizedProps;if(t=t.compare,t=t!==null?t:yM,t(o,r)&&n.ref===e.ref)return Eh(n,e,i)}return e.flags|=1,n=$d(s,r),n.ref=e.ref,n.return=e,e.child=n}function T$(n,e,t,r,i){if(n!==null){var s=n.memoizedProps;if(yM(s,r)&&n.ref===e.ref)if(co=!1,e.pendingProps=r=s,(n.lanes&i)!==0)n.flags&131072&&(co=!0);else return e.lanes=n.lanes,Eh(n,e,i)}return Q3(n,e,t,r,i)}function C$(n,e,t){var r=e.pendingProps,i=r.children,s=n!==null?n.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Kn(X0,ko),ko|=t;else{if(!(t&1073741824))return n=s!==null?s.baseLanes|t:t,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:n,cachePool:null,transitions:null},e.updateQueue=null,Kn(X0,ko),ko|=n,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:t,Kn(X0,ko),ko|=r}else s!==null?(r=s.baseLanes|t,e.memoizedState=null):r=t,Kn(X0,ko),ko|=r;return zs(n,e,i,t),e.child}function R$(n,e){var t=e.ref;(n===null&&t!==null||n!==null&&n.ref!==t)&&(e.flags|=512,e.flags|=2097152)}function Q3(n,e,t,r,i){var s=go(t)?tg:ws.current;return s=jy(e,s),yy(e,i),t=zk(n,e,t,r,s,i),r=Hk(),n!==null&&!co?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~i,Eh(n,e,i)):(cr&&r&&Rk(e),e.flags|=1,zs(n,e,t,i),e.child)}function u8(n,e,t,r,i){if(go(t)){var s=!0;MC(e)}else s=!1;if(yy(e,i),e.stateNode===null)dT(n,e),n$(e,t,r),Y3(e,t,r,i),r=!0;else if(n===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=t.contextType;typeof u=="object"&&u!==null?u=Ka(u):(u=go(t)?tg:ws.current,u=jy(e,u));var h=t.getDerivedStateFromProps,f=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&e8(e,o,r,u),_d=!1;var p=e.memoizedState;o.state=p,TC(e,r,o,i),l=e.memoizedState,a!==r||p!==l||mo.current||_d?(typeof h=="function"&&(J3(e,t,h,r),l=e.memoizedState),(a=_d||$9(e,t,a,r,p,l,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,e$(n,e),a=e.memoizedProps,u=e.type===e.elementType?a:Al(e.type,a),o.props=u,f=e.pendingProps,p=o.context,l=t.contextType,typeof l=="object"&&l!==null?l=Ka(l):(l=go(t)?tg:ws.current,l=jy(e,l));var m=t.getDerivedStateFromProps;(h=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==f||p!==l)&&e8(e,o,r,l),_d=!1,p=e.memoizedState,o.state=p,TC(e,r,o,i);var v=e.memoizedState;a!==f||p!==v||mo.current||_d?(typeof m=="function"&&(J3(e,t,m,r),v=e.memoizedState),(u=_d||$9(e,t,u,r,p,v,l)||!1)?(h||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,v,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,v,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===n.memoizedProps&&p===n.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===n.memoizedProps&&p===n.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=v),o.props=r,o.state=v,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===n.memoizedProps&&p===n.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===n.memoizedProps&&p===n.memoizedState||(e.flags|=1024),r=!1)}return q3(n,e,t,r,s,i)}function q3(n,e,t,r,i,s){R$(n,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&Y9(e,t,!1),Eh(n,e,s);r=e.stateNode,qMe.current=e;var a=o&&typeof t.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,n!==null&&o?(e.child=Jy(e,n.child,null,s),e.child=Jy(e,null,a,s)):zs(n,e,a,s),e.memoizedState=r.state,i&&Y9(e,t,!0),e.child}function P$(n){var e=n.stateNode;e.pendingContext?J9(n,e.pendingContext,e.pendingContext!==e.context):e.context&&J9(n,e.context,!1),Uk(n,e.containerInfo)}function c8(n,e,t,r,i){return Xy(),Bk(i),e.flags|=256,zs(n,e,t,r),e.child}var Z3={dehydrated:null,treeContext:null,retryLane:0};function $3(n){return{baseLanes:n,cachePool:null,transitions:null}}function B$(n,e,t){var r=e.pendingProps,i=xr.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=n!==null&&n.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(n===null||n.memoizedState!==null)&&(i|=1),Kn(xr,i&1),n===null)return j3(e),n=e.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?(e.mode&1?n.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,n=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=eP(o,r,0,null),n=Gm(n,r,t,null),s.return=e,n.return=e,s.sibling=n,e.child=s,e.child.memoizedState=$3(t),e.memoizedState=Z3,n):jk(e,o));if(i=n.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return ZMe(n,e,o,r,a,i,t);if(s){s=r.fallback,o=e.mode,i=n.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=$d(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=$d(a,s):(s=Gm(s,o,t,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=n.child.memoizedState,o=o===null?$3(t):{baseLanes:o.baseLanes|t,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=n.childLanes&~t,e.memoizedState=Z3,r}return s=n.child,n=s.sibling,r=$d(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=t),r.return=e,r.sibling=null,n!==null&&(t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)),e.child=r,e.memoizedState=null,r}function jk(n,e){return e=eP({mode:"visible",children:e},n.mode,0,null),e.return=n,n.child=e}function Nb(n,e,t,r){return r!==null&&Bk(r),Jy(e,n.child,null,t),n=jk(e,e.pendingProps.children),n.flags|=2,e.memoizedState=null,n}function ZMe(n,e,t,r,i,s,o){if(t)return e.flags&256?(e.flags&=-257,r=Z2(Error(at(422))),Nb(n,e,o,r)):e.memoizedState!==null?(e.child=n.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=eP({mode:"visible",children:r.children},i,0,null),s=Gm(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Jy(e,n.child,null,o),e.child.memoizedState=$3(o),e.memoizedState=Z3,s);if(!(e.mode&1))return Nb(n,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(at(419)),r=Z2(s,r,void 0),Nb(n,e,o,r)}if(a=(o&n.childLanes)!==0,co||a){if(r=Vi,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Sh(n,i),Dl(r,n,i,-1))}return qk(),r=Z2(Error(at(421))),Nb(n,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=n.child,e=hSe.bind(null,n),i._reactRetry=e,null):(n=s.treeContext,Wo=Kd(i.nextSibling),Ko=e,cr=!0,wl=null,n!==null&&(Oa[ka++]=nh,Oa[ka++]=rh,Oa[ka++]=ng,nh=n.id,rh=n.overflow,ng=e),e=jk(e,r.children),e.flags|=4096,e)}function h8(n,e,t){n.lanes|=e;var r=n.alternate;r!==null&&(r.lanes|=e),X3(n.return,e,t)}function $2(n,e,t,r,i){var s=n.memoizedState;s===null?n.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:t,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=t,s.tailMode=i)}function L$(n,e,t){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(zs(n,e,r.children,t),r=xr.current,r&2)r=r&1|2,e.flags|=128;else{if(n!==null&&n.flags&128)e:for(n=e.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&h8(n,t,e);else if(n.tag===19)h8(n,t,e);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}r&=1}if(Kn(xr,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(t=e.child,i=null;t!==null;)n=t.alternate,n!==null&&CC(n)===null&&(i=t),t=t.sibling;t=i,t===null?(i=e.child,e.child=null):(i=t.sibling,t.sibling=null),$2(e,!1,i,t,s);break;case"backwards":for(t=null,i=e.child,e.child=null;i!==null;){if(n=i.alternate,n!==null&&CC(n)===null){e.child=i;break}n=i.sibling,i.sibling=t,t=i,i=n}$2(e,!0,t,null,s);break;case"together":$2(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function dT(n,e){!(e.mode&1)&&n!==null&&(n.alternate=null,e.alternate=null,e.flags|=2)}function Eh(n,e,t){if(n!==null&&(e.dependencies=n.dependencies),ig|=e.lanes,!(t&e.childLanes))return null;if(n!==null&&e.child!==n.child)throw Error(at(153));if(e.child!==null){for(n=e.child,t=$d(n,n.pendingProps),e.child=t,t.return=e;n.sibling!==null;)n=n.sibling,t=t.sibling=$d(n,n.pendingProps),t.return=e;t.sibling=null}return e.child}function $Me(n,e,t){switch(e.tag){case 3:P$(e),Xy();break;case 5:s$(e);break;case 1:go(e.type)&&MC(e);break;case 4:Uk(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Kn(bC,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Kn(xr,xr.current&1),e.flags|=128,null):t&e.child.childLanes?B$(n,e,t):(Kn(xr,xr.current&1),n=Eh(n,e,t),n!==null?n.sibling:null);Kn(xr,xr.current&1);break;case 19:if(r=(t&e.childLanes)!==0,n.flags&128){if(r)return L$(n,e,t);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Kn(xr,xr.current),r)break;return null;case 22:case 23:return e.lanes=0,C$(n,e,t)}return Eh(n,e,t)}var I$,eF,D$,F$;I$=function(n,e){for(var t=e.child;t!==null;){if(t.tag===5||t.tag===6)n.appendChild(t.stateNode);else if(t.tag!==4&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return;t=t.return}t.sibling.return=t.return,t=t.sibling}};eF=function(){};D$=function(n,e,t,r){var i=n.memoizedProps;if(i!==r){n=e.stateNode,Sm(zu.current);var s=null;switch(t){case"input":i=M3(n,i),r=M3(n,r),s=[];break;case"select":i=Br({},i,{value:void 0}),r=Br({},r,{value:void 0}),s=[];break;case"textarea":i=b3(n,i),r=b3(n,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(n.onclick=AC)}T3(t,r);var o;t=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(t||(t={}),t[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(hM.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(t||(t={}),t[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(t||(t={}),t[o]=l[o])}else t||(s||(s=[]),s.push(u,t)),t=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(hM.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&er("scroll",n),s||a===l||(s=[])):(s=s||[]).push(u,l))}t&&(s=s||[]).push("style",t);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};F$=function(n,e,t,r){t!==r&&(e.flags|=4)};function p1(n,e){if(!cr)switch(n.tailMode){case"hidden":e=n.tail;for(var t=null;e!==null;)e.alternate!==null&&(t=e),e=e.sibling;t===null?n.tail=null:t.sibling=null;break;case"collapsed":t=n.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e||n.tail===null?n.tail=null:n.tail.sibling=null:r.sibling=null}}function As(n){var e=n.alternate!==null&&n.alternate.child===n.child,t=0,r=0;if(e)for(var i=n.child;i!==null;)t|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=n,i=i.sibling;else for(i=n.child;i!==null;)t|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=n,i=i.sibling;return n.subtreeFlags|=r,n.childLanes=t,e}function eSe(n,e,t){var r=e.pendingProps;switch(Pk(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return As(e),null;case 1:return go(e.type)&&_C(),As(e),null;case 3:return r=e.stateNode,Yy(),ir(mo),ir(ws),kk(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(n===null||n.child===null)&&(Db(e)?e.flags|=4:n===null||n.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,wl!==null&&(lF(wl),wl=null))),eF(n,e),As(e),null;case 5:Ok(e);var i=Sm(SM.current);if(t=e.type,n!==null&&e.stateNode!=null)D$(n,e,t,r,i),n.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(at(166));return As(e),null}if(n=Sm(zu.current),Db(e)){r=e.stateNode,t=e.type;var s=e.memoizedProps;switch(r[Ru]=e,r[_M]=s,n=(e.mode&1)!==0,t){case"dialog":er("cancel",r),er("close",r);break;case"iframe":case"object":case"embed":er("load",r);break;case"video":case"audio":for(i=0;i<j1.length;i++)er(j1[i],r);break;case"source":er("error",r);break;case"img":case"image":case"link":er("error",r),er("load",r);break;case"details":er("toggle",r);break;case"input":A9(r,s),er("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},er("invalid",r);break;case"textarea":M9(r,s),er("invalid",r)}T3(t,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&Ib(r.textContent,a,n),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Ib(r.textContent,a,n),i=["children",""+a]):hM.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&er("scroll",r)}switch(t){case"input":bb(r),_9(r,s,!0);break;case"textarea":bb(r),S9(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=AC)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=lZ(t)),n==="http://www.w3.org/1999/xhtml"?t==="script"?(n=o.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof r.is=="string"?n=o.createElement(t,{is:r.is}):(n=o.createElement(t),t==="select"&&(o=n,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):n=o.createElementNS(n,t),n[Ru]=e,n[_M]=r,I$(n,e,!1,!1),e.stateNode=n;e:{switch(o=C3(t,r),t){case"dialog":er("cancel",n),er("close",n),i=r;break;case"iframe":case"object":case"embed":er("load",n),i=r;break;case"video":case"audio":for(i=0;i<j1.length;i++)er(j1[i],n);i=r;break;case"source":er("error",n),i=r;break;case"img":case"image":case"link":er("error",n),er("load",n),i=r;break;case"details":er("toggle",n),i=r;break;case"input":A9(n,r),i=M3(n,r),er("invalid",n);break;case"option":i=r;break;case"select":n._wrapperState={wasMultiple:!!r.multiple},i=Br({},r,{value:void 0}),er("invalid",n);break;case"textarea":M9(n,r),i=b3(n,r),er("invalid",n);break;default:i=r}T3(t,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?hZ(n,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&uZ(n,l)):s==="children"?typeof l=="string"?(t!=="textarea"||l!=="")&&dM(n,l):typeof l=="number"&&dM(n,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(hM.hasOwnProperty(s)?l!=null&&s==="onScroll"&&er("scroll",n):l!=null&&mk(n,s,l,o))}switch(t){case"input":bb(n),_9(n,r,!1);break;case"textarea":bb(n),S9(n);break;case"option":r.value!=null&&n.setAttribute("value",""+gf(r.value));break;case"select":n.multiple=!!r.multiple,s=r.value,s!=null?py(n,!!r.multiple,s,!1):r.defaultValue!=null&&py(n,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(n.onclick=AC)}switch(t){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return As(e),null;case 6:if(n&&e.stateNode!=null)F$(n,e,n.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(at(166));if(t=Sm(SM.current),Sm(zu.current),Db(e)){if(r=e.stateNode,t=e.memoizedProps,r[Ru]=e,(s=r.nodeValue!==t)&&(n=Ko,n!==null))switch(n.tag){case 3:Ib(r.nodeValue,t,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&Ib(r.nodeValue,t,(n.mode&1)!==0)}s&&(e.flags|=4)}else r=(t.nodeType===9?t:t.ownerDocument).createTextNode(r),r[Ru]=e,e.stateNode=r}return As(e),null;case 13:if(ir(xr),r=e.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(cr&&Wo!==null&&e.mode&1&&!(e.flags&128))ZZ(),Xy(),e.flags|=98560,s=!1;else if(s=Db(e),r!==null&&r.dehydrated!==null){if(n===null){if(!s)throw Error(at(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(at(317));s[Ru]=e}else Xy(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;As(e),s=!1}else wl!==null&&(lF(wl),wl=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=t,e):(r=r!==null,r!==(n!==null&&n.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(n===null||xr.current&1?Mi===0&&(Mi=3):qk())),e.updateQueue!==null&&(e.flags|=4),As(e),null);case 4:return Yy(),eF(n,e),n===null&&xM(e.stateNode.containerInfo),As(e),null;case 10:return Dk(e.type._context),As(e),null;case 17:return go(e.type)&&_C(),As(e),null;case 19:if(ir(xr),s=e.memoizedState,s===null)return As(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)p1(s,!1);else{if(Mi!==0||n!==null&&n.flags&128)for(n=e.child;n!==null;){if(o=CC(n),o!==null){for(e.flags|=128,p1(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=t,t=e.child;t!==null;)s=t,n=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=n,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,n=o.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t=t.sibling;return Kn(xr,xr.current&1|2),e.child}n=n.sibling}s.tail!==null&&Yr()>Qy&&(e.flags|=128,r=!0,p1(s,!1),e.lanes=4194304)}else{if(!r)if(n=CC(o),n!==null){if(e.flags|=128,r=!0,t=n.updateQueue,t!==null&&(e.updateQueue=t,e.flags|=4),p1(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!cr)return As(e),null}else 2*Yr()-s.renderingStartTime>Qy&&t!==1073741824&&(e.flags|=128,r=!0,p1(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(t=s.last,t!==null?t.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Yr(),e.sibling=null,t=xr.current,Kn(xr,r?t&1|2:t&1),e):(As(e),null);case 22:case 23:return Qk(),r=e.memoizedState!==null,n!==null&&n.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?ko&1073741824&&(As(e),e.subtreeFlags&6&&(e.flags|=8192)):As(e),null;case 24:return null;case 25:return null}throw Error(at(156,e.tag))}function tSe(n,e){switch(Pk(e),e.tag){case 1:return go(e.type)&&_C(),n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 3:return Yy(),ir(mo),ir(ws),kk(),n=e.flags,n&65536&&!(n&128)?(e.flags=n&-65537|128,e):null;case 5:return Ok(e),null;case 13:if(ir(xr),n=e.memoizedState,n!==null&&n.dehydrated!==null){if(e.alternate===null)throw Error(at(340));Xy()}return n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 19:return ir(xr),null;case 4:return Yy(),null;case 10:return Dk(e.type._context),null;case 22:case 23:return Qk(),null;case 24:return null;default:return null}}var Ub=!1,Es=!1,nSe=typeof WeakSet=="function"?WeakSet:Set,bt=null;function j0(n,e){var t=n.ref;if(t!==null)if(typeof t=="function")try{t(null)}catch(r){Or(n,e,r)}else t.current=null}function tF(n,e,t){try{t()}catch(r){Or(n,e,r)}}var d8=!1;function rSe(n,e){if(O3=vC,n=kZ(),Ck(n)){if("selectionStart"in n)var t={start:n.selectionStart,end:n.selectionEnd};else e:{t=(t=n.ownerDocument)&&t.defaultView||window;var r=t.getSelection&&t.getSelection();if(r&&r.rangeCount!==0){t=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{t.nodeType,s.nodeType}catch{t=null;break e}var o=0,a=-1,l=-1,u=0,h=0,f=n,p=null;t:for(;;){for(var m;f!==t||i!==0&&f.nodeType!==3||(a=o+i),f!==s||r!==0&&f.nodeType!==3||(l=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(m=f.firstChild)!==null;)p=f,f=m;for(;;){if(f===n)break t;if(p===t&&++u===i&&(a=o),p===s&&++h===r&&(l=o),(m=f.nextSibling)!==null)break;f=p,p=f.parentNode}f=m}t=a===-1||l===-1?null:{start:a,end:l}}else t=null}t=t||{start:0,end:0}}else t=null;for(k3={focusedElem:n,selectionRange:t},vC=!1,bt=e;bt!==null;)if(e=bt,n=e.child,(e.subtreeFlags&1028)!==0&&n!==null)n.return=e,bt=n;else for(;bt!==null;){e=bt;try{var v=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var S=v.memoizedProps,A=v.memoizedState,g=e.stateNode,M=g.getSnapshotBeforeUpdate(e.elementType===e.type?S:Al(e.type,S),A);g.__reactInternalSnapshotBeforeUpdate=M}break;case 3:var _=e.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(at(163))}}catch(b){Or(e,e.return,b)}if(n=e.sibling,n!==null){n.return=e.return,bt=n;break}bt=e.return}return v=d8,d8=!1,v}function x_(n,e,t){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&n)===n){var s=i.destroy;i.destroy=void 0,s!==void 0&&tF(e,t,s)}i=i.next}while(i!==r)}}function ZR(n,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var t=e=e.next;do{if((t.tag&n)===n){var r=t.create;t.destroy=r()}t=t.next}while(t!==e)}}function nF(n){var e=n.ref;if(e!==null){var t=n.stateNode;switch(n.tag){case 5:n=t;break;default:n=t}typeof e=="function"?e(n):e.current=n}}function N$(n){var e=n.alternate;e!==null&&(n.alternate=null,N$(e)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(e=n.stateNode,e!==null&&(delete e[Ru],delete e[_M],delete e[H3],delete e[kMe],delete e[GMe])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function U$(n){return n.tag===5||n.tag===3||n.tag===4}function f8(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||U$(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function rF(n,e,t){var r=n.tag;if(r===5||r===6)n=n.stateNode,e?t.nodeType===8?t.parentNode.insertBefore(n,e):t.insertBefore(n,e):(t.nodeType===8?(e=t.parentNode,e.insertBefore(n,t)):(e=t,e.appendChild(n)),t=t._reactRootContainer,t!=null||e.onclick!==null||(e.onclick=AC));else if(r!==4&&(n=n.child,n!==null))for(rF(n,e,t),n=n.sibling;n!==null;)rF(n,e,t),n=n.sibling}function iF(n,e,t){var r=n.tag;if(r===5||r===6)n=n.stateNode,e?t.insertBefore(n,e):t.appendChild(n);else if(r!==4&&(n=n.child,n!==null))for(iF(n,e,t),n=n.sibling;n!==null;)iF(n,e,t),n=n.sibling}var rs=null,Sl=!1;function id(n,e,t){for(t=t.child;t!==null;)O$(n,e,t),t=t.sibling}function O$(n,e,t){if(Gu&&typeof Gu.onCommitFiberUnmount=="function")try{Gu.onCommitFiberUnmount(WR,t)}catch{}switch(t.tag){case 5:Es||j0(t,e);case 6:var r=rs,i=Sl;rs=null,id(n,e,t),rs=r,Sl=i,rs!==null&&(Sl?(n=rs,t=t.stateNode,n.nodeType===8?n.parentNode.removeChild(t):n.removeChild(t)):rs.removeChild(t.stateNode));break;case 18:rs!==null&&(Sl?(n=rs,t=t.stateNode,n.nodeType===8?X2(n.parentNode,t):n.nodeType===1&&X2(n,t),gM(n)):X2(rs,t.stateNode));break;case 4:r=rs,i=Sl,rs=t.stateNode.containerInfo,Sl=!0,id(n,e,t),rs=r,Sl=i;break;case 0:case 11:case 14:case 15:if(!Es&&(r=t.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&tF(t,e,o),i=i.next}while(i!==r)}id(n,e,t);break;case 1:if(!Es&&(j0(t,e),r=t.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=t.memoizedProps,r.state=t.memoizedState,r.componentWillUnmount()}catch(a){Or(t,e,a)}id(n,e,t);break;case 21:id(n,e,t);break;case 22:t.mode&1?(Es=(r=Es)||t.memoizedState!==null,id(n,e,t),Es=r):id(n,e,t);break;default:id(n,e,t)}}function p8(n){var e=n.updateQueue;if(e!==null){n.updateQueue=null;var t=n.stateNode;t===null&&(t=n.stateNode=new nSe),e.forEach(function(r){var i=dSe.bind(null,n,r);t.has(r)||(t.add(r),r.then(i,i))})}}function pl(n,e){var t=e.deletions;if(t!==null)for(var r=0;r<t.length;r++){var i=t[r];try{var s=n,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:rs=a.stateNode,Sl=!1;break e;case 3:rs=a.stateNode.containerInfo,Sl=!0;break e;case 4:rs=a.stateNode.containerInfo,Sl=!0;break e}a=a.return}if(rs===null)throw Error(at(160));O$(s,o,i),rs=null,Sl=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){Or(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)k$(e,n),e=e.sibling}function k$(n,e){var t=n.alternate,r=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(pl(e,n),_u(n),r&4){try{x_(3,n,n.return),ZR(3,n)}catch(S){Or(n,n.return,S)}try{x_(5,n,n.return)}catch(S){Or(n,n.return,S)}}break;case 1:pl(e,n),_u(n),r&512&&t!==null&&j0(t,t.return);break;case 5:if(pl(e,n),_u(n),r&512&&t!==null&&j0(t,t.return),n.flags&32){var i=n.stateNode;try{dM(i,"")}catch(S){Or(n,n.return,S)}}if(r&4&&(i=n.stateNode,i!=null)){var s=n.memoizedProps,o=t!==null?t.memoizedProps:s,a=n.type,l=n.updateQueue;if(n.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&oZ(i,s),C3(a,o);var u=C3(a,s);for(o=0;o<l.length;o+=2){var h=l[o],f=l[o+1];h==="style"?hZ(i,f):h==="dangerouslySetInnerHTML"?uZ(i,f):h==="children"?dM(i,f):mk(i,h,f,u)}switch(a){case"input":S3(i,s);break;case"textarea":aZ(i,s);break;case"select":var p=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var m=s.value;m!=null?py(i,!!s.multiple,m,!1):p!==!!s.multiple&&(s.defaultValue!=null?py(i,!!s.multiple,s.defaultValue,!0):py(i,!!s.multiple,s.multiple?[]:"",!1))}i[_M]=s}catch(S){Or(n,n.return,S)}}break;case 6:if(pl(e,n),_u(n),r&4){if(n.stateNode===null)throw Error(at(162));i=n.stateNode,s=n.memoizedProps;try{i.nodeValue=s}catch(S){Or(n,n.return,S)}}break;case 3:if(pl(e,n),_u(n),r&4&&t!==null&&t.memoizedState.isDehydrated)try{gM(e.containerInfo)}catch(S){Or(n,n.return,S)}break;case 4:pl(e,n),_u(n);break;case 13:pl(e,n),_u(n),i=n.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Yk=Yr())),r&4&&p8(n);break;case 22:if(h=t!==null&&t.memoizedState!==null,n.mode&1?(Es=(u=Es)||h,pl(e,n),Es=u):pl(e,n),_u(n),r&8192){if(u=n.memoizedState!==null,(n.stateNode.isHidden=u)&&!h&&n.mode&1)for(bt=n,h=n.child;h!==null;){for(f=bt=h;bt!==null;){switch(p=bt,m=p.child,p.tag){case 0:case 11:case 14:case 15:x_(4,p,p.return);break;case 1:j0(p,p.return);var v=p.stateNode;if(typeof v.componentWillUnmount=="function"){r=p,t=p.return;try{e=r,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(S){Or(r,t,S)}}break;case 5:j0(p,p.return);break;case 22:if(p.memoizedState!==null){g8(f);continue}}m!==null?(m.return=p,bt=m):g8(f)}h=h.sibling}e:for(h=null,f=n;;){if(f.tag===5){if(h===null){h=f;try{i=f.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=f.stateNode,l=f.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=cZ("display",o))}catch(S){Or(n,n.return,S)}}}else if(f.tag===6){if(h===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(S){Or(n,n.return,S)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===n)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===n)break e;for(;f.sibling===null;){if(f.return===null||f.return===n)break e;h===f&&(h=null),f=f.return}h===f&&(h=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:pl(e,n),_u(n),r&4&&p8(n);break;case 21:break;default:pl(e,n),_u(n)}}function _u(n){var e=n.flags;if(e&2){try{e:{for(var t=n.return;t!==null;){if(U$(t)){var r=t;break e}t=t.return}throw Error(at(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(dM(i,""),r.flags&=-33);var s=f8(n);iF(n,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=f8(n);rF(n,a,o);break;default:throw Error(at(161))}}catch(l){Or(n,n.return,l)}n.flags&=-3}e&4096&&(n.flags&=-4097)}function iSe(n,e,t){bt=n,G$(n)}function G$(n,e,t){for(var r=(n.mode&1)!==0;bt!==null;){var i=bt,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Ub;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Es;a=Ub;var u=Es;if(Ub=o,(Es=l)&&!u)for(bt=i;bt!==null;)o=bt,l=o.child,o.tag===22&&o.memoizedState!==null?v8(i):l!==null?(l.return=o,bt=l):v8(i);for(;s!==null;)bt=s,G$(s),s=s.sibling;bt=i,Ub=a,Es=u}m8(n)}else i.subtreeFlags&8772&&s!==null?(s.return=i,bt=s):m8(n)}}function m8(n){for(;bt!==null;){var e=bt;if(e.flags&8772){var t=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Es||ZR(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Es)if(t===null)r.componentDidMount();else{var i=e.elementType===e.type?t.memoizedProps:Al(e.type,t.memoizedProps);r.componentDidUpdate(i,t.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&Z9(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(t=null,e.child!==null)switch(e.child.tag){case 5:t=e.child.stateNode;break;case 1:t=e.child.stateNode}Z9(e,o,t)}break;case 5:var a=e.stateNode;if(t===null&&e.flags&4){t=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&t.focus();break;case"img":l.src&&(t.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var h=u.memoizedState;if(h!==null){var f=h.dehydrated;f!==null&&gM(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(at(163))}Es||e.flags&512&&nF(e)}catch(p){Or(e,e.return,p)}}if(e===n){bt=null;break}if(t=e.sibling,t!==null){t.return=e.return,bt=t;break}bt=e.return}}function g8(n){for(;bt!==null;){var e=bt;if(e===n){bt=null;break}var t=e.sibling;if(t!==null){t.return=e.return,bt=t;break}bt=e.return}}function v8(n){for(;bt!==null;){var e=bt;try{switch(e.tag){case 0:case 11:case 15:var t=e.return;try{ZR(4,e)}catch(l){Or(e,t,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){Or(e,i,l)}}var s=e.return;try{nF(e)}catch(l){Or(e,s,l)}break;case 5:var o=e.return;try{nF(e)}catch(l){Or(e,o,l)}}}catch(l){Or(e,e.return,l)}if(e===n){bt=null;break}var a=e.sibling;if(a!==null){a.return=e.return,bt=a;break}bt=e.return}}var sSe=Math.ceil,BC=Rh.ReactCurrentDispatcher,Xk=Rh.ReactCurrentOwner,ja=Rh.ReactCurrentBatchConfig,Rn=0,Vi=null,ui=null,us=0,ko=0,X0=If(0),Mi=0,TM=null,ig=0,$R=0,Jk=0,A_=null,so=null,Yk=0,Qy=1/0,Xc=null,LC=!1,sF=null,qd=null,Ob=!1,Ld=null,IC=0,__=0,oF=null,fT=-1,pT=0;function Ws(){return Rn&6?Yr():fT!==-1?fT:fT=Yr()}function Zd(n){return n.mode&1?Rn&2&&us!==0?us&-us:HMe.transition!==null?(pT===0&&(pT=SZ()),pT):(n=Hn,n!==0||(n=window.event,n=n===void 0?16:PZ(n.type)),n):1}function Dl(n,e,t,r){if(50<__)throw __=0,oF=null,Error(at(185));vS(n,t,r),(!(Rn&2)||n!==Vi)&&(n===Vi&&(!(Rn&2)&&($R|=t),Mi===4&&Cd(n,us)),vo(n,r),t===1&&Rn===0&&!(e.mode&1)&&(Qy=Yr()+500,KR&&Df()))}function vo(n,e){var t=n.callbackNode;H_e(n,e);var r=gC(n,n===Vi?us:0);if(r===0)t!==null&&w9(t),n.callbackNode=null,n.callbackPriority=0;else if(e=r&-r,n.callbackPriority!==e){if(t!=null&&w9(t),e===1)n.tag===0?zMe(y8.bind(null,n)):KZ(y8.bind(null,n)),UMe(function(){!(Rn&6)&&Df()}),t=null;else{switch(EZ(r)){case 1:t=Ak;break;case 4:t=_Z;break;case 16:t=mC;break;case 536870912:t=MZ;break;default:t=mC}t=Y$(t,z$.bind(null,n))}n.callbackPriority=e,n.callbackNode=t}}function z$(n,e){if(fT=-1,pT=0,Rn&6)throw Error(at(327));var t=n.callbackNode;if(xy()&&n.callbackNode!==t)return null;var r=gC(n,n===Vi?us:0);if(r===0)return null;if(r&30||r&n.expiredLanes||e)e=DC(n,r);else{e=r;var i=Rn;Rn|=2;var s=V$();(Vi!==n||us!==e)&&(Xc=null,Qy=Yr()+500,km(n,e));do try{lSe();break}catch(a){H$(n,a)}while(1);Ik(),BC.current=s,Rn=i,ui!==null?e=0:(Vi=null,us=0,e=Mi)}if(e!==0){if(e===2&&(i=I3(n),i!==0&&(r=i,e=aF(n,i))),e===1)throw t=TM,km(n,0),Cd(n,r),vo(n,Yr()),t;if(e===6)Cd(n,r);else{if(i=n.current.alternate,!(r&30)&&!oSe(i)&&(e=DC(n,r),e===2&&(s=I3(n),s!==0&&(r=s,e=aF(n,s))),e===1))throw t=TM,km(n,0),Cd(n,r),vo(n,Yr()),t;switch(n.finishedWork=i,n.finishedLanes=r,e){case 0:case 1:throw Error(at(345));case 2:em(n,so,Xc);break;case 3:if(Cd(n,r),(r&130023424)===r&&(e=Yk+500-Yr(),10<e)){if(gC(n,0)!==0)break;if(i=n.suspendedLanes,(i&r)!==r){Ws(),n.pingedLanes|=n.suspendedLanes&i;break}n.timeoutHandle=z3(em.bind(null,n,so,Xc),e);break}em(n,so,Xc);break;case 4:if(Cd(n,r),(r&4194240)===r)break;for(e=n.eventTimes,i=-1;0<r;){var o=31-Il(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=Yr()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*sSe(r/1960))-r,10<r){n.timeoutHandle=z3(em.bind(null,n,so,Xc),r);break}em(n,so,Xc);break;case 5:em(n,so,Xc);break;default:throw Error(at(329))}}}return vo(n,Yr()),n.callbackNode===t?z$.bind(null,n):null}function aF(n,e){var t=A_;return n.current.memoizedState.isDehydrated&&(km(n,e).flags|=256),n=DC(n,e),n!==2&&(e=so,so=t,e!==null&&lF(e)),n}function lF(n){so===null?so=n:so.push.apply(so,n)}function oSe(n){for(var e=n;;){if(e.flags&16384){var t=e.updateQueue;if(t!==null&&(t=t.stores,t!==null))for(var r=0;r<t.length;r++){var i=t[r],s=i.getSnapshot;i=i.value;try{if(!zl(s(),i))return!1}catch{return!1}}}if(t=e.child,e.subtreeFlags&16384&&t!==null)t.return=e,e=t;else{if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Cd(n,e){for(e&=~Jk,e&=~$R,n.suspendedLanes|=e,n.pingedLanes&=~e,n=n.expirationTimes;0<e;){var t=31-Il(e),r=1<<t;n[t]=-1,e&=~r}}function y8(n){if(Rn&6)throw Error(at(327));xy();var e=gC(n,0);if(!(e&1))return vo(n,Yr()),null;var t=DC(n,e);if(n.tag!==0&&t===2){var r=I3(n);r!==0&&(e=r,t=aF(n,r))}if(t===1)throw t=TM,km(n,0),Cd(n,e),vo(n,Yr()),t;if(t===6)throw Error(at(345));return n.finishedWork=n.current.alternate,n.finishedLanes=e,em(n,so,Xc),vo(n,Yr()),null}function Kk(n,e){var t=Rn;Rn|=1;try{return n(e)}finally{Rn=t,Rn===0&&(Qy=Yr()+500,KR&&Df())}}function sg(n){Ld!==null&&Ld.tag===0&&!(Rn&6)&&xy();var e=Rn;Rn|=1;var t=ja.transition,r=Hn;try{if(ja.transition=null,Hn=1,n)return n()}finally{Hn=r,ja.transition=t,Rn=e,!(Rn&6)&&Df()}}function Qk(){ko=X0.current,ir(X0)}function km(n,e){n.finishedWork=null,n.finishedLanes=0;var t=n.timeoutHandle;if(t!==-1&&(n.timeoutHandle=-1,NMe(t)),ui!==null)for(t=ui.return;t!==null;){var r=t;switch(Pk(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&_C();break;case 3:Yy(),ir(mo),ir(ws),kk();break;case 5:Ok(r);break;case 4:Yy();break;case 13:ir(xr);break;case 19:ir(xr);break;case 10:Dk(r.type._context);break;case 22:case 23:Qk()}t=t.return}if(Vi=n,ui=n=$d(n.current,null),us=ko=e,Mi=0,TM=null,Jk=$R=ig=0,so=A_=null,Mm!==null){for(e=0;e<Mm.length;e++)if(t=Mm[e],r=t.interleaved,r!==null){t.interleaved=null;var i=r.next,s=t.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}t.pending=r}Mm=null}return n}function H$(n,e){do{var t=ui;try{if(Ik(),cT.current=PC,RC){for(var r=Rr.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}RC=!1}if(rg=0,ki=yi=Rr=null,y_=!1,EM=0,Xk.current=null,t===null||t.return===null){Mi=1,TM=e,ui=null;break}e:{var s=n,o=t.return,a=t,l=e;if(e=us,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,h=a,f=h.tag;if(!(h.mode&1)&&(f===0||f===11||f===15)){var p=h.alternate;p?(h.updateQueue=p.updateQueue,h.memoizedState=p.memoizedState,h.lanes=p.lanes):(h.updateQueue=null,h.memoizedState=null)}var m=s8(o);if(m!==null){m.flags&=-257,o8(m,o,a,s,e),m.mode&1&&i8(s,u,e),e=m,l=u;var v=e.updateQueue;if(v===null){var S=new Set;S.add(l),e.updateQueue=S}else v.add(l);break e}else{if(!(e&1)){i8(s,u,e),qk();break e}l=Error(at(426))}}else if(cr&&a.mode&1){var A=s8(o);if(A!==null){!(A.flags&65536)&&(A.flags|=256),o8(A,o,a,s,e),Bk(Ky(l,a));break e}}s=l=Ky(l,a),Mi!==4&&(Mi=2),A_===null?A_=[s]:A_.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var g=b$(s,l,e);q9(s,g);break e;case 1:a=l;var M=s.type,_=s.stateNode;if(!(s.flags&128)&&(typeof M.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(qd===null||!qd.has(_)))){s.flags|=65536,e&=-e,s.lanes|=e;var b=w$(s,a,e);q9(s,b);break e}}s=s.return}while(s!==null)}j$(t)}catch(T){e=T,ui===t&&t!==null&&(ui=t=t.return);continue}break}while(1)}function V$(){var n=BC.current;return BC.current=PC,n===null?PC:n}function qk(){(Mi===0||Mi===3||Mi===2)&&(Mi=4),Vi===null||!(ig&268435455)&&!($R&268435455)||Cd(Vi,us)}function DC(n,e){var t=Rn;Rn|=2;var r=V$();(Vi!==n||us!==e)&&(Xc=null,km(n,e));do try{aSe();break}catch(i){H$(n,i)}while(1);if(Ik(),Rn=t,BC.current=r,ui!==null)throw Error(at(261));return Vi=null,us=0,Mi}function aSe(){for(;ui!==null;)W$(ui)}function lSe(){for(;ui!==null&&!I_e();)W$(ui)}function W$(n){var e=J$(n.alternate,n,ko);n.memoizedProps=n.pendingProps,e===null?j$(n):ui=e,Xk.current=null}function j$(n){var e=n;do{var t=e.alternate;if(n=e.return,e.flags&32768){if(t=tSe(t,e),t!==null){t.flags&=32767,ui=t;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{Mi=6,ui=null;return}}else if(t=eSe(t,e,ko),t!==null){ui=t;return}if(e=e.sibling,e!==null){ui=e;return}ui=e=n}while(e!==null);Mi===0&&(Mi=5)}function em(n,e,t){var r=Hn,i=ja.transition;try{ja.transition=null,Hn=1,uSe(n,e,t,r)}finally{ja.transition=i,Hn=r}return null}function uSe(n,e,t,r){do xy();while(Ld!==null);if(Rn&6)throw Error(at(327));t=n.finishedWork;var i=n.finishedLanes;if(t===null)return null;if(n.finishedWork=null,n.finishedLanes=0,t===n.current)throw Error(at(177));n.callbackNode=null,n.callbackPriority=0;var s=t.lanes|t.childLanes;if(V_e(n,s),n===Vi&&(ui=Vi=null,us=0),!(t.subtreeFlags&2064)&&!(t.flags&2064)||Ob||(Ob=!0,Y$(mC,function(){return xy(),null})),s=(t.flags&15990)!==0,t.subtreeFlags&15990||s){s=ja.transition,ja.transition=null;var o=Hn;Hn=1;var a=Rn;Rn|=4,Xk.current=null,rSe(n,t),k$(t,n),RMe(k3),vC=!!O3,k3=O3=null,n.current=t,iSe(t),D_e(),Rn=a,Hn=o,ja.transition=s}else n.current=t;if(Ob&&(Ob=!1,Ld=n,IC=i),s=n.pendingLanes,s===0&&(qd=null),U_e(t.stateNode),vo(n,Yr()),e!==null)for(r=n.onRecoverableError,t=0;t<e.length;t++)i=e[t],r(i.value,{componentStack:i.stack,digest:i.digest});if(LC)throw LC=!1,n=sF,sF=null,n;return IC&1&&n.tag!==0&&xy(),s=n.pendingLanes,s&1?n===oF?__++:(__=0,oF=n):__=0,Df(),null}function xy(){if(Ld!==null){var n=EZ(IC),e=ja.transition,t=Hn;try{if(ja.transition=null,Hn=16>n?16:n,Ld===null)var r=!1;else{if(n=Ld,Ld=null,IC=0,Rn&6)throw Error(at(331));var i=Rn;for(Rn|=4,bt=n.current;bt!==null;){var s=bt,o=s.child;if(bt.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(bt=u;bt!==null;){var h=bt;switch(h.tag){case 0:case 11:case 15:x_(8,h,s)}var f=h.child;if(f!==null)f.return=h,bt=f;else for(;bt!==null;){h=bt;var p=h.sibling,m=h.return;if(N$(h),h===u){bt=null;break}if(p!==null){p.return=m,bt=p;break}bt=m}}}var v=s.alternate;if(v!==null){var S=v.child;if(S!==null){v.child=null;do{var A=S.sibling;S.sibling=null,S=A}while(S!==null)}}bt=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,bt=o;else e:for(;bt!==null;){if(s=bt,s.flags&2048)switch(s.tag){case 0:case 11:case 15:x_(9,s,s.return)}var g=s.sibling;if(g!==null){g.return=s.return,bt=g;break e}bt=s.return}}var M=n.current;for(bt=M;bt!==null;){o=bt;var _=o.child;if(o.subtreeFlags&2064&&_!==null)_.return=o,bt=_;else e:for(o=M;bt!==null;){if(a=bt,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:ZR(9,a)}}catch(T){Or(a,a.return,T)}if(a===o){bt=null;break e}var b=a.sibling;if(b!==null){b.return=a.return,bt=b;break e}bt=a.return}}if(Rn=i,Df(),Gu&&typeof Gu.onPostCommitFiberRoot=="function")try{Gu.onPostCommitFiberRoot(WR,n)}catch{}r=!0}return r}finally{Hn=t,ja.transition=e}}return!1}function x8(n,e,t){e=Ky(t,e),e=b$(n,e,1),n=Qd(n,e,1),e=Ws(),n!==null&&(vS(n,1,e),vo(n,e))}function Or(n,e,t){if(n.tag===3)x8(n,n,t);else for(;e!==null;){if(e.tag===3){x8(e,n,t);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(qd===null||!qd.has(r))){n=Ky(t,n),n=w$(e,n,1),e=Qd(e,n,1),n=Ws(),e!==null&&(vS(e,1,n),vo(e,n));break}}e=e.return}}function cSe(n,e,t){var r=n.pingCache;r!==null&&r.delete(e),e=Ws(),n.pingedLanes|=n.suspendedLanes&t,Vi===n&&(us&t)===t&&(Mi===4||Mi===3&&(us&130023424)===us&&500>Yr()-Yk?km(n,0):Jk|=t),vo(n,e)}function X$(n,e){e===0&&(n.mode&1?(e=Cb,Cb<<=1,!(Cb&130023424)&&(Cb=4194304)):e=1);var t=Ws();n=Sh(n,e),n!==null&&(vS(n,e,t),vo(n,t))}function hSe(n){var e=n.memoizedState,t=0;e!==null&&(t=e.retryLane),X$(n,t)}function dSe(n,e){var t=0;switch(n.tag){case 13:var r=n.stateNode,i=n.memoizedState;i!==null&&(t=i.retryLane);break;case 19:r=n.stateNode;break;default:throw Error(at(314))}r!==null&&r.delete(e),X$(n,t)}var J$;J$=function(n,e,t){if(n!==null)if(n.memoizedProps!==e.pendingProps||mo.current)co=!0;else{if(!(n.lanes&t)&&!(e.flags&128))return co=!1,$Me(n,e,t);co=!!(n.flags&131072)}else co=!1,cr&&e.flags&1048576&&QZ(e,EC,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;dT(n,e),n=e.pendingProps;var i=jy(e,ws.current);yy(e,t),i=zk(null,e,r,n,i,t);var s=Hk();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,go(r)?(s=!0,MC(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Nk(e),i.updater=QR,e.stateNode=i,i._reactInternals=e,Y3(e,r,n,t),e=q3(null,e,r,!0,s,t)):(e.tag=0,cr&&s&&Rk(e),zs(null,e,i,t),e=e.child),e;case 16:r=e.elementType;e:{switch(dT(n,e),n=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=pSe(r),n=Al(r,n),i){case 0:e=Q3(null,e,r,n,t);break e;case 1:e=u8(null,e,r,n,t);break e;case 11:e=a8(null,e,r,n,t);break e;case 14:e=l8(null,e,r,Al(r.type,n),t);break e}throw Error(at(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Al(r,i),Q3(n,e,r,i,t);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Al(r,i),u8(n,e,r,i,t);case 3:e:{if(P$(e),n===null)throw Error(at(387));r=e.pendingProps,s=e.memoizedState,i=s.element,e$(n,e),TC(e,r,null,t);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Ky(Error(at(423)),e),e=c8(n,e,r,t,i);break e}else if(r!==i){i=Ky(Error(at(424)),e),e=c8(n,e,r,t,i);break e}else for(Wo=Kd(e.stateNode.containerInfo.firstChild),Ko=e,cr=!0,wl=null,t=i$(e,null,r,t),e.child=t;t;)t.flags=t.flags&-3|4096,t=t.sibling;else{if(Xy(),r===i){e=Eh(n,e,t);break e}zs(n,e,r,t)}e=e.child}return e;case 5:return s$(e),n===null&&j3(e),r=e.type,i=e.pendingProps,s=n!==null?n.memoizedProps:null,o=i.children,G3(r,i)?o=null:s!==null&&G3(r,s)&&(e.flags|=32),R$(n,e),zs(n,e,o,t),e.child;case 6:return n===null&&j3(e),null;case 13:return B$(n,e,t);case 4:return Uk(e,e.stateNode.containerInfo),r=e.pendingProps,n===null?e.child=Jy(e,null,r,t):zs(n,e,r,t),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Al(r,i),a8(n,e,r,i,t);case 7:return zs(n,e,e.pendingProps,t),e.child;case 8:return zs(n,e,e.pendingProps.children,t),e.child;case 12:return zs(n,e,e.pendingProps.children,t),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,Kn(bC,r._currentValue),r._currentValue=o,s!==null)if(zl(s.value,o)){if(s.children===i.children&&!mo.current){e=Eh(n,e,t);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=hh(-1,t&-t),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var h=u.pending;h===null?l.next=l:(l.next=h.next,h.next=l),u.pending=l}}s.lanes|=t,l=s.alternate,l!==null&&(l.lanes|=t),X3(s.return,t,e),a.lanes|=t;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(at(341));o.lanes|=t,a=o.alternate,a!==null&&(a.lanes|=t),X3(o,t,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}zs(n,e,i.children,t),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,yy(e,t),i=Ka(i),r=r(i),e.flags|=1,zs(n,e,r,t),e.child;case 14:return r=e.type,i=Al(r,e.pendingProps),i=Al(r.type,i),l8(n,e,r,i,t);case 15:return T$(n,e,e.type,e.pendingProps,t);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Al(r,i),dT(n,e),e.tag=1,go(r)?(n=!0,MC(e)):n=!1,yy(e,t),n$(e,r,i),Y3(e,r,i,t),q3(null,e,r,!0,n,t);case 19:return L$(n,e,t);case 22:return C$(n,e,t)}throw Error(at(156,e.tag))};function Y$(n,e){return AZ(n,e)}function fSe(n,e,t,r){this.tag=n,this.key=t,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Va(n,e,t,r){return new fSe(n,e,t,r)}function Zk(n){return n=n.prototype,!(!n||!n.isReactComponent)}function pSe(n){if(typeof n=="function")return Zk(n)?1:0;if(n!=null){if(n=n.$$typeof,n===vk)return 11;if(n===yk)return 14}return 2}function $d(n,e){var t=n.alternate;return t===null?(t=Va(n.tag,e,n.key,n.mode),t.elementType=n.elementType,t.type=n.type,t.stateNode=n.stateNode,t.alternate=n,n.alternate=t):(t.pendingProps=e,t.type=n.type,t.flags=0,t.subtreeFlags=0,t.deletions=null),t.flags=n.flags&14680064,t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},t.sibling=n.sibling,t.index=n.index,t.ref=n.ref,t}function mT(n,e,t,r,i,s){var o=2;if(r=n,typeof n=="function")Zk(n)&&(o=1);else if(typeof n=="string")o=5;else e:switch(n){case N0:return Gm(t.children,i,s,e);case gk:o=8,i|=8;break;case y3:return n=Va(12,t,e,i|2),n.elementType=y3,n.lanes=s,n;case x3:return n=Va(13,t,e,i),n.elementType=x3,n.lanes=s,n;case A3:return n=Va(19,t,e,i),n.elementType=A3,n.lanes=s,n;case rZ:return eP(t,i,s,e);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case tZ:o=10;break e;case nZ:o=9;break e;case vk:o=11;break e;case yk:o=14;break e;case Ad:o=16,r=null;break e}throw Error(at(130,n==null?n:typeof n,""))}return e=Va(o,t,e,i),e.elementType=n,e.type=r,e.lanes=s,e}function Gm(n,e,t,r){return n=Va(7,n,r,e),n.lanes=t,n}function eP(n,e,t,r){return n=Va(22,n,r,e),n.elementType=rZ,n.lanes=t,n.stateNode={isHidden:!1},n}function eL(n,e,t){return n=Va(6,n,null,e),n.lanes=t,n}function tL(n,e,t){return e=Va(4,n.children!==null?n.children:[],n.key,e),e.lanes=t,e.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},e}function mSe(n,e,t,r,i){this.tag=e,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=F2(0),this.expirationTimes=F2(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=F2(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function $k(n,e,t,r,i,s,o,a,l){return n=new mSe(n,e,t,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Va(3,null,null,e),n.current=s,s.stateNode=n,s.memoizedState={element:r,isDehydrated:t,cache:null,transitions:null,pendingSuspenseBoundaries:null},Nk(s),n}function gSe(n,e,t){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:F0,key:r==null?null:""+r,children:n,containerInfo:e,implementation:t}}function K$(n){if(!n)return vf;n=n._reactInternals;e:{if(yg(n)!==n||n.tag!==1)throw Error(at(170));var e=n;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(go(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(at(171))}if(n.tag===1){var t=n.type;if(go(t))return YZ(n,t,e)}return e}function Q$(n,e,t,r,i,s,o,a,l){return n=$k(t,r,!0,n,i,s,o,a,l),n.context=K$(null),t=n.current,r=Ws(),i=Zd(t),s=hh(r,i),s.callback=e??null,Qd(t,s,i),n.current.lanes=i,vS(n,i,r),vo(n,r),n}function tP(n,e,t,r){var i=e.current,s=Ws(),o=Zd(i);return t=K$(t),e.context===null?e.context=t:e.pendingContext=t,e=hh(s,o),e.payload={element:n},r=r===void 0?null:r,r!==null&&(e.callback=r),n=Qd(i,e,o),n!==null&&(Dl(n,i,o,s),uT(n,i,o)),o}function FC(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function A8(n,e){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var t=n.retryLane;n.retryLane=t!==0&&t<e?t:e}}function eG(n,e){A8(n,e),(n=n.alternate)&&A8(n,e)}function vSe(){return null}var q$=typeof reportError=="function"?reportError:function(n){console.error(n)};function tG(n){this._internalRoot=n}nP.prototype.render=tG.prototype.render=function(n){var e=this._internalRoot;if(e===null)throw Error(at(409));tP(n,e,null,null)};nP.prototype.unmount=tG.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var e=n.containerInfo;sg(function(){tP(null,n,null,null)}),e[Mh]=null}};function nP(n){this._internalRoot=n}nP.prototype.unstable_scheduleHydration=function(n){if(n){var e=TZ();n={blockedOn:null,target:n,priority:e};for(var t=0;t<Td.length&&e!==0&&e<Td[t].priority;t++);Td.splice(t,0,n),t===0&&RZ(n)}};function nG(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function rP(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function _8(){}function ySe(n,e,t,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=FC(o);s.call(u)}}var o=Q$(e,r,n,0,null,!1,!1,"",_8);return n._reactRootContainer=o,n[Mh]=o.current,xM(n.nodeType===8?n.parentNode:n),sg(),o}for(;i=n.lastChild;)n.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=FC(l);a.call(u)}}var l=$k(n,0,!1,null,null,!1,!1,"",_8);return n._reactRootContainer=l,n[Mh]=l.current,xM(n.nodeType===8?n.parentNode:n),sg(function(){tP(e,l,t,r)}),l}function iP(n,e,t,r,i){var s=t._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=FC(o);a.call(l)}}tP(e,o,n,i)}else o=ySe(t,e,n,i,r);return FC(o)}bZ=function(n){switch(n.tag){case 3:var e=n.stateNode;if(e.current.memoizedState.isDehydrated){var t=W1(e.pendingLanes);t!==0&&(_k(e,t|1),vo(e,Yr()),!(Rn&6)&&(Qy=Yr()+500,Df()))}break;case 13:sg(function(){var r=Sh(n,1);if(r!==null){var i=Ws();Dl(r,n,1,i)}}),eG(n,1)}};Mk=function(n){if(n.tag===13){var e=Sh(n,134217728);if(e!==null){var t=Ws();Dl(e,n,134217728,t)}eG(n,134217728)}};wZ=function(n){if(n.tag===13){var e=Zd(n),t=Sh(n,e);if(t!==null){var r=Ws();Dl(t,n,e,r)}eG(n,e)}};TZ=function(){return Hn};CZ=function(n,e){var t=Hn;try{return Hn=n,e()}finally{Hn=t}};P3=function(n,e,t){switch(e){case"input":if(S3(n,t),e=t.name,t.type==="radio"&&e!=null){for(t=n;t.parentNode;)t=t.parentNode;for(t=t.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<t.length;e++){var r=t[e];if(r!==n&&r.form===n.form){var i=YR(r);if(!i)throw Error(at(90));sZ(r),S3(r,i)}}}break;case"textarea":aZ(n,t);break;case"select":e=t.value,e!=null&&py(n,!!t.multiple,e,!1)}};pZ=Kk;mZ=sg;var xSe={usingClientEntryPoint:!1,Events:[xS,G0,YR,dZ,fZ,Kk]},m1={findFiberByHostInstance:_m,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},ASe={bundleType:m1.bundleType,version:m1.version,rendererPackageName:m1.rendererPackageName,rendererConfig:m1.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Rh.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=yZ(n),n===null?null:n.stateNode},findFiberByHostInstance:m1.findFiberByHostInstance||vSe,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var kb=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!kb.isDisabled&&kb.supportsFiber)try{WR=kb.inject(ASe),Gu=kb}catch{}}aa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=xSe;aa.createPortal=function(n,e){var t=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!nG(e))throw Error(at(200));return gSe(n,e,null,t)};aa.createRoot=function(n,e){if(!nG(n))throw Error(at(299));var t=!1,r="",i=q$;return e!=null&&(e.unstable_strictMode===!0&&(t=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=$k(n,1,!1,null,null,t,!1,r,i),n[Mh]=e.current,xM(n.nodeType===8?n.parentNode:n),new tG(e)};aa.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var e=n._reactInternals;if(e===void 0)throw typeof n.render=="function"?Error(at(188)):(n=Object.keys(n).join(","),Error(at(268,n)));return n=yZ(e),n=n===null?null:n.stateNode,n};aa.flushSync=function(n){return sg(n)};aa.hydrate=function(n,e,t){if(!rP(e))throw Error(at(200));return iP(null,n,e,!0,t)};aa.hydrateRoot=function(n,e,t){if(!nG(n))throw Error(at(405));var r=t!=null&&t.hydratedSources||null,i=!1,s="",o=q$;if(t!=null&&(t.unstable_strictMode===!0&&(i=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),e=Q$(e,null,n,1,t??null,i,!1,s,o),n[Mh]=e.current,xM(n),r)for(n=0;n<r.length;n++)t=r[n],i=t._getVersion,i=i(t._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[t,i]:e.mutableSourceEagerHydrationData.push(t,i);return new nP(e)};aa.render=function(n,e,t){if(!rP(e))throw Error(at(200));return iP(null,n,e,!1,t)};aa.unmountComponentAtNode=function(n){if(!rP(n))throw Error(at(40));return n._reactRootContainer?(sg(function(){iP(null,null,n,!1,function(){n._reactRootContainer=null,n[Mh]=null})}),!0):!1};aa.unstable_batchedUpdates=Kk;aa.unstable_renderSubtreeIntoContainer=function(n,e,t,r){if(!rP(t))throw Error(at(200));if(n==null||n._reactInternals===void 0)throw Error(at(38));return iP(n,e,t,!1,r)};aa.version="18.2.0-next-9e3b772b8-20220608";function Z$(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Z$)}catch(n){console.error(n)}}Z$(),Qq.exports=aa;var _Se=Qq.exports,$$,M8=_Se;$$=g3.createRoot=M8.createRoot,g3.hydrateRoot=M8.hydrateRoot;/**
 * @remix-run/router v1.6.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function CM(){return CM=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},CM.apply(this,arguments)}var Em;(function(n){n.Pop="POP",n.Push="PUSH",n.Replace="REPLACE"})(Em||(Em={}));const S8="popstate";function MSe(n){n===void 0&&(n={});function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return uF("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function t(r,i){return typeof i=="string"?i:NC(i)}return ESe(e,t,null,n)}function Fl(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function SSe(){return Math.random().toString(36).substr(2,8)}function E8(n,e){return{usr:n.state,key:n.key,idx:e}}function uF(n,e,t,r){return t===void 0&&(t=null),CM({pathname:typeof n=="string"?n:n.pathname,search:"",hash:""},typeof e=="string"?sP(e):e,{state:t,key:e&&e.key||r||SSe()})}function NC(n){let{pathname:e="/",search:t="",hash:r=""}=n;return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function sP(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substr(t),n=n.substr(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substr(r),n=n.substr(0,r)),n&&(e.pathname=n)}return e}function ESe(n,e,t,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=Em.Pop,l=null,u=h();u==null&&(u=0,o.replaceState(CM({},o.state,{idx:u}),""));function h(){return(o.state||{idx:null}).idx}function f(){a=Em.Pop;let A=h(),g=A==null?null:A-u;u=A,l&&l({action:a,location:S.location,delta:g})}function p(A,g){a=Em.Push;let M=uF(S.location,A,g);t&&t(M,A),u=h()+1;let _=E8(M,u),b=S.createHref(M);try{o.pushState(_,"",b)}catch(T){if(T instanceof DOMException&&T.name==="DataCloneError")throw T;i.location.assign(b)}s&&l&&l({action:a,location:S.location,delta:1})}function m(A,g){a=Em.Replace;let M=uF(S.location,A,g);t&&t(M,A),u=h();let _=E8(M,u),b=S.createHref(M);o.replaceState(_,"",b),s&&l&&l({action:a,location:S.location,delta:0})}function v(A){let g=i.location.origin!=="null"?i.location.origin:i.location.href,M=typeof A=="string"?A:NC(A);return Fl(g,"No window.location.(origin|href) available to create URL for href: "+M),new URL(M,g)}let S={get action(){return a},get location(){return n(i,o)},listen(A){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(S8,f),l=A,()=>{i.removeEventListener(S8,f),l=null}},createHref(A){return e(i,A)},createURL:v,encodeLocation(A){let g=v(A);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:p,replace:m,go(A){return o.go(A)}};return S}var b8;(function(n){n.data="data",n.deferred="deferred",n.redirect="redirect",n.error="error"})(b8||(b8={}));function eee(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function bSe(n,e){e===void 0&&(e="/");let{pathname:t,search:r="",hash:i=""}=typeof n=="string"?sP(n):n;return{pathname:t?t.startsWith("/")?t:wSe(t,e):e,search:TSe(r),hash:CSe(i)}}function wSe(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(i=>{i===".."?t.length>1&&t.pop():i!=="."&&t.push(i)}),t.length>1?t.join("/"):"/"}function nL(n,e,t,r){return"Cannot include a '"+n+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+t+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function tee(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function nee(n,e,t,r){r===void 0&&(r=!1);let i;typeof n=="string"?i=sP(n):(i=CM({},n),Fl(!i.pathname||!i.pathname.includes("?"),nL("?","pathname","search",i)),Fl(!i.pathname||!i.pathname.includes("#"),nL("#","pathname","hash",i)),Fl(!i.search||!i.search.includes("#"),nL("#","search","hash",i)));let s=n===""||i.pathname==="",o=s?"/":i.pathname,a;if(r||o==null)a=t;else{let f=e.length-1;if(o.startsWith("..")){let p=o.split("/");for(;p[0]==="..";)p.shift(),f-=1;i.pathname=p.join("/")}a=f>=0?e[f]:"/"}let l=bSe(i,a),u=o&&o!=="/"&&o.endsWith("/"),h=(s||o===".")&&t.endsWith("/");return!l.pathname.endsWith("/")&&(u||h)&&(l.pathname+="/"),l}const ree=n=>n.join("/").replace(/\/\/+/g,"/"),TSe=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,CSe=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n,iee=["post","put","patch","delete"];new Set(iee);const RSe=["get",...iee];new Set(RSe);/**
 * React Router v6.12.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function cF(){return cF=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},cF.apply(this,arguments)}const see=me.createContext(null),_S=me.createContext(null),rG=me.createContext(null),oP=me.createContext({outlet:null,matches:[],isDataRoute:!1});function PSe(n,e){let{relative:t}=e===void 0?{}:e;aP()||Fl(!1);let{basename:r,navigator:i}=me.useContext(_S),{hash:s,pathname:o,search:a}=aee(n,{relative:t}),l=o;return r!=="/"&&(l=o==="/"?r:ree([r,o])),i.createHref({pathname:l,search:a,hash:s})}function aP(){return me.useContext(rG)!=null}function iG(){return aP()||Fl(!1),me.useContext(rG).location}function oee(n){me.useContext(_S).static||me.useLayoutEffect(n)}function BSe(){let{isDataRoute:n}=me.useContext(oP);return n?NSe():LSe()}function LSe(){aP()||Fl(!1);let n=me.useContext(see),{basename:e,navigator:t}=me.useContext(_S),{matches:r}=me.useContext(oP),{pathname:i}=iG(),s=JSON.stringify(tee(r).map(l=>l.pathnameBase)),o=me.useRef(!1);return oee(()=>{o.current=!0}),me.useCallback(function(l,u){if(u===void 0&&(u={}),!o.current)return;if(typeof l=="number"){t.go(l);return}let h=nee(l,JSON.parse(s),i,u.relative==="path");n==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:ree([e,h.pathname])),(u.replace?t.replace:t.push)(h,u.state,u)},[e,t,s,i,n])}function aee(n,e){let{relative:t}=e===void 0?{}:e,{matches:r}=me.useContext(oP),{pathname:i}=iG(),s=JSON.stringify(tee(r).map(o=>o.pathnameBase));return me.useMemo(()=>nee(n,JSON.parse(s),i,t==="path"),[n,s,i,t])}var hF;(function(n){n.UseBlocker="useBlocker",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate"})(hF||(hF={}));var dF;(function(n){n.UseBlocker="useBlocker",n.UseLoaderData="useLoaderData",n.UseActionData="useActionData",n.UseRouteError="useRouteError",n.UseNavigation="useNavigation",n.UseRouteLoaderData="useRouteLoaderData",n.UseMatches="useMatches",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n.UseRouteId="useRouteId"})(dF||(dF={}));function ISe(n){let e=me.useContext(see);return e||Fl(!1),e}function DSe(n){let e=me.useContext(oP);return e||Fl(!1),e}function FSe(n){let e=DSe(),t=e.matches[e.matches.length-1];return t.route.id||Fl(!1),t.route.id}function NSe(){let{router:n}=ISe(hF.UseNavigateStable),e=FSe(dF.UseNavigateStable),t=me.useRef(!1);return oee(()=>{t.current=!0}),me.useCallback(function(i,s){s===void 0&&(s={}),t.current&&(typeof i=="number"?n.navigate(i):n.navigate(i,cF({fromRouteId:e},s)))},[n,e])}function USe(n){let{basename:e="/",children:t=null,location:r,navigationType:i=Em.Pop,navigator:s,static:o=!1}=n;aP()&&Fl(!1);let a=e.replace(/^\/*/,"/"),l=me.useMemo(()=>({basename:a,navigator:s,static:o}),[a,s,o]);typeof r=="string"&&(r=sP(r));let{pathname:u="/",search:h="",hash:f="",state:p=null,key:m="default"}=r,v=me.useMemo(()=>{let S=eee(u,a);return S==null?null:{location:{pathname:S,search:h,hash:f,state:p,key:m},navigationType:i}},[a,u,h,f,p,m,i]);return v==null?null:me.createElement(_S.Provider,{value:l},me.createElement(rG.Provider,{children:t,value:v}))}var w8;(function(n){n[n.pending=0]="pending",n[n.success=1]="success",n[n.error=2]="error"})(w8||(w8={}));new Promise(()=>{});/**
 * React Router DOM v6.12.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function fF(){return fF=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},fF.apply(this,arguments)}function OSe(n,e){if(n==null)return{};var t={},r=Object.keys(n),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(t[i]=n[i]);return t}function kSe(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function GSe(n,e){return n.button===0&&(!e||e==="_self")&&!kSe(n)}const zSe=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"],T8="startTransition";function HSe(n){let{basename:e,children:t,window:r}=n,i=me.useRef();i.current==null&&(i.current=MSe({window:r,v5Compat:!0}));let s=i.current,[o,a]=me.useState({action:s.action,location:s.location}),l=me.useCallback(u=>{T8 in g9?g9[T8](()=>a(u)):a(u)},[a]);return me.useLayoutEffect(()=>s.listen(l),[s,l]),me.createElement(USe,{basename:e,children:t,location:o.location,navigationType:o.action,navigator:s})}const VSe=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",WSe=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,jSe=me.forwardRef(function(e,t){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:a,target:l,to:u,preventScrollReset:h}=e,f=OSe(e,zSe),{basename:p}=me.useContext(_S),m,v=!1;if(typeof u=="string"&&WSe.test(u)&&(m=u,VSe))try{let M=new URL(window.location.href),_=u.startsWith("//")?new URL(M.protocol+u):new URL(u),b=eee(_.pathname,p);_.origin===M.origin&&b!=null?u=b+_.search+_.hash:v=!0}catch{}let S=PSe(u,{relative:i}),A=XSe(u,{replace:o,state:a,target:l,preventScrollReset:h,relative:i});function g(M){r&&r(M),M.defaultPrevented||A(M)}return me.createElement("a",fF({},f,{href:m||S,onClick:v||s?r:g,ref:t,target:l}))});var C8;(function(n){n.UseScrollRestoration="useScrollRestoration",n.UseSubmitImpl="useSubmitImpl",n.UseFetcher="useFetcher"})(C8||(C8={}));var R8;(function(n){n.UseFetchers="useFetchers",n.UseScrollRestoration="useScrollRestoration"})(R8||(R8={}));function XSe(n,e){let{target:t,replace:r,state:i,preventScrollReset:s,relative:o}=e===void 0?{}:e,a=BSe(),l=iG(),u=aee(n,{relative:o});return me.useCallback(h=>{if(GSe(h,t)){h.preventDefault();let f=r!==void 0?r:NC(l)===NC(u);a(n,{replace:f,state:i,preventScrollReset:s,relative:o})}},[l,a,u,r,i,t,n,s,o])}/**
 * @license
 * Copyright 2010-2023 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const MS="153",tm={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},nm={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},lee=0,pF=1,uee=2,JSe=3,cee=0,lP=1,M_=2,_l=3,Ku=0,js=1,za=2,YSe=2,dh=0,zm=1,mF=2,gF=3,vF=4,hee=5,lm=100,dee=101,fee=102,yF=103,xF=104,pee=200,mee=201,gee=202,vee=203,sG=204,oG=205,yee=206,xee=207,Aee=208,_ee=209,Mee=210,See=0,Eee=1,bee=2,UC=3,wee=4,Tee=5,Cee=6,Ree=7,SS=0,Pee=1,Bee=2,Nl=0,Lee=1,Iee=2,Dee=3,aG=4,Fee=5,uP=300,yf=301,xf=302,RM=303,PM=304,bx=306,Af=1e3,ss=1001,qy=1002,Gr=1003,BM=1004,KSe=1004,Ay=1005,QSe=1005,_r=1006,cP=1007,qSe=1007,Qu=1008,ZSe=1008,Hu=1009,Nee=1010,Uee=1011,hP=1012,lG=1013,ih=1014,Lu=1015,Zy=1016,uG=1017,cG=1018,ef=1020,Oee=1021,lo=1023,kee=1024,Gee=1025,tf=1026,og=1027,zee=1028,hG=1029,Hee=1030,dG=1031,fG=1033,gT=33776,vT=33777,yT=33778,xT=33779,AF=35840,_F=35841,MF=35842,SF=35843,Vee=36196,EF=37492,bF=37496,wF=37808,TF=37809,CF=37810,RF=37811,PF=37812,BF=37813,LF=37814,IF=37815,DF=37816,FF=37817,NF=37818,UF=37819,OF=37820,kF=37821,AT=36492,Wee=36283,GF=36284,zF=36285,HF=36286,jee=2200,Xee=2201,Jee=2202,$y=2300,ag=2301,_T=2302,bm=2400,wm=2401,LM=2402,dP=2500,pG=2501,Yee=0,mG=1,OC=2,gG=3e3,nf=3001,Kee=3200,Qee=3201,Ff=0,qee=1,rf="",Zt="srgb",Hl="srgb-linear",vG="display-p3",$Se=0,MT=7680,eEe=7681,tEe=7682,nEe=7683,rEe=34055,iEe=34056,sEe=5386,oEe=512,aEe=513,lEe=514,uEe=515,cEe=516,hEe=517,dEe=518,Zee=519,$ee=512,ete=513,tte=514,nte=515,rte=516,ite=517,ste=518,ote=519,IM=35044,Hm=35048,fEe=35040,pEe=35045,mEe=35049,gEe=35041,vEe=35046,yEe=35050,xEe=35042,AEe="100",VF="300 es",kC=1035,Iu=2e3,DM=2001;class ec{addEventListener(e,t){this._listeners===void 0&&(this._listeners={});const r=this._listeners;r[e]===void 0&&(r[e]=[]),r[e].indexOf(t)===-1&&r[e].push(t)}hasEventListener(e,t){if(this._listeners===void 0)return!1;const r=this._listeners;return r[e]!==void 0&&r[e].indexOf(t)!==-1}removeEventListener(e,t){if(this._listeners===void 0)return;const i=this._listeners[e];if(i!==void 0){const s=i.indexOf(t);s!==-1&&i.splice(s,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const r=this._listeners[e.type];if(r!==void 0){e.target=this;const i=r.slice(0);for(let s=0,o=i.length;s<o;s++)i[s].call(this,e);e.target=null}}}const _s=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let P8=1234567;const Vm=Math.PI/180,ex=180/Math.PI;function Qo(){const n=Math.random()*4294967295|0,e=Math.random()*4294967295|0,t=Math.random()*4294967295|0,r=Math.random()*4294967295|0;return(_s[n&255]+_s[n>>8&255]+_s[n>>16&255]+_s[n>>24&255]+"-"+_s[e&255]+_s[e>>8&255]+"-"+_s[e>>16&15|64]+_s[e>>24&255]+"-"+_s[t&63|128]+_s[t>>8&255]+"-"+_s[t>>16&255]+_s[t>>24&255]+_s[r&255]+_s[r>>8&255]+_s[r>>16&255]+_s[r>>24&255]).toLowerCase()}function Hr(n,e,t){return Math.max(e,Math.min(t,n))}function yG(n,e){return(n%e+e)%e}function _Ee(n,e,t,r,i){return r+(n-e)*(i-r)/(t-e)}function MEe(n,e,t){return n!==e?(t-n)/(e-n):0}function S_(n,e,t){return(1-t)*n+t*e}function SEe(n,e,t,r){return S_(n,e,1-Math.exp(-t*r))}function EEe(n,e=1){return e-Math.abs(yG(n,e*2)-e)}function bEe(n,e,t){return n<=e?0:n>=t?1:(n=(n-e)/(t-e),n*n*(3-2*n))}function wEe(n,e,t){return n<=e?0:n>=t?1:(n=(n-e)/(t-e),n*n*n*(n*(n*6-15)+10))}function TEe(n,e){return n+Math.floor(Math.random()*(e-n+1))}function CEe(n,e){return n+Math.random()*(e-n)}function REe(n){return n*(.5-Math.random())}function PEe(n){n!==void 0&&(P8=n);let e=P8+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function BEe(n){return n*Vm}function LEe(n){return n*ex}function WF(n){return(n&n-1)===0&&n!==0}function ate(n){return Math.pow(2,Math.ceil(Math.log(n)/Math.LN2))}function GC(n){return Math.pow(2,Math.floor(Math.log(n)/Math.LN2))}function IEe(n,e,t,r,i){const s=Math.cos,o=Math.sin,a=s(t/2),l=o(t/2),u=s((e+r)/2),h=o((e+r)/2),f=s((e-r)/2),p=o((e-r)/2),m=s((r-e)/2),v=o((r-e)/2);switch(i){case"XYX":n.set(a*h,l*f,l*p,a*u);break;case"YZY":n.set(l*p,a*h,l*f,a*u);break;case"ZXZ":n.set(l*f,l*p,a*h,a*u);break;case"XZX":n.set(a*h,l*v,l*m,a*u);break;case"YXY":n.set(l*m,a*h,l*v,a*u);break;case"ZYZ":n.set(l*v,l*m,a*h,a*u);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+i)}}function jo(n,e){switch(e.constructor){case Float32Array:return n;case Uint32Array:return n/4294967295;case Uint16Array:return n/65535;case Uint8Array:return n/255;case Int32Array:return Math.max(n/2147483647,-1);case Int16Array:return Math.max(n/32767,-1);case Int8Array:return Math.max(n/127,-1);default:throw new Error("Invalid component type.")}}function ln(n,e){switch(e.constructor){case Float32Array:return n;case Uint32Array:return Math.round(n*4294967295);case Uint16Array:return Math.round(n*65535);case Uint8Array:return Math.round(n*255);case Int32Array:return Math.round(n*2147483647);case Int16Array:return Math.round(n*32767);case Int8Array:return Math.round(n*127);default:throw new Error("Invalid component type.")}}const xG={DEG2RAD:Vm,RAD2DEG:ex,generateUUID:Qo,clamp:Hr,euclideanModulo:yG,mapLinear:_Ee,inverseLerp:MEe,lerp:S_,damp:SEe,pingpong:EEe,smoothstep:bEe,smootherstep:wEe,randInt:TEe,randFloat:CEe,randFloatSpread:REe,seededRandom:PEe,degToRad:BEe,radToDeg:LEe,isPowerOfTwo:WF,ceilPowerOfTwo:ate,floorPowerOfTwo:GC,setQuaternionFromProperEuler:IEe,normalize:ln,denormalize:jo};class Je{constructor(e=0,t=0){Je.prototype.isVector2=!0,this.x=e,this.y=t}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,t){return this.x=e,this.y=t,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const t=this.x,r=this.y,i=e.elements;return this.x=i[0]*t+i[3]*r+i[6],this.y=i[1]*t+i[4]*r+i[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this}clampLength(e,t){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(t,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const r=this.dot(e)/t;return Math.acos(Hr(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,r=this.y-e.y;return t*t+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}lerpVectors(e,t,r){return this.x=e.x+(t.x-e.x)*r,this.y=e.y+(t.y-e.y)*r,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this}rotateAround(e,t){const r=Math.cos(t),i=Math.sin(t),s=this.x-e.x,o=this.y-e.y;return this.x=s*r-o*i+e.x,this.y=s*i+o*r+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class on{constructor(e,t,r,i,s,o,a,l,u){on.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],e!==void 0&&this.set(e,t,r,i,s,o,a,l,u)}set(e,t,r,i,s,o,a,l,u){const h=this.elements;return h[0]=e,h[1]=i,h[2]=a,h[3]=t,h[4]=s,h[5]=l,h[6]=r,h[7]=o,h[8]=u,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const t=this.elements,r=e.elements;return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[4]=r[4],t[5]=r[5],t[6]=r[6],t[7]=r[7],t[8]=r[8],this}extractBasis(e,t,r){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),r.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const r=e.elements,i=t.elements,s=this.elements,o=r[0],a=r[3],l=r[6],u=r[1],h=r[4],f=r[7],p=r[2],m=r[5],v=r[8],S=i[0],A=i[3],g=i[6],M=i[1],_=i[4],b=i[7],T=i[2],C=i[5],B=i[8];return s[0]=o*S+a*M+l*T,s[3]=o*A+a*_+l*C,s[6]=o*g+a*b+l*B,s[1]=u*S+h*M+f*T,s[4]=u*A+h*_+f*C,s[7]=u*g+h*b+f*B,s[2]=p*S+m*M+v*T,s[5]=p*A+m*_+v*C,s[8]=p*g+m*b+v*B,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}determinant(){const e=this.elements,t=e[0],r=e[1],i=e[2],s=e[3],o=e[4],a=e[5],l=e[6],u=e[7],h=e[8];return t*o*h-t*a*u-r*s*h+r*a*l+i*s*u-i*o*l}invert(){const e=this.elements,t=e[0],r=e[1],i=e[2],s=e[3],o=e[4],a=e[5],l=e[6],u=e[7],h=e[8],f=h*o-a*u,p=a*l-h*s,m=u*s-o*l,v=t*f+r*p+i*m;if(v===0)return this.set(0,0,0,0,0,0,0,0,0);const S=1/v;return e[0]=f*S,e[1]=(i*u-h*r)*S,e[2]=(a*r-i*o)*S,e[3]=p*S,e[4]=(h*t-i*l)*S,e[5]=(i*s-a*t)*S,e[6]=m*S,e[7]=(r*l-u*t)*S,e[8]=(o*t-r*s)*S,this}transpose(){let e;const t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}setUvTransform(e,t,r,i,s,o,a){const l=Math.cos(s),u=Math.sin(s);return this.set(r*l,r*u,-r*(l*o+u*a)+o+e,-i*u,i*l,-i*(-u*o+l*a)+a+t,0,0,1),this}scale(e,t){return this.premultiply(rL.makeScale(e,t)),this}rotate(e){return this.premultiply(rL.makeRotation(-e)),this}translate(e,t){return this.premultiply(rL.makeTranslation(e,t)),this}makeTranslation(e,t){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,t,0,0,1),this}makeRotation(e){const t=Math.cos(e),r=Math.sin(e);return this.set(t,-r,0,r,t,0,0,0,1),this}makeScale(e,t){return this.set(e,0,0,0,t,0,0,0,1),this}equals(e){const t=this.elements,r=e.elements;for(let i=0;i<9;i++)if(t[i]!==r[i])return!1;return!0}fromArray(e,t=0){for(let r=0;r<9;r++)this.elements[r]=e[r+t];return this}toArray(e=[],t=0){const r=this.elements;return e[t]=r[0],e[t+1]=r[1],e[t+2]=r[2],e[t+3]=r[3],e[t+4]=r[4],e[t+5]=r[5],e[t+6]=r[6],e[t+7]=r[7],e[t+8]=r[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const rL=new on;function lte(n){for(let e=n.length-1;e>=0;--e)if(n[e]>=65535)return!0;return!1}const DEe={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function J0(n,e){return new DEe[n](e)}function FM(n){return document.createElementNS("http://www.w3.org/1999/xhtml",n)}const B8={};function E_(n){n in B8||(B8[n]=!0,console.warn(n))}function _y(n){return n<.04045?n*.0773993808:Math.pow(n*.9478672986+.0521327014,2.4)}function iL(n){return n<.0031308?n*12.92:1.055*Math.pow(n,.41666)-.055}const FEe=new on().fromArray([.8224621,.0331941,.0170827,.177538,.9668058,.0723974,-1e-7,1e-7,.9105199]),NEe=new on().fromArray([1.2249401,-.0420569,-.0196376,-.2249404,1.0420571,-.0786361,1e-7,0,1.0982735]);function UEe(n){return n.convertSRGBToLinear().applyMatrix3(NEe)}function OEe(n){return n.applyMatrix3(FEe).convertLinearToSRGB()}const kEe={[Hl]:n=>n,[Zt]:n=>n.convertSRGBToLinear(),[vG]:UEe},GEe={[Hl]:n=>n,[Zt]:n=>n.convertLinearToSRGB(),[vG]:OEe},Ba={enabled:!0,get legacyMode(){return console.warn("THREE.ColorManagement: .legacyMode=false renamed to .enabled=true in r150."),!this.enabled},set legacyMode(n){console.warn("THREE.ColorManagement: .legacyMode=false renamed to .enabled=true in r150."),this.enabled=!n},get workingColorSpace(){return Hl},set workingColorSpace(n){console.warn("THREE.ColorManagement: .workingColorSpace is readonly.")},convert:function(n,e,t){if(this.enabled===!1||e===t||!e||!t)return n;const r=kEe[e],i=GEe[t];if(r===void 0||i===void 0)throw new Error(`Unsupported color space conversion, "${e}" to "${t}".`);return i(r(n))},fromWorkingColorSpace:function(n,e){return this.convert(n,this.workingColorSpace,e)},toWorkingColorSpace:function(n,e){return this.convert(n,e,this.workingColorSpace)}};let zv;class AG{static getDataURL(e){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let t;if(e instanceof HTMLCanvasElement)t=e;else{zv===void 0&&(zv=FM("canvas")),zv.width=e.width,zv.height=e.height;const r=zv.getContext("2d");e instanceof ImageData?r.putImageData(e,0,0):r.drawImage(e,0,0,e.width,e.height),t=zv}return t.width>2048||t.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),t.toDataURL("image/jpeg",.6)):t.toDataURL("image/png")}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const t=FM("canvas");t.width=e.width,t.height=e.height;const r=t.getContext("2d");r.drawImage(e,0,0,e.width,e.height);const i=r.getImageData(0,0,e.width,e.height),s=i.data;for(let o=0;o<s.length;o++)s[o]=_y(s[o]/255)*255;return r.putImageData(i,0,0),t}else if(e.data){const t=e.data.slice(0);for(let r=0;r<t.length;r++)t instanceof Uint8Array||t instanceof Uint8ClampedArray?t[r]=Math.floor(_y(t[r]/255)*255):t[r]=_y(t[r]);return{data:t,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}let zEe=0;class Tm{constructor(e=null){this.isSource=!0,Object.defineProperty(this,"id",{value:zEe++}),this.uuid=Qo(),this.data=e,this.version=0}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const r={uuid:this.uuid,url:""},i=this.data;if(i!==null){let s;if(Array.isArray(i)){s=[];for(let o=0,a=i.length;o<a;o++)i[o].isDataTexture?s.push(sL(i[o].image)):s.push(sL(i[o]))}else s=sL(i);r.url=s}return t||(e.images[this.uuid]=r),r}}function sL(n){return typeof HTMLImageElement<"u"&&n instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&n instanceof ImageBitmap?AG.getDataURL(n):n.data?{data:Array.from(n.data),width:n.width,height:n.height,type:n.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let HEe=0;class fr extends ec{constructor(e=fr.DEFAULT_IMAGE,t=fr.DEFAULT_MAPPING,r=ss,i=ss,s=_r,o=Qu,a=lo,l=Hu,u=fr.DEFAULT_ANISOTROPY,h=rf){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:HEe++}),this.uuid=Qo(),this.name="",this.source=new Tm(e),this.mipmaps=[],this.mapping=t,this.channel=0,this.wrapS=r,this.wrapT=i,this.magFilter=s,this.minFilter=o,this.anisotropy=u,this.format=a,this.internalFormat=null,this.type=l,this.offset=new Je(0,0),this.repeat=new Je(1,1),this.center=new Je(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new on,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,typeof h=="string"?this.colorSpace=h:(E_("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace=h===nf?Zt:rf),this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.needsPMREMUpdate=!1}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const r={metadata:{version:4.6,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(r.userData=this.userData),t||(e.textures[this.uuid]=r),r}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==uP)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case Af:e.x=e.x-Math.floor(e.x);break;case ss:e.x=e.x<0?0:1;break;case qy:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case Af:e.y=e.y-Math.floor(e.y);break;case ss:e.y=e.y<0?0:1;break;case qy:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}get encoding(){return E_("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace===Zt?nf:gG}set encoding(e){E_("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace=e===nf?Zt:rf}}fr.DEFAULT_IMAGE=null;fr.DEFAULT_MAPPING=uP;fr.DEFAULT_ANISOTROPY=1;class Gn{constructor(e=0,t=0,r=0,i=1){Gn.prototype.isVector4=!0,this.x=e,this.y=t,this.z=r,this.w=i}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,t,r,i){return this.x=e,this.y=t,this.z=r,this.w=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const t=this.x,r=this.y,i=this.z,s=this.w,o=e.elements;return this.x=o[0]*t+o[4]*r+o[8]*i+o[12]*s,this.y=o[1]*t+o[5]*r+o[9]*i+o[13]*s,this.z=o[2]*t+o[6]*r+o[10]*i+o[14]*s,this.w=o[3]*t+o[7]*r+o[11]*i+o[15]*s,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}setAxisAngleFromRotationMatrix(e){let t,r,i,s;const l=e.elements,u=l[0],h=l[4],f=l[8],p=l[1],m=l[5],v=l[9],S=l[2],A=l[6],g=l[10];if(Math.abs(h-p)<.01&&Math.abs(f-S)<.01&&Math.abs(v-A)<.01){if(Math.abs(h+p)<.1&&Math.abs(f+S)<.1&&Math.abs(v+A)<.1&&Math.abs(u+m+g-3)<.1)return this.set(1,0,0,0),this;t=Math.PI;const _=(u+1)/2,b=(m+1)/2,T=(g+1)/2,C=(h+p)/4,B=(f+S)/4,P=(v+A)/4;return _>b&&_>T?_<.01?(r=0,i=.707106781,s=.707106781):(r=Math.sqrt(_),i=C/r,s=B/r):b>T?b<.01?(r=.707106781,i=0,s=.707106781):(i=Math.sqrt(b),r=C/i,s=P/i):T<.01?(r=.707106781,i=.707106781,s=0):(s=Math.sqrt(T),r=B/s,i=P/s),this.set(r,i,s,t),this}let M=Math.sqrt((A-v)*(A-v)+(f-S)*(f-S)+(p-h)*(p-h));return Math.abs(M)<.001&&(M=1),this.x=(A-v)/M,this.y=(f-S)/M,this.z=(p-h)/M,this.w=Math.acos((u+m+g-1)/2),this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this.w=Math.max(e.w,Math.min(t.w,this.w)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this.w=Math.max(e,Math.min(t,this.w)),this}clampLength(e,t){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(t,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}lerpVectors(e,t,r){return this.x=e.x+(t.x-e.x)*r,this.y=e.y+(t.y-e.y)*r,this.z=e.z+(t.z-e.z)*r,this.w=e.w+(t.w-e.w)*r,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class Vl extends ec{constructor(e=1,t=1,r={}){super(),this.isWebGLRenderTarget=!0,this.width=e,this.height=t,this.depth=1,this.scissor=new Gn(0,0,e,t),this.scissorTest=!1,this.viewport=new Gn(0,0,e,t);const i={width:e,height:t,depth:1};r.encoding!==void 0&&(E_("THREE.WebGLRenderTarget: option.encoding has been replaced by option.colorSpace."),r.colorSpace=r.encoding===nf?Zt:rf),this.texture=new fr(i,r.mapping,r.wrapS,r.wrapT,r.magFilter,r.minFilter,r.format,r.type,r.anisotropy,r.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.flipY=!1,this.texture.generateMipmaps=r.generateMipmaps!==void 0?r.generateMipmaps:!1,this.texture.internalFormat=r.internalFormat!==void 0?r.internalFormat:null,this.texture.minFilter=r.minFilter!==void 0?r.minFilter:_r,this.depthBuffer=r.depthBuffer!==void 0?r.depthBuffer:!0,this.stencilBuffer=r.stencilBuffer!==void 0?r.stencilBuffer:!1,this.depthTexture=r.depthTexture!==void 0?r.depthTexture:null,this.samples=r.samples!==void 0?r.samples:0}setSize(e,t,r=1){(this.width!==e||this.height!==t||this.depth!==r)&&(this.width=e,this.height=t,this.depth=r,this.texture.image.width=e,this.texture.image.height=t,this.texture.image.depth=r,this.dispose()),this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.texture.isRenderTargetTexture=!0;const t=Object.assign({},e.texture.image);return this.texture.source=new Tm(t),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class fP extends fr{constructor(e=null,t=1,r=1,i=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:t,height:r,depth:i},this.magFilter=Gr,this.minFilter=Gr,this.wrapR=ss,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class VEe extends Vl{constructor(e=1,t=1,r=1){super(e,t),this.isWebGLArrayRenderTarget=!0,this.depth=r,this.texture=new fP(null,e,t,r),this.texture.isRenderTargetTexture=!0}}class _G extends fr{constructor(e=null,t=1,r=1,i=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:t,height:r,depth:i},this.magFilter=Gr,this.minFilter=Gr,this.wrapR=ss,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class WEe extends Vl{constructor(e=1,t=1,r=1){super(e,t),this.isWebGL3DRenderTarget=!0,this.depth=r,this.texture=new _G(null,e,t,r),this.texture.isRenderTargetTexture=!0}}class jEe extends Vl{constructor(e=1,t=1,r=1,i={}){super(e,t,i),this.isWebGLMultipleRenderTargets=!0;const s=this.texture;this.texture=[];for(let o=0;o<r;o++)this.texture[o]=s.clone(),this.texture[o].isRenderTargetTexture=!0}setSize(e,t,r=1){if(this.width!==e||this.height!==t||this.depth!==r){this.width=e,this.height=t,this.depth=r;for(let i=0,s=this.texture.length;i<s;i++)this.texture[i].image.width=e,this.texture[i].image.height=t,this.texture[i].image.depth=r;this.dispose()}return this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t),this}copy(e){this.dispose(),this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.texture.length=0;for(let t=0,r=e.texture.length;t<r;t++)this.texture[t]=e.texture[t].clone(),this.texture[t].isRenderTargetTexture=!0;return this}}class Wi{constructor(e=0,t=0,r=0,i=1){this.isQuaternion=!0,this._x=e,this._y=t,this._z=r,this._w=i}static slerpFlat(e,t,r,i,s,o,a){let l=r[i+0],u=r[i+1],h=r[i+2],f=r[i+3];const p=s[o+0],m=s[o+1],v=s[o+2],S=s[o+3];if(a===0){e[t+0]=l,e[t+1]=u,e[t+2]=h,e[t+3]=f;return}if(a===1){e[t+0]=p,e[t+1]=m,e[t+2]=v,e[t+3]=S;return}if(f!==S||l!==p||u!==m||h!==v){let A=1-a;const g=l*p+u*m+h*v+f*S,M=g>=0?1:-1,_=1-g*g;if(_>Number.EPSILON){const T=Math.sqrt(_),C=Math.atan2(T,g*M);A=Math.sin(A*C)/T,a=Math.sin(a*C)/T}const b=a*M;if(l=l*A+p*b,u=u*A+m*b,h=h*A+v*b,f=f*A+S*b,A===1-a){const T=1/Math.sqrt(l*l+u*u+h*h+f*f);l*=T,u*=T,h*=T,f*=T}}e[t]=l,e[t+1]=u,e[t+2]=h,e[t+3]=f}static multiplyQuaternionsFlat(e,t,r,i,s,o){const a=r[i],l=r[i+1],u=r[i+2],h=r[i+3],f=s[o],p=s[o+1],m=s[o+2],v=s[o+3];return e[t]=a*v+h*f+l*m-u*p,e[t+1]=l*v+h*p+u*f-a*m,e[t+2]=u*v+h*m+a*p-l*f,e[t+3]=h*v-a*f-l*p-u*m,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,t,r,i){return this._x=e,this._y=t,this._z=r,this._w=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,t){const r=e._x,i=e._y,s=e._z,o=e._order,a=Math.cos,l=Math.sin,u=a(r/2),h=a(i/2),f=a(s/2),p=l(r/2),m=l(i/2),v=l(s/2);switch(o){case"XYZ":this._x=p*h*f+u*m*v,this._y=u*m*f-p*h*v,this._z=u*h*v+p*m*f,this._w=u*h*f-p*m*v;break;case"YXZ":this._x=p*h*f+u*m*v,this._y=u*m*f-p*h*v,this._z=u*h*v-p*m*f,this._w=u*h*f+p*m*v;break;case"ZXY":this._x=p*h*f-u*m*v,this._y=u*m*f+p*h*v,this._z=u*h*v+p*m*f,this._w=u*h*f-p*m*v;break;case"ZYX":this._x=p*h*f-u*m*v,this._y=u*m*f+p*h*v,this._z=u*h*v-p*m*f,this._w=u*h*f+p*m*v;break;case"YZX":this._x=p*h*f+u*m*v,this._y=u*m*f+p*h*v,this._z=u*h*v-p*m*f,this._w=u*h*f-p*m*v;break;case"XZY":this._x=p*h*f-u*m*v,this._y=u*m*f-p*h*v,this._z=u*h*v+p*m*f,this._w=u*h*f+p*m*v;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+o)}return t!==!1&&this._onChangeCallback(),this}setFromAxisAngle(e,t){const r=t/2,i=Math.sin(r);return this._x=e.x*i,this._y=e.y*i,this._z=e.z*i,this._w=Math.cos(r),this._onChangeCallback(),this}setFromRotationMatrix(e){const t=e.elements,r=t[0],i=t[4],s=t[8],o=t[1],a=t[5],l=t[9],u=t[2],h=t[6],f=t[10],p=r+a+f;if(p>0){const m=.5/Math.sqrt(p+1);this._w=.25/m,this._x=(h-l)*m,this._y=(s-u)*m,this._z=(o-i)*m}else if(r>a&&r>f){const m=2*Math.sqrt(1+r-a-f);this._w=(h-l)/m,this._x=.25*m,this._y=(i+o)/m,this._z=(s+u)/m}else if(a>f){const m=2*Math.sqrt(1+a-r-f);this._w=(s-u)/m,this._x=(i+o)/m,this._y=.25*m,this._z=(l+h)/m}else{const m=2*Math.sqrt(1+f-r-a);this._w=(o-i)/m,this._x=(s+u)/m,this._y=(l+h)/m,this._z=.25*m}return this._onChangeCallback(),this}setFromUnitVectors(e,t){let r=e.dot(t)+1;return r<Number.EPSILON?(r=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=r):(this._x=0,this._y=-e.z,this._z=e.y,this._w=r)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=r),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(Hr(this.dot(e),-1,1)))}rotateTowards(e,t){const r=this.angleTo(e);if(r===0)return this;const i=Math.min(1,t/r);return this.slerp(e,i),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,t){const r=e._x,i=e._y,s=e._z,o=e._w,a=t._x,l=t._y,u=t._z,h=t._w;return this._x=r*h+o*a+i*u-s*l,this._y=i*h+o*l+s*a-r*u,this._z=s*h+o*u+r*l-i*a,this._w=o*h-r*a-i*l-s*u,this._onChangeCallback(),this}slerp(e,t){if(t===0)return this;if(t===1)return this.copy(e);const r=this._x,i=this._y,s=this._z,o=this._w;let a=o*e._w+r*e._x+i*e._y+s*e._z;if(a<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,a=-a):this.copy(e),a>=1)return this._w=o,this._x=r,this._y=i,this._z=s,this;const l=1-a*a;if(l<=Number.EPSILON){const m=1-t;return this._w=m*o+t*this._w,this._x=m*r+t*this._x,this._y=m*i+t*this._y,this._z=m*s+t*this._z,this.normalize(),this._onChangeCallback(),this}const u=Math.sqrt(l),h=Math.atan2(u,a),f=Math.sin((1-t)*h)/u,p=Math.sin(t*h)/u;return this._w=o*f+this._w*p,this._x=r*f+this._x*p,this._y=i*f+this._y*p,this._z=s*f+this._z*p,this._onChangeCallback(),this}slerpQuaternions(e,t,r){return this.copy(e).slerp(t,r)}random(){const e=Math.random(),t=Math.sqrt(1-e),r=Math.sqrt(e),i=2*Math.PI*Math.random(),s=2*Math.PI*Math.random();return this.set(t*Math.cos(i),r*Math.sin(s),r*Math.cos(s),t*Math.sin(i))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,t=0){return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}fromBufferAttribute(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class ie{constructor(e=0,t=0,r=0){ie.prototype.isVector3=!0,this.x=e,this.y=t,this.z=r}set(e,t,r){return r===void 0&&(r=this.z),this.x=e,this.y=t,this.z=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}applyEuler(e){return this.applyQuaternion(L8.setFromEuler(e))}applyAxisAngle(e,t){return this.applyQuaternion(L8.setFromAxisAngle(e,t))}applyMatrix3(e){const t=this.x,r=this.y,i=this.z,s=e.elements;return this.x=s[0]*t+s[3]*r+s[6]*i,this.y=s[1]*t+s[4]*r+s[7]*i,this.z=s[2]*t+s[5]*r+s[8]*i,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const t=this.x,r=this.y,i=this.z,s=e.elements,o=1/(s[3]*t+s[7]*r+s[11]*i+s[15]);return this.x=(s[0]*t+s[4]*r+s[8]*i+s[12])*o,this.y=(s[1]*t+s[5]*r+s[9]*i+s[13])*o,this.z=(s[2]*t+s[6]*r+s[10]*i+s[14])*o,this}applyQuaternion(e){const t=this.x,r=this.y,i=this.z,s=e.x,o=e.y,a=e.z,l=e.w,u=l*t+o*i-a*r,h=l*r+a*t-s*i,f=l*i+s*r-o*t,p=-s*t-o*r-a*i;return this.x=u*l+p*-s+h*-a-f*-o,this.y=h*l+p*-o+f*-s-u*-a,this.z=f*l+p*-a+u*-o-h*-s,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const t=this.x,r=this.y,i=this.z,s=e.elements;return this.x=s[0]*t+s[4]*r+s[8]*i,this.y=s[1]*t+s[5]*r+s[9]*i,this.z=s[2]*t+s[6]*r+s[10]*i,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this}clampLength(e,t){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(t,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}lerpVectors(e,t,r){return this.x=e.x+(t.x-e.x)*r,this.y=e.y+(t.y-e.y)*r,this.z=e.z+(t.z-e.z)*r,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,t){const r=e.x,i=e.y,s=e.z,o=t.x,a=t.y,l=t.z;return this.x=i*l-s*a,this.y=s*o-r*l,this.z=r*a-i*o,this}projectOnVector(e){const t=e.lengthSq();if(t===0)return this.set(0,0,0);const r=e.dot(this)/t;return this.copy(e).multiplyScalar(r)}projectOnPlane(e){return oL.copy(this).projectOnVector(e),this.sub(oL)}reflect(e){return this.sub(oL.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const r=this.dot(e)/t;return Math.acos(Hr(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,r=this.y-e.y,i=this.z-e.z;return t*t+r*r+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,t,r){const i=Math.sin(t)*e;return this.x=i*Math.sin(r),this.y=Math.cos(t)*e,this.z=i*Math.cos(r),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,t,r){return this.x=e*Math.sin(t),this.y=r,this.z=e*Math.cos(t),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}setFromMatrixScale(e){const t=this.setFromMatrixColumn(e,0).length(),r=this.setFromMatrixColumn(e,1).length(),i=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=r,this.z=i,this}setFromMatrixColumn(e,t){return this.fromArray(e.elements,t*4)}setFromMatrix3Column(e,t){return this.fromArray(e.elements,t*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=(Math.random()-.5)*2,t=Math.random()*Math.PI*2,r=Math.sqrt(1-e**2);return this.x=r*Math.cos(t),this.y=r*Math.sin(t),this.z=e,this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const oL=new ie,L8=new Wi;class Yl{constructor(e=new ie(1/0,1/0,1/0),t=new ie(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromArray(e){this.makeEmpty();for(let t=0,r=e.length;t<r;t+=3)this.expandByPoint(kc.fromArray(e,t));return this}setFromBufferAttribute(e){this.makeEmpty();for(let t=0,r=e.count;t<r;t++)this.expandByPoint(kc.fromBufferAttribute(e,t));return this}setFromPoints(e){this.makeEmpty();for(let t=0,r=e.length;t<r;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const r=kc.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}setFromObject(e,t=!1){return this.makeEmpty(),this.expandByObject(e,t)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,t=!1){if(e.updateWorldMatrix(!1,!1),e.boundingBox!==void 0)e.boundingBox===null&&e.computeBoundingBox(),Hv.copy(e.boundingBox),Hv.applyMatrix4(e.matrixWorld),this.union(Hv);else{const i=e.geometry;if(i!==void 0)if(t&&i.attributes!==void 0&&i.attributes.position!==void 0){const s=i.attributes.position;for(let o=0,a=s.count;o<a;o++)kc.fromBufferAttribute(s,o).applyMatrix4(e.matrixWorld),this.expandByPoint(kc)}else i.boundingBox===null&&i.computeBoundingBox(),Hv.copy(i.boundingBox),Hv.applyMatrix4(e.matrixWorld),this.union(Hv)}const r=e.children;for(let i=0,s=r.length;i<s;i++)this.expandByObject(r[i],t);return this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}intersectsSphere(e){return this.clampPoint(e.center,kc),kc.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let t,r;return e.normal.x>0?(t=e.normal.x*this.min.x,r=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,r=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,r+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,r+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,r+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,r+=e.normal.z*this.min.z),t<=-e.constant&&r>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(g1),Gb.subVectors(this.max,g1),Vv.subVectors(e.a,g1),Wv.subVectors(e.b,g1),jv.subVectors(e.c,g1),sd.subVectors(Wv,Vv),od.subVectors(jv,Wv),Ip.subVectors(Vv,jv);let t=[0,-sd.z,sd.y,0,-od.z,od.y,0,-Ip.z,Ip.y,sd.z,0,-sd.x,od.z,0,-od.x,Ip.z,0,-Ip.x,-sd.y,sd.x,0,-od.y,od.x,0,-Ip.y,Ip.x,0];return!aL(t,Vv,Wv,jv,Gb)||(t=[1,0,0,0,1,0,0,0,1],!aL(t,Vv,Wv,jv,Gb))?!1:(zb.crossVectors(sd,od),t=[zb.x,zb.y,zb.z],aL(t,Vv,Wv,jv,Gb))}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,kc).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=this.getSize(kc).length()*.5),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(Oc[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),Oc[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),Oc[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),Oc[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),Oc[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),Oc[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),Oc[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),Oc[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(Oc),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const Oc=[new ie,new ie,new ie,new ie,new ie,new ie,new ie,new ie],kc=new ie,Hv=new Yl,Vv=new ie,Wv=new ie,jv=new ie,sd=new ie,od=new ie,Ip=new ie,g1=new ie,Gb=new ie,zb=new ie,Dp=new ie;function aL(n,e,t,r,i){for(let s=0,o=n.length-3;s<=o;s+=3){Dp.fromArray(n,s);const a=i.x*Math.abs(Dp.x)+i.y*Math.abs(Dp.y)+i.z*Math.abs(Dp.z),l=e.dot(Dp),u=t.dot(Dp),h=r.dot(Dp);if(Math.max(-Math.max(l,u,h),Math.min(l,u,h))>a)return!1}return!0}const XEe=new Yl,v1=new ie,lL=new ie;class $a{constructor(e=new ie,t=-1){this.center=e,this.radius=t}set(e,t){return this.center.copy(e),this.radius=t,this}setFromPoints(e,t){const r=this.center;t!==void 0?r.copy(t):XEe.setFromPoints(e).getCenter(r);let i=0;for(let s=0,o=e.length;s<o;s++)i=Math.max(i,r.distanceToSquared(e[s]));return this.radius=Math.sqrt(i),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,t){const r=this.center.distanceToSquared(e);return t.copy(e),r>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;v1.subVectors(e,this.center);const t=v1.lengthSq();if(t>this.radius*this.radius){const r=Math.sqrt(t),i=(r-this.radius)*.5;this.center.addScaledVector(v1,i/r),this.radius+=i}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(lL.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(v1.copy(e.center).add(lL)),this.expandByPoint(v1.copy(e.center).sub(lL))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}}const Gc=new ie,uL=new ie,Hb=new ie,ad=new ie,cL=new ie,Vb=new ie,hL=new ie;class wx{constructor(e=new ie,t=new ie(0,0,-1)){this.origin=e,this.direction=t}set(e,t){return this.origin.copy(e),this.direction.copy(t),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,t){return t.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,Gc)),this}closestPointToPoint(e,t){t.subVectors(e,this.origin);const r=t.dot(this.direction);return r<0?t.copy(this.origin):t.copy(this.origin).addScaledVector(this.direction,r)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const t=Gc.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(Gc.copy(this.origin).addScaledVector(this.direction,t),Gc.distanceToSquared(e))}distanceSqToSegment(e,t,r,i){uL.copy(e).add(t).multiplyScalar(.5),Hb.copy(t).sub(e).normalize(),ad.copy(this.origin).sub(uL);const s=e.distanceTo(t)*.5,o=-this.direction.dot(Hb),a=ad.dot(this.direction),l=-ad.dot(Hb),u=ad.lengthSq(),h=Math.abs(1-o*o);let f,p,m,v;if(h>0)if(f=o*l-a,p=o*a-l,v=s*h,f>=0)if(p>=-v)if(p<=v){const S=1/h;f*=S,p*=S,m=f*(f+o*p+2*a)+p*(o*f+p+2*l)+u}else p=s,f=Math.max(0,-(o*p+a)),m=-f*f+p*(p+2*l)+u;else p=-s,f=Math.max(0,-(o*p+a)),m=-f*f+p*(p+2*l)+u;else p<=-v?(f=Math.max(0,-(-o*s+a)),p=f>0?-s:Math.min(Math.max(-s,-l),s),m=-f*f+p*(p+2*l)+u):p<=v?(f=0,p=Math.min(Math.max(-s,-l),s),m=p*(p+2*l)+u):(f=Math.max(0,-(o*s+a)),p=f>0?s:Math.min(Math.max(-s,-l),s),m=-f*f+p*(p+2*l)+u);else p=o>0?-s:s,f=Math.max(0,-(o*p+a)),m=-f*f+p*(p+2*l)+u;return r&&r.copy(this.origin).addScaledVector(this.direction,f),i&&i.copy(uL).addScaledVector(Hb,p),m}intersectSphere(e,t){Gc.subVectors(e.center,this.origin);const r=Gc.dot(this.direction),i=Gc.dot(Gc)-r*r,s=e.radius*e.radius;if(i>s)return null;const o=Math.sqrt(s-i),a=r-o,l=r+o;return l<0?null:a<0?this.at(l,t):this.at(a,t)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const t=e.normal.dot(this.direction);if(t===0)return e.distanceToPoint(this.origin)===0?0:null;const r=-(this.origin.dot(e.normal)+e.constant)/t;return r>=0?r:null}intersectPlane(e,t){const r=this.distanceToPlane(e);return r===null?null:this.at(r,t)}intersectsPlane(e){const t=e.distanceToPoint(this.origin);return t===0||e.normal.dot(this.direction)*t<0}intersectBox(e,t){let r,i,s,o,a,l;const u=1/this.direction.x,h=1/this.direction.y,f=1/this.direction.z,p=this.origin;return u>=0?(r=(e.min.x-p.x)*u,i=(e.max.x-p.x)*u):(r=(e.max.x-p.x)*u,i=(e.min.x-p.x)*u),h>=0?(s=(e.min.y-p.y)*h,o=(e.max.y-p.y)*h):(s=(e.max.y-p.y)*h,o=(e.min.y-p.y)*h),r>o||s>i||((s>r||isNaN(r))&&(r=s),(o<i||isNaN(i))&&(i=o),f>=0?(a=(e.min.z-p.z)*f,l=(e.max.z-p.z)*f):(a=(e.max.z-p.z)*f,l=(e.min.z-p.z)*f),r>l||a>i)||((a>r||r!==r)&&(r=a),(l<i||i!==i)&&(i=l),i<0)?null:this.at(r>=0?r:i,t)}intersectsBox(e){return this.intersectBox(e,Gc)!==null}intersectTriangle(e,t,r,i,s){cL.subVectors(t,e),Vb.subVectors(r,e),hL.crossVectors(cL,Vb);let o=this.direction.dot(hL),a;if(o>0){if(i)return null;a=1}else if(o<0)a=-1,o=-o;else return null;ad.subVectors(this.origin,e);const l=a*this.direction.dot(Vb.crossVectors(ad,Vb));if(l<0)return null;const u=a*this.direction.dot(cL.cross(ad));if(u<0||l+u>o)return null;const h=-a*ad.dot(hL);return h<0?null:this.at(h/o,s)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class Ht{constructor(e,t,r,i,s,o,a,l,u,h,f,p,m,v,S,A){Ht.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],e!==void 0&&this.set(e,t,r,i,s,o,a,l,u,h,f,p,m,v,S,A)}set(e,t,r,i,s,o,a,l,u,h,f,p,m,v,S,A){const g=this.elements;return g[0]=e,g[4]=t,g[8]=r,g[12]=i,g[1]=s,g[5]=o,g[9]=a,g[13]=l,g[2]=u,g[6]=h,g[10]=f,g[14]=p,g[3]=m,g[7]=v,g[11]=S,g[15]=A,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new Ht().fromArray(this.elements)}copy(e){const t=this.elements,r=e.elements;return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[4]=r[4],t[5]=r[5],t[6]=r[6],t[7]=r[7],t[8]=r[8],t[9]=r[9],t[10]=r[10],t[11]=r[11],t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15],this}copyPosition(e){const t=this.elements,r=e.elements;return t[12]=r[12],t[13]=r[13],t[14]=r[14],this}setFromMatrix3(e){const t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}extractBasis(e,t,r){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),r.setFromMatrixColumn(this,2),this}makeBasis(e,t,r){return this.set(e.x,t.x,r.x,0,e.y,t.y,r.y,0,e.z,t.z,r.z,0,0,0,0,1),this}extractRotation(e){const t=this.elements,r=e.elements,i=1/Xv.setFromMatrixColumn(e,0).length(),s=1/Xv.setFromMatrixColumn(e,1).length(),o=1/Xv.setFromMatrixColumn(e,2).length();return t[0]=r[0]*i,t[1]=r[1]*i,t[2]=r[2]*i,t[3]=0,t[4]=r[4]*s,t[5]=r[5]*s,t[6]=r[6]*s,t[7]=0,t[8]=r[8]*o,t[9]=r[9]*o,t[10]=r[10]*o,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromEuler(e){const t=this.elements,r=e.x,i=e.y,s=e.z,o=Math.cos(r),a=Math.sin(r),l=Math.cos(i),u=Math.sin(i),h=Math.cos(s),f=Math.sin(s);if(e.order==="XYZ"){const p=o*h,m=o*f,v=a*h,S=a*f;t[0]=l*h,t[4]=-l*f,t[8]=u,t[1]=m+v*u,t[5]=p-S*u,t[9]=-a*l,t[2]=S-p*u,t[6]=v+m*u,t[10]=o*l}else if(e.order==="YXZ"){const p=l*h,m=l*f,v=u*h,S=u*f;t[0]=p+S*a,t[4]=v*a-m,t[8]=o*u,t[1]=o*f,t[5]=o*h,t[9]=-a,t[2]=m*a-v,t[6]=S+p*a,t[10]=o*l}else if(e.order==="ZXY"){const p=l*h,m=l*f,v=u*h,S=u*f;t[0]=p-S*a,t[4]=-o*f,t[8]=v+m*a,t[1]=m+v*a,t[5]=o*h,t[9]=S-p*a,t[2]=-o*u,t[6]=a,t[10]=o*l}else if(e.order==="ZYX"){const p=o*h,m=o*f,v=a*h,S=a*f;t[0]=l*h,t[4]=v*u-m,t[8]=p*u+S,t[1]=l*f,t[5]=S*u+p,t[9]=m*u-v,t[2]=-u,t[6]=a*l,t[10]=o*l}else if(e.order==="YZX"){const p=o*l,m=o*u,v=a*l,S=a*u;t[0]=l*h,t[4]=S-p*f,t[8]=v*f+m,t[1]=f,t[5]=o*h,t[9]=-a*h,t[2]=-u*h,t[6]=m*f+v,t[10]=p-S*f}else if(e.order==="XZY"){const p=o*l,m=o*u,v=a*l,S=a*u;t[0]=l*h,t[4]=-f,t[8]=u*h,t[1]=p*f+S,t[5]=o*h,t[9]=m*f-v,t[2]=v*f-m,t[6]=a*h,t[10]=S*f+p}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromQuaternion(e){return this.compose(JEe,e,YEe)}lookAt(e,t,r){const i=this.elements;return Fo.subVectors(e,t),Fo.lengthSq()===0&&(Fo.z=1),Fo.normalize(),ld.crossVectors(r,Fo),ld.lengthSq()===0&&(Math.abs(r.z)===1?Fo.x+=1e-4:Fo.z+=1e-4,Fo.normalize(),ld.crossVectors(r,Fo)),ld.normalize(),Wb.crossVectors(Fo,ld),i[0]=ld.x,i[4]=Wb.x,i[8]=Fo.x,i[1]=ld.y,i[5]=Wb.y,i[9]=Fo.y,i[2]=ld.z,i[6]=Wb.z,i[10]=Fo.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const r=e.elements,i=t.elements,s=this.elements,o=r[0],a=r[4],l=r[8],u=r[12],h=r[1],f=r[5],p=r[9],m=r[13],v=r[2],S=r[6],A=r[10],g=r[14],M=r[3],_=r[7],b=r[11],T=r[15],C=i[0],B=i[4],P=i[8],R=i[12],L=i[1],U=i[5],Q=i[9],W=i[13],Y=i[2],X=i[6],ae=i[10],Z=i[14],D=i[3],k=i[7],G=i[11],K=i[15];return s[0]=o*C+a*L+l*Y+u*D,s[4]=o*B+a*U+l*X+u*k,s[8]=o*P+a*Q+l*ae+u*G,s[12]=o*R+a*W+l*Z+u*K,s[1]=h*C+f*L+p*Y+m*D,s[5]=h*B+f*U+p*X+m*k,s[9]=h*P+f*Q+p*ae+m*G,s[13]=h*R+f*W+p*Z+m*K,s[2]=v*C+S*L+A*Y+g*D,s[6]=v*B+S*U+A*X+g*k,s[10]=v*P+S*Q+A*ae+g*G,s[14]=v*R+S*W+A*Z+g*K,s[3]=M*C+_*L+b*Y+T*D,s[7]=M*B+_*U+b*X+T*k,s[11]=M*P+_*Q+b*ae+T*G,s[15]=M*R+_*W+b*Z+T*K,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}determinant(){const e=this.elements,t=e[0],r=e[4],i=e[8],s=e[12],o=e[1],a=e[5],l=e[9],u=e[13],h=e[2],f=e[6],p=e[10],m=e[14],v=e[3],S=e[7],A=e[11],g=e[15];return v*(+s*l*f-i*u*f-s*a*p+r*u*p+i*a*m-r*l*m)+S*(+t*l*m-t*u*p+s*o*p-i*o*m+i*u*h-s*l*h)+A*(+t*u*f-t*a*m-s*o*f+r*o*m+s*a*h-r*u*h)+g*(-i*a*h-t*l*f+t*a*p+i*o*f-r*o*p+r*l*h)}transpose(){const e=this.elements;let t;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this}setPosition(e,t,r){const i=this.elements;return e.isVector3?(i[12]=e.x,i[13]=e.y,i[14]=e.z):(i[12]=e,i[13]=t,i[14]=r),this}invert(){const e=this.elements,t=e[0],r=e[1],i=e[2],s=e[3],o=e[4],a=e[5],l=e[6],u=e[7],h=e[8],f=e[9],p=e[10],m=e[11],v=e[12],S=e[13],A=e[14],g=e[15],M=f*A*u-S*p*u+S*l*m-a*A*m-f*l*g+a*p*g,_=v*p*u-h*A*u-v*l*m+o*A*m+h*l*g-o*p*g,b=h*S*u-v*f*u+v*a*m-o*S*m-h*a*g+o*f*g,T=v*f*l-h*S*l-v*a*p+o*S*p+h*a*A-o*f*A,C=t*M+r*_+i*b+s*T;if(C===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const B=1/C;return e[0]=M*B,e[1]=(S*p*s-f*A*s-S*i*m+r*A*m+f*i*g-r*p*g)*B,e[2]=(a*A*s-S*l*s+S*i*u-r*A*u-a*i*g+r*l*g)*B,e[3]=(f*l*s-a*p*s-f*i*u+r*p*u+a*i*m-r*l*m)*B,e[4]=_*B,e[5]=(h*A*s-v*p*s+v*i*m-t*A*m-h*i*g+t*p*g)*B,e[6]=(v*l*s-o*A*s-v*i*u+t*A*u+o*i*g-t*l*g)*B,e[7]=(o*p*s-h*l*s+h*i*u-t*p*u-o*i*m+t*l*m)*B,e[8]=b*B,e[9]=(v*f*s-h*S*s-v*r*m+t*S*m+h*r*g-t*f*g)*B,e[10]=(o*S*s-v*a*s+v*r*u-t*S*u-o*r*g+t*a*g)*B,e[11]=(h*a*s-o*f*s-h*r*u+t*f*u+o*r*m-t*a*m)*B,e[12]=T*B,e[13]=(h*S*i-v*f*i+v*r*p-t*S*p-h*r*A+t*f*A)*B,e[14]=(v*a*i-o*S*i-v*r*l+t*S*l+o*r*A-t*a*A)*B,e[15]=(o*f*i-h*a*i+h*r*l-t*f*l-o*r*p+t*a*p)*B,this}scale(e){const t=this.elements,r=e.x,i=e.y,s=e.z;return t[0]*=r,t[4]*=i,t[8]*=s,t[1]*=r,t[5]*=i,t[9]*=s,t[2]*=r,t[6]*=i,t[10]*=s,t[3]*=r,t[7]*=i,t[11]*=s,this}getMaxScaleOnAxis(){const e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],r=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],i=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,r,i))}makeTranslation(e,t,r){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,t,0,0,1,r,0,0,0,1),this}makeRotationX(e){const t=Math.cos(e),r=Math.sin(e);return this.set(1,0,0,0,0,t,-r,0,0,r,t,0,0,0,0,1),this}makeRotationY(e){const t=Math.cos(e),r=Math.sin(e);return this.set(t,0,r,0,0,1,0,0,-r,0,t,0,0,0,0,1),this}makeRotationZ(e){const t=Math.cos(e),r=Math.sin(e);return this.set(t,-r,0,0,r,t,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,t){const r=Math.cos(t),i=Math.sin(t),s=1-r,o=e.x,a=e.y,l=e.z,u=s*o,h=s*a;return this.set(u*o+r,u*a-i*l,u*l+i*a,0,u*a+i*l,h*a+r,h*l-i*o,0,u*l-i*a,h*l+i*o,s*l*l+r,0,0,0,0,1),this}makeScale(e,t,r){return this.set(e,0,0,0,0,t,0,0,0,0,r,0,0,0,0,1),this}makeShear(e,t,r,i,s,o){return this.set(1,r,s,0,e,1,o,0,t,i,1,0,0,0,0,1),this}compose(e,t,r){const i=this.elements,s=t._x,o=t._y,a=t._z,l=t._w,u=s+s,h=o+o,f=a+a,p=s*u,m=s*h,v=s*f,S=o*h,A=o*f,g=a*f,M=l*u,_=l*h,b=l*f,T=r.x,C=r.y,B=r.z;return i[0]=(1-(S+g))*T,i[1]=(m+b)*T,i[2]=(v-_)*T,i[3]=0,i[4]=(m-b)*C,i[5]=(1-(p+g))*C,i[6]=(A+M)*C,i[7]=0,i[8]=(v+_)*B,i[9]=(A-M)*B,i[10]=(1-(p+S))*B,i[11]=0,i[12]=e.x,i[13]=e.y,i[14]=e.z,i[15]=1,this}decompose(e,t,r){const i=this.elements;let s=Xv.set(i[0],i[1],i[2]).length();const o=Xv.set(i[4],i[5],i[6]).length(),a=Xv.set(i[8],i[9],i[10]).length();this.determinant()<0&&(s=-s),e.x=i[12],e.y=i[13],e.z=i[14],ml.copy(this);const u=1/s,h=1/o,f=1/a;return ml.elements[0]*=u,ml.elements[1]*=u,ml.elements[2]*=u,ml.elements[4]*=h,ml.elements[5]*=h,ml.elements[6]*=h,ml.elements[8]*=f,ml.elements[9]*=f,ml.elements[10]*=f,t.setFromRotationMatrix(ml),r.x=s,r.y=o,r.z=a,this}makePerspective(e,t,r,i,s,o,a=Iu){const l=this.elements,u=2*s/(t-e),h=2*s/(r-i),f=(t+e)/(t-e),p=(r+i)/(r-i);let m,v;if(a===Iu)m=-(o+s)/(o-s),v=-2*o*s/(o-s);else if(a===DM)m=-o/(o-s),v=-o*s/(o-s);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+a);return l[0]=u,l[4]=0,l[8]=f,l[12]=0,l[1]=0,l[5]=h,l[9]=p,l[13]=0,l[2]=0,l[6]=0,l[10]=m,l[14]=v,l[3]=0,l[7]=0,l[11]=-1,l[15]=0,this}makeOrthographic(e,t,r,i,s,o,a=Iu){const l=this.elements,u=1/(t-e),h=1/(r-i),f=1/(o-s),p=(t+e)*u,m=(r+i)*h;let v,S;if(a===Iu)v=(o+s)*f,S=-2*f;else if(a===DM)v=s*f,S=-1*f;else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+a);return l[0]=2*u,l[4]=0,l[8]=0,l[12]=-p,l[1]=0,l[5]=2*h,l[9]=0,l[13]=-m,l[2]=0,l[6]=0,l[10]=S,l[14]=-v,l[3]=0,l[7]=0,l[11]=0,l[15]=1,this}equals(e){const t=this.elements,r=e.elements;for(let i=0;i<16;i++)if(t[i]!==r[i])return!1;return!0}fromArray(e,t=0){for(let r=0;r<16;r++)this.elements[r]=e[r+t];return this}toArray(e=[],t=0){const r=this.elements;return e[t]=r[0],e[t+1]=r[1],e[t+2]=r[2],e[t+3]=r[3],e[t+4]=r[4],e[t+5]=r[5],e[t+6]=r[6],e[t+7]=r[7],e[t+8]=r[8],e[t+9]=r[9],e[t+10]=r[10],e[t+11]=r[11],e[t+12]=r[12],e[t+13]=r[13],e[t+14]=r[14],e[t+15]=r[15],e}}const Xv=new ie,ml=new Ht,JEe=new ie(0,0,0),YEe=new ie(1,1,1),ld=new ie,Wb=new ie,Fo=new ie,I8=new Ht,D8=new Wi;class xg{constructor(e=0,t=0,r=0,i=xg.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=t,this._z=r,this._order=i}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,t,r,i=this._order){return this._x=e,this._y=t,this._z=r,this._order=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,t=this._order,r=!0){const i=e.elements,s=i[0],o=i[4],a=i[8],l=i[1],u=i[5],h=i[9],f=i[2],p=i[6],m=i[10];switch(t){case"XYZ":this._y=Math.asin(Hr(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(-h,m),this._z=Math.atan2(-o,s)):(this._x=Math.atan2(p,u),this._z=0);break;case"YXZ":this._x=Math.asin(-Hr(h,-1,1)),Math.abs(h)<.9999999?(this._y=Math.atan2(a,m),this._z=Math.atan2(l,u)):(this._y=Math.atan2(-f,s),this._z=0);break;case"ZXY":this._x=Math.asin(Hr(p,-1,1)),Math.abs(p)<.9999999?(this._y=Math.atan2(-f,m),this._z=Math.atan2(-o,u)):(this._y=0,this._z=Math.atan2(l,s));break;case"ZYX":this._y=Math.asin(-Hr(f,-1,1)),Math.abs(f)<.9999999?(this._x=Math.atan2(p,m),this._z=Math.atan2(l,s)):(this._x=0,this._z=Math.atan2(-o,u));break;case"YZX":this._z=Math.asin(Hr(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-h,u),this._y=Math.atan2(-f,s)):(this._x=0,this._y=Math.atan2(a,m));break;case"XZY":this._z=Math.asin(-Hr(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(p,u),this._y=Math.atan2(a,s)):(this._x=Math.atan2(-h,m),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+t)}return this._order=t,r===!0&&this._onChangeCallback(),this}setFromQuaternion(e,t,r){return I8.makeRotationFromQuaternion(e),this.setFromRotationMatrix(I8,t,r)}setFromVector3(e,t=this._order){return this.set(e.x,e.y,e.z,t)}reorder(e){return D8.setFromEuler(this),this.setFromQuaternion(D8,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}xg.DEFAULT_ORDER="XYZ";class Wm{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let KEe=0;const F8=new ie,Jv=new Wi,zc=new Ht,jb=new ie,y1=new ie,QEe=new ie,qEe=new Wi,N8=new ie(1,0,0),U8=new ie(0,1,0),O8=new ie(0,0,1),ZEe={type:"added"},k8={type:"removed"};class Sn extends ec{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:KEe++}),this.uuid=Qo(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=Sn.DEFAULT_UP.clone();const e=new ie,t=new xg,r=new Wi,i=new ie(1,1,1);function s(){r.setFromEuler(t,!1)}function o(){t.setFromQuaternion(r,void 0,!1)}t._onChange(s),r._onChange(o),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:r},scale:{configurable:!0,enumerable:!0,value:i},modelViewMatrix:{value:new Ht},normalMatrix:{value:new on}}),this.matrix=new Ht,this.matrixWorld=new Ht,this.matrixAutoUpdate=Sn.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.matrixWorldAutoUpdate=Sn.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.layers=new Wm,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,t){this.quaternion.setFromAxisAngle(e,t)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,t){return Jv.setFromAxisAngle(e,t),this.quaternion.multiply(Jv),this}rotateOnWorldAxis(e,t){return Jv.setFromAxisAngle(e,t),this.quaternion.premultiply(Jv),this}rotateX(e){return this.rotateOnAxis(N8,e)}rotateY(e){return this.rotateOnAxis(U8,e)}rotateZ(e){return this.rotateOnAxis(O8,e)}translateOnAxis(e,t){return F8.copy(e).applyQuaternion(this.quaternion),this.position.add(F8.multiplyScalar(t)),this}translateX(e){return this.translateOnAxis(N8,e)}translateY(e){return this.translateOnAxis(U8,e)}translateZ(e){return this.translateOnAxis(O8,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(zc.copy(this.matrixWorld).invert())}lookAt(e,t,r){e.isVector3?jb.copy(e):jb.set(e,t,r);const i=this.parent;this.updateWorldMatrix(!0,!1),y1.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?zc.lookAt(y1,jb,this.up):zc.lookAt(jb,y1,this.up),this.quaternion.setFromRotationMatrix(zc),i&&(zc.extractRotation(i.matrixWorld),Jv.setFromRotationMatrix(zc),this.quaternion.premultiply(Jv.invert()))}add(e){if(arguments.length>1){for(let t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.parent!==null&&e.parent.remove(e),e.parent=this,this.children.push(e),e.dispatchEvent(ZEe)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let r=0;r<arguments.length;r++)this.remove(arguments[r]);return this}const t=this.children.indexOf(e);return t!==-1&&(e.parent=null,this.children.splice(t,1),e.dispatchEvent(k8)),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){for(let e=0;e<this.children.length;e++){const t=this.children[e];t.parent=null,t.dispatchEvent(k8)}return this.children.length=0,this}attach(e){return this.updateWorldMatrix(!0,!1),zc.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),zc.multiply(e.parent.matrixWorld)),e.applyMatrix4(zc),this.add(e),e.updateWorldMatrix(!1,!0),this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,t){if(this[e]===t)return this;for(let r=0,i=this.children.length;r<i;r++){const o=this.children[r].getObjectByProperty(e,t);if(o!==void 0)return o}}getObjectsByProperty(e,t){let r=[];this[e]===t&&r.push(this);for(let i=0,s=this.children.length;i<s;i++){const o=this.children[i].getObjectsByProperty(e,t);o.length>0&&(r=r.concat(o))}return r}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(y1,e,QEe),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(y1,qEe,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()}raycast(){}traverse(e){e(this);const t=this.children;for(let r=0,i=t.length;r<i;r++)t[r].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const t=this.children;for(let r=0,i=t.length;r<i;r++)t[r].traverseVisible(e)}traverseAncestors(e){const t=this.parent;t!==null&&(e(t),t.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);const t=this.children;for(let r=0,i=t.length;r<i;r++){const s=t[r];(s.matrixWorldAutoUpdate===!0||e===!0)&&s.updateMatrixWorld(e)}}updateWorldMatrix(e,t){const r=this.parent;if(e===!0&&r!==null&&r.matrixWorldAutoUpdate===!0&&r.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),t===!0){const i=this.children;for(let s=0,o=i.length;s<o;s++){const a=i[s];a.matrixWorldAutoUpdate===!0&&a.updateWorldMatrix(!1,!0)}}}toJSON(e){const t=e===void 0||typeof e=="string",r={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},r.metadata={version:4.6,type:"Object",generator:"Object3D.toJSON"});const i={};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.castShadow===!0&&(i.castShadow=!0),this.receiveShadow===!0&&(i.receiveShadow=!0),this.visible===!1&&(i.visible=!1),this.frustumCulled===!1&&(i.frustumCulled=!1),this.renderOrder!==0&&(i.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(i.userData=this.userData),i.layers=this.layers.mask,i.matrix=this.matrix.toArray(),i.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(i.matrixAutoUpdate=!1),this.isInstancedMesh&&(i.type="InstancedMesh",i.count=this.count,i.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(i.instanceColor=this.instanceColor.toJSON()));function s(a,l){return a[l.uuid]===void 0&&(a[l.uuid]=l.toJSON(e)),l.uuid}if(this.isScene)this.background&&(this.background.isColor?i.background=this.background.toJSON():this.background.isTexture&&(i.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(i.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){i.geometry=s(e.geometries,this.geometry);const a=this.geometry.parameters;if(a!==void 0&&a.shapes!==void 0){const l=a.shapes;if(Array.isArray(l))for(let u=0,h=l.length;u<h;u++){const f=l[u];s(e.shapes,f)}else s(e.shapes,l)}}if(this.isSkinnedMesh&&(i.bindMode=this.bindMode,i.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(s(e.skeletons,this.skeleton),i.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const a=[];for(let l=0,u=this.material.length;l<u;l++)a.push(s(e.materials,this.material[l]));i.material=a}else i.material=s(e.materials,this.material);if(this.children.length>0){i.children=[];for(let a=0;a<this.children.length;a++)i.children.push(this.children[a].toJSON(e).object)}if(this.animations.length>0){i.animations=[];for(let a=0;a<this.animations.length;a++){const l=this.animations[a];i.animations.push(s(e.animations,l))}}if(t){const a=o(e.geometries),l=o(e.materials),u=o(e.textures),h=o(e.images),f=o(e.shapes),p=o(e.skeletons),m=o(e.animations),v=o(e.nodes);a.length>0&&(r.geometries=a),l.length>0&&(r.materials=l),u.length>0&&(r.textures=u),h.length>0&&(r.images=h),f.length>0&&(r.shapes=f),p.length>0&&(r.skeletons=p),m.length>0&&(r.animations=m),v.length>0&&(r.nodes=v)}return r.object=i,r;function o(a){const l=[];for(const u in a){const h=a[u];delete h.metadata,l.push(h)}return l}}clone(e){return new this.constructor().copy(this,e)}copy(e,t=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations,this.userData=JSON.parse(JSON.stringify(e.userData)),t===!0)for(let r=0;r<e.children.length;r++){const i=e.children[r];this.add(i.clone())}return this}}Sn.DEFAULT_UP=new ie(0,1,0);Sn.DEFAULT_MATRIX_AUTO_UPDATE=!0;Sn.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const gl=new ie,Hc=new ie,dL=new ie,Vc=new ie,Yv=new ie,Kv=new ie,G8=new ie,fL=new ie,pL=new ie,mL=new ie;let Xb=!1;class oo{constructor(e=new ie,t=new ie,r=new ie){this.a=e,this.b=t,this.c=r}static getNormal(e,t,r,i){i.subVectors(r,t),gl.subVectors(e,t),i.cross(gl);const s=i.lengthSq();return s>0?i.multiplyScalar(1/Math.sqrt(s)):i.set(0,0,0)}static getBarycoord(e,t,r,i,s){gl.subVectors(i,t),Hc.subVectors(r,t),dL.subVectors(e,t);const o=gl.dot(gl),a=gl.dot(Hc),l=gl.dot(dL),u=Hc.dot(Hc),h=Hc.dot(dL),f=o*u-a*a;if(f===0)return s.set(-2,-1,-1);const p=1/f,m=(u*l-a*h)*p,v=(o*h-a*l)*p;return s.set(1-m-v,v,m)}static containsPoint(e,t,r,i){return this.getBarycoord(e,t,r,i,Vc),Vc.x>=0&&Vc.y>=0&&Vc.x+Vc.y<=1}static getUV(e,t,r,i,s,o,a,l){return Xb===!1&&(console.warn("THREE.Triangle.getUV() has been renamed to THREE.Triangle.getInterpolation()."),Xb=!0),this.getInterpolation(e,t,r,i,s,o,a,l)}static getInterpolation(e,t,r,i,s,o,a,l){return this.getBarycoord(e,t,r,i,Vc),l.setScalar(0),l.addScaledVector(s,Vc.x),l.addScaledVector(o,Vc.y),l.addScaledVector(a,Vc.z),l}static isFrontFacing(e,t,r,i){return gl.subVectors(r,t),Hc.subVectors(e,t),gl.cross(Hc).dot(i)<0}set(e,t,r){return this.a.copy(e),this.b.copy(t),this.c.copy(r),this}setFromPointsAndIndices(e,t,r,i){return this.a.copy(e[t]),this.b.copy(e[r]),this.c.copy(e[i]),this}setFromAttributeAndIndices(e,t,r,i){return this.a.fromBufferAttribute(e,t),this.b.fromBufferAttribute(e,r),this.c.fromBufferAttribute(e,i),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return gl.subVectors(this.c,this.b),Hc.subVectors(this.a,this.b),gl.cross(Hc).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return oo.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,t){return oo.getBarycoord(e,this.a,this.b,this.c,t)}getUV(e,t,r,i,s){return Xb===!1&&(console.warn("THREE.Triangle.getUV() has been renamed to THREE.Triangle.getInterpolation()."),Xb=!0),oo.getInterpolation(e,this.a,this.b,this.c,t,r,i,s)}getInterpolation(e,t,r,i,s){return oo.getInterpolation(e,this.a,this.b,this.c,t,r,i,s)}containsPoint(e){return oo.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return oo.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,t){const r=this.a,i=this.b,s=this.c;let o,a;Yv.subVectors(i,r),Kv.subVectors(s,r),fL.subVectors(e,r);const l=Yv.dot(fL),u=Kv.dot(fL);if(l<=0&&u<=0)return t.copy(r);pL.subVectors(e,i);const h=Yv.dot(pL),f=Kv.dot(pL);if(h>=0&&f<=h)return t.copy(i);const p=l*f-h*u;if(p<=0&&l>=0&&h<=0)return o=l/(l-h),t.copy(r).addScaledVector(Yv,o);mL.subVectors(e,s);const m=Yv.dot(mL),v=Kv.dot(mL);if(v>=0&&m<=v)return t.copy(s);const S=m*u-l*v;if(S<=0&&u>=0&&v<=0)return a=u/(u-v),t.copy(r).addScaledVector(Kv,a);const A=h*v-m*f;if(A<=0&&f-h>=0&&m-v>=0)return G8.subVectors(s,i),a=(f-h)/(f-h+(m-v)),t.copy(i).addScaledVector(G8,a);const g=1/(A+S+p);return o=S*g,a=p*g,t.copy(r).addScaledVector(Yv,o).addScaledVector(Kv,a)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}let $Ee=0;class hi extends ec{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:$Ee++}),this.uuid=Qo(),this.name="",this.type="Material",this.blending=zm,this.side=Ku,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.blendSrc=sG,this.blendDst=oG,this.blendEquation=lm,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=UC,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=Zee,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=MT,this.stencilZFail=MT,this.stencilZPass=MT,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const t in e){const r=e[t];if(r===void 0){console.warn(`THREE.Material: parameter '${t}' has value of undefined.`);continue}const i=this[t];if(i===void 0){console.warn(`THREE.Material: '${t}' is not a property of THREE.${this.type}.`);continue}i&&i.isColor?i.set(r):i&&i.isVector3&&r&&r.isVector3?i.copy(r):this[t]=r}}toJSON(e){const t=e===void 0||typeof e=="string";t&&(e={textures:{},images:{}});const r={metadata:{version:4.6,type:"Material",generator:"Material.toJSON"}};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.color&&this.color.isColor&&(r.color=this.color.getHex()),this.roughness!==void 0&&(r.roughness=this.roughness),this.metalness!==void 0&&(r.metalness=this.metalness),this.sheen!==void 0&&(r.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(r.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(r.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(r.emissive=this.emissive.getHex()),this.emissiveIntensity&&this.emissiveIntensity!==1&&(r.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(r.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(r.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(r.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(r.shininess=this.shininess),this.clearcoat!==void 0&&(r.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(r.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(r.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(r.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(r.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,r.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.iridescence!==void 0&&(r.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(r.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(r.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(r.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(r.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.anisotropy!==void 0&&(r.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(r.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(r.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(r.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(r.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(r.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(r.lightMap=this.lightMap.toJSON(e).uuid,r.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(r.aoMap=this.aoMap.toJSON(e).uuid,r.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(r.bumpMap=this.bumpMap.toJSON(e).uuid,r.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(r.normalMap=this.normalMap.toJSON(e).uuid,r.normalMapType=this.normalMapType,r.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(r.displacementMap=this.displacementMap.toJSON(e).uuid,r.displacementScale=this.displacementScale,r.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(r.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(r.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(r.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(r.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(r.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(r.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(r.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(r.combine=this.combine)),this.envMapIntensity!==void 0&&(r.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(r.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(r.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(r.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(r.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(r.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(r.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(r.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(r.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(r.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(r.size=this.size),this.shadowSide!==null&&(r.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(r.sizeAttenuation=this.sizeAttenuation),this.blending!==zm&&(r.blending=this.blending),this.side!==Ku&&(r.side=this.side),this.vertexColors&&(r.vertexColors=!0),this.opacity<1&&(r.opacity=this.opacity),this.transparent===!0&&(r.transparent=this.transparent),r.depthFunc=this.depthFunc,r.depthTest=this.depthTest,r.depthWrite=this.depthWrite,r.colorWrite=this.colorWrite,r.stencilWrite=this.stencilWrite,r.stencilWriteMask=this.stencilWriteMask,r.stencilFunc=this.stencilFunc,r.stencilRef=this.stencilRef,r.stencilFuncMask=this.stencilFuncMask,r.stencilFail=this.stencilFail,r.stencilZFail=this.stencilZFail,r.stencilZPass=this.stencilZPass,this.rotation!==void 0&&this.rotation!==0&&(r.rotation=this.rotation),this.polygonOffset===!0&&(r.polygonOffset=!0),this.polygonOffsetFactor!==0&&(r.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(r.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(r.linewidth=this.linewidth),this.dashSize!==void 0&&(r.dashSize=this.dashSize),this.gapSize!==void 0&&(r.gapSize=this.gapSize),this.scale!==void 0&&(r.scale=this.scale),this.dithering===!0&&(r.dithering=!0),this.alphaTest>0&&(r.alphaTest=this.alphaTest),this.alphaToCoverage===!0&&(r.alphaToCoverage=this.alphaToCoverage),this.premultipliedAlpha===!0&&(r.premultipliedAlpha=this.premultipliedAlpha),this.forceSinglePass===!0&&(r.forceSinglePass=this.forceSinglePass),this.wireframe===!0&&(r.wireframe=this.wireframe),this.wireframeLinewidth>1&&(r.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(r.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(r.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(r.flatShading=this.flatShading),this.visible===!1&&(r.visible=!1),this.toneMapped===!1&&(r.toneMapped=!1),this.fog===!1&&(r.fog=!1),Object.keys(this.userData).length>0&&(r.userData=this.userData);function i(s){const o=[];for(const a in s){const l=s[a];delete l.metadata,o.push(l)}return o}if(t){const s=i(e.textures),o=i(e.images);s.length>0&&(r.textures=s),o.length>0&&(r.images=o)}return r}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const t=e.clippingPlanes;let r=null;if(t!==null){const i=t.length;r=new Array(i);for(let s=0;s!==i;++s)r[s]=t[s].clone()}return this.clippingPlanes=r,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}}const ute={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},vl={h:0,s:0,l:0},Jb={h:0,s:0,l:0};function gL(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*6*(2/3-t):n}class At{constructor(e,t,r){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,t,r)}set(e,t,r){if(t===void 0&&r===void 0){const i=e;i&&i.isColor?this.copy(i):typeof i=="number"?this.setHex(i):typeof i=="string"&&this.setStyle(i)}else this.setRGB(e,t,r);return this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,t=Zt){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,Ba.toWorkingColorSpace(this,t),this}setRGB(e,t,r,i=Ba.workingColorSpace){return this.r=e,this.g=t,this.b=r,Ba.toWorkingColorSpace(this,i),this}setHSL(e,t,r,i=Ba.workingColorSpace){if(e=yG(e,1),t=Hr(t,0,1),r=Hr(r,0,1),t===0)this.r=this.g=this.b=r;else{const s=r<=.5?r*(1+t):r+t-r*t,o=2*r-s;this.r=gL(o,s,e+1/3),this.g=gL(o,s,e),this.b=gL(o,s,e-1/3)}return Ba.toWorkingColorSpace(this,i),this}setStyle(e,t=Zt){function r(s){s!==void 0&&parseFloat(s)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let i;if(i=/^(\w+)\(([^\)]*)\)/.exec(e)){let s;const o=i[1],a=i[2];switch(o){case"rgb":case"rgba":if(s=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return r(s[4]),this.setRGB(Math.min(255,parseInt(s[1],10))/255,Math.min(255,parseInt(s[2],10))/255,Math.min(255,parseInt(s[3],10))/255,t);if(s=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return r(s[4]),this.setRGB(Math.min(100,parseInt(s[1],10))/100,Math.min(100,parseInt(s[2],10))/100,Math.min(100,parseInt(s[3],10))/100,t);break;case"hsl":case"hsla":if(s=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return r(s[4]),this.setHSL(parseFloat(s[1])/360,parseFloat(s[2])/100,parseFloat(s[3])/100,t);break;default:console.warn("THREE.Color: Unknown color model "+e)}}else if(i=/^\#([A-Fa-f\d]+)$/.exec(e)){const s=i[1],o=s.length;if(o===3)return this.setRGB(parseInt(s.charAt(0),16)/15,parseInt(s.charAt(1),16)/15,parseInt(s.charAt(2),16)/15,t);if(o===6)return this.setHex(parseInt(s,16),t);console.warn("THREE.Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,t);return this}setColorName(e,t=Zt){const r=ute[e.toLowerCase()];return r!==void 0?this.setHex(r,t):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=_y(e.r),this.g=_y(e.g),this.b=_y(e.b),this}copyLinearToSRGB(e){return this.r=iL(e.r),this.g=iL(e.g),this.b=iL(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=Zt){return Ba.fromWorkingColorSpace(Ms.copy(this),e),Math.round(Hr(Ms.r*255,0,255))*65536+Math.round(Hr(Ms.g*255,0,255))*256+Math.round(Hr(Ms.b*255,0,255))}getHexString(e=Zt){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,t=Ba.workingColorSpace){Ba.fromWorkingColorSpace(Ms.copy(this),t);const r=Ms.r,i=Ms.g,s=Ms.b,o=Math.max(r,i,s),a=Math.min(r,i,s);let l,u;const h=(a+o)/2;if(a===o)l=0,u=0;else{const f=o-a;switch(u=h<=.5?f/(o+a):f/(2-o-a),o){case r:l=(i-s)/f+(i<s?6:0);break;case i:l=(s-r)/f+2;break;case s:l=(r-i)/f+4;break}l/=6}return e.h=l,e.s=u,e.l=h,e}getRGB(e,t=Ba.workingColorSpace){return Ba.fromWorkingColorSpace(Ms.copy(this),t),e.r=Ms.r,e.g=Ms.g,e.b=Ms.b,e}getStyle(e=Zt){Ba.fromWorkingColorSpace(Ms.copy(this),e);const t=Ms.r,r=Ms.g,i=Ms.b;return e!==Zt?`color(${e} ${t.toFixed(3)} ${r.toFixed(3)} ${i.toFixed(3)})`:`rgb(${Math.round(t*255)},${Math.round(r*255)},${Math.round(i*255)})`}offsetHSL(e,t,r){return this.getHSL(vl),vl.h+=e,vl.s+=t,vl.l+=r,this.setHSL(vl.h,vl.s,vl.l),this}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}lerpColors(e,t,r){return this.r=e.r+(t.r-e.r)*r,this.g=e.g+(t.g-e.g)*r,this.b=e.b+(t.b-e.b)*r,this}lerpHSL(e,t){this.getHSL(vl),e.getHSL(Jb);const r=S_(vl.h,Jb.h,t),i=S_(vl.s,Jb.s,t),s=S_(vl.l,Jb.l,t);return this.setHSL(r,i,s),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const t=this.r,r=this.g,i=this.b,s=e.elements;return this.r=s[0]*t+s[3]*r+s[6]*i,this.g=s[1]*t+s[4]*r+s[7]*i,this.b=s[2]*t+s[5]*r+s[8]*i,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,t=0){return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}toArray(e=[],t=0){return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}fromBufferAttribute(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const Ms=new At;At.NAMES=ute;class Xo extends hi{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new At(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=SS,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const Qc=ebe();function ebe(){const n=new ArrayBuffer(4),e=new Float32Array(n),t=new Uint32Array(n),r=new Uint32Array(512),i=new Uint32Array(512);for(let l=0;l<256;++l){const u=l-127;u<-27?(r[l]=0,r[l|256]=32768,i[l]=24,i[l|256]=24):u<-14?(r[l]=1024>>-u-14,r[l|256]=1024>>-u-14|32768,i[l]=-u-1,i[l|256]=-u-1):u<=15?(r[l]=u+15<<10,r[l|256]=u+15<<10|32768,i[l]=13,i[l|256]=13):u<128?(r[l]=31744,r[l|256]=64512,i[l]=24,i[l|256]=24):(r[l]=31744,r[l|256]=64512,i[l]=13,i[l|256]=13)}const s=new Uint32Array(2048),o=new Uint32Array(64),a=new Uint32Array(64);for(let l=1;l<1024;++l){let u=l<<13,h=0;for(;!(u&8388608);)u<<=1,h-=8388608;u&=-8388609,h+=947912704,s[l]=u|h}for(let l=1024;l<2048;++l)s[l]=939524096+(l-1024<<13);for(let l=1;l<31;++l)o[l]=l<<23;o[31]=1199570944,o[32]=2147483648;for(let l=33;l<63;++l)o[l]=2147483648+(l-32<<23);o[63]=3347054592;for(let l=1;l<64;++l)l!==32&&(a[l]=1024);return{floatView:e,uint32View:t,baseTable:r,shiftTable:i,mantissaTable:s,exponentTable:o,offsetTable:a}}function ro(n){Math.abs(n)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),n=Hr(n,-65504,65504),Qc.floatView[0]=n;const e=Qc.uint32View[0],t=e>>23&511;return Qc.baseTable[t]+((e&8388607)>>Qc.shiftTable[t])}function X1(n){const e=n>>10;return Qc.uint32View[0]=Qc.mantissaTable[Qc.offsetTable[e]+(n&1023)]+Qc.exponentTable[e],Qc.floatView[0]}const tbe={toHalfFloat:ro,fromHalfFloat:X1},si=new ie,Yb=new Je;class Bn{constructor(e,t,r=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=e,this.itemSize=t,this.count=e!==void 0?e.length/t:0,this.normalized=r,this.usage=IM,this.updateRange={offset:0,count:-1},this.gpuType=Lu,this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}copyAt(e,t,r){e*=this.itemSize,r*=t.itemSize;for(let i=0,s=this.itemSize;i<s;i++)this.array[e+i]=t.array[r+i];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let t=0,r=this.count;t<r;t++)Yb.fromBufferAttribute(this,t),Yb.applyMatrix3(e),this.setXY(t,Yb.x,Yb.y);else if(this.itemSize===3)for(let t=0,r=this.count;t<r;t++)si.fromBufferAttribute(this,t),si.applyMatrix3(e),this.setXYZ(t,si.x,si.y,si.z);return this}applyMatrix4(e){for(let t=0,r=this.count;t<r;t++)si.fromBufferAttribute(this,t),si.applyMatrix4(e),this.setXYZ(t,si.x,si.y,si.z);return this}applyNormalMatrix(e){for(let t=0,r=this.count;t<r;t++)si.fromBufferAttribute(this,t),si.applyNormalMatrix(e),this.setXYZ(t,si.x,si.y,si.z);return this}transformDirection(e){for(let t=0,r=this.count;t<r;t++)si.fromBufferAttribute(this,t),si.transformDirection(e),this.setXYZ(t,si.x,si.y,si.z);return this}set(e,t=0){return this.array.set(e,t),this}getX(e){let t=this.array[e*this.itemSize];return this.normalized&&(t=jo(t,this.array)),t}setX(e,t){return this.normalized&&(t=ln(t,this.array)),this.array[e*this.itemSize]=t,this}getY(e){let t=this.array[e*this.itemSize+1];return this.normalized&&(t=jo(t,this.array)),t}setY(e,t){return this.normalized&&(t=ln(t,this.array)),this.array[e*this.itemSize+1]=t,this}getZ(e){let t=this.array[e*this.itemSize+2];return this.normalized&&(t=jo(t,this.array)),t}setZ(e,t){return this.normalized&&(t=ln(t,this.array)),this.array[e*this.itemSize+2]=t,this}getW(e){let t=this.array[e*this.itemSize+3];return this.normalized&&(t=jo(t,this.array)),t}setW(e,t){return this.normalized&&(t=ln(t,this.array)),this.array[e*this.itemSize+3]=t,this}setXY(e,t,r){return e*=this.itemSize,this.normalized&&(t=ln(t,this.array),r=ln(r,this.array)),this.array[e+0]=t,this.array[e+1]=r,this}setXYZ(e,t,r,i){return e*=this.itemSize,this.normalized&&(t=ln(t,this.array),r=ln(r,this.array),i=ln(i,this.array)),this.array[e+0]=t,this.array[e+1]=r,this.array[e+2]=i,this}setXYZW(e,t,r,i,s){return e*=this.itemSize,this.normalized&&(t=ln(t,this.array),r=ln(r,this.array),i=ln(i,this.array),s=ln(s,this.array)),this.array[e+0]=t,this.array[e+1]=r,this.array[e+2]=i,this.array[e+3]=s,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==IM&&(e.usage=this.usage),(this.updateRange.offset!==0||this.updateRange.count!==-1)&&(e.updateRange=this.updateRange),e}copyColorsArray(){console.error("THREE.BufferAttribute: copyColorsArray() was removed in r144.")}copyVector2sArray(){console.error("THREE.BufferAttribute: copyVector2sArray() was removed in r144.")}copyVector3sArray(){console.error("THREE.BufferAttribute: copyVector3sArray() was removed in r144.")}copyVector4sArray(){console.error("THREE.BufferAttribute: copyVector4sArray() was removed in r144.")}}class nbe extends Bn{constructor(e,t,r){super(new Int8Array(e),t,r)}}class rbe extends Bn{constructor(e,t,r){super(new Uint8Array(e),t,r)}}class ibe extends Bn{constructor(e,t,r){super(new Uint8ClampedArray(e),t,r)}}class sbe extends Bn{constructor(e,t,r){super(new Int16Array(e),t,r)}}class MG extends Bn{constructor(e,t,r){super(new Uint16Array(e),t,r)}}class obe extends Bn{constructor(e,t,r){super(new Int32Array(e),t,r)}}class SG extends Bn{constructor(e,t,r){super(new Uint32Array(e),t,r)}}class abe extends Bn{constructor(e,t,r){super(new Uint16Array(e),t,r),this.isFloat16BufferAttribute=!0}getX(e){let t=X1(this.array[e*this.itemSize]);return this.normalized&&(t=jo(t,this.array)),t}setX(e,t){return this.normalized&&(t=ln(t,this.array)),this.array[e*this.itemSize]=ro(t),this}getY(e){let t=X1(this.array[e*this.itemSize+1]);return this.normalized&&(t=jo(t,this.array)),t}setY(e,t){return this.normalized&&(t=ln(t,this.array)),this.array[e*this.itemSize+1]=ro(t),this}getZ(e){let t=X1(this.array[e*this.itemSize+2]);return this.normalized&&(t=jo(t,this.array)),t}setZ(e,t){return this.normalized&&(t=ln(t,this.array)),this.array[e*this.itemSize+2]=ro(t),this}getW(e){let t=X1(this.array[e*this.itemSize+3]);return this.normalized&&(t=jo(t,this.array)),t}setW(e,t){return this.normalized&&(t=ln(t,this.array)),this.array[e*this.itemSize+3]=ro(t),this}setXY(e,t,r){return e*=this.itemSize,this.normalized&&(t=ln(t,this.array),r=ln(r,this.array)),this.array[e+0]=ro(t),this.array[e+1]=ro(r),this}setXYZ(e,t,r,i){return e*=this.itemSize,this.normalized&&(t=ln(t,this.array),r=ln(r,this.array),i=ln(i,this.array)),this.array[e+0]=ro(t),this.array[e+1]=ro(r),this.array[e+2]=ro(i),this}setXYZW(e,t,r,i,s){return e*=this.itemSize,this.normalized&&(t=ln(t,this.array),r=ln(r,this.array),i=ln(i,this.array),s=ln(s,this.array)),this.array[e+0]=ro(t),this.array[e+1]=ro(r),this.array[e+2]=ro(i),this.array[e+3]=ro(s),this}}class Ct extends Bn{constructor(e,t,r){super(new Float32Array(e),t,r)}}class lbe extends Bn{constructor(e,t,r){super(new Float64Array(e),t,r)}}let ube=0;const Ta=new Ht,vL=new Sn,Qv=new ie,No=new Yl,x1=new Yl,Ui=new ie;class Qt extends ec{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:ube++}),this.uuid=Qo(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(lte(e)?SG:MG)(e,1):this.index=e,this}getAttribute(e){return this.attributes[e]}setAttribute(e,t){return this.attributes[e]=t,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,t,r=0){this.groups.push({start:e,count:t,materialIndex:r})}clearGroups(){this.groups=[]}setDrawRange(e,t){this.drawRange.start=e,this.drawRange.count=t}applyMatrix4(e){const t=this.attributes.position;t!==void 0&&(t.applyMatrix4(e),t.needsUpdate=!0);const r=this.attributes.normal;if(r!==void 0){const s=new on().getNormalMatrix(e);r.applyNormalMatrix(s),r.needsUpdate=!0}const i=this.attributes.tangent;return i!==void 0&&(i.transformDirection(e),i.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return Ta.makeRotationFromQuaternion(e),this.applyMatrix4(Ta),this}rotateX(e){return Ta.makeRotationX(e),this.applyMatrix4(Ta),this}rotateY(e){return Ta.makeRotationY(e),this.applyMatrix4(Ta),this}rotateZ(e){return Ta.makeRotationZ(e),this.applyMatrix4(Ta),this}translate(e,t,r){return Ta.makeTranslation(e,t,r),this.applyMatrix4(Ta),this}scale(e,t,r){return Ta.makeScale(e,t,r),this.applyMatrix4(Ta),this}lookAt(e){return vL.lookAt(e),vL.updateMatrix(),this.applyMatrix4(vL.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(Qv).negate(),this.translate(Qv.x,Qv.y,Qv.z),this}setFromPoints(e){const t=[];for(let r=0,i=e.length;r<i;r++){const s=e[r];t.push(s.x,s.y,s.z||0)}return this.setAttribute("position",new Ct(t,3)),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Yl);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingBox.set(new ie(-1/0,-1/0,-1/0),new ie(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),t)for(let r=0,i=t.length;r<i;r++){const s=t[r];No.setFromBufferAttribute(s),this.morphTargetsRelative?(Ui.addVectors(this.boundingBox.min,No.min),this.boundingBox.expandByPoint(Ui),Ui.addVectors(this.boundingBox.max,No.max),this.boundingBox.expandByPoint(Ui)):(this.boundingBox.expandByPoint(No.min),this.boundingBox.expandByPoint(No.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new $a);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingSphere.set(new ie,1/0);return}if(e){const r=this.boundingSphere.center;if(No.setFromBufferAttribute(e),t)for(let s=0,o=t.length;s<o;s++){const a=t[s];x1.setFromBufferAttribute(a),this.morphTargetsRelative?(Ui.addVectors(No.min,x1.min),No.expandByPoint(Ui),Ui.addVectors(No.max,x1.max),No.expandByPoint(Ui)):(No.expandByPoint(x1.min),No.expandByPoint(x1.max))}No.getCenter(r);let i=0;for(let s=0,o=e.count;s<o;s++)Ui.fromBufferAttribute(e,s),i=Math.max(i,r.distanceToSquared(Ui));if(t)for(let s=0,o=t.length;s<o;s++){const a=t[s],l=this.morphTargetsRelative;for(let u=0,h=a.count;u<h;u++)Ui.fromBufferAttribute(a,u),l&&(Qv.fromBufferAttribute(e,u),Ui.add(Qv)),i=Math.max(i,r.distanceToSquared(Ui))}this.boundingSphere.radius=Math.sqrt(i),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,t=this.attributes;if(e===null||t.position===void 0||t.normal===void 0||t.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const r=e.array,i=t.position.array,s=t.normal.array,o=t.uv.array,a=i.length/3;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new Bn(new Float32Array(4*a),4));const l=this.getAttribute("tangent").array,u=[],h=[];for(let L=0;L<a;L++)u[L]=new ie,h[L]=new ie;const f=new ie,p=new ie,m=new ie,v=new Je,S=new Je,A=new Je,g=new ie,M=new ie;function _(L,U,Q){f.fromArray(i,L*3),p.fromArray(i,U*3),m.fromArray(i,Q*3),v.fromArray(o,L*2),S.fromArray(o,U*2),A.fromArray(o,Q*2),p.sub(f),m.sub(f),S.sub(v),A.sub(v);const W=1/(S.x*A.y-A.x*S.y);isFinite(W)&&(g.copy(p).multiplyScalar(A.y).addScaledVector(m,-S.y).multiplyScalar(W),M.copy(m).multiplyScalar(S.x).addScaledVector(p,-A.x).multiplyScalar(W),u[L].add(g),u[U].add(g),u[Q].add(g),h[L].add(M),h[U].add(M),h[Q].add(M))}let b=this.groups;b.length===0&&(b=[{start:0,count:r.length}]);for(let L=0,U=b.length;L<U;++L){const Q=b[L],W=Q.start,Y=Q.count;for(let X=W,ae=W+Y;X<ae;X+=3)_(r[X+0],r[X+1],r[X+2])}const T=new ie,C=new ie,B=new ie,P=new ie;function R(L){B.fromArray(s,L*3),P.copy(B);const U=u[L];T.copy(U),T.sub(B.multiplyScalar(B.dot(U))).normalize(),C.crossVectors(P,U);const W=C.dot(h[L])<0?-1:1;l[L*4]=T.x,l[L*4+1]=T.y,l[L*4+2]=T.z,l[L*4+3]=W}for(let L=0,U=b.length;L<U;++L){const Q=b[L],W=Q.start,Y=Q.count;for(let X=W,ae=W+Y;X<ae;X+=3)R(r[X+0]),R(r[X+1]),R(r[X+2])}}computeVertexNormals(){const e=this.index,t=this.getAttribute("position");if(t!==void 0){let r=this.getAttribute("normal");if(r===void 0)r=new Bn(new Float32Array(t.count*3),3),this.setAttribute("normal",r);else for(let p=0,m=r.count;p<m;p++)r.setXYZ(p,0,0,0);const i=new ie,s=new ie,o=new ie,a=new ie,l=new ie,u=new ie,h=new ie,f=new ie;if(e)for(let p=0,m=e.count;p<m;p+=3){const v=e.getX(p+0),S=e.getX(p+1),A=e.getX(p+2);i.fromBufferAttribute(t,v),s.fromBufferAttribute(t,S),o.fromBufferAttribute(t,A),h.subVectors(o,s),f.subVectors(i,s),h.cross(f),a.fromBufferAttribute(r,v),l.fromBufferAttribute(r,S),u.fromBufferAttribute(r,A),a.add(h),l.add(h),u.add(h),r.setXYZ(v,a.x,a.y,a.z),r.setXYZ(S,l.x,l.y,l.z),r.setXYZ(A,u.x,u.y,u.z)}else for(let p=0,m=t.count;p<m;p+=3)i.fromBufferAttribute(t,p+0),s.fromBufferAttribute(t,p+1),o.fromBufferAttribute(t,p+2),h.subVectors(o,s),f.subVectors(i,s),h.cross(f),r.setXYZ(p+0,h.x,h.y,h.z),r.setXYZ(p+1,h.x,h.y,h.z),r.setXYZ(p+2,h.x,h.y,h.z);this.normalizeNormals(),r.needsUpdate=!0}}merge(){return console.error("THREE.BufferGeometry.merge() has been removed. Use THREE.BufferGeometryUtils.mergeGeometries() instead."),this}normalizeNormals(){const e=this.attributes.normal;for(let t=0,r=e.count;t<r;t++)Ui.fromBufferAttribute(e,t),Ui.normalize(),e.setXYZ(t,Ui.x,Ui.y,Ui.z)}toNonIndexed(){function e(a,l){const u=a.array,h=a.itemSize,f=a.normalized,p=new u.constructor(l.length*h);let m=0,v=0;for(let S=0,A=l.length;S<A;S++){a.isInterleavedBufferAttribute?m=l[S]*a.data.stride+a.offset:m=l[S]*h;for(let g=0;g<h;g++)p[v++]=u[m++]}return new Bn(p,h,f)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const t=new Qt,r=this.index.array,i=this.attributes;for(const a in i){const l=i[a],u=e(l,r);t.setAttribute(a,u)}const s=this.morphAttributes;for(const a in s){const l=[],u=s[a];for(let h=0,f=u.length;h<f;h++){const p=u[h],m=e(p,r);l.push(m)}t.morphAttributes[a]=l}t.morphTargetsRelative=this.morphTargetsRelative;const o=this.groups;for(let a=0,l=o.length;a<l;a++){const u=o[a];t.addGroup(u.start,u.count,u.materialIndex)}return t}toJSON(){const e={metadata:{version:4.6,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const l=this.parameters;for(const u in l)l[u]!==void 0&&(e[u]=l[u]);return e}e.data={attributes:{}};const t=this.index;t!==null&&(e.data.index={type:t.array.constructor.name,array:Array.prototype.slice.call(t.array)});const r=this.attributes;for(const l in r){const u=r[l];e.data.attributes[l]=u.toJSON(e.data)}const i={};let s=!1;for(const l in this.morphAttributes){const u=this.morphAttributes[l],h=[];for(let f=0,p=u.length;f<p;f++){const m=u[f];h.push(m.toJSON(e.data))}h.length>0&&(i[l]=h,s=!0)}s&&(e.data.morphAttributes=i,e.data.morphTargetsRelative=this.morphTargetsRelative);const o=this.groups;o.length>0&&(e.data.groups=JSON.parse(JSON.stringify(o)));const a=this.boundingSphere;return a!==null&&(e.data.boundingSphere={center:a.center.toArray(),radius:a.radius}),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const t={};this.name=e.name;const r=e.index;r!==null&&this.setIndex(r.clone(t));const i=e.attributes;for(const u in i){const h=i[u];this.setAttribute(u,h.clone(t))}const s=e.morphAttributes;for(const u in s){const h=[],f=s[u];for(let p=0,m=f.length;p<m;p++)h.push(f[p].clone(t));this.morphAttributes[u]=h}this.morphTargetsRelative=e.morphTargetsRelative;const o=e.groups;for(let u=0,h=o.length;u<h;u++){const f=o[u];this.addGroup(f.start,f.count,f.materialIndex)}const a=e.boundingBox;a!==null&&(this.boundingBox=a.clone());const l=e.boundingSphere;return l!==null&&(this.boundingSphere=l.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const z8=new Ht,Fp=new wx,Kb=new $a,H8=new ie,qv=new ie,Zv=new ie,$v=new ie,yL=new ie,Qb=new ie,qb=new Je,Zb=new Je,$b=new Je,V8=new ie,W8=new ie,j8=new ie,ew=new ie,tw=new ie;class Si extends Sn{constructor(e=new Qt,t=new Xo){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=e.material,this.geometry=e.geometry,this}updateMorphTargets(){const t=this.geometry.morphAttributes,r=Object.keys(t);if(r.length>0){const i=t[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=i.length;s<o;s++){const a=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}getVertexPosition(e,t){const r=this.geometry,i=r.attributes.position,s=r.morphAttributes.position,o=r.morphTargetsRelative;t.fromBufferAttribute(i,e);const a=this.morphTargetInfluences;if(s&&a){Qb.set(0,0,0);for(let l=0,u=s.length;l<u;l++){const h=a[l],f=s[l];h!==0&&(yL.fromBufferAttribute(f,e),o?Qb.addScaledVector(yL,h):Qb.addScaledVector(yL.sub(t),h))}t.add(Qb)}return t}raycast(e,t){const r=this.geometry,i=this.material,s=this.matrixWorld;i!==void 0&&(r.boundingSphere===null&&r.computeBoundingSphere(),Kb.copy(r.boundingSphere),Kb.applyMatrix4(s),Fp.copy(e.ray).recast(e.near),!(Kb.containsPoint(Fp.origin)===!1&&(Fp.intersectSphere(Kb,H8)===null||Fp.origin.distanceToSquared(H8)>(e.far-e.near)**2))&&(z8.copy(s).invert(),Fp.copy(e.ray).applyMatrix4(z8),!(r.boundingBox!==null&&Fp.intersectsBox(r.boundingBox)===!1)&&this._computeIntersections(e,t,Fp)))}_computeIntersections(e,t,r){let i;const s=this.geometry,o=this.material,a=s.index,l=s.attributes.position,u=s.attributes.uv,h=s.attributes.uv1,f=s.attributes.normal,p=s.groups,m=s.drawRange;if(a!==null)if(Array.isArray(o))for(let v=0,S=p.length;v<S;v++){const A=p[v],g=o[A.materialIndex],M=Math.max(A.start,m.start),_=Math.min(a.count,Math.min(A.start+A.count,m.start+m.count));for(let b=M,T=_;b<T;b+=3){const C=a.getX(b),B=a.getX(b+1),P=a.getX(b+2);i=nw(this,g,e,r,u,h,f,C,B,P),i&&(i.faceIndex=Math.floor(b/3),i.face.materialIndex=A.materialIndex,t.push(i))}}else{const v=Math.max(0,m.start),S=Math.min(a.count,m.start+m.count);for(let A=v,g=S;A<g;A+=3){const M=a.getX(A),_=a.getX(A+1),b=a.getX(A+2);i=nw(this,o,e,r,u,h,f,M,_,b),i&&(i.faceIndex=Math.floor(A/3),t.push(i))}}else if(l!==void 0)if(Array.isArray(o))for(let v=0,S=p.length;v<S;v++){const A=p[v],g=o[A.materialIndex],M=Math.max(A.start,m.start),_=Math.min(l.count,Math.min(A.start+A.count,m.start+m.count));for(let b=M,T=_;b<T;b+=3){const C=b,B=b+1,P=b+2;i=nw(this,g,e,r,u,h,f,C,B,P),i&&(i.faceIndex=Math.floor(b/3),i.face.materialIndex=A.materialIndex,t.push(i))}}else{const v=Math.max(0,m.start),S=Math.min(l.count,m.start+m.count);for(let A=v,g=S;A<g;A+=3){const M=A,_=A+1,b=A+2;i=nw(this,o,e,r,u,h,f,M,_,b),i&&(i.faceIndex=Math.floor(A/3),t.push(i))}}}}function cbe(n,e,t,r,i,s,o,a){let l;if(e.side===js?l=r.intersectTriangle(o,s,i,!0,a):l=r.intersectTriangle(i,s,o,e.side===Ku,a),l===null)return null;tw.copy(a),tw.applyMatrix4(n.matrixWorld);const u=t.ray.origin.distanceTo(tw);return u<t.near||u>t.far?null:{distance:u,point:tw.clone(),object:n}}function nw(n,e,t,r,i,s,o,a,l,u){n.getVertexPosition(a,qv),n.getVertexPosition(l,Zv),n.getVertexPosition(u,$v);const h=cbe(n,e,t,r,qv,Zv,$v,ew);if(h){i&&(qb.fromBufferAttribute(i,a),Zb.fromBufferAttribute(i,l),$b.fromBufferAttribute(i,u),h.uv=oo.getInterpolation(ew,qv,Zv,$v,qb,Zb,$b,new Je)),s&&(qb.fromBufferAttribute(s,a),Zb.fromBufferAttribute(s,l),$b.fromBufferAttribute(s,u),h.uv1=oo.getInterpolation(ew,qv,Zv,$v,qb,Zb,$b,new Je),h.uv2=h.uv1),o&&(V8.fromBufferAttribute(o,a),W8.fromBufferAttribute(o,l),j8.fromBufferAttribute(o,u),h.normal=oo.getInterpolation(ew,qv,Zv,$v,V8,W8,j8,new ie),h.normal.dot(r.direction)>0&&h.normal.multiplyScalar(-1));const f={a,b:l,c:u,normal:new ie,materialIndex:0};oo.getNormal(qv,Zv,$v,f.normal),h.face=f}return h}class Nf extends Qt{constructor(e=1,t=1,r=1,i=1,s=1,o=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:r,widthSegments:i,heightSegments:s,depthSegments:o};const a=this;i=Math.floor(i),s=Math.floor(s),o=Math.floor(o);const l=[],u=[],h=[],f=[];let p=0,m=0;v("z","y","x",-1,-1,r,t,e,o,s,0),v("z","y","x",1,-1,r,t,-e,o,s,1),v("x","z","y",1,1,e,r,t,i,o,2),v("x","z","y",1,-1,e,r,-t,i,o,3),v("x","y","z",1,-1,e,t,r,i,s,4),v("x","y","z",-1,-1,e,t,-r,i,s,5),this.setIndex(l),this.setAttribute("position",new Ct(u,3)),this.setAttribute("normal",new Ct(h,3)),this.setAttribute("uv",new Ct(f,2));function v(S,A,g,M,_,b,T,C,B,P,R){const L=b/B,U=T/P,Q=b/2,W=T/2,Y=C/2,X=B+1,ae=P+1;let Z=0,D=0;const k=new ie;for(let G=0;G<ae;G++){const K=G*U-W;for(let H=0;H<X;H++){const ue=H*L-Q;k[S]=ue*M,k[A]=K*_,k[g]=Y,u.push(k.x,k.y,k.z),k[S]=0,k[A]=0,k[g]=C>0?1:-1,h.push(k.x,k.y,k.z),f.push(H/B),f.push(1-G/P),Z+=1}}for(let G=0;G<P;G++)for(let K=0;K<B;K++){const H=p+K+X*G,ue=p+K+X*(G+1),le=p+(K+1)+X*(G+1),Ce=p+(K+1)+X*G;l.push(H,ue,Ce),l.push(ue,le,Ce),D+=6}a.addGroup(m,D,R),m+=D,p+=Z}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Nf(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function tx(n){const e={};for(const t in n){e[t]={};for(const r in n[t]){const i=n[t][r];i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture||i.isQuaternion)?i.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),e[t][r]=null):e[t][r]=i.clone():Array.isArray(i)?e[t][r]=i.slice():e[t][r]=i}}return e}function Us(n){const e={};for(let t=0;t<n.length;t++){const r=tx(n[t]);for(const i in r)e[i]=r[i]}return e}function hbe(n){const e=[];for(let t=0;t<n.length;t++)e.push(n[t].clone());return e}function cte(n){return n.getRenderTarget()===null?n.outputColorSpace:Hl}const hte={clone:tx,merge:Us};var dbe=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,fbe=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class qu extends hi{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=dbe,this.fragmentShader=fbe,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=tx(e.uniforms),this.uniformsGroups=hbe(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const t=super.toJSON(e);t.glslVersion=this.glslVersion,t.uniforms={};for(const i in this.uniforms){const o=this.uniforms[i].value;o&&o.isTexture?t.uniforms[i]={type:"t",value:o.toJSON(e).uuid}:o&&o.isColor?t.uniforms[i]={type:"c",value:o.getHex()}:o&&o.isVector2?t.uniforms[i]={type:"v2",value:o.toArray()}:o&&o.isVector3?t.uniforms[i]={type:"v3",value:o.toArray()}:o&&o.isVector4?t.uniforms[i]={type:"v4",value:o.toArray()}:o&&o.isMatrix3?t.uniforms[i]={type:"m3",value:o.toArray()}:o&&o.isMatrix4?t.uniforms[i]={type:"m4",value:o.toArray()}:t.uniforms[i]={value:o}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader,t.lights=this.lights,t.clipping=this.clipping;const r={};for(const i in this.extensions)this.extensions[i]===!0&&(r[i]=!0);return Object.keys(r).length>0&&(t.extensions=r),t}}class ES extends Sn{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new Ht,this.projectionMatrix=new Ht,this.projectionMatrixInverse=new Ht,this.coordinateSystem=Iu}copy(e,t){return super.copy(e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(-t[8],-t[9],-t[10]).normalize()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,t){super.updateWorldMatrix(e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}class hr extends ES{constructor(e=50,t=1,r=.1,i=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=r,this.far=i,this.focus=10,this.aspect=t,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const t=.5*this.getFilmHeight()/e;this.fov=ex*2*Math.atan(t),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(Vm*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return ex*2*Math.atan(Math.tan(Vm*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}setViewOffset(e,t,r,i,s,o){this.aspect=e/t,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=r,this.view.offsetY=i,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let t=e*Math.tan(Vm*.5*this.fov)/this.zoom,r=2*t,i=this.aspect*r,s=-.5*i;const o=this.view;if(this.view!==null&&this.view.enabled){const l=o.fullWidth,u=o.fullHeight;s+=o.offsetX*i/l,t-=o.offsetY*r/u,i*=o.width/l,r*=o.height/u}const a=this.filmOffset;a!==0&&(s+=e*a/this.getFilmWidth()),this.projectionMatrix.makePerspective(s,s+i,t,t-r,e,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,this.view!==null&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}}const e0=-90,t0=1;class EG extends Sn{constructor(e,t,r){super(),this.type="CubeCamera",this.renderTarget=r,this.coordinateSystem=null;const i=new hr(e0,t0,e,t);i.layers=this.layers,this.add(i);const s=new hr(e0,t0,e,t);s.layers=this.layers,this.add(s);const o=new hr(e0,t0,e,t);o.layers=this.layers,this.add(o);const a=new hr(e0,t0,e,t);a.layers=this.layers,this.add(a);const l=new hr(e0,t0,e,t);l.layers=this.layers,this.add(l);const u=new hr(e0,t0,e,t);u.layers=this.layers,this.add(u)}updateCoordinateSystem(){const e=this.coordinateSystem,t=this.children.concat(),[r,i,s,o,a,l]=t;for(const u of t)this.remove(u);if(e===Iu)r.up.set(0,1,0),r.lookAt(1,0,0),i.up.set(0,1,0),i.lookAt(-1,0,0),s.up.set(0,0,-1),s.lookAt(0,1,0),o.up.set(0,0,1),o.lookAt(0,-1,0),a.up.set(0,1,0),a.lookAt(0,0,1),l.up.set(0,1,0),l.lookAt(0,0,-1);else if(e===DM)r.up.set(0,-1,0),r.lookAt(-1,0,0),i.up.set(0,-1,0),i.lookAt(1,0,0),s.up.set(0,0,1),s.lookAt(0,1,0),o.up.set(0,0,-1),o.lookAt(0,-1,0),a.up.set(0,-1,0),a.lookAt(0,0,1),l.up.set(0,-1,0),l.lookAt(0,0,-1);else throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+e);for(const u of t)this.add(u),u.updateMatrixWorld()}update(e,t){this.parent===null&&this.updateMatrixWorld();const r=this.renderTarget;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());const[i,s,o,a,l,u]=this.children,h=e.getRenderTarget(),f=e.toneMapping,p=e.xr.enabled;e.toneMapping=Nl,e.xr.enabled=!1;const m=r.texture.generateMipmaps;r.texture.generateMipmaps=!1,e.setRenderTarget(r,0),e.render(t,i),e.setRenderTarget(r,1),e.render(t,s),e.setRenderTarget(r,2),e.render(t,o),e.setRenderTarget(r,3),e.render(t,a),e.setRenderTarget(r,4),e.render(t,l),r.texture.generateMipmaps=m,e.setRenderTarget(r,5),e.render(t,u),e.setRenderTarget(h),e.toneMapping=f,e.xr.enabled=p,r.texture.needsPMREMUpdate=!0}}class bS extends fr{constructor(e,t,r,i,s,o,a,l,u,h){e=e!==void 0?e:[],t=t!==void 0?t:yf,super(e,t,r,i,s,o,a,l,u,h),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class bG extends Vl{constructor(e=1,t={}){super(e,e,t),this.isWebGLCubeRenderTarget=!0;const r={width:e,height:e,depth:1},i=[r,r,r,r,r,r];t.encoding!==void 0&&(E_("THREE.WebGLCubeRenderTarget: option.encoding has been replaced by option.colorSpace."),t.colorSpace=t.encoding===nf?Zt:rf),this.texture=new bS(i,t.mapping,t.wrapS,t.wrapT,t.magFilter,t.minFilter,t.format,t.type,t.anisotropy,t.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=t.generateMipmaps!==void 0?t.generateMipmaps:!1,this.texture.minFilter=t.minFilter!==void 0?t.minFilter:_r}fromEquirectangularTexture(e,t){this.texture.type=t.type,this.texture.colorSpace=t.colorSpace,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;const r={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},i=new Nf(5,5,5),s=new qu({name:"CubemapFromEquirect",uniforms:tx(r.uniforms),vertexShader:r.vertexShader,fragmentShader:r.fragmentShader,side:js,blending:dh});s.uniforms.tEquirect.value=t;const o=new Si(i,s),a=t.minFilter;return t.minFilter===Qu&&(t.minFilter=_r),new EG(1,10,this).update(e,o),t.minFilter=a,o.geometry.dispose(),o.material.dispose(),this}clear(e,t,r,i){const s=e.getRenderTarget();for(let o=0;o<6;o++)e.setRenderTarget(this,o),e.clear(t,r,i);e.setRenderTarget(s)}}const xL=new ie,pbe=new ie,mbe=new on;class Md{constructor(e=new ie(1,0,0),t=0){this.isPlane=!0,this.normal=e,this.constant=t}set(e,t){return this.normal.copy(e),this.constant=t,this}setComponents(e,t,r,i){return this.normal.set(e,t,r),this.constant=i,this}setFromNormalAndCoplanarPoint(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}setFromCoplanarPoints(e,t,r){const i=xL.subVectors(r,t).cross(pbe.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(i,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,t){return t.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,t){const r=e.delta(xL),i=this.normal.dot(r);if(i===0)return this.distanceToPoint(e.start)===0?t.copy(e.start):null;const s=-(e.start.dot(this.normal)+this.constant)/i;return s<0||s>1?null:t.copy(e.start).addScaledVector(r,s)}intersectsLine(e){const t=this.distanceToPoint(e.start),r=this.distanceToPoint(e.end);return t<0&&r>0||r<0&&t>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,t){const r=t||mbe.getNormalMatrix(e),i=this.coplanarPoint(xL).applyMatrix4(e),s=this.normal.applyMatrix3(r).normalize();return this.constant=-i.dot(s),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const Np=new $a,rw=new ie;class pP{constructor(e=new Md,t=new Md,r=new Md,i=new Md,s=new Md,o=new Md){this.planes=[e,t,r,i,s,o]}set(e,t,r,i,s,o){const a=this.planes;return a[0].copy(e),a[1].copy(t),a[2].copy(r),a[3].copy(i),a[4].copy(s),a[5].copy(o),this}copy(e){const t=this.planes;for(let r=0;r<6;r++)t[r].copy(e.planes[r]);return this}setFromProjectionMatrix(e,t=Iu){const r=this.planes,i=e.elements,s=i[0],o=i[1],a=i[2],l=i[3],u=i[4],h=i[5],f=i[6],p=i[7],m=i[8],v=i[9],S=i[10],A=i[11],g=i[12],M=i[13],_=i[14],b=i[15];if(r[0].setComponents(l-s,p-u,A-m,b-g).normalize(),r[1].setComponents(l+s,p+u,A+m,b+g).normalize(),r[2].setComponents(l+o,p+h,A+v,b+M).normalize(),r[3].setComponents(l-o,p-h,A-v,b-M).normalize(),r[4].setComponents(l-a,p-f,A-S,b-_).normalize(),t===Iu)r[5].setComponents(l+a,p+f,A+S,b+_).normalize();else if(t===DM)r[5].setComponents(a,f,S,_).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+t);return this}intersectsObject(e){if(e.boundingSphere!==void 0)e.boundingSphere===null&&e.computeBoundingSphere(),Np.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const t=e.geometry;t.boundingSphere===null&&t.computeBoundingSphere(),Np.copy(t.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(Np)}intersectsSprite(e){return Np.center.set(0,0,0),Np.radius=.7071067811865476,Np.applyMatrix4(e.matrixWorld),this.intersectsSphere(Np)}intersectsSphere(e){const t=this.planes,r=e.center,i=-e.radius;for(let s=0;s<6;s++)if(t[s].distanceToPoint(r)<i)return!1;return!0}intersectsBox(e){const t=this.planes;for(let r=0;r<6;r++){const i=t[r];if(rw.x=i.normal.x>0?e.max.x:e.min.x,rw.y=i.normal.y>0?e.max.y:e.min.y,rw.z=i.normal.z>0?e.max.z:e.min.z,i.distanceToPoint(rw)<0)return!1}return!0}containsPoint(e){const t=this.planes;for(let r=0;r<6;r++)if(t[r].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}function dte(){let n=null,e=!1,t=null,r=null;function i(s,o){t(s,o),r=n.requestAnimationFrame(i)}return{start:function(){e!==!0&&t!==null&&(r=n.requestAnimationFrame(i),e=!0)},stop:function(){n.cancelAnimationFrame(r),e=!1},setAnimationLoop:function(s){t=s},setContext:function(s){n=s}}}function gbe(n,e){const t=e.isWebGL2,r=new WeakMap;function i(u,h){const f=u.array,p=u.usage,m=n.createBuffer();n.bindBuffer(h,m),n.bufferData(h,f,p),u.onUploadCallback();let v;if(f instanceof Float32Array)v=n.FLOAT;else if(f instanceof Uint16Array)if(u.isFloat16BufferAttribute)if(t)v=n.HALF_FLOAT;else throw new Error("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2.");else v=n.UNSIGNED_SHORT;else if(f instanceof Int16Array)v=n.SHORT;else if(f instanceof Uint32Array)v=n.UNSIGNED_INT;else if(f instanceof Int32Array)v=n.INT;else if(f instanceof Int8Array)v=n.BYTE;else if(f instanceof Uint8Array)v=n.UNSIGNED_BYTE;else if(f instanceof Uint8ClampedArray)v=n.UNSIGNED_BYTE;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+f);return{buffer:m,type:v,bytesPerElement:f.BYTES_PER_ELEMENT,version:u.version}}function s(u,h,f){const p=h.array,m=h.updateRange;n.bindBuffer(f,u),m.count===-1?n.bufferSubData(f,0,p):(t?n.bufferSubData(f,m.offset*p.BYTES_PER_ELEMENT,p,m.offset,m.count):n.bufferSubData(f,m.offset*p.BYTES_PER_ELEMENT,p.subarray(m.offset,m.offset+m.count)),m.count=-1),h.onUploadCallback()}function o(u){return u.isInterleavedBufferAttribute&&(u=u.data),r.get(u)}function a(u){u.isInterleavedBufferAttribute&&(u=u.data);const h=r.get(u);h&&(n.deleteBuffer(h.buffer),r.delete(u))}function l(u,h){if(u.isGLBufferAttribute){const p=r.get(u);(!p||p.version<u.version)&&r.set(u,{buffer:u.buffer,type:u.type,bytesPerElement:u.elementSize,version:u.version});return}u.isInterleavedBufferAttribute&&(u=u.data);const f=r.get(u);f===void 0?r.set(u,i(u,h)):f.version<u.version&&(s(f.buffer,u,h),f.version=u.version)}return{get:o,remove:a,update:l}}class Tx extends Qt{constructor(e=1,t=1,r=1,i=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:r,heightSegments:i};const s=e/2,o=t/2,a=Math.floor(r),l=Math.floor(i),u=a+1,h=l+1,f=e/a,p=t/l,m=[],v=[],S=[],A=[];for(let g=0;g<h;g++){const M=g*p-o;for(let _=0;_<u;_++){const b=_*f-s;v.push(b,-M,0),S.push(0,0,1),A.push(_/a),A.push(1-g/l)}}for(let g=0;g<l;g++)for(let M=0;M<a;M++){const _=M+u*g,b=M+u*(g+1),T=M+1+u*(g+1),C=M+1+u*g;m.push(_,b,C),m.push(b,T,C)}this.setIndex(m),this.setAttribute("position",new Ct(v,3)),this.setAttribute("normal",new Ct(S,3)),this.setAttribute("uv",new Ct(A,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Tx(e.width,e.height,e.widthSegments,e.heightSegments)}}var vbe=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,ybe=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,xbe=`#ifdef USE_ALPHATEST
	if ( diffuseColor.a < alphaTest ) discard;
#endif`,Abe=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,_be=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,Mbe=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,Sbe="vec3 transformed = vec3( position );",Ebe=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,bbe=`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,wbe=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			 return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float R21 = R12;
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,Tbe=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = dFdx( surf_pos.xyz );
		vec3 vSigmaY = dFdy( surf_pos.xyz );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,Cbe=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#pragma unroll_loop_start
	for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
		plane = clippingPlanes[ i ];
		if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
	}
	#pragma unroll_loop_end
	#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
		bool clipped = true;
		#pragma unroll_loop_start
		for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
		}
		#pragma unroll_loop_end
		if ( clipped ) discard;
	#endif
#endif`,Rbe=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,Pbe=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,Bbe=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,Lbe=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,Ibe=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,Dbe=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	varying vec3 vColor;
#endif`,Fbe=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif`,Nbe=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
struct GeometricContext {
	vec3 position;
	vec3 normal;
	vec3 viewDir;
#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal;
#endif
};
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
float luminance( const in vec3 rgb ) {
	const vec3 weights = vec3( 0.2126729, 0.7151522, 0.0721750 );
	return dot( weights, rgb );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,Ube=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_v0 0.339
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_v1 0.276
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_v4 0.046
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_v5 0.016
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_v6 0.0038
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,Obe=`vec3 transformedNormal = objectNormal;
#ifdef USE_INSTANCING
	mat3 m = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );
	transformedNormal = m * transformedNormal;
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	vec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,kbe=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,Gbe=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,zbe=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,Hbe=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,Vbe="gl_FragColor = linearToOutputTexel( gl_FragColor );",Wbe=`vec4 LinearToLinear( in vec4 value ) {
	return value;
}
vec4 LinearTosRGB( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,jbe=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,Xbe=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,Jbe=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,Ybe=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,Kbe=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,Qbe=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,qbe=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,Zbe=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,$be=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,ewe=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,twe=`#ifdef USE_LIGHTMAP
	vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
	vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
	reflectedLight.indirectDiffuse += lightMapIrradiance;
#endif`,nwe=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,rwe=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,iwe=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,swe=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
uniform vec3 lightProbe[ 9 ];
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	#if defined ( LEGACY_LIGHTS )
		if ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {
			return pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );
		}
		return 1.0;
	#else
		float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
		if ( cutoffDistance > 0.0 ) {
			distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
		}
		return distanceFalloff;
	#endif
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometry.position;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometry.position;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,owe=`#ifdef USE_ENVMAP
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	#ifdef USE_ANISOTROPY
		vec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {
			#ifdef ENVMAP_TYPE_CUBE_UV
				vec3 bentNormal = cross( bitangent, viewDir );
				bentNormal = normalize( cross( bentNormal, bitangent ) );
				bentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );
				return getIBLRadiance( viewDir, bentNormal, roughness );
			#else
				return vec3( 0.0 );
			#endif
		}
	#endif
#endif`,awe=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,lwe=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,uwe=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,cwe=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,hwe=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif
#ifdef USE_ANISOTROPY
	#ifdef USE_ANISOTROPYMAP
		mat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );
		vec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;
		vec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;
	#else
		vec2 anisotropyV = anisotropyVector;
	#endif
	material.anisotropy = length( anisotropyV );
	anisotropyV /= material.anisotropy;
	material.anisotropy = saturate( material.anisotropy );
	material.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );
	material.anisotropyT = tbn[ 0 ] * anisotropyV.x - tbn[ 1 ] * anisotropyV.y;
	material.anisotropyB = tbn[ 1 ] * anisotropyV.x + tbn[ 0 ] * anisotropyV.y;
#endif`,dwe=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
	#ifdef USE_ANISOTROPY
		float anisotropy;
		float alphaT;
		vec3 anisotropyT;
		vec3 anisotropyB;
	#endif
};
vec3 clearcoatSpecular = vec3( 0.0 );
vec3 sheenSpecular = vec3( 0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_ANISOTROPY
	float V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {
		float gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );
		float gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );
		float v = 0.5 / ( gv + gl );
		return saturate(v);
	}
	float D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {
		float a2 = alphaT * alphaB;
		highp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );
		highp float v2 = dot( v, v );
		float w2 = a2 / v2;
		return RECIPROCAL_PI * a2 * pow2 ( w2 );
	}
#endif
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColor;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	#ifdef USE_ANISOTROPY
		float dotTL = dot( material.anisotropyT, lightDir );
		float dotTV = dot( material.anisotropyT, viewDir );
		float dotTH = dot( material.anisotropyT, halfDir );
		float dotBL = dot( material.anisotropyB, lightDir );
		float dotBV = dot( material.anisotropyB, viewDir );
		float dotBH = dot( material.anisotropyB, halfDir );
		float V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );
		float D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );
	#else
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
	#endif
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometry.normal;
		vec3 viewDir = geometry.viewDir;
		vec3 position = geometry.position;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecular += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometry.viewDir, geometry.clearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * BRDF_Sheen( directLight.direction, geometry.viewDir, geometry.normal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.normal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecular += clearcoatRadiance * EnvironmentBRDF( geometry.clearcoatNormal, geometry.viewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * material.sheenColor * IBLSheenBRDF( geometry.normal, geometry.viewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,fwe=`
GeometricContext geometry;
geometry.position = - vViewPosition;
geometry.normal = normal;
geometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
#ifdef USE_CLEARCOAT
	geometry.clearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometry.viewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometry, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	irradiance += getLightProbeIrradiance( lightProbe, geometry.normal );
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,pwe=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometry.normal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	#ifdef USE_ANISOTROPY
		radiance += getIBLAnisotropyRadiance( geometry.viewDir, geometry.normal, material.roughness, material.anisotropyB, material.anisotropy );
	#else
		radiance += getIBLRadiance( geometry.viewDir, geometry.normal, material.roughness );
	#endif
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,mwe=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );
#endif`,gwe=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	gl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,vwe=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,ywe=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		varying float vFragDepth;
		varying float vIsPerspective;
	#else
		uniform float logDepthBufFC;
	#endif
#endif`,xwe=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		vFragDepth = 1.0 + gl_Position.w;
		vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
	#else
		if ( isPerspectiveMatrix( projectionMatrix ) ) {
			gl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;
			gl_Position.z *= gl_Position.w;
		}
	#endif
#endif`,Awe=`#ifdef USE_MAP
	diffuseColor *= texture2D( map, vMapUv );
#endif`,_we=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,Mwe=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,Swe=`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,Ewe=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,bwe=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,wwe=`#if defined( USE_MORPHCOLORS ) && defined( MORPHTARGETS_TEXTURE )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,Twe=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		objectNormal += morphNormal0 * morphTargetInfluences[ 0 ];
		objectNormal += morphNormal1 * morphTargetInfluences[ 1 ];
		objectNormal += morphNormal2 * morphTargetInfluences[ 2 ];
		objectNormal += morphNormal3 * morphTargetInfluences[ 3 ];
	#endif
#endif`,Cwe=`#ifdef USE_MORPHTARGETS
	uniform float morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
		uniform sampler2DArray morphTargetsTexture;
		uniform ivec2 morphTargetsTextureSize;
		vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
			int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
			int y = texelIndex / morphTargetsTextureSize.x;
			int x = texelIndex - y * morphTargetsTextureSize.x;
			ivec3 morphUV = ivec3( x, y, morphTargetIndex );
			return texelFetch( morphTargetsTexture, morphUV, 0 );
		}
	#else
		#ifndef USE_MORPHNORMALS
			uniform float morphTargetInfluences[ 8 ];
		#else
			uniform float morphTargetInfluences[ 4 ];
		#endif
	#endif
#endif`,Rwe=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		transformed += morphTarget0 * morphTargetInfluences[ 0 ];
		transformed += morphTarget1 * morphTargetInfluences[ 1 ];
		transformed += morphTarget2 * morphTargetInfluences[ 2 ];
		transformed += morphTarget3 * morphTargetInfluences[ 3 ];
		#ifndef USE_MORPHNORMALS
			transformed += morphTarget4 * morphTargetInfluences[ 4 ];
			transformed += morphTarget5 * morphTargetInfluences[ 5 ];
			transformed += morphTarget6 * morphTargetInfluences[ 6 ];
			transformed += morphTarget7 * morphTargetInfluences[ 7 ];
		#endif
	#endif
#endif`,Pwe=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal, vNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 geometryNormal = normal;`,Bwe=`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,Lwe=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,Iwe=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,Dwe=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,Fwe=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,Nwe=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = geometryNormal;
#endif`,Uwe=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,Owe=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,kwe=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,Gwe=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,zwe=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;
const vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );
const vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );
const float ShiftRight8 = 1. / 256.;
vec4 packDepthToRGBA( const in float v ) {
	vec4 r = vec4( fract( v * PackFactors ), v );
	r.yzw -= r.xyz * ShiftRight8;	return r * PackUpscale;
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors );
}
vec2 packDepthToRG( in highp float v ) {
	return packDepthToRGBA( v ).yx;
}
float unpackRGToDepth( const in highp vec2 v ) {
	return unpackRGBAToDepth( vec4( v.xy, 0.0, 0.0 ) );
}
vec4 pack2HalfToRGBA( vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return depth * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * depth - far );
}`,Hwe=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,Vwe=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,Wwe=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,jwe=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,Xwe=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,Jwe=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,Ywe=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return shadow;
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
		vec3 lightToPosition = shadowCoord.xyz;
		float dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );		dp += shadowBias;
		vec3 bd3D = normalize( lightToPosition );
		#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
			vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
			return (
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
			) * ( 1.0 / 9.0 );
		#else
			return texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
		#endif
	}
#endif`,Kwe=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,Qwe=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,qwe=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,Zwe=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,$we=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	uniform int boneTextureSize;
	mat4 getBoneMatrix( const in float i ) {
		float j = i * 4.0;
		float x = mod( j, float( boneTextureSize ) );
		float y = floor( j / float( boneTextureSize ) );
		float dx = 1.0 / float( boneTextureSize );
		float dy = 1.0 / float( boneTextureSize );
		y = dy * ( y + 0.5 );
		vec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );
		vec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );
		vec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );
		vec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );
		mat4 bone = mat4( v1, v2, v3, v4 );
		return bone;
	}
#endif`,eTe=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,tTe=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,nTe=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,rTe=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,iTe=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,sTe=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return saturate( toneMappingExposure * color );
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 OptimizedCineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,oTe=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmitted = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );
#endif`,aTe=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return vec3( 1.0 );
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
		vec3 refractedRayExit = position + transmissionRay;
		vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
		vec2 refractionCoords = ndcPos.xy / ndcPos.w;
		refractionCoords += 1.0;
		refractionCoords /= 2.0;
		vec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
		vec3 transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );
		vec3 attenuatedColor = transmittance * transmittedLight.rgb;
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		float transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;
		return vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );
	}
#endif`,lTe=`#ifdef USE_UV
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,uTe=`#ifdef USE_UV
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	uniform mat3 anisotropyMapTransform;
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,cTe=`#ifdef USE_UV
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ANISOTROPYMAP
	vAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,hTe=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const dTe=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,fTe=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,pTe=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,mTe=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,gTe=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,vTe=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,yTe=`#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,xTe=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#endif
}`,ATe=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,_Te=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,MTe=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,STe=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,ETe=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,bTe=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,wTe=`#include <common>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,TTe=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,CTe=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,RTe=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,PTe=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,BTe=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,LTe=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,ITe=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), opacity );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,DTe=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,FTe=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,NTe=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,UTe=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
#ifdef USE_ANISOTROPY
	uniform vec2 anisotropyVector;
	#ifdef USE_ANISOTROPYMAP
		uniform sampler2D anisotropyMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecular;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + clearcoatSpecular * material.clearcoat;
	#endif
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,OTe=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,kTe=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,GTe=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,zTe=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,HTe=`#include <common>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,VTe=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,WTe=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
	vec2 scale;
	scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
	scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,jTe=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,rn={alphamap_fragment:vbe,alphamap_pars_fragment:ybe,alphatest_fragment:xbe,alphatest_pars_fragment:Abe,aomap_fragment:_be,aomap_pars_fragment:Mbe,begin_vertex:Sbe,beginnormal_vertex:Ebe,bsdfs:bbe,iridescence_fragment:wbe,bumpmap_pars_fragment:Tbe,clipping_planes_fragment:Cbe,clipping_planes_pars_fragment:Rbe,clipping_planes_pars_vertex:Pbe,clipping_planes_vertex:Bbe,color_fragment:Lbe,color_pars_fragment:Ibe,color_pars_vertex:Dbe,color_vertex:Fbe,common:Nbe,cube_uv_reflection_fragment:Ube,defaultnormal_vertex:Obe,displacementmap_pars_vertex:kbe,displacementmap_vertex:Gbe,emissivemap_fragment:zbe,emissivemap_pars_fragment:Hbe,encodings_fragment:Vbe,encodings_pars_fragment:Wbe,envmap_fragment:jbe,envmap_common_pars_fragment:Xbe,envmap_pars_fragment:Jbe,envmap_pars_vertex:Ybe,envmap_physical_pars_fragment:owe,envmap_vertex:Kbe,fog_vertex:Qbe,fog_pars_vertex:qbe,fog_fragment:Zbe,fog_pars_fragment:$be,gradientmap_pars_fragment:ewe,lightmap_fragment:twe,lightmap_pars_fragment:nwe,lights_lambert_fragment:rwe,lights_lambert_pars_fragment:iwe,lights_pars_begin:swe,lights_toon_fragment:awe,lights_toon_pars_fragment:lwe,lights_phong_fragment:uwe,lights_phong_pars_fragment:cwe,lights_physical_fragment:hwe,lights_physical_pars_fragment:dwe,lights_fragment_begin:fwe,lights_fragment_maps:pwe,lights_fragment_end:mwe,logdepthbuf_fragment:gwe,logdepthbuf_pars_fragment:vwe,logdepthbuf_pars_vertex:ywe,logdepthbuf_vertex:xwe,map_fragment:Awe,map_pars_fragment:_we,map_particle_fragment:Mwe,map_particle_pars_fragment:Swe,metalnessmap_fragment:Ewe,metalnessmap_pars_fragment:bwe,morphcolor_vertex:wwe,morphnormal_vertex:Twe,morphtarget_pars_vertex:Cwe,morphtarget_vertex:Rwe,normal_fragment_begin:Pwe,normal_fragment_maps:Bwe,normal_pars_fragment:Lwe,normal_pars_vertex:Iwe,normal_vertex:Dwe,normalmap_pars_fragment:Fwe,clearcoat_normal_fragment_begin:Nwe,clearcoat_normal_fragment_maps:Uwe,clearcoat_pars_fragment:Owe,iridescence_pars_fragment:kwe,output_fragment:Gwe,packing:zwe,premultiplied_alpha_fragment:Hwe,project_vertex:Vwe,dithering_fragment:Wwe,dithering_pars_fragment:jwe,roughnessmap_fragment:Xwe,roughnessmap_pars_fragment:Jwe,shadowmap_pars_fragment:Ywe,shadowmap_pars_vertex:Kwe,shadowmap_vertex:Qwe,shadowmask_pars_fragment:qwe,skinbase_vertex:Zwe,skinning_pars_vertex:$we,skinning_vertex:eTe,skinnormal_vertex:tTe,specularmap_fragment:nTe,specularmap_pars_fragment:rTe,tonemapping_fragment:iTe,tonemapping_pars_fragment:sTe,transmission_fragment:oTe,transmission_pars_fragment:aTe,uv_pars_fragment:lTe,uv_pars_vertex:uTe,uv_vertex:cTe,worldpos_vertex:hTe,background_vert:dTe,background_frag:fTe,backgroundCube_vert:pTe,backgroundCube_frag:mTe,cube_vert:gTe,cube_frag:vTe,depth_vert:yTe,depth_frag:xTe,distanceRGBA_vert:ATe,distanceRGBA_frag:_Te,equirect_vert:MTe,equirect_frag:STe,linedashed_vert:ETe,linedashed_frag:bTe,meshbasic_vert:wTe,meshbasic_frag:TTe,meshlambert_vert:CTe,meshlambert_frag:RTe,meshmatcap_vert:PTe,meshmatcap_frag:BTe,meshnormal_vert:LTe,meshnormal_frag:ITe,meshphong_vert:DTe,meshphong_frag:FTe,meshphysical_vert:NTe,meshphysical_frag:UTe,meshtoon_vert:OTe,meshtoon_frag:kTe,points_vert:GTe,points_frag:zTe,shadow_vert:HTe,shadow_frag:VTe,sprite_vert:WTe,sprite_frag:jTe},pt={common:{diffuse:{value:new At(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new on},alphaMap:{value:null},alphaMapTransform:{value:new on},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new on}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new on}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new on}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new on},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new on},normalScale:{value:new Je(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new on},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new on}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new on}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new on}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new At(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new At(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new on},alphaTest:{value:0},uvTransform:{value:new on}},sprite:{diffuse:{value:new At(16777215)},opacity:{value:1},center:{value:new Je(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new on},alphaMap:{value:null},alphaMapTransform:{value:new on},alphaTest:{value:0}}},Tl={basic:{uniforms:Us([pt.common,pt.specularmap,pt.envmap,pt.aomap,pt.lightmap,pt.fog]),vertexShader:rn.meshbasic_vert,fragmentShader:rn.meshbasic_frag},lambert:{uniforms:Us([pt.common,pt.specularmap,pt.envmap,pt.aomap,pt.lightmap,pt.emissivemap,pt.bumpmap,pt.normalmap,pt.displacementmap,pt.fog,pt.lights,{emissive:{value:new At(0)}}]),vertexShader:rn.meshlambert_vert,fragmentShader:rn.meshlambert_frag},phong:{uniforms:Us([pt.common,pt.specularmap,pt.envmap,pt.aomap,pt.lightmap,pt.emissivemap,pt.bumpmap,pt.normalmap,pt.displacementmap,pt.fog,pt.lights,{emissive:{value:new At(0)},specular:{value:new At(1118481)},shininess:{value:30}}]),vertexShader:rn.meshphong_vert,fragmentShader:rn.meshphong_frag},standard:{uniforms:Us([pt.common,pt.envmap,pt.aomap,pt.lightmap,pt.emissivemap,pt.bumpmap,pt.normalmap,pt.displacementmap,pt.roughnessmap,pt.metalnessmap,pt.fog,pt.lights,{emissive:{value:new At(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:rn.meshphysical_vert,fragmentShader:rn.meshphysical_frag},toon:{uniforms:Us([pt.common,pt.aomap,pt.lightmap,pt.emissivemap,pt.bumpmap,pt.normalmap,pt.displacementmap,pt.gradientmap,pt.fog,pt.lights,{emissive:{value:new At(0)}}]),vertexShader:rn.meshtoon_vert,fragmentShader:rn.meshtoon_frag},matcap:{uniforms:Us([pt.common,pt.bumpmap,pt.normalmap,pt.displacementmap,pt.fog,{matcap:{value:null}}]),vertexShader:rn.meshmatcap_vert,fragmentShader:rn.meshmatcap_frag},points:{uniforms:Us([pt.points,pt.fog]),vertexShader:rn.points_vert,fragmentShader:rn.points_frag},dashed:{uniforms:Us([pt.common,pt.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:rn.linedashed_vert,fragmentShader:rn.linedashed_frag},depth:{uniforms:Us([pt.common,pt.displacementmap]),vertexShader:rn.depth_vert,fragmentShader:rn.depth_frag},normal:{uniforms:Us([pt.common,pt.bumpmap,pt.normalmap,pt.displacementmap,{opacity:{value:1}}]),vertexShader:rn.meshnormal_vert,fragmentShader:rn.meshnormal_frag},sprite:{uniforms:Us([pt.sprite,pt.fog]),vertexShader:rn.sprite_vert,fragmentShader:rn.sprite_frag},background:{uniforms:{uvTransform:{value:new on},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:rn.background_vert,fragmentShader:rn.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1}},vertexShader:rn.backgroundCube_vert,fragmentShader:rn.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:rn.cube_vert,fragmentShader:rn.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:rn.equirect_vert,fragmentShader:rn.equirect_frag},distanceRGBA:{uniforms:Us([pt.common,pt.displacementmap,{referencePosition:{value:new ie},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:rn.distanceRGBA_vert,fragmentShader:rn.distanceRGBA_frag},shadow:{uniforms:Us([pt.lights,pt.fog,{color:{value:new At(0)},opacity:{value:1}}]),vertexShader:rn.shadow_vert,fragmentShader:rn.shadow_frag}};Tl.physical={uniforms:Us([Tl.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new on},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new on},clearcoatNormalScale:{value:new Je(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new on},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new on},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new on},sheen:{value:0},sheenColor:{value:new At(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new on},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new on},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new on},transmissionSamplerSize:{value:new Je},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new on},attenuationDistance:{value:0},attenuationColor:{value:new At(0)},specularColor:{value:new At(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new on},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new on},anisotropyVector:{value:new Je},anisotropyMap:{value:null},anisotropyMapTransform:{value:new on}}]),vertexShader:rn.meshphysical_vert,fragmentShader:rn.meshphysical_frag};const iw={r:0,b:0,g:0};function XTe(n,e,t,r,i,s,o){const a=new At(0);let l=s===!0?0:1,u,h,f=null,p=0,m=null;function v(A,g){let M=!1,_=g.isScene===!0?g.background:null;switch(_&&_.isTexture&&(_=(g.backgroundBlurriness>0?t:e).get(_)),_===null?S(a,l):_&&_.isColor&&(S(_,1),M=!0),n.xr.getEnvironmentBlendMode()){case"opaque":M=!0;break;case"additive":r.buffers.color.setClear(0,0,0,1,o),M=!0;break;case"alpha-blend":r.buffers.color.setClear(0,0,0,0,o),M=!0;break}(n.autoClear||M)&&n.clear(n.autoClearColor,n.autoClearDepth,n.autoClearStencil),_&&(_.isCubeTexture||_.mapping===bx)?(h===void 0&&(h=new Si(new Nf(1,1,1),new qu({name:"BackgroundCubeMaterial",uniforms:tx(Tl.backgroundCube.uniforms),vertexShader:Tl.backgroundCube.vertexShader,fragmentShader:Tl.backgroundCube.fragmentShader,side:js,depthTest:!1,depthWrite:!1,fog:!1})),h.geometry.deleteAttribute("normal"),h.geometry.deleteAttribute("uv"),h.onBeforeRender=function(C,B,P){this.matrixWorld.copyPosition(P.matrixWorld)},Object.defineProperty(h.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),i.update(h)),h.material.uniforms.envMap.value=_,h.material.uniforms.flipEnvMap.value=_.isCubeTexture&&_.isRenderTargetTexture===!1?-1:1,h.material.uniforms.backgroundBlurriness.value=g.backgroundBlurriness,h.material.uniforms.backgroundIntensity.value=g.backgroundIntensity,h.material.toneMapped=_.colorSpace!==Zt,(f!==_||p!==_.version||m!==n.toneMapping)&&(h.material.needsUpdate=!0,f=_,p=_.version,m=n.toneMapping),h.layers.enableAll(),A.unshift(h,h.geometry,h.material,0,0,null)):_&&_.isTexture&&(u===void 0&&(u=new Si(new Tx(2,2),new qu({name:"BackgroundMaterial",uniforms:tx(Tl.background.uniforms),vertexShader:Tl.background.vertexShader,fragmentShader:Tl.background.fragmentShader,side:Ku,depthTest:!1,depthWrite:!1,fog:!1})),u.geometry.deleteAttribute("normal"),Object.defineProperty(u.material,"map",{get:function(){return this.uniforms.t2D.value}}),i.update(u)),u.material.uniforms.t2D.value=_,u.material.uniforms.backgroundIntensity.value=g.backgroundIntensity,u.material.toneMapped=_.colorSpace!==Zt,_.matrixAutoUpdate===!0&&_.updateMatrix(),u.material.uniforms.uvTransform.value.copy(_.matrix),(f!==_||p!==_.version||m!==n.toneMapping)&&(u.material.needsUpdate=!0,f=_,p=_.version,m=n.toneMapping),u.layers.enableAll(),A.unshift(u,u.geometry,u.material,0,0,null))}function S(A,g){A.getRGB(iw,cte(n)),r.buffers.color.setClear(iw.r,iw.g,iw.b,g,o)}return{getClearColor:function(){return a},setClearColor:function(A,g=1){a.set(A),l=g,S(a,l)},getClearAlpha:function(){return l},setClearAlpha:function(A){l=A,S(a,l)},render:v}}function JTe(n,e,t,r){const i=n.getParameter(n.MAX_VERTEX_ATTRIBS),s=r.isWebGL2?null:e.get("OES_vertex_array_object"),o=r.isWebGL2||s!==null,a={},l=A(null);let u=l,h=!1;function f(Y,X,ae,Z,D){let k=!1;if(o){const G=S(Z,ae,X);u!==G&&(u=G,m(u.object)),k=g(Y,Z,ae,D),k&&M(Y,Z,ae,D)}else{const G=X.wireframe===!0;(u.geometry!==Z.id||u.program!==ae.id||u.wireframe!==G)&&(u.geometry=Z.id,u.program=ae.id,u.wireframe=G,k=!0)}D!==null&&t.update(D,n.ELEMENT_ARRAY_BUFFER),(k||h)&&(h=!1,P(Y,X,ae,Z),D!==null&&n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,t.get(D).buffer))}function p(){return r.isWebGL2?n.createVertexArray():s.createVertexArrayOES()}function m(Y){return r.isWebGL2?n.bindVertexArray(Y):s.bindVertexArrayOES(Y)}function v(Y){return r.isWebGL2?n.deleteVertexArray(Y):s.deleteVertexArrayOES(Y)}function S(Y,X,ae){const Z=ae.wireframe===!0;let D=a[Y.id];D===void 0&&(D={},a[Y.id]=D);let k=D[X.id];k===void 0&&(k={},D[X.id]=k);let G=k[Z];return G===void 0&&(G=A(p()),k[Z]=G),G}function A(Y){const X=[],ae=[],Z=[];for(let D=0;D<i;D++)X[D]=0,ae[D]=0,Z[D]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:X,enabledAttributes:ae,attributeDivisors:Z,object:Y,attributes:{},index:null}}function g(Y,X,ae,Z){const D=u.attributes,k=X.attributes;let G=0;const K=ae.getAttributes();for(const H in K)if(K[H].location>=0){const le=D[H];let Ce=k[H];if(Ce===void 0&&(H==="instanceMatrix"&&Y.instanceMatrix&&(Ce=Y.instanceMatrix),H==="instanceColor"&&Y.instanceColor&&(Ce=Y.instanceColor)),le===void 0||le.attribute!==Ce||Ce&&le.data!==Ce.data)return!0;G++}return u.attributesNum!==G||u.index!==Z}function M(Y,X,ae,Z){const D={},k=X.attributes;let G=0;const K=ae.getAttributes();for(const H in K)if(K[H].location>=0){let le=k[H];le===void 0&&(H==="instanceMatrix"&&Y.instanceMatrix&&(le=Y.instanceMatrix),H==="instanceColor"&&Y.instanceColor&&(le=Y.instanceColor));const Ce={};Ce.attribute=le,le&&le.data&&(Ce.data=le.data),D[H]=Ce,G++}u.attributes=D,u.attributesNum=G,u.index=Z}function _(){const Y=u.newAttributes;for(let X=0,ae=Y.length;X<ae;X++)Y[X]=0}function b(Y){T(Y,0)}function T(Y,X){const ae=u.newAttributes,Z=u.enabledAttributes,D=u.attributeDivisors;ae[Y]=1,Z[Y]===0&&(n.enableVertexAttribArray(Y),Z[Y]=1),D[Y]!==X&&((r.isWebGL2?n:e.get("ANGLE_instanced_arrays"))[r.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](Y,X),D[Y]=X)}function C(){const Y=u.newAttributes,X=u.enabledAttributes;for(let ae=0,Z=X.length;ae<Z;ae++)X[ae]!==Y[ae]&&(n.disableVertexAttribArray(ae),X[ae]=0)}function B(Y,X,ae,Z,D,k,G){G===!0?n.vertexAttribIPointer(Y,X,ae,D,k):n.vertexAttribPointer(Y,X,ae,Z,D,k)}function P(Y,X,ae,Z){if(r.isWebGL2===!1&&(Y.isInstancedMesh||Z.isInstancedBufferGeometry)&&e.get("ANGLE_instanced_arrays")===null)return;_();const D=Z.attributes,k=ae.getAttributes(),G=X.defaultAttributeValues;for(const K in k){const H=k[K];if(H.location>=0){let ue=D[K];if(ue===void 0&&(K==="instanceMatrix"&&Y.instanceMatrix&&(ue=Y.instanceMatrix),K==="instanceColor"&&Y.instanceColor&&(ue=Y.instanceColor)),ue!==void 0){const le=ue.normalized,Ce=ue.itemSize,xe=t.get(ue);if(xe===void 0)continue;const Be=xe.buffer,Qe=xe.type,je=xe.bytesPerElement,Ke=r.isWebGL2===!0&&(Qe===n.INT||Qe===n.UNSIGNED_INT||ue.gpuType===lG);if(ue.isInterleavedBufferAttribute){const fe=ue.data,z=fe.stride,Ae=ue.offset;if(fe.isInstancedInterleavedBuffer){for(let ge=0;ge<H.locationSize;ge++)T(H.location+ge,fe.meshPerAttribute);Y.isInstancedMesh!==!0&&Z._maxInstanceCount===void 0&&(Z._maxInstanceCount=fe.meshPerAttribute*fe.count)}else for(let ge=0;ge<H.locationSize;ge++)b(H.location+ge);n.bindBuffer(n.ARRAY_BUFFER,Be);for(let ge=0;ge<H.locationSize;ge++)B(H.location+ge,Ce/H.locationSize,Qe,le,z*je,(Ae+Ce/H.locationSize*ge)*je,Ke)}else{if(ue.isInstancedBufferAttribute){for(let fe=0;fe<H.locationSize;fe++)T(H.location+fe,ue.meshPerAttribute);Y.isInstancedMesh!==!0&&Z._maxInstanceCount===void 0&&(Z._maxInstanceCount=ue.meshPerAttribute*ue.count)}else for(let fe=0;fe<H.locationSize;fe++)b(H.location+fe);n.bindBuffer(n.ARRAY_BUFFER,Be);for(let fe=0;fe<H.locationSize;fe++)B(H.location+fe,Ce/H.locationSize,Qe,le,Ce*je,Ce/H.locationSize*fe*je,Ke)}}else if(G!==void 0){const le=G[K];if(le!==void 0)switch(le.length){case 2:n.vertexAttrib2fv(H.location,le);break;case 3:n.vertexAttrib3fv(H.location,le);break;case 4:n.vertexAttrib4fv(H.location,le);break;default:n.vertexAttrib1fv(H.location,le)}}}}C()}function R(){Q();for(const Y in a){const X=a[Y];for(const ae in X){const Z=X[ae];for(const D in Z)v(Z[D].object),delete Z[D];delete X[ae]}delete a[Y]}}function L(Y){if(a[Y.id]===void 0)return;const X=a[Y.id];for(const ae in X){const Z=X[ae];for(const D in Z)v(Z[D].object),delete Z[D];delete X[ae]}delete a[Y.id]}function U(Y){for(const X in a){const ae=a[X];if(ae[Y.id]===void 0)continue;const Z=ae[Y.id];for(const D in Z)v(Z[D].object),delete Z[D];delete ae[Y.id]}}function Q(){W(),h=!0,u!==l&&(u=l,m(u.object))}function W(){l.geometry=null,l.program=null,l.wireframe=!1}return{setup:f,reset:Q,resetDefaultState:W,dispose:R,releaseStatesOfGeometry:L,releaseStatesOfProgram:U,initAttributes:_,enableAttribute:b,disableUnusedAttributes:C}}function YTe(n,e,t,r){const i=r.isWebGL2;let s;function o(u){s=u}function a(u,h){n.drawArrays(s,u,h),t.update(h,s,1)}function l(u,h,f){if(f===0)return;let p,m;if(i)p=n,m="drawArraysInstanced";else if(p=e.get("ANGLE_instanced_arrays"),m="drawArraysInstancedANGLE",p===null){console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}p[m](s,u,h,f),t.update(h,s,f)}this.setMode=o,this.render=a,this.renderInstances=l}function KTe(n,e,t){let r;function i(){if(r!==void 0)return r;if(e.has("EXT_texture_filter_anisotropic")===!0){const B=e.get("EXT_texture_filter_anisotropic");r=n.getParameter(B.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else r=0;return r}function s(B){if(B==="highp"){if(n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.HIGH_FLOAT).precision>0&&n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.HIGH_FLOAT).precision>0)return"highp";B="mediump"}return B==="mediump"&&n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.MEDIUM_FLOAT).precision>0&&n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}const o=typeof WebGL2RenderingContext<"u"&&n.constructor.name==="WebGL2RenderingContext";let a=t.precision!==void 0?t.precision:"highp";const l=s(a);l!==a&&(console.warn("THREE.WebGLRenderer:",a,"not supported, using",l,"instead."),a=l);const u=o||e.has("WEBGL_draw_buffers"),h=t.logarithmicDepthBuffer===!0,f=n.getParameter(n.MAX_TEXTURE_IMAGE_UNITS),p=n.getParameter(n.MAX_VERTEX_TEXTURE_IMAGE_UNITS),m=n.getParameter(n.MAX_TEXTURE_SIZE),v=n.getParameter(n.MAX_CUBE_MAP_TEXTURE_SIZE),S=n.getParameter(n.MAX_VERTEX_ATTRIBS),A=n.getParameter(n.MAX_VERTEX_UNIFORM_VECTORS),g=n.getParameter(n.MAX_VARYING_VECTORS),M=n.getParameter(n.MAX_FRAGMENT_UNIFORM_VECTORS),_=p>0,b=o||e.has("OES_texture_float"),T=_&&b,C=o?n.getParameter(n.MAX_SAMPLES):0;return{isWebGL2:o,drawBuffers:u,getMaxAnisotropy:i,getMaxPrecision:s,precision:a,logarithmicDepthBuffer:h,maxTextures:f,maxVertexTextures:p,maxTextureSize:m,maxCubemapSize:v,maxAttributes:S,maxVertexUniforms:A,maxVaryings:g,maxFragmentUniforms:M,vertexTextures:_,floatFragmentTextures:b,floatVertexTextures:T,maxSamples:C}}function QTe(n){const e=this;let t=null,r=0,i=!1,s=!1;const o=new Md,a=new on,l={value:null,needsUpdate:!1};this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(f,p){const m=f.length!==0||p||r!==0||i;return i=p,r=f.length,m},this.beginShadows=function(){s=!0,h(null)},this.endShadows=function(){s=!1},this.setGlobalState=function(f,p){t=h(f,p,0)},this.setState=function(f,p,m){const v=f.clippingPlanes,S=f.clipIntersection,A=f.clipShadows,g=n.get(f);if(!i||v===null||v.length===0||s&&!A)s?h(null):u();else{const M=s?0:r,_=M*4;let b=g.clippingState||null;l.value=b,b=h(v,p,_,m);for(let T=0;T!==_;++T)b[T]=t[T];g.clippingState=b,this.numIntersection=S?this.numPlanes:0,this.numPlanes+=M}};function u(){l.value!==t&&(l.value=t,l.needsUpdate=r>0),e.numPlanes=r,e.numIntersection=0}function h(f,p,m,v){const S=f!==null?f.length:0;let A=null;if(S!==0){if(A=l.value,v!==!0||A===null){const g=m+S*4,M=p.matrixWorldInverse;a.getNormalMatrix(M),(A===null||A.length<g)&&(A=new Float32Array(g));for(let _=0,b=m;_!==S;++_,b+=4)o.copy(f[_]).applyMatrix4(M,a),o.normal.toArray(A,b),A[b+3]=o.constant}l.value=A,l.needsUpdate=!0}return e.numPlanes=S,e.numIntersection=0,A}}function qTe(n){let e=new WeakMap;function t(o,a){return a===RM?o.mapping=yf:a===PM&&(o.mapping=xf),o}function r(o){if(o&&o.isTexture&&o.isRenderTargetTexture===!1){const a=o.mapping;if(a===RM||a===PM)if(e.has(o)){const l=e.get(o).texture;return t(l,o.mapping)}else{const l=o.image;if(l&&l.height>0){const u=new bG(l.height/2);return u.fromEquirectangularTexture(n,o),e.set(o,u),o.addEventListener("dispose",i),t(u.texture,o.mapping)}else return null}}return o}function i(o){const a=o.target;a.removeEventListener("dispose",i);const l=e.get(a);l!==void 0&&(e.delete(a),l.dispose())}function s(){e=new WeakMap}return{get:r,dispose:s}}class Ul extends ES{constructor(e=-1,t=1,r=1,i=-1,s=.1,o=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=t,this.top=r,this.bottom=i,this.near=s,this.far=o,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,t,r,i,s,o){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=r,this.view.offsetY=i,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),r=(this.right+this.left)/2,i=(this.top+this.bottom)/2;let s=r-e,o=r+e,a=i+t,l=i-t;if(this.view!==null&&this.view.enabled){const u=(this.right-this.left)/this.view.fullWidth/this.zoom,h=(this.top-this.bottom)/this.view.fullHeight/this.zoom;s+=u*this.view.offsetX,o=s+u*this.view.width,a-=h*this.view.offsetY,l=a-h*this.view.height}this.projectionMatrix.makeOrthographic(s,o,a,l,this.near,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,this.view!==null&&(t.object.view=Object.assign({},this.view)),t}}const Y0=4,X8=[.125,.215,.35,.446,.526,.582],um=20,AL=new Ul,J8=new At;let _L=null;const rm=(1+Math.sqrt(5))/2,n0=1/rm,Y8=[new ie(1,1,1),new ie(-1,1,1),new ie(1,1,-1),new ie(-1,1,-1),new ie(0,rm,n0),new ie(0,rm,-n0),new ie(n0,0,rm),new ie(-n0,0,rm),new ie(rm,n0,0),new ie(-rm,n0,0)];class jF{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,t=0,r=.1,i=100){_L=this._renderer.getRenderTarget(),this._setSize(256);const s=this._allocateTargets();return s.depthBuffer=!0,this._sceneToCubeUV(e,r,i,s),t>0&&this._blur(s,0,0,t),this._applyPMREM(s),this._cleanup(s),s}fromEquirectangular(e,t=null){return this._fromTexture(e,t)}fromCubemap(e,t=null){return this._fromTexture(e,t)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=q8(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=Q8(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(_L),e.scissorTest=!1,sw(e,0,0,e.width,e.height)}_fromTexture(e,t){e.mapping===yf||e.mapping===xf?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),_L=this._renderer.getRenderTarget();const r=t||this._allocateTargets();return this._textureToCubeUV(e,r),this._applyPMREM(r),this._cleanup(r),r}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),t=4*this._cubeSize,r={magFilter:_r,minFilter:_r,generateMipmaps:!1,type:Zy,format:lo,colorSpace:Hl,depthBuffer:!1},i=K8(e,t,r);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==t){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=K8(e,t,r);const{_lodMax:s}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=ZTe(s)),this._blurMaterial=$Te(s,e,t)}return i}_compileMaterial(e){const t=new Si(this._lodPlanes[0],e);this._renderer.compile(t,AL)}_sceneToCubeUV(e,t,r,i){const a=new hr(90,1,t,r),l=[1,-1,1,1,1,1],u=[1,1,1,-1,-1,-1],h=this._renderer,f=h.autoClear,p=h.toneMapping;h.getClearColor(J8),h.toneMapping=Nl,h.autoClear=!1;const m=new Xo({name:"PMREM.Background",side:js,depthWrite:!1,depthTest:!1}),v=new Si(new Nf,m);let S=!1;const A=e.background;A?A.isColor&&(m.color.copy(A),e.background=null,S=!0):(m.color.copy(J8),S=!0);for(let g=0;g<6;g++){const M=g%3;M===0?(a.up.set(0,l[g],0),a.lookAt(u[g],0,0)):M===1?(a.up.set(0,0,l[g]),a.lookAt(0,u[g],0)):(a.up.set(0,l[g],0),a.lookAt(0,0,u[g]));const _=this._cubeSize;sw(i,M*_,g>2?_:0,_,_),h.setRenderTarget(i),S&&h.render(v,a),h.render(e,a)}v.geometry.dispose(),v.material.dispose(),h.toneMapping=p,h.autoClear=f,e.background=A}_textureToCubeUV(e,t){const r=this._renderer,i=e.mapping===yf||e.mapping===xf;i?(this._cubemapMaterial===null&&(this._cubemapMaterial=q8()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=Q8());const s=i?this._cubemapMaterial:this._equirectMaterial,o=new Si(this._lodPlanes[0],s),a=s.uniforms;a.envMap.value=e;const l=this._cubeSize;sw(t,0,0,3*l,2*l),r.setRenderTarget(t),r.render(o,AL)}_applyPMREM(e){const t=this._renderer,r=t.autoClear;t.autoClear=!1;for(let i=1;i<this._lodPlanes.length;i++){const s=Math.sqrt(this._sigmas[i]*this._sigmas[i]-this._sigmas[i-1]*this._sigmas[i-1]),o=Y8[(i-1)%Y8.length];this._blur(e,i-1,i,s,o)}t.autoClear=r}_blur(e,t,r,i,s){const o=this._pingPongRenderTarget;this._halfBlur(e,o,t,r,i,"latitudinal",s),this._halfBlur(o,e,r,r,i,"longitudinal",s)}_halfBlur(e,t,r,i,s,o,a){const l=this._renderer,u=this._blurMaterial;o!=="latitudinal"&&o!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const h=3,f=new Si(this._lodPlanes[i],u),p=u.uniforms,m=this._sizeLods[r]-1,v=isFinite(s)?Math.PI/(2*m):2*Math.PI/(2*um-1),S=s/v,A=isFinite(s)?1+Math.floor(h*S):um;A>um&&console.warn(`sigmaRadians, ${s}, is too large and will clip, as it requested ${A} samples when the maximum is set to ${um}`);const g=[];let M=0;for(let B=0;B<um;++B){const P=B/S,R=Math.exp(-P*P/2);g.push(R),B===0?M+=R:B<A&&(M+=2*R)}for(let B=0;B<g.length;B++)g[B]=g[B]/M;p.envMap.value=e.texture,p.samples.value=A,p.weights.value=g,p.latitudinal.value=o==="latitudinal",a&&(p.poleAxis.value=a);const{_lodMax:_}=this;p.dTheta.value=v,p.mipInt.value=_-r;const b=this._sizeLods[i],T=3*b*(i>_-Y0?i-_+Y0:0),C=4*(this._cubeSize-b);sw(t,T,C,3*b,2*b),l.setRenderTarget(t),l.render(f,AL)}}function ZTe(n){const e=[],t=[],r=[];let i=n;const s=n-Y0+1+X8.length;for(let o=0;o<s;o++){const a=Math.pow(2,i);t.push(a);let l=1/a;o>n-Y0?l=X8[o-n+Y0-1]:o===0&&(l=0),r.push(l);const u=1/(a-2),h=-u,f=1+u,p=[h,h,f,h,f,f,h,h,f,f,h,f],m=6,v=6,S=3,A=2,g=1,M=new Float32Array(S*v*m),_=new Float32Array(A*v*m),b=new Float32Array(g*v*m);for(let C=0;C<m;C++){const B=C%3*2/3-1,P=C>2?0:-1,R=[B,P,0,B+2/3,P,0,B+2/3,P+1,0,B,P,0,B+2/3,P+1,0,B,P+1,0];M.set(R,S*v*C),_.set(p,A*v*C);const L=[C,C,C,C,C,C];b.set(L,g*v*C)}const T=new Qt;T.setAttribute("position",new Bn(M,S)),T.setAttribute("uv",new Bn(_,A)),T.setAttribute("faceIndex",new Bn(b,g)),e.push(T),i>Y0&&i--}return{lodPlanes:e,sizeLods:t,sigmas:r}}function K8(n,e,t){const r=new Vl(n,e,t);return r.texture.mapping=bx,r.texture.name="PMREM.cubeUv",r.scissorTest=!0,r}function sw(n,e,t,r,i){n.viewport.set(e,t,r,i),n.scissor.set(e,t,r,i)}function $Te(n,e,t){const r=new Float32Array(um),i=new ie(0,1,0);return new qu({name:"SphericalGaussianBlur",defines:{n:um,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/t,CUBEUV_MAX_MIP:`${n}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:r},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:i}},vertexShader:wG(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:dh,depthTest:!1,depthWrite:!1})}function Q8(){return new qu({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:wG(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:dh,depthTest:!1,depthWrite:!1})}function q8(){return new qu({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:wG(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:dh,depthTest:!1,depthWrite:!1})}function wG(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function eCe(n){let e=new WeakMap,t=null;function r(a){if(a&&a.isTexture){const l=a.mapping,u=l===RM||l===PM,h=l===yf||l===xf;if(u||h)if(a.isRenderTargetTexture&&a.needsPMREMUpdate===!0){a.needsPMREMUpdate=!1;let f=e.get(a);return t===null&&(t=new jF(n)),f=u?t.fromEquirectangular(a,f):t.fromCubemap(a,f),e.set(a,f),f.texture}else{if(e.has(a))return e.get(a).texture;{const f=a.image;if(u&&f&&f.height>0||h&&f&&i(f)){t===null&&(t=new jF(n));const p=u?t.fromEquirectangular(a):t.fromCubemap(a);return e.set(a,p),a.addEventListener("dispose",s),p.texture}else return null}}}return a}function i(a){let l=0;const u=6;for(let h=0;h<u;h++)a[h]!==void 0&&l++;return l===u}function s(a){const l=a.target;l.removeEventListener("dispose",s);const u=e.get(l);u!==void 0&&(e.delete(l),u.dispose())}function o(){e=new WeakMap,t!==null&&(t.dispose(),t=null)}return{get:r,dispose:o}}function tCe(n){const e={};function t(r){if(e[r]!==void 0)return e[r];let i;switch(r){case"WEBGL_depth_texture":i=n.getExtension("WEBGL_depth_texture")||n.getExtension("MOZ_WEBGL_depth_texture")||n.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":i=n.getExtension("EXT_texture_filter_anisotropic")||n.getExtension("MOZ_EXT_texture_filter_anisotropic")||n.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":i=n.getExtension("WEBGL_compressed_texture_s3tc")||n.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":i=n.getExtension("WEBGL_compressed_texture_pvrtc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:i=n.getExtension(r)}return e[r]=i,i}return{has:function(r){return t(r)!==null},init:function(r){r.isWebGL2?t("EXT_color_buffer_float"):(t("WEBGL_depth_texture"),t("OES_texture_float"),t("OES_texture_half_float"),t("OES_texture_half_float_linear"),t("OES_standard_derivatives"),t("OES_element_index_uint"),t("OES_vertex_array_object"),t("ANGLE_instanced_arrays")),t("OES_texture_float_linear"),t("EXT_color_buffer_half_float"),t("WEBGL_multisampled_render_to_texture")},get:function(r){const i=t(r);return i===null&&console.warn("THREE.WebGLRenderer: "+r+" extension not supported."),i}}}function nCe(n,e,t,r){const i={},s=new WeakMap;function o(f){const p=f.target;p.index!==null&&e.remove(p.index);for(const v in p.attributes)e.remove(p.attributes[v]);for(const v in p.morphAttributes){const S=p.morphAttributes[v];for(let A=0,g=S.length;A<g;A++)e.remove(S[A])}p.removeEventListener("dispose",o),delete i[p.id];const m=s.get(p);m&&(e.remove(m),s.delete(p)),r.releaseStatesOfGeometry(p),p.isInstancedBufferGeometry===!0&&delete p._maxInstanceCount,t.memory.geometries--}function a(f,p){return i[p.id]===!0||(p.addEventListener("dispose",o),i[p.id]=!0,t.memory.geometries++),p}function l(f){const p=f.attributes;for(const v in p)e.update(p[v],n.ARRAY_BUFFER);const m=f.morphAttributes;for(const v in m){const S=m[v];for(let A=0,g=S.length;A<g;A++)e.update(S[A],n.ARRAY_BUFFER)}}function u(f){const p=[],m=f.index,v=f.attributes.position;let S=0;if(m!==null){const M=m.array;S=m.version;for(let _=0,b=M.length;_<b;_+=3){const T=M[_+0],C=M[_+1],B=M[_+2];p.push(T,C,C,B,B,T)}}else{const M=v.array;S=v.version;for(let _=0,b=M.length/3-1;_<b;_+=3){const T=_+0,C=_+1,B=_+2;p.push(T,C,C,B,B,T)}}const A=new(lte(p)?SG:MG)(p,1);A.version=S;const g=s.get(f);g&&e.remove(g),s.set(f,A)}function h(f){const p=s.get(f);if(p){const m=f.index;m!==null&&p.version<m.version&&u(f)}else u(f);return s.get(f)}return{get:a,update:l,getWireframeAttribute:h}}function rCe(n,e,t,r){const i=r.isWebGL2;let s;function o(p){s=p}let a,l;function u(p){a=p.type,l=p.bytesPerElement}function h(p,m){n.drawElements(s,m,a,p*l),t.update(m,s,1)}function f(p,m,v){if(v===0)return;let S,A;if(i)S=n,A="drawElementsInstanced";else if(S=e.get("ANGLE_instanced_arrays"),A="drawElementsInstancedANGLE",S===null){console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}S[A](s,m,a,p*l,v),t.update(m,s,v)}this.setMode=o,this.setIndex=u,this.render=h,this.renderInstances=f}function iCe(n){const e={geometries:0,textures:0},t={frame:0,calls:0,triangles:0,points:0,lines:0};function r(s,o,a){switch(t.calls++,o){case n.TRIANGLES:t.triangles+=a*(s/3);break;case n.LINES:t.lines+=a*(s/2);break;case n.LINE_STRIP:t.lines+=a*(s-1);break;case n.LINE_LOOP:t.lines+=a*s;break;case n.POINTS:t.points+=a*s;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",o);break}}function i(){t.calls=0,t.triangles=0,t.points=0,t.lines=0}return{memory:e,render:t,programs:null,autoReset:!0,reset:i,update:r}}function sCe(n,e){return n[0]-e[0]}function oCe(n,e){return Math.abs(e[1])-Math.abs(n[1])}function aCe(n,e,t){const r={},i=new Float32Array(8),s=new WeakMap,o=new Gn,a=[];for(let u=0;u<8;u++)a[u]=[u,0];function l(u,h,f){const p=u.morphTargetInfluences;if(e.isWebGL2===!0){const m=h.morphAttributes.position||h.morphAttributes.normal||h.morphAttributes.color,v=m!==void 0?m.length:0;let S=s.get(h);if(S===void 0||S.count!==v){let Y=function(){Q.dispose(),s.delete(h),h.removeEventListener("dispose",Y)};S!==void 0&&S.texture.dispose();const M=h.morphAttributes.position!==void 0,_=h.morphAttributes.normal!==void 0,b=h.morphAttributes.color!==void 0,T=h.morphAttributes.position||[],C=h.morphAttributes.normal||[],B=h.morphAttributes.color||[];let P=0;M===!0&&(P=1),_===!0&&(P=2),b===!0&&(P=3);let R=h.attributes.position.count*P,L=1;R>e.maxTextureSize&&(L=Math.ceil(R/e.maxTextureSize),R=e.maxTextureSize);const U=new Float32Array(R*L*4*v),Q=new fP(U,R,L,v);Q.type=Lu,Q.needsUpdate=!0;const W=P*4;for(let X=0;X<v;X++){const ae=T[X],Z=C[X],D=B[X],k=R*L*4*X;for(let G=0;G<ae.count;G++){const K=G*W;M===!0&&(o.fromBufferAttribute(ae,G),U[k+K+0]=o.x,U[k+K+1]=o.y,U[k+K+2]=o.z,U[k+K+3]=0),_===!0&&(o.fromBufferAttribute(Z,G),U[k+K+4]=o.x,U[k+K+5]=o.y,U[k+K+6]=o.z,U[k+K+7]=0),b===!0&&(o.fromBufferAttribute(D,G),U[k+K+8]=o.x,U[k+K+9]=o.y,U[k+K+10]=o.z,U[k+K+11]=D.itemSize===4?o.w:1)}}S={count:v,texture:Q,size:new Je(R,L)},s.set(h,S),h.addEventListener("dispose",Y)}let A=0;for(let M=0;M<p.length;M++)A+=p[M];const g=h.morphTargetsRelative?1:1-A;f.getUniforms().setValue(n,"morphTargetBaseInfluence",g),f.getUniforms().setValue(n,"morphTargetInfluences",p),f.getUniforms().setValue(n,"morphTargetsTexture",S.texture,t),f.getUniforms().setValue(n,"morphTargetsTextureSize",S.size)}else{const m=p===void 0?0:p.length;let v=r[h.id];if(v===void 0||v.length!==m){v=[];for(let _=0;_<m;_++)v[_]=[_,0];r[h.id]=v}for(let _=0;_<m;_++){const b=v[_];b[0]=_,b[1]=p[_]}v.sort(oCe);for(let _=0;_<8;_++)_<m&&v[_][1]?(a[_][0]=v[_][0],a[_][1]=v[_][1]):(a[_][0]=Number.MAX_SAFE_INTEGER,a[_][1]=0);a.sort(sCe);const S=h.morphAttributes.position,A=h.morphAttributes.normal;let g=0;for(let _=0;_<8;_++){const b=a[_],T=b[0],C=b[1];T!==Number.MAX_SAFE_INTEGER&&C?(S&&h.getAttribute("morphTarget"+_)!==S[T]&&h.setAttribute("morphTarget"+_,S[T]),A&&h.getAttribute("morphNormal"+_)!==A[T]&&h.setAttribute("morphNormal"+_,A[T]),i[_]=C,g+=C):(S&&h.hasAttribute("morphTarget"+_)===!0&&h.deleteAttribute("morphTarget"+_),A&&h.hasAttribute("morphNormal"+_)===!0&&h.deleteAttribute("morphNormal"+_),i[_]=0)}const M=h.morphTargetsRelative?1:1-g;f.getUniforms().setValue(n,"morphTargetBaseInfluence",M),f.getUniforms().setValue(n,"morphTargetInfluences",i)}}return{update:l}}function lCe(n,e,t,r){let i=new WeakMap;function s(l){const u=r.render.frame,h=l.geometry,f=e.get(l,h);return i.get(f)!==u&&(e.update(f),i.set(f,u)),l.isInstancedMesh&&(l.hasEventListener("dispose",a)===!1&&l.addEventListener("dispose",a),t.update(l.instanceMatrix,n.ARRAY_BUFFER),l.instanceColor!==null&&t.update(l.instanceColor,n.ARRAY_BUFFER)),f}function o(){i=new WeakMap}function a(l){const u=l.target;u.removeEventListener("dispose",a),t.remove(u.instanceMatrix),u.instanceColor!==null&&t.remove(u.instanceColor)}return{update:s,dispose:o}}const fte=new fr,pte=new fP,mte=new _G,gte=new bS,Z8=[],$8=[],e6=new Float32Array(16),t6=new Float32Array(9),n6=new Float32Array(4);function Cx(n,e,t){const r=n[0];if(r<=0||r>0)return n;const i=e*t;let s=Z8[i];if(s===void 0&&(s=new Float32Array(i),Z8[i]=s),e!==0){r.toArray(s,0);for(let o=1,a=0;o!==e;++o)a+=t,n[o].toArray(s,a)}return s}function wi(n,e){if(n.length!==e.length)return!1;for(let t=0,r=n.length;t<r;t++)if(n[t]!==e[t])return!1;return!0}function Ti(n,e){for(let t=0,r=e.length;t<r;t++)n[t]=e[t]}function mP(n,e){let t=$8[e];t===void 0&&(t=new Int32Array(e),$8[e]=t);for(let r=0;r!==e;++r)t[r]=n.allocateTextureUnit();return t}function uCe(n,e){const t=this.cache;t[0]!==e&&(n.uniform1f(this.addr,e),t[0]=e)}function cCe(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2f(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(wi(t,e))return;n.uniform2fv(this.addr,e),Ti(t,e)}}function hCe(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3f(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else if(e.r!==void 0)(t[0]!==e.r||t[1]!==e.g||t[2]!==e.b)&&(n.uniform3f(this.addr,e.r,e.g,e.b),t[0]=e.r,t[1]=e.g,t[2]=e.b);else{if(wi(t,e))return;n.uniform3fv(this.addr,e),Ti(t,e)}}function dCe(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4f(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(wi(t,e))return;n.uniform4fv(this.addr,e),Ti(t,e)}}function fCe(n,e){const t=this.cache,r=e.elements;if(r===void 0){if(wi(t,e))return;n.uniformMatrix2fv(this.addr,!1,e),Ti(t,e)}else{if(wi(t,r))return;n6.set(r),n.uniformMatrix2fv(this.addr,!1,n6),Ti(t,r)}}function pCe(n,e){const t=this.cache,r=e.elements;if(r===void 0){if(wi(t,e))return;n.uniformMatrix3fv(this.addr,!1,e),Ti(t,e)}else{if(wi(t,r))return;t6.set(r),n.uniformMatrix3fv(this.addr,!1,t6),Ti(t,r)}}function mCe(n,e){const t=this.cache,r=e.elements;if(r===void 0){if(wi(t,e))return;n.uniformMatrix4fv(this.addr,!1,e),Ti(t,e)}else{if(wi(t,r))return;e6.set(r),n.uniformMatrix4fv(this.addr,!1,e6),Ti(t,r)}}function gCe(n,e){const t=this.cache;t[0]!==e&&(n.uniform1i(this.addr,e),t[0]=e)}function vCe(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2i(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(wi(t,e))return;n.uniform2iv(this.addr,e),Ti(t,e)}}function yCe(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3i(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(wi(t,e))return;n.uniform3iv(this.addr,e),Ti(t,e)}}function xCe(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4i(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(wi(t,e))return;n.uniform4iv(this.addr,e),Ti(t,e)}}function ACe(n,e){const t=this.cache;t[0]!==e&&(n.uniform1ui(this.addr,e),t[0]=e)}function _Ce(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2ui(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(wi(t,e))return;n.uniform2uiv(this.addr,e),Ti(t,e)}}function MCe(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3ui(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(wi(t,e))return;n.uniform3uiv(this.addr,e),Ti(t,e)}}function SCe(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4ui(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(wi(t,e))return;n.uniform4uiv(this.addr,e),Ti(t,e)}}function ECe(n,e,t){const r=this.cache,i=t.allocateTextureUnit();r[0]!==i&&(n.uniform1i(this.addr,i),r[0]=i),t.setTexture2D(e||fte,i)}function bCe(n,e,t){const r=this.cache,i=t.allocateTextureUnit();r[0]!==i&&(n.uniform1i(this.addr,i),r[0]=i),t.setTexture3D(e||mte,i)}function wCe(n,e,t){const r=this.cache,i=t.allocateTextureUnit();r[0]!==i&&(n.uniform1i(this.addr,i),r[0]=i),t.setTextureCube(e||gte,i)}function TCe(n,e,t){const r=this.cache,i=t.allocateTextureUnit();r[0]!==i&&(n.uniform1i(this.addr,i),r[0]=i),t.setTexture2DArray(e||pte,i)}function CCe(n){switch(n){case 5126:return uCe;case 35664:return cCe;case 35665:return hCe;case 35666:return dCe;case 35674:return fCe;case 35675:return pCe;case 35676:return mCe;case 5124:case 35670:return gCe;case 35667:case 35671:return vCe;case 35668:case 35672:return yCe;case 35669:case 35673:return xCe;case 5125:return ACe;case 36294:return _Ce;case 36295:return MCe;case 36296:return SCe;case 35678:case 36198:case 36298:case 36306:case 35682:return ECe;case 35679:case 36299:case 36307:return bCe;case 35680:case 36300:case 36308:case 36293:return wCe;case 36289:case 36303:case 36311:case 36292:return TCe}}function RCe(n,e){n.uniform1fv(this.addr,e)}function PCe(n,e){const t=Cx(e,this.size,2);n.uniform2fv(this.addr,t)}function BCe(n,e){const t=Cx(e,this.size,3);n.uniform3fv(this.addr,t)}function LCe(n,e){const t=Cx(e,this.size,4);n.uniform4fv(this.addr,t)}function ICe(n,e){const t=Cx(e,this.size,4);n.uniformMatrix2fv(this.addr,!1,t)}function DCe(n,e){const t=Cx(e,this.size,9);n.uniformMatrix3fv(this.addr,!1,t)}function FCe(n,e){const t=Cx(e,this.size,16);n.uniformMatrix4fv(this.addr,!1,t)}function NCe(n,e){n.uniform1iv(this.addr,e)}function UCe(n,e){n.uniform2iv(this.addr,e)}function OCe(n,e){n.uniform3iv(this.addr,e)}function kCe(n,e){n.uniform4iv(this.addr,e)}function GCe(n,e){n.uniform1uiv(this.addr,e)}function zCe(n,e){n.uniform2uiv(this.addr,e)}function HCe(n,e){n.uniform3uiv(this.addr,e)}function VCe(n,e){n.uniform4uiv(this.addr,e)}function WCe(n,e,t){const r=this.cache,i=e.length,s=mP(t,i);wi(r,s)||(n.uniform1iv(this.addr,s),Ti(r,s));for(let o=0;o!==i;++o)t.setTexture2D(e[o]||fte,s[o])}function jCe(n,e,t){const r=this.cache,i=e.length,s=mP(t,i);wi(r,s)||(n.uniform1iv(this.addr,s),Ti(r,s));for(let o=0;o!==i;++o)t.setTexture3D(e[o]||mte,s[o])}function XCe(n,e,t){const r=this.cache,i=e.length,s=mP(t,i);wi(r,s)||(n.uniform1iv(this.addr,s),Ti(r,s));for(let o=0;o!==i;++o)t.setTextureCube(e[o]||gte,s[o])}function JCe(n,e,t){const r=this.cache,i=e.length,s=mP(t,i);wi(r,s)||(n.uniform1iv(this.addr,s),Ti(r,s));for(let o=0;o!==i;++o)t.setTexture2DArray(e[o]||pte,s[o])}function YCe(n){switch(n){case 5126:return RCe;case 35664:return PCe;case 35665:return BCe;case 35666:return LCe;case 35674:return ICe;case 35675:return DCe;case 35676:return FCe;case 5124:case 35670:return NCe;case 35667:case 35671:return UCe;case 35668:case 35672:return OCe;case 35669:case 35673:return kCe;case 5125:return GCe;case 36294:return zCe;case 36295:return HCe;case 36296:return VCe;case 35678:case 36198:case 36298:case 36306:case 35682:return WCe;case 35679:case 36299:case 36307:return jCe;case 35680:case 36300:case 36308:case 36293:return XCe;case 36289:case 36303:case 36311:case 36292:return JCe}}class KCe{constructor(e,t,r){this.id=e,this.addr=r,this.cache=[],this.setValue=CCe(t.type)}}class QCe{constructor(e,t,r){this.id=e,this.addr=r,this.cache=[],this.size=t.size,this.setValue=YCe(t.type)}}class qCe{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,t,r){const i=this.seq;for(let s=0,o=i.length;s!==o;++s){const a=i[s];a.setValue(e,t[a.id],r)}}}const ML=/(\w+)(\])?(\[|\.)?/g;function r6(n,e){n.seq.push(e),n.map[e.id]=e}function ZCe(n,e,t){const r=n.name,i=r.length;for(ML.lastIndex=0;;){const s=ML.exec(r),o=ML.lastIndex;let a=s[1];const l=s[2]==="]",u=s[3];if(l&&(a=a|0),u===void 0||u==="["&&o+2===i){r6(t,u===void 0?new KCe(a,n,e):new QCe(a,n,e));break}else{let f=t.map[a];f===void 0&&(f=new qCe(a),r6(t,f)),t=f}}}class ST{constructor(e,t){this.seq=[],this.map={};const r=e.getProgramParameter(t,e.ACTIVE_UNIFORMS);for(let i=0;i<r;++i){const s=e.getActiveUniform(t,i),o=e.getUniformLocation(t,s.name);ZCe(s,o,this)}}setValue(e,t,r,i){const s=this.map[t];s!==void 0&&s.setValue(e,r,i)}setOptional(e,t,r){const i=t[r];i!==void 0&&this.setValue(e,r,i)}static upload(e,t,r,i){for(let s=0,o=t.length;s!==o;++s){const a=t[s],l=r[a.id];l.needsUpdate!==!1&&a.setValue(e,l.value,i)}}static seqWithValue(e,t){const r=[];for(let i=0,s=e.length;i!==s;++i){const o=e[i];o.id in t&&r.push(o)}return r}}function i6(n,e,t){const r=n.createShader(e);return n.shaderSource(r,t),n.compileShader(r),r}let $Ce=0;function eRe(n,e){const t=n.split(`
`),r=[],i=Math.max(e-6,0),s=Math.min(e+6,t.length);for(let o=i;o<s;o++){const a=o+1;r.push(`${a===e?">":" "} ${a}: ${t[o]}`)}return r.join(`
`)}function tRe(n){switch(n){case Hl:return["Linear","( value )"];case Zt:return["sRGB","( value )"];default:return console.warn("THREE.WebGLProgram: Unsupported color space:",n),["Linear","( value )"]}}function s6(n,e,t){const r=n.getShaderParameter(e,n.COMPILE_STATUS),i=n.getShaderInfoLog(e).trim();if(r&&i==="")return"";const s=/ERROR: 0:(\d+)/.exec(i);if(s){const o=parseInt(s[1]);return t.toUpperCase()+`

`+i+`

`+eRe(n.getShaderSource(e),o)}else return i}function nRe(n,e){const t=tRe(e);return"vec4 "+n+"( vec4 value ) { return LinearTo"+t[0]+t[1]+"; }"}function rRe(n,e){let t;switch(e){case Lee:t="Linear";break;case Iee:t="Reinhard";break;case Dee:t="OptimizedCineon";break;case aG:t="ACESFilmic";break;case Fee:t="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),t="Linear"}return"vec3 "+n+"( vec3 color ) { return "+t+"ToneMapping( color ); }"}function iRe(n){return[n.extensionDerivatives||n.envMapCubeUVHeight||n.bumpMap||n.normalMapTangentSpace||n.clearcoatNormalMap||n.flatShading||n.shaderID==="physical"?"#extension GL_OES_standard_derivatives : enable":"",(n.extensionFragDepth||n.logarithmicDepthBuffer)&&n.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",n.extensionDrawBuffers&&n.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(n.extensionShaderTextureLOD||n.envMap||n.transmission)&&n.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(J1).join(`
`)}function sRe(n){const e=[];for(const t in n){const r=n[t];r!==!1&&e.push("#define "+t+" "+r)}return e.join(`
`)}function oRe(n,e){const t={},r=n.getProgramParameter(e,n.ACTIVE_ATTRIBUTES);for(let i=0;i<r;i++){const s=n.getActiveAttrib(e,i),o=s.name;let a=1;s.type===n.FLOAT_MAT2&&(a=2),s.type===n.FLOAT_MAT3&&(a=3),s.type===n.FLOAT_MAT4&&(a=4),t[o]={type:s.type,location:n.getAttribLocation(e,o),locationSize:a}}return t}function J1(n){return n!==""}function o6(n,e){const t=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return n.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,t).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function a6(n,e){return n.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const aRe=/^[ \t]*#include +<([\w\d./]+)>/gm;function XF(n){return n.replace(aRe,lRe)}function lRe(n,e){const t=rn[e];if(t===void 0)throw new Error("Can not resolve #include <"+e+">");return XF(t)}const uRe=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function l6(n){return n.replace(uRe,cRe)}function cRe(n,e,t,r){let i="";for(let s=parseInt(e);s<parseInt(t);s++)i+=r.replace(/\[\s*i\s*\]/g,"[ "+s+" ]").replace(/UNROLLED_LOOP_INDEX/g,s);return i}function u6(n){let e="precision "+n.precision+` float;
precision `+n.precision+" int;";return n.precision==="highp"?e+=`
#define HIGH_PRECISION`:n.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:n.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function hRe(n){let e="SHADOWMAP_TYPE_BASIC";return n.shadowMapType===lP?e="SHADOWMAP_TYPE_PCF":n.shadowMapType===M_?e="SHADOWMAP_TYPE_PCF_SOFT":n.shadowMapType===_l&&(e="SHADOWMAP_TYPE_VSM"),e}function dRe(n){let e="ENVMAP_TYPE_CUBE";if(n.envMap)switch(n.envMapMode){case yf:case xf:e="ENVMAP_TYPE_CUBE";break;case bx:e="ENVMAP_TYPE_CUBE_UV";break}return e}function fRe(n){let e="ENVMAP_MODE_REFLECTION";if(n.envMap)switch(n.envMapMode){case xf:e="ENVMAP_MODE_REFRACTION";break}return e}function pRe(n){let e="ENVMAP_BLENDING_NONE";if(n.envMap)switch(n.combine){case SS:e="ENVMAP_BLENDING_MULTIPLY";break;case Pee:e="ENVMAP_BLENDING_MIX";break;case Bee:e="ENVMAP_BLENDING_ADD";break}return e}function mRe(n){const e=n.envMapCubeUVHeight;if(e===null)return null;const t=Math.log2(e)-2,r=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,t),7*16)),texelHeight:r,maxMip:t}}function gRe(n,e,t,r){const i=n.getContext(),s=t.defines;let o=t.vertexShader,a=t.fragmentShader;const l=hRe(t),u=dRe(t),h=fRe(t),f=pRe(t),p=mRe(t),m=t.isWebGL2?"":iRe(t),v=sRe(s),S=i.createProgram();let A,g,M=t.glslVersion?"#version "+t.glslVersion+`
`:"";t.isRawShaderMaterial?(A=["#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,v].filter(J1).join(`
`),A.length>0&&(A+=`
`),g=[m,"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,v].filter(J1).join(`
`),g.length>0&&(g+=`
`)):(A=[u6(t),"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,v,t.instancing?"#define USE_INSTANCING":"",t.instancingColor?"#define USE_INSTANCING_COLOR":"",t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+h:"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",t.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",t.displacementMap?"#define USE_DISPLACEMENTMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.anisotropyMap?"#define USE_ANISOTROPYMAP":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",t.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",t.mapUv?"#define MAP_UV "+t.mapUv:"",t.alphaMapUv?"#define ALPHAMAP_UV "+t.alphaMapUv:"",t.lightMapUv?"#define LIGHTMAP_UV "+t.lightMapUv:"",t.aoMapUv?"#define AOMAP_UV "+t.aoMapUv:"",t.emissiveMapUv?"#define EMISSIVEMAP_UV "+t.emissiveMapUv:"",t.bumpMapUv?"#define BUMPMAP_UV "+t.bumpMapUv:"",t.normalMapUv?"#define NORMALMAP_UV "+t.normalMapUv:"",t.displacementMapUv?"#define DISPLACEMENTMAP_UV "+t.displacementMapUv:"",t.metalnessMapUv?"#define METALNESSMAP_UV "+t.metalnessMapUv:"",t.roughnessMapUv?"#define ROUGHNESSMAP_UV "+t.roughnessMapUv:"",t.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+t.anisotropyMapUv:"",t.clearcoatMapUv?"#define CLEARCOATMAP_UV "+t.clearcoatMapUv:"",t.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+t.clearcoatNormalMapUv:"",t.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+t.clearcoatRoughnessMapUv:"",t.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+t.iridescenceMapUv:"",t.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+t.iridescenceThicknessMapUv:"",t.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+t.sheenColorMapUv:"",t.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+t.sheenRoughnessMapUv:"",t.specularMapUv?"#define SPECULARMAP_UV "+t.specularMapUv:"",t.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+t.specularColorMapUv:"",t.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+t.specularIntensityMapUv:"",t.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+t.transmissionMapUv:"",t.thicknessMapUv?"#define THICKNESSMAP_UV "+t.thicknessMapUv:"",t.vertexTangents?"#define USE_TANGENT":"",t.vertexColors?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUv1s?"#define USE_UV1":"",t.vertexUv2s?"#define USE_UV2":"",t.vertexUv3s?"#define USE_UV3":"",t.pointsUvs?"#define USE_POINTS_UV":"",t.flatShading?"#define FLAT_SHADED":"",t.skinning?"#define USE_SKINNING":"",t.morphTargets?"#define USE_MORPHTARGETS":"",t.morphNormals&&t.flatShading===!1?"#define USE_MORPHNORMALS":"",t.morphColors&&t.isWebGL2?"#define USE_MORPHCOLORS":"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_TEXTURE_STRIDE "+t.morphTextureStride:"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_COUNT "+t.morphTargetsCount:"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+l:"",t.sizeAttenuation?"#define USE_SIZEATTENUATION":"",t.useLegacyLights?"#define LEGACY_LIGHTS":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.logarithmicDepthBuffer&&t.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","	attribute vec3 morphTarget0;","	attribute vec3 morphTarget1;","	attribute vec3 morphTarget2;","	attribute vec3 morphTarget3;","	#ifdef USE_MORPHNORMALS","		attribute vec3 morphNormal0;","		attribute vec3 morphNormal1;","		attribute vec3 morphNormal2;","		attribute vec3 morphNormal3;","	#else","		attribute vec3 morphTarget4;","		attribute vec3 morphTarget5;","		attribute vec3 morphTarget6;","		attribute vec3 morphTarget7;","	#endif","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(J1).join(`
`),g=[m,u6(t),"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,v,t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.matcap?"#define USE_MATCAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+u:"",t.envMap?"#define "+h:"",t.envMap?"#define "+f:"",p?"#define CUBEUV_TEXEL_WIDTH "+p.texelWidth:"",p?"#define CUBEUV_TEXEL_HEIGHT "+p.texelHeight:"",p?"#define CUBEUV_MAX_MIP "+p.maxMip+".0":"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",t.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.anisotropy?"#define USE_ANISOTROPY":"",t.anisotropyMap?"#define USE_ANISOTROPYMAP":"",t.clearcoat?"#define USE_CLEARCOAT":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescence?"#define USE_IRIDESCENCE":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",t.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaTest?"#define USE_ALPHATEST":"",t.sheen?"#define USE_SHEEN":"",t.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.vertexTangents?"#define USE_TANGENT":"",t.vertexColors||t.instancingColor?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUv1s?"#define USE_UV1":"",t.vertexUv2s?"#define USE_UV2":"",t.vertexUv3s?"#define USE_UV3":"",t.pointsUvs?"#define USE_POINTS_UV":"",t.gradientMap?"#define USE_GRADIENTMAP":"",t.flatShading?"#define FLAT_SHADED":"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+l:"",t.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",t.useLegacyLights?"#define LEGACY_LIGHTS":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.logarithmicDepthBuffer&&t.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",t.toneMapping!==Nl?"#define TONE_MAPPING":"",t.toneMapping!==Nl?rn.tonemapping_pars_fragment:"",t.toneMapping!==Nl?rRe("toneMapping",t.toneMapping):"",t.dithering?"#define DITHERING":"",t.opaque?"#define OPAQUE":"",rn.encodings_pars_fragment,nRe("linearToOutputTexel",t.outputColorSpace),t.useDepthPacking?"#define DEPTH_PACKING "+t.depthPacking:"",`
`].filter(J1).join(`
`)),o=XF(o),o=o6(o,t),o=a6(o,t),a=XF(a),a=o6(a,t),a=a6(a,t),o=l6(o),a=l6(a),t.isWebGL2&&t.isRawShaderMaterial!==!0&&(M=`#version 300 es
`,A=["precision mediump sampler2DArray;","#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+A,g=["#define varying in",t.glslVersion===VF?"":"layout(location = 0) out highp vec4 pc_fragColor;",t.glslVersion===VF?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+g);const _=M+A+o,b=M+g+a,T=i6(i,i.VERTEX_SHADER,_),C=i6(i,i.FRAGMENT_SHADER,b);if(i.attachShader(S,T),i.attachShader(S,C),t.index0AttributeName!==void 0?i.bindAttribLocation(S,0,t.index0AttributeName):t.morphTargets===!0&&i.bindAttribLocation(S,0,"position"),i.linkProgram(S),n.debug.checkShaderErrors){const R=i.getProgramInfoLog(S).trim(),L=i.getShaderInfoLog(T).trim(),U=i.getShaderInfoLog(C).trim();let Q=!0,W=!0;if(i.getProgramParameter(S,i.LINK_STATUS)===!1)if(Q=!1,typeof n.debug.onShaderError=="function")n.debug.onShaderError(i,S,T,C);else{const Y=s6(i,T,"vertex"),X=s6(i,C,"fragment");console.error("THREE.WebGLProgram: Shader Error "+i.getError()+" - VALIDATE_STATUS "+i.getProgramParameter(S,i.VALIDATE_STATUS)+`

Program Info Log: `+R+`
`+Y+`
`+X)}else R!==""?console.warn("THREE.WebGLProgram: Program Info Log:",R):(L===""||U==="")&&(W=!1);W&&(this.diagnostics={runnable:Q,programLog:R,vertexShader:{log:L,prefix:A},fragmentShader:{log:U,prefix:g}})}i.deleteShader(T),i.deleteShader(C);let B;this.getUniforms=function(){return B===void 0&&(B=new ST(i,S)),B};let P;return this.getAttributes=function(){return P===void 0&&(P=oRe(i,S)),P},this.destroy=function(){r.releaseStatesOfProgram(this),i.deleteProgram(S),this.program=void 0},this.type=t.shaderType,this.name=t.shaderName,this.id=$Ce++,this.cacheKey=e,this.usedTimes=1,this.program=S,this.vertexShader=T,this.fragmentShader=C,this}let vRe=0;class yRe{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const t=e.vertexShader,r=e.fragmentShader,i=this._getShaderStage(t),s=this._getShaderStage(r),o=this._getShaderCacheForMaterial(e);return o.has(i)===!1&&(o.add(i),i.usedTimes++),o.has(s)===!1&&(o.add(s),s.usedTimes++),this}remove(e){const t=this.materialCache.get(e);for(const r of t)r.usedTimes--,r.usedTimes===0&&this.shaderCache.delete(r.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const t=this.materialCache;let r=t.get(e);return r===void 0&&(r=new Set,t.set(e,r)),r}_getShaderStage(e){const t=this.shaderCache;let r=t.get(e);return r===void 0&&(r=new xRe(e),t.set(e,r)),r}}class xRe{constructor(e){this.id=vRe++,this.code=e,this.usedTimes=0}}function ARe(n,e,t,r,i,s,o){const a=new Wm,l=new yRe,u=[],h=i.isWebGL2,f=i.logarithmicDepthBuffer,p=i.vertexTextures;let m=i.precision;const v={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function S(R){return R===0?"uv":`uv${R}`}function A(R,L,U,Q,W){const Y=Q.fog,X=W.geometry,ae=R.isMeshStandardMaterial?Q.environment:null,Z=(R.isMeshStandardMaterial?t:e).get(R.envMap||ae),D=Z&&Z.mapping===bx?Z.image.height:null,k=v[R.type];R.precision!==null&&(m=i.getMaxPrecision(R.precision),m!==R.precision&&console.warn("THREE.WebGLProgram.getParameters:",R.precision,"not supported, using",m,"instead."));const G=X.morphAttributes.position||X.morphAttributes.normal||X.morphAttributes.color,K=G!==void 0?G.length:0;let H=0;X.morphAttributes.position!==void 0&&(H=1),X.morphAttributes.normal!==void 0&&(H=2),X.morphAttributes.color!==void 0&&(H=3);let ue,le,Ce,xe;if(k){const Xt=Tl[k];ue=Xt.vertexShader,le=Xt.fragmentShader}else ue=R.vertexShader,le=R.fragmentShader,l.update(R),Ce=l.getVertexShaderID(R),xe=l.getFragmentShaderID(R);const Be=n.getRenderTarget(),Qe=W.isInstancedMesh===!0,je=!!R.map,Ke=!!R.matcap,fe=!!Z,z=!!R.aoMap,Ae=!!R.lightMap,ge=!!R.bumpMap,Me=!!R.normalMap,Ee=!!R.displacementMap,Ve=!!R.emissiveMap,Ge=!!R.metalnessMap,ze=!!R.roughnessMap,Ze=R.anisotropy>0,St=R.clearcoat>0,Dt=R.iridescence>0,O=R.sheen>0,F=R.transmission>0,ce=Ze&&!!R.anisotropyMap,be=St&&!!R.clearcoatMap,Se=St&&!!R.clearcoatNormalMap,Fe=St&&!!R.clearcoatRoughnessMap,Xe=Dt&&!!R.iridescenceMap,De=Dt&&!!R.iridescenceThicknessMap,j=O&&!!R.sheenColorMap,q=O&&!!R.sheenRoughnessMap,ve=!!R.specularMap,Re=!!R.specularColorMap,Pe=!!R.specularIntensityMap,Ue=F&&!!R.transmissionMap,it=F&&!!R.thicknessMap,Mt=!!R.gradientMap,J=!!R.alphaMap,Ie=R.alphaTest>0,oe=!!R.extensions,Ne=!!X.attributes.uv1,Oe=!!X.attributes.uv2,wt=!!X.attributes.uv3;return{isWebGL2:h,shaderID:k,shaderType:R.type,shaderName:R.name,vertexShader:ue,fragmentShader:le,defines:R.defines,customVertexShaderID:Ce,customFragmentShaderID:xe,isRawShaderMaterial:R.isRawShaderMaterial===!0,glslVersion:R.glslVersion,precision:m,instancing:Qe,instancingColor:Qe&&W.instanceColor!==null,supportsVertexTextures:p,outputColorSpace:Be===null?n.outputColorSpace:Be.isXRRenderTarget===!0?Be.texture.colorSpace:Hl,map:je,matcap:Ke,envMap:fe,envMapMode:fe&&Z.mapping,envMapCubeUVHeight:D,aoMap:z,lightMap:Ae,bumpMap:ge,normalMap:Me,displacementMap:p&&Ee,emissiveMap:Ve,normalMapObjectSpace:Me&&R.normalMapType===qee,normalMapTangentSpace:Me&&R.normalMapType===Ff,metalnessMap:Ge,roughnessMap:ze,anisotropy:Ze,anisotropyMap:ce,clearcoat:St,clearcoatMap:be,clearcoatNormalMap:Se,clearcoatRoughnessMap:Fe,iridescence:Dt,iridescenceMap:Xe,iridescenceThicknessMap:De,sheen:O,sheenColorMap:j,sheenRoughnessMap:q,specularMap:ve,specularColorMap:Re,specularIntensityMap:Pe,transmission:F,transmissionMap:Ue,thicknessMap:it,gradientMap:Mt,opaque:R.transparent===!1&&R.blending===zm,alphaMap:J,alphaTest:Ie,combine:R.combine,mapUv:je&&S(R.map.channel),aoMapUv:z&&S(R.aoMap.channel),lightMapUv:Ae&&S(R.lightMap.channel),bumpMapUv:ge&&S(R.bumpMap.channel),normalMapUv:Me&&S(R.normalMap.channel),displacementMapUv:Ee&&S(R.displacementMap.channel),emissiveMapUv:Ve&&S(R.emissiveMap.channel),metalnessMapUv:Ge&&S(R.metalnessMap.channel),roughnessMapUv:ze&&S(R.roughnessMap.channel),anisotropyMapUv:ce&&S(R.anisotropyMap.channel),clearcoatMapUv:be&&S(R.clearcoatMap.channel),clearcoatNormalMapUv:Se&&S(R.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:Fe&&S(R.clearcoatRoughnessMap.channel),iridescenceMapUv:Xe&&S(R.iridescenceMap.channel),iridescenceThicknessMapUv:De&&S(R.iridescenceThicknessMap.channel),sheenColorMapUv:j&&S(R.sheenColorMap.channel),sheenRoughnessMapUv:q&&S(R.sheenRoughnessMap.channel),specularMapUv:ve&&S(R.specularMap.channel),specularColorMapUv:Re&&S(R.specularColorMap.channel),specularIntensityMapUv:Pe&&S(R.specularIntensityMap.channel),transmissionMapUv:Ue&&S(R.transmissionMap.channel),thicknessMapUv:it&&S(R.thicknessMap.channel),alphaMapUv:J&&S(R.alphaMap.channel),vertexTangents:!!X.attributes.tangent&&(Me||Ze),vertexColors:R.vertexColors,vertexAlphas:R.vertexColors===!0&&!!X.attributes.color&&X.attributes.color.itemSize===4,vertexUv1s:Ne,vertexUv2s:Oe,vertexUv3s:wt,pointsUvs:W.isPoints===!0&&!!X.attributes.uv&&(je||J),fog:!!Y,useFog:R.fog===!0,fogExp2:Y&&Y.isFogExp2,flatShading:R.flatShading===!0,sizeAttenuation:R.sizeAttenuation===!0,logarithmicDepthBuffer:f,skinning:W.isSkinnedMesh===!0,morphTargets:X.morphAttributes.position!==void 0,morphNormals:X.morphAttributes.normal!==void 0,morphColors:X.morphAttributes.color!==void 0,morphTargetsCount:K,morphTextureStride:H,numDirLights:L.directional.length,numPointLights:L.point.length,numSpotLights:L.spot.length,numSpotLightMaps:L.spotLightMap.length,numRectAreaLights:L.rectArea.length,numHemiLights:L.hemi.length,numDirLightShadows:L.directionalShadowMap.length,numPointLightShadows:L.pointShadowMap.length,numSpotLightShadows:L.spotShadowMap.length,numSpotLightShadowsWithMaps:L.numSpotLightShadowsWithMaps,numClippingPlanes:o.numPlanes,numClipIntersection:o.numIntersection,dithering:R.dithering,shadowMapEnabled:n.shadowMap.enabled&&U.length>0,shadowMapType:n.shadowMap.type,toneMapping:R.toneMapped?n.toneMapping:Nl,useLegacyLights:n.useLegacyLights,premultipliedAlpha:R.premultipliedAlpha,doubleSided:R.side===za,flipSided:R.side===js,useDepthPacking:R.depthPacking>=0,depthPacking:R.depthPacking||0,index0AttributeName:R.index0AttributeName,extensionDerivatives:oe&&R.extensions.derivatives===!0,extensionFragDepth:oe&&R.extensions.fragDepth===!0,extensionDrawBuffers:oe&&R.extensions.drawBuffers===!0,extensionShaderTextureLOD:oe&&R.extensions.shaderTextureLOD===!0,rendererExtensionFragDepth:h||r.has("EXT_frag_depth"),rendererExtensionDrawBuffers:h||r.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:h||r.has("EXT_shader_texture_lod"),customProgramCacheKey:R.customProgramCacheKey()}}function g(R){const L=[];if(R.shaderID?L.push(R.shaderID):(L.push(R.customVertexShaderID),L.push(R.customFragmentShaderID)),R.defines!==void 0)for(const U in R.defines)L.push(U),L.push(R.defines[U]);return R.isRawShaderMaterial===!1&&(M(L,R),_(L,R),L.push(n.outputColorSpace)),L.push(R.customProgramCacheKey),L.join()}function M(R,L){R.push(L.precision),R.push(L.outputColorSpace),R.push(L.envMapMode),R.push(L.envMapCubeUVHeight),R.push(L.mapUv),R.push(L.alphaMapUv),R.push(L.lightMapUv),R.push(L.aoMapUv),R.push(L.bumpMapUv),R.push(L.normalMapUv),R.push(L.displacementMapUv),R.push(L.emissiveMapUv),R.push(L.metalnessMapUv),R.push(L.roughnessMapUv),R.push(L.anisotropyMapUv),R.push(L.clearcoatMapUv),R.push(L.clearcoatNormalMapUv),R.push(L.clearcoatRoughnessMapUv),R.push(L.iridescenceMapUv),R.push(L.iridescenceThicknessMapUv),R.push(L.sheenColorMapUv),R.push(L.sheenRoughnessMapUv),R.push(L.specularMapUv),R.push(L.specularColorMapUv),R.push(L.specularIntensityMapUv),R.push(L.transmissionMapUv),R.push(L.thicknessMapUv),R.push(L.combine),R.push(L.fogExp2),R.push(L.sizeAttenuation),R.push(L.morphTargetsCount),R.push(L.morphAttributeCount),R.push(L.numDirLights),R.push(L.numPointLights),R.push(L.numSpotLights),R.push(L.numSpotLightMaps),R.push(L.numHemiLights),R.push(L.numRectAreaLights),R.push(L.numDirLightShadows),R.push(L.numPointLightShadows),R.push(L.numSpotLightShadows),R.push(L.numSpotLightShadowsWithMaps),R.push(L.shadowMapType),R.push(L.toneMapping),R.push(L.numClippingPlanes),R.push(L.numClipIntersection),R.push(L.depthPacking)}function _(R,L){a.disableAll(),L.isWebGL2&&a.enable(0),L.supportsVertexTextures&&a.enable(1),L.instancing&&a.enable(2),L.instancingColor&&a.enable(3),L.matcap&&a.enable(4),L.envMap&&a.enable(5),L.normalMapObjectSpace&&a.enable(6),L.normalMapTangentSpace&&a.enable(7),L.clearcoat&&a.enable(8),L.iridescence&&a.enable(9),L.alphaTest&&a.enable(10),L.vertexColors&&a.enable(11),L.vertexAlphas&&a.enable(12),L.vertexUv1s&&a.enable(13),L.vertexUv2s&&a.enable(14),L.vertexUv3s&&a.enable(15),L.vertexTangents&&a.enable(16),L.anisotropy&&a.enable(17),R.push(a.mask),a.disableAll(),L.fog&&a.enable(0),L.useFog&&a.enable(1),L.flatShading&&a.enable(2),L.logarithmicDepthBuffer&&a.enable(3),L.skinning&&a.enable(4),L.morphTargets&&a.enable(5),L.morphNormals&&a.enable(6),L.morphColors&&a.enable(7),L.premultipliedAlpha&&a.enable(8),L.shadowMapEnabled&&a.enable(9),L.useLegacyLights&&a.enable(10),L.doubleSided&&a.enable(11),L.flipSided&&a.enable(12),L.useDepthPacking&&a.enable(13),L.dithering&&a.enable(14),L.transmission&&a.enable(15),L.sheen&&a.enable(16),L.opaque&&a.enable(17),L.pointsUvs&&a.enable(18),R.push(a.mask)}function b(R){const L=v[R.type];let U;if(L){const Q=Tl[L];U=hte.clone(Q.uniforms)}else U=R.uniforms;return U}function T(R,L){let U;for(let Q=0,W=u.length;Q<W;Q++){const Y=u[Q];if(Y.cacheKey===L){U=Y,++U.usedTimes;break}}return U===void 0&&(U=new gRe(n,L,R,s),u.push(U)),U}function C(R){if(--R.usedTimes===0){const L=u.indexOf(R);u[L]=u[u.length-1],u.pop(),R.destroy()}}function B(R){l.remove(R)}function P(){l.dispose()}return{getParameters:A,getProgramCacheKey:g,getUniforms:b,acquireProgram:T,releaseProgram:C,releaseShaderCache:B,programs:u,dispose:P}}function _Re(){let n=new WeakMap;function e(s){let o=n.get(s);return o===void 0&&(o={},n.set(s,o)),o}function t(s){n.delete(s)}function r(s,o,a){n.get(s)[o]=a}function i(){n=new WeakMap}return{get:e,remove:t,update:r,dispose:i}}function MRe(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.material.id!==e.material.id?n.material.id-e.material.id:n.z!==e.z?n.z-e.z:n.id-e.id}function c6(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.z!==e.z?e.z-n.z:n.id-e.id}function h6(){const n=[];let e=0;const t=[],r=[],i=[];function s(){e=0,t.length=0,r.length=0,i.length=0}function o(f,p,m,v,S,A){let g=n[e];return g===void 0?(g={id:f.id,object:f,geometry:p,material:m,groupOrder:v,renderOrder:f.renderOrder,z:S,group:A},n[e]=g):(g.id=f.id,g.object=f,g.geometry=p,g.material=m,g.groupOrder=v,g.renderOrder=f.renderOrder,g.z=S,g.group=A),e++,g}function a(f,p,m,v,S,A){const g=o(f,p,m,v,S,A);m.transmission>0?r.push(g):m.transparent===!0?i.push(g):t.push(g)}function l(f,p,m,v,S,A){const g=o(f,p,m,v,S,A);m.transmission>0?r.unshift(g):m.transparent===!0?i.unshift(g):t.unshift(g)}function u(f,p){t.length>1&&t.sort(f||MRe),r.length>1&&r.sort(p||c6),i.length>1&&i.sort(p||c6)}function h(){for(let f=e,p=n.length;f<p;f++){const m=n[f];if(m.id===null)break;m.id=null,m.object=null,m.geometry=null,m.material=null,m.group=null}}return{opaque:t,transmissive:r,transparent:i,init:s,push:a,unshift:l,finish:h,sort:u}}function SRe(){let n=new WeakMap;function e(r,i){const s=n.get(r);let o;return s===void 0?(o=new h6,n.set(r,[o])):i>=s.length?(o=new h6,s.push(o)):o=s[i],o}function t(){n=new WeakMap}return{get:e,dispose:t}}function ERe(){const n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let t;switch(e.type){case"DirectionalLight":t={direction:new ie,color:new At};break;case"SpotLight":t={position:new ie,direction:new ie,color:new At,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":t={position:new ie,color:new At,distance:0,decay:0};break;case"HemisphereLight":t={direction:new ie,skyColor:new At,groundColor:new At};break;case"RectAreaLight":t={color:new At,position:new ie,halfWidth:new ie,halfHeight:new ie};break}return n[e.id]=t,t}}}function bRe(){const n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let t;switch(e.type){case"DirectionalLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Je};break;case"SpotLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Je};break;case"PointLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Je,shadowCameraNear:1,shadowCameraFar:1e3};break}return n[e.id]=t,t}}}let wRe=0;function TRe(n,e){return(e.castShadow?2:0)-(n.castShadow?2:0)+(e.map?1:0)-(n.map?1:0)}function CRe(n,e){const t=new ERe,r=bRe(),i={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0};for(let h=0;h<9;h++)i.probe.push(new ie);const s=new ie,o=new Ht,a=new Ht;function l(h,f){let p=0,m=0,v=0;for(let U=0;U<9;U++)i.probe[U].set(0,0,0);let S=0,A=0,g=0,M=0,_=0,b=0,T=0,C=0,B=0,P=0;h.sort(TRe);const R=f===!0?Math.PI:1;for(let U=0,Q=h.length;U<Q;U++){const W=h[U],Y=W.color,X=W.intensity,ae=W.distance,Z=W.shadow&&W.shadow.map?W.shadow.map.texture:null;if(W.isAmbientLight)p+=Y.r*X*R,m+=Y.g*X*R,v+=Y.b*X*R;else if(W.isLightProbe)for(let D=0;D<9;D++)i.probe[D].addScaledVector(W.sh.coefficients[D],X);else if(W.isDirectionalLight){const D=t.get(W);if(D.color.copy(W.color).multiplyScalar(W.intensity*R),W.castShadow){const k=W.shadow,G=r.get(W);G.shadowBias=k.bias,G.shadowNormalBias=k.normalBias,G.shadowRadius=k.radius,G.shadowMapSize=k.mapSize,i.directionalShadow[S]=G,i.directionalShadowMap[S]=Z,i.directionalShadowMatrix[S]=W.shadow.matrix,b++}i.directional[S]=D,S++}else if(W.isSpotLight){const D=t.get(W);D.position.setFromMatrixPosition(W.matrixWorld),D.color.copy(Y).multiplyScalar(X*R),D.distance=ae,D.coneCos=Math.cos(W.angle),D.penumbraCos=Math.cos(W.angle*(1-W.penumbra)),D.decay=W.decay,i.spot[g]=D;const k=W.shadow;if(W.map&&(i.spotLightMap[B]=W.map,B++,k.updateMatrices(W),W.castShadow&&P++),i.spotLightMatrix[g]=k.matrix,W.castShadow){const G=r.get(W);G.shadowBias=k.bias,G.shadowNormalBias=k.normalBias,G.shadowRadius=k.radius,G.shadowMapSize=k.mapSize,i.spotShadow[g]=G,i.spotShadowMap[g]=Z,C++}g++}else if(W.isRectAreaLight){const D=t.get(W);D.color.copy(Y).multiplyScalar(X),D.halfWidth.set(W.width*.5,0,0),D.halfHeight.set(0,W.height*.5,0),i.rectArea[M]=D,M++}else if(W.isPointLight){const D=t.get(W);if(D.color.copy(W.color).multiplyScalar(W.intensity*R),D.distance=W.distance,D.decay=W.decay,W.castShadow){const k=W.shadow,G=r.get(W);G.shadowBias=k.bias,G.shadowNormalBias=k.normalBias,G.shadowRadius=k.radius,G.shadowMapSize=k.mapSize,G.shadowCameraNear=k.camera.near,G.shadowCameraFar=k.camera.far,i.pointShadow[A]=G,i.pointShadowMap[A]=Z,i.pointShadowMatrix[A]=W.shadow.matrix,T++}i.point[A]=D,A++}else if(W.isHemisphereLight){const D=t.get(W);D.skyColor.copy(W.color).multiplyScalar(X*R),D.groundColor.copy(W.groundColor).multiplyScalar(X*R),i.hemi[_]=D,_++}}M>0&&(e.isWebGL2||n.has("OES_texture_float_linear")===!0?(i.rectAreaLTC1=pt.LTC_FLOAT_1,i.rectAreaLTC2=pt.LTC_FLOAT_2):n.has("OES_texture_half_float_linear")===!0?(i.rectAreaLTC1=pt.LTC_HALF_1,i.rectAreaLTC2=pt.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),i.ambient[0]=p,i.ambient[1]=m,i.ambient[2]=v;const L=i.hash;(L.directionalLength!==S||L.pointLength!==A||L.spotLength!==g||L.rectAreaLength!==M||L.hemiLength!==_||L.numDirectionalShadows!==b||L.numPointShadows!==T||L.numSpotShadows!==C||L.numSpotMaps!==B)&&(i.directional.length=S,i.spot.length=g,i.rectArea.length=M,i.point.length=A,i.hemi.length=_,i.directionalShadow.length=b,i.directionalShadowMap.length=b,i.pointShadow.length=T,i.pointShadowMap.length=T,i.spotShadow.length=C,i.spotShadowMap.length=C,i.directionalShadowMatrix.length=b,i.pointShadowMatrix.length=T,i.spotLightMatrix.length=C+B-P,i.spotLightMap.length=B,i.numSpotLightShadowsWithMaps=P,L.directionalLength=S,L.pointLength=A,L.spotLength=g,L.rectAreaLength=M,L.hemiLength=_,L.numDirectionalShadows=b,L.numPointShadows=T,L.numSpotShadows=C,L.numSpotMaps=B,i.version=wRe++)}function u(h,f){let p=0,m=0,v=0,S=0,A=0;const g=f.matrixWorldInverse;for(let M=0,_=h.length;M<_;M++){const b=h[M];if(b.isDirectionalLight){const T=i.directional[p];T.direction.setFromMatrixPosition(b.matrixWorld),s.setFromMatrixPosition(b.target.matrixWorld),T.direction.sub(s),T.direction.transformDirection(g),p++}else if(b.isSpotLight){const T=i.spot[v];T.position.setFromMatrixPosition(b.matrixWorld),T.position.applyMatrix4(g),T.direction.setFromMatrixPosition(b.matrixWorld),s.setFromMatrixPosition(b.target.matrixWorld),T.direction.sub(s),T.direction.transformDirection(g),v++}else if(b.isRectAreaLight){const T=i.rectArea[S];T.position.setFromMatrixPosition(b.matrixWorld),T.position.applyMatrix4(g),a.identity(),o.copy(b.matrixWorld),o.premultiply(g),a.extractRotation(o),T.halfWidth.set(b.width*.5,0,0),T.halfHeight.set(0,b.height*.5,0),T.halfWidth.applyMatrix4(a),T.halfHeight.applyMatrix4(a),S++}else if(b.isPointLight){const T=i.point[m];T.position.setFromMatrixPosition(b.matrixWorld),T.position.applyMatrix4(g),m++}else if(b.isHemisphereLight){const T=i.hemi[A];T.direction.setFromMatrixPosition(b.matrixWorld),T.direction.transformDirection(g),A++}}}return{setup:l,setupView:u,state:i}}function d6(n,e){const t=new CRe(n,e),r=[],i=[];function s(){r.length=0,i.length=0}function o(f){r.push(f)}function a(f){i.push(f)}function l(f){t.setup(r,f)}function u(f){t.setupView(r,f)}return{init:s,state:{lightsArray:r,shadowsArray:i,lights:t},setupLights:l,setupLightsView:u,pushLight:o,pushShadow:a}}function RRe(n,e){let t=new WeakMap;function r(s,o=0){const a=t.get(s);let l;return a===void 0?(l=new d6(n,e),t.set(s,[l])):o>=a.length?(l=new d6(n,e),a.push(l)):l=a[o],l}function i(){t=new WeakMap}return{get:r,dispose:i}}class TG extends hi{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=Kee,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class CG extends hi{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}const PRe=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,BRe=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function LRe(n,e,t){let r=new pP;const i=new Je,s=new Je,o=new Gn,a=new TG({depthPacking:Qee}),l=new CG,u={},h=t.maxTextureSize,f={[Ku]:js,[js]:Ku,[za]:za},p=new qu({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new Je},radius:{value:4}},vertexShader:PRe,fragmentShader:BRe}),m=p.clone();m.defines.HORIZONTAL_PASS=1;const v=new Qt;v.setAttribute("position",new Bn(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const S=new Si(v,p),A=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=lP;let g=this.type;this.render=function(T,C,B){if(A.enabled===!1||A.autoUpdate===!1&&A.needsUpdate===!1||T.length===0)return;const P=n.getRenderTarget(),R=n.getActiveCubeFace(),L=n.getActiveMipmapLevel(),U=n.state;U.setBlending(dh),U.buffers.color.setClear(1,1,1,1),U.buffers.depth.setTest(!0),U.setScissorTest(!1);const Q=g!==_l&&this.type===_l,W=g===_l&&this.type!==_l;for(let Y=0,X=T.length;Y<X;Y++){const ae=T[Y],Z=ae.shadow;if(Z===void 0){console.warn("THREE.WebGLShadowMap:",ae,"has no shadow.");continue}if(Z.autoUpdate===!1&&Z.needsUpdate===!1)continue;i.copy(Z.mapSize);const D=Z.getFrameExtents();if(i.multiply(D),s.copy(Z.mapSize),(i.x>h||i.y>h)&&(i.x>h&&(s.x=Math.floor(h/D.x),i.x=s.x*D.x,Z.mapSize.x=s.x),i.y>h&&(s.y=Math.floor(h/D.y),i.y=s.y*D.y,Z.mapSize.y=s.y)),Z.map===null||Q===!0||W===!0){const G=this.type!==_l?{minFilter:Gr,magFilter:Gr}:{};Z.map!==null&&Z.map.dispose(),Z.map=new Vl(i.x,i.y,G),Z.map.texture.name=ae.name+".shadowMap",Z.camera.updateProjectionMatrix()}n.setRenderTarget(Z.map),n.clear();const k=Z.getViewportCount();for(let G=0;G<k;G++){const K=Z.getViewport(G);o.set(s.x*K.x,s.y*K.y,s.x*K.z,s.y*K.w),U.viewport(o),Z.updateMatrices(ae,G),r=Z.getFrustum(),b(C,B,Z.camera,ae,this.type)}Z.isPointLightShadow!==!0&&this.type===_l&&M(Z,B),Z.needsUpdate=!1}g=this.type,A.needsUpdate=!1,n.setRenderTarget(P,R,L)};function M(T,C){const B=e.update(S);p.defines.VSM_SAMPLES!==T.blurSamples&&(p.defines.VSM_SAMPLES=T.blurSamples,m.defines.VSM_SAMPLES=T.blurSamples,p.needsUpdate=!0,m.needsUpdate=!0),T.mapPass===null&&(T.mapPass=new Vl(i.x,i.y)),p.uniforms.shadow_pass.value=T.map.texture,p.uniforms.resolution.value=T.mapSize,p.uniforms.radius.value=T.radius,n.setRenderTarget(T.mapPass),n.clear(),n.renderBufferDirect(C,null,B,p,S,null),m.uniforms.shadow_pass.value=T.mapPass.texture,m.uniforms.resolution.value=T.mapSize,m.uniforms.radius.value=T.radius,n.setRenderTarget(T.map),n.clear(),n.renderBufferDirect(C,null,B,m,S,null)}function _(T,C,B,P){let R=null;const L=B.isPointLight===!0?T.customDistanceMaterial:T.customDepthMaterial;if(L!==void 0)R=L;else if(R=B.isPointLight===!0?l:a,n.localClippingEnabled&&C.clipShadows===!0&&Array.isArray(C.clippingPlanes)&&C.clippingPlanes.length!==0||C.displacementMap&&C.displacementScale!==0||C.alphaMap&&C.alphaTest>0||C.map&&C.alphaTest>0){const U=R.uuid,Q=C.uuid;let W=u[U];W===void 0&&(W={},u[U]=W);let Y=W[Q];Y===void 0&&(Y=R.clone(),W[Q]=Y),R=Y}if(R.visible=C.visible,R.wireframe=C.wireframe,P===_l?R.side=C.shadowSide!==null?C.shadowSide:C.side:R.side=C.shadowSide!==null?C.shadowSide:f[C.side],R.alphaMap=C.alphaMap,R.alphaTest=C.alphaTest,R.map=C.map,R.clipShadows=C.clipShadows,R.clippingPlanes=C.clippingPlanes,R.clipIntersection=C.clipIntersection,R.displacementMap=C.displacementMap,R.displacementScale=C.displacementScale,R.displacementBias=C.displacementBias,R.wireframeLinewidth=C.wireframeLinewidth,R.linewidth=C.linewidth,B.isPointLight===!0&&R.isMeshDistanceMaterial===!0){const U=n.properties.get(R);U.light=B}return R}function b(T,C,B,P,R){if(T.visible===!1)return;if(T.layers.test(C.layers)&&(T.isMesh||T.isLine||T.isPoints)&&(T.castShadow||T.receiveShadow&&R===_l)&&(!T.frustumCulled||r.intersectsObject(T))){T.modelViewMatrix.multiplyMatrices(B.matrixWorldInverse,T.matrixWorld);const Q=e.update(T),W=T.material;if(Array.isArray(W)){const Y=Q.groups;for(let X=0,ae=Y.length;X<ae;X++){const Z=Y[X],D=W[Z.materialIndex];if(D&&D.visible){const k=_(T,D,P,R);n.renderBufferDirect(B,null,Q,k,T,Z)}}}else if(W.visible){const Y=_(T,W,P,R);n.renderBufferDirect(B,null,Q,Y,T,null)}}const U=T.children;for(let Q=0,W=U.length;Q<W;Q++)b(U[Q],C,B,P,R)}}function IRe(n,e,t){const r=t.isWebGL2;function i(){let J=!1;const Ie=new Gn;let oe=null;const Ne=new Gn(0,0,0,0);return{setMask:function(Oe){oe!==Oe&&!J&&(n.colorMask(Oe,Oe,Oe,Oe),oe=Oe)},setLocked:function(Oe){J=Oe},setClear:function(Oe,wt,Ut,Xt,Vr){Vr===!0&&(Oe*=Xt,wt*=Xt,Ut*=Xt),Ie.set(Oe,wt,Ut,Xt),Ne.equals(Ie)===!1&&(n.clearColor(Oe,wt,Ut,Xt),Ne.copy(Ie))},reset:function(){J=!1,oe=null,Ne.set(-1,0,0,0)}}}function s(){let J=!1,Ie=null,oe=null,Ne=null;return{setTest:function(Oe){Oe?Be(n.DEPTH_TEST):Qe(n.DEPTH_TEST)},setMask:function(Oe){Ie!==Oe&&!J&&(n.depthMask(Oe),Ie=Oe)},setFunc:function(Oe){if(oe!==Oe){switch(Oe){case See:n.depthFunc(n.NEVER);break;case Eee:n.depthFunc(n.ALWAYS);break;case bee:n.depthFunc(n.LESS);break;case UC:n.depthFunc(n.LEQUAL);break;case wee:n.depthFunc(n.EQUAL);break;case Tee:n.depthFunc(n.GEQUAL);break;case Cee:n.depthFunc(n.GREATER);break;case Ree:n.depthFunc(n.NOTEQUAL);break;default:n.depthFunc(n.LEQUAL)}oe=Oe}},setLocked:function(Oe){J=Oe},setClear:function(Oe){Ne!==Oe&&(n.clearDepth(Oe),Ne=Oe)},reset:function(){J=!1,Ie=null,oe=null,Ne=null}}}function o(){let J=!1,Ie=null,oe=null,Ne=null,Oe=null,wt=null,Ut=null,Xt=null,Vr=null;return{setTest:function(Ot){J||(Ot?Be(n.STENCIL_TEST):Qe(n.STENCIL_TEST))},setMask:function(Ot){Ie!==Ot&&!J&&(n.stencilMask(Ot),Ie=Ot)},setFunc:function(Ot,Xn,gn){(oe!==Ot||Ne!==Xn||Oe!==gn)&&(n.stencilFunc(Ot,Xn,gn),oe=Ot,Ne=Xn,Oe=gn)},setOp:function(Ot,Xn,gn){(wt!==Ot||Ut!==Xn||Xt!==gn)&&(n.stencilOp(Ot,Xn,gn),wt=Ot,Ut=Xn,Xt=gn)},setLocked:function(Ot){J=Ot},setClear:function(Ot){Vr!==Ot&&(n.clearStencil(Ot),Vr=Ot)},reset:function(){J=!1,Ie=null,oe=null,Ne=null,Oe=null,wt=null,Ut=null,Xt=null,Vr=null}}}const a=new i,l=new s,u=new o,h=new WeakMap,f=new WeakMap;let p={},m={},v=new WeakMap,S=[],A=null,g=!1,M=null,_=null,b=null,T=null,C=null,B=null,P=null,R=!1,L=null,U=null,Q=null,W=null,Y=null;const X=n.getParameter(n.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let ae=!1,Z=0;const D=n.getParameter(n.VERSION);D.indexOf("WebGL")!==-1?(Z=parseFloat(/^WebGL (\d)/.exec(D)[1]),ae=Z>=1):D.indexOf("OpenGL ES")!==-1&&(Z=parseFloat(/^OpenGL ES (\d)/.exec(D)[1]),ae=Z>=2);let k=null,G={};const K=n.getParameter(n.SCISSOR_BOX),H=n.getParameter(n.VIEWPORT),ue=new Gn().fromArray(K),le=new Gn().fromArray(H);function Ce(J,Ie,oe,Ne){const Oe=new Uint8Array(4),wt=n.createTexture();n.bindTexture(J,wt),n.texParameteri(J,n.TEXTURE_MIN_FILTER,n.NEAREST),n.texParameteri(J,n.TEXTURE_MAG_FILTER,n.NEAREST);for(let Ut=0;Ut<oe;Ut++)r&&(J===n.TEXTURE_3D||J===n.TEXTURE_2D_ARRAY)?n.texImage3D(Ie,0,n.RGBA,1,1,Ne,0,n.RGBA,n.UNSIGNED_BYTE,Oe):n.texImage2D(Ie+Ut,0,n.RGBA,1,1,0,n.RGBA,n.UNSIGNED_BYTE,Oe);return wt}const xe={};xe[n.TEXTURE_2D]=Ce(n.TEXTURE_2D,n.TEXTURE_2D,1),xe[n.TEXTURE_CUBE_MAP]=Ce(n.TEXTURE_CUBE_MAP,n.TEXTURE_CUBE_MAP_POSITIVE_X,6),r&&(xe[n.TEXTURE_2D_ARRAY]=Ce(n.TEXTURE_2D_ARRAY,n.TEXTURE_2D_ARRAY,1,1),xe[n.TEXTURE_3D]=Ce(n.TEXTURE_3D,n.TEXTURE_3D,1,1)),a.setClear(0,0,0,1),l.setClear(1),u.setClear(0),Be(n.DEPTH_TEST),l.setFunc(UC),Ee(!1),Ve(pF),Be(n.CULL_FACE),ge(dh);function Be(J){p[J]!==!0&&(n.enable(J),p[J]=!0)}function Qe(J){p[J]!==!1&&(n.disable(J),p[J]=!1)}function je(J,Ie){return m[J]!==Ie?(n.bindFramebuffer(J,Ie),m[J]=Ie,r&&(J===n.DRAW_FRAMEBUFFER&&(m[n.FRAMEBUFFER]=Ie),J===n.FRAMEBUFFER&&(m[n.DRAW_FRAMEBUFFER]=Ie)),!0):!1}function Ke(J,Ie){let oe=S,Ne=!1;if(J)if(oe=v.get(Ie),oe===void 0&&(oe=[],v.set(Ie,oe)),J.isWebGLMultipleRenderTargets){const Oe=J.texture;if(oe.length!==Oe.length||oe[0]!==n.COLOR_ATTACHMENT0){for(let wt=0,Ut=Oe.length;wt<Ut;wt++)oe[wt]=n.COLOR_ATTACHMENT0+wt;oe.length=Oe.length,Ne=!0}}else oe[0]!==n.COLOR_ATTACHMENT0&&(oe[0]=n.COLOR_ATTACHMENT0,Ne=!0);else oe[0]!==n.BACK&&(oe[0]=n.BACK,Ne=!0);Ne&&(t.isWebGL2?n.drawBuffers(oe):e.get("WEBGL_draw_buffers").drawBuffersWEBGL(oe))}function fe(J){return A!==J?(n.useProgram(J),A=J,!0):!1}const z={[lm]:n.FUNC_ADD,[dee]:n.FUNC_SUBTRACT,[fee]:n.FUNC_REVERSE_SUBTRACT};if(r)z[yF]=n.MIN,z[xF]=n.MAX;else{const J=e.get("EXT_blend_minmax");J!==null&&(z[yF]=J.MIN_EXT,z[xF]=J.MAX_EXT)}const Ae={[pee]:n.ZERO,[mee]:n.ONE,[gee]:n.SRC_COLOR,[sG]:n.SRC_ALPHA,[Mee]:n.SRC_ALPHA_SATURATE,[Aee]:n.DST_COLOR,[yee]:n.DST_ALPHA,[vee]:n.ONE_MINUS_SRC_COLOR,[oG]:n.ONE_MINUS_SRC_ALPHA,[_ee]:n.ONE_MINUS_DST_COLOR,[xee]:n.ONE_MINUS_DST_ALPHA};function ge(J,Ie,oe,Ne,Oe,wt,Ut,Xt){if(J===dh){g===!0&&(Qe(n.BLEND),g=!1);return}if(g===!1&&(Be(n.BLEND),g=!0),J!==hee){if(J!==M||Xt!==R){if((_!==lm||C!==lm)&&(n.blendEquation(n.FUNC_ADD),_=lm,C=lm),Xt)switch(J){case zm:n.blendFuncSeparate(n.ONE,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA);break;case mF:n.blendFunc(n.ONE,n.ONE);break;case gF:n.blendFuncSeparate(n.ZERO,n.ONE_MINUS_SRC_COLOR,n.ZERO,n.ONE);break;case vF:n.blendFuncSeparate(n.ZERO,n.SRC_COLOR,n.ZERO,n.SRC_ALPHA);break;default:console.error("THREE.WebGLState: Invalid blending: ",J);break}else switch(J){case zm:n.blendFuncSeparate(n.SRC_ALPHA,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA);break;case mF:n.blendFunc(n.SRC_ALPHA,n.ONE);break;case gF:n.blendFuncSeparate(n.ZERO,n.ONE_MINUS_SRC_COLOR,n.ZERO,n.ONE);break;case vF:n.blendFunc(n.ZERO,n.SRC_COLOR);break;default:console.error("THREE.WebGLState: Invalid blending: ",J);break}b=null,T=null,B=null,P=null,M=J,R=Xt}return}Oe=Oe||Ie,wt=wt||oe,Ut=Ut||Ne,(Ie!==_||Oe!==C)&&(n.blendEquationSeparate(z[Ie],z[Oe]),_=Ie,C=Oe),(oe!==b||Ne!==T||wt!==B||Ut!==P)&&(n.blendFuncSeparate(Ae[oe],Ae[Ne],Ae[wt],Ae[Ut]),b=oe,T=Ne,B=wt,P=Ut),M=J,R=!1}function Me(J,Ie){J.side===za?Qe(n.CULL_FACE):Be(n.CULL_FACE);let oe=J.side===js;Ie&&(oe=!oe),Ee(oe),J.blending===zm&&J.transparent===!1?ge(dh):ge(J.blending,J.blendEquation,J.blendSrc,J.blendDst,J.blendEquationAlpha,J.blendSrcAlpha,J.blendDstAlpha,J.premultipliedAlpha),l.setFunc(J.depthFunc),l.setTest(J.depthTest),l.setMask(J.depthWrite),a.setMask(J.colorWrite);const Ne=J.stencilWrite;u.setTest(Ne),Ne&&(u.setMask(J.stencilWriteMask),u.setFunc(J.stencilFunc,J.stencilRef,J.stencilFuncMask),u.setOp(J.stencilFail,J.stencilZFail,J.stencilZPass)),ze(J.polygonOffset,J.polygonOffsetFactor,J.polygonOffsetUnits),J.alphaToCoverage===!0?Be(n.SAMPLE_ALPHA_TO_COVERAGE):Qe(n.SAMPLE_ALPHA_TO_COVERAGE)}function Ee(J){L!==J&&(J?n.frontFace(n.CW):n.frontFace(n.CCW),L=J)}function Ve(J){J!==lee?(Be(n.CULL_FACE),J!==U&&(J===pF?n.cullFace(n.BACK):J===uee?n.cullFace(n.FRONT):n.cullFace(n.FRONT_AND_BACK))):Qe(n.CULL_FACE),U=J}function Ge(J){J!==Q&&(ae&&n.lineWidth(J),Q=J)}function ze(J,Ie,oe){J?(Be(n.POLYGON_OFFSET_FILL),(W!==Ie||Y!==oe)&&(n.polygonOffset(Ie,oe),W=Ie,Y=oe)):Qe(n.POLYGON_OFFSET_FILL)}function Ze(J){J?Be(n.SCISSOR_TEST):Qe(n.SCISSOR_TEST)}function St(J){J===void 0&&(J=n.TEXTURE0+X-1),k!==J&&(n.activeTexture(J),k=J)}function Dt(J,Ie,oe){oe===void 0&&(k===null?oe=n.TEXTURE0+X-1:oe=k);let Ne=G[oe];Ne===void 0&&(Ne={type:void 0,texture:void 0},G[oe]=Ne),(Ne.type!==J||Ne.texture!==Ie)&&(k!==oe&&(n.activeTexture(oe),k=oe),n.bindTexture(J,Ie||xe[J]),Ne.type=J,Ne.texture=Ie)}function O(){const J=G[k];J!==void 0&&J.type!==void 0&&(n.bindTexture(J.type,null),J.type=void 0,J.texture=void 0)}function F(){try{n.compressedTexImage2D.apply(n,arguments)}catch(J){console.error("THREE.WebGLState:",J)}}function ce(){try{n.compressedTexImage3D.apply(n,arguments)}catch(J){console.error("THREE.WebGLState:",J)}}function be(){try{n.texSubImage2D.apply(n,arguments)}catch(J){console.error("THREE.WebGLState:",J)}}function Se(){try{n.texSubImage3D.apply(n,arguments)}catch(J){console.error("THREE.WebGLState:",J)}}function Fe(){try{n.compressedTexSubImage2D.apply(n,arguments)}catch(J){console.error("THREE.WebGLState:",J)}}function Xe(){try{n.compressedTexSubImage3D.apply(n,arguments)}catch(J){console.error("THREE.WebGLState:",J)}}function De(){try{n.texStorage2D.apply(n,arguments)}catch(J){console.error("THREE.WebGLState:",J)}}function j(){try{n.texStorage3D.apply(n,arguments)}catch(J){console.error("THREE.WebGLState:",J)}}function q(){try{n.texImage2D.apply(n,arguments)}catch(J){console.error("THREE.WebGLState:",J)}}function ve(){try{n.texImage3D.apply(n,arguments)}catch(J){console.error("THREE.WebGLState:",J)}}function Re(J){ue.equals(J)===!1&&(n.scissor(J.x,J.y,J.z,J.w),ue.copy(J))}function Pe(J){le.equals(J)===!1&&(n.viewport(J.x,J.y,J.z,J.w),le.copy(J))}function Ue(J,Ie){let oe=f.get(Ie);oe===void 0&&(oe=new WeakMap,f.set(Ie,oe));let Ne=oe.get(J);Ne===void 0&&(Ne=n.getUniformBlockIndex(Ie,J.name),oe.set(J,Ne))}function it(J,Ie){const Ne=f.get(Ie).get(J);h.get(Ie)!==Ne&&(n.uniformBlockBinding(Ie,Ne,J.__bindingPointIndex),h.set(Ie,Ne))}function Mt(){n.disable(n.BLEND),n.disable(n.CULL_FACE),n.disable(n.DEPTH_TEST),n.disable(n.POLYGON_OFFSET_FILL),n.disable(n.SCISSOR_TEST),n.disable(n.STENCIL_TEST),n.disable(n.SAMPLE_ALPHA_TO_COVERAGE),n.blendEquation(n.FUNC_ADD),n.blendFunc(n.ONE,n.ZERO),n.blendFuncSeparate(n.ONE,n.ZERO,n.ONE,n.ZERO),n.colorMask(!0,!0,!0,!0),n.clearColor(0,0,0,0),n.depthMask(!0),n.depthFunc(n.LESS),n.clearDepth(1),n.stencilMask(4294967295),n.stencilFunc(n.ALWAYS,0,4294967295),n.stencilOp(n.KEEP,n.KEEP,n.KEEP),n.clearStencil(0),n.cullFace(n.BACK),n.frontFace(n.CCW),n.polygonOffset(0,0),n.activeTexture(n.TEXTURE0),n.bindFramebuffer(n.FRAMEBUFFER,null),r===!0&&(n.bindFramebuffer(n.DRAW_FRAMEBUFFER,null),n.bindFramebuffer(n.READ_FRAMEBUFFER,null)),n.useProgram(null),n.lineWidth(1),n.scissor(0,0,n.canvas.width,n.canvas.height),n.viewport(0,0,n.canvas.width,n.canvas.height),p={},k=null,G={},m={},v=new WeakMap,S=[],A=null,g=!1,M=null,_=null,b=null,T=null,C=null,B=null,P=null,R=!1,L=null,U=null,Q=null,W=null,Y=null,ue.set(0,0,n.canvas.width,n.canvas.height),le.set(0,0,n.canvas.width,n.canvas.height),a.reset(),l.reset(),u.reset()}return{buffers:{color:a,depth:l,stencil:u},enable:Be,disable:Qe,bindFramebuffer:je,drawBuffers:Ke,useProgram:fe,setBlending:ge,setMaterial:Me,setFlipSided:Ee,setCullFace:Ve,setLineWidth:Ge,setPolygonOffset:ze,setScissorTest:Ze,activeTexture:St,bindTexture:Dt,unbindTexture:O,compressedTexImage2D:F,compressedTexImage3D:ce,texImage2D:q,texImage3D:ve,updateUBOMapping:Ue,uniformBlockBinding:it,texStorage2D:De,texStorage3D:j,texSubImage2D:be,texSubImage3D:Se,compressedTexSubImage2D:Fe,compressedTexSubImage3D:Xe,scissor:Re,viewport:Pe,reset:Mt}}function DRe(n,e,t,r,i,s,o){const a=i.isWebGL2,l=i.maxTextures,u=i.maxCubemapSize,h=i.maxTextureSize,f=i.maxSamples,p=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,m=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),v=new WeakMap;let S;const A=new WeakMap;let g=!1;try{g=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function M(O,F){return g?new OffscreenCanvas(O,F):FM("canvas")}function _(O,F,ce,be){let Se=1;if((O.width>be||O.height>be)&&(Se=be/Math.max(O.width,O.height)),Se<1||F===!0)if(typeof HTMLImageElement<"u"&&O instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&O instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&O instanceof ImageBitmap){const Fe=F?GC:Math.floor,Xe=Fe(Se*O.width),De=Fe(Se*O.height);S===void 0&&(S=M(Xe,De));const j=ce?M(Xe,De):S;return j.width=Xe,j.height=De,j.getContext("2d").drawImage(O,0,0,Xe,De),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+O.width+"x"+O.height+") to ("+Xe+"x"+De+")."),j}else return"data"in O&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+O.width+"x"+O.height+")."),O;return O}function b(O){return WF(O.width)&&WF(O.height)}function T(O){return a?!1:O.wrapS!==ss||O.wrapT!==ss||O.minFilter!==Gr&&O.minFilter!==_r}function C(O,F){return O.generateMipmaps&&F&&O.minFilter!==Gr&&O.minFilter!==_r}function B(O){n.generateMipmap(O)}function P(O,F,ce,be,Se=!1){if(a===!1)return F;if(O!==null){if(n[O]!==void 0)return n[O];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+O+"'")}let Fe=F;return F===n.RED&&(ce===n.FLOAT&&(Fe=n.R32F),ce===n.HALF_FLOAT&&(Fe=n.R16F),ce===n.UNSIGNED_BYTE&&(Fe=n.R8)),F===n.RG&&(ce===n.FLOAT&&(Fe=n.RG32F),ce===n.HALF_FLOAT&&(Fe=n.RG16F),ce===n.UNSIGNED_BYTE&&(Fe=n.RG8)),F===n.RGBA&&(ce===n.FLOAT&&(Fe=n.RGBA32F),ce===n.HALF_FLOAT&&(Fe=n.RGBA16F),ce===n.UNSIGNED_BYTE&&(Fe=be===Zt&&Se===!1?n.SRGB8_ALPHA8:n.RGBA8),ce===n.UNSIGNED_SHORT_4_4_4_4&&(Fe=n.RGBA4),ce===n.UNSIGNED_SHORT_5_5_5_1&&(Fe=n.RGB5_A1)),(Fe===n.R16F||Fe===n.R32F||Fe===n.RG16F||Fe===n.RG32F||Fe===n.RGBA16F||Fe===n.RGBA32F)&&e.get("EXT_color_buffer_float"),Fe}function R(O,F,ce){return C(O,ce)===!0||O.isFramebufferTexture&&O.minFilter!==Gr&&O.minFilter!==_r?Math.log2(Math.max(F.width,F.height))+1:O.mipmaps!==void 0&&O.mipmaps.length>0?O.mipmaps.length:O.isCompressedTexture&&Array.isArray(O.image)?F.mipmaps.length:1}function L(O){return O===Gr||O===BM||O===Ay?n.NEAREST:n.LINEAR}function U(O){const F=O.target;F.removeEventListener("dispose",U),W(F),F.isVideoTexture&&v.delete(F)}function Q(O){const F=O.target;F.removeEventListener("dispose",Q),X(F)}function W(O){const F=r.get(O);if(F.__webglInit===void 0)return;const ce=O.source,be=A.get(ce);if(be){const Se=be[F.__cacheKey];Se.usedTimes--,Se.usedTimes===0&&Y(O),Object.keys(be).length===0&&A.delete(ce)}r.remove(O)}function Y(O){const F=r.get(O);n.deleteTexture(F.__webglTexture);const ce=O.source,be=A.get(ce);delete be[F.__cacheKey],o.memory.textures--}function X(O){const F=O.texture,ce=r.get(O),be=r.get(F);if(be.__webglTexture!==void 0&&(n.deleteTexture(be.__webglTexture),o.memory.textures--),O.depthTexture&&O.depthTexture.dispose(),O.isWebGLCubeRenderTarget)for(let Se=0;Se<6;Se++)n.deleteFramebuffer(ce.__webglFramebuffer[Se]),ce.__webglDepthbuffer&&n.deleteRenderbuffer(ce.__webglDepthbuffer[Se]);else{if(n.deleteFramebuffer(ce.__webglFramebuffer),ce.__webglDepthbuffer&&n.deleteRenderbuffer(ce.__webglDepthbuffer),ce.__webglMultisampledFramebuffer&&n.deleteFramebuffer(ce.__webglMultisampledFramebuffer),ce.__webglColorRenderbuffer)for(let Se=0;Se<ce.__webglColorRenderbuffer.length;Se++)ce.__webglColorRenderbuffer[Se]&&n.deleteRenderbuffer(ce.__webglColorRenderbuffer[Se]);ce.__webglDepthRenderbuffer&&n.deleteRenderbuffer(ce.__webglDepthRenderbuffer)}if(O.isWebGLMultipleRenderTargets)for(let Se=0,Fe=F.length;Se<Fe;Se++){const Xe=r.get(F[Se]);Xe.__webglTexture&&(n.deleteTexture(Xe.__webglTexture),o.memory.textures--),r.remove(F[Se])}r.remove(F),r.remove(O)}let ae=0;function Z(){ae=0}function D(){const O=ae;return O>=l&&console.warn("THREE.WebGLTextures: Trying to use "+O+" texture units while this GPU supports only "+l),ae+=1,O}function k(O){const F=[];return F.push(O.wrapS),F.push(O.wrapT),F.push(O.wrapR||0),F.push(O.magFilter),F.push(O.minFilter),F.push(O.anisotropy),F.push(O.internalFormat),F.push(O.format),F.push(O.type),F.push(O.generateMipmaps),F.push(O.premultiplyAlpha),F.push(O.flipY),F.push(O.unpackAlignment),F.push(O.colorSpace),F.join()}function G(O,F){const ce=r.get(O);if(O.isVideoTexture&&St(O),O.isRenderTargetTexture===!1&&O.version>0&&ce.__version!==O.version){const be=O.image;if(be===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(be.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{je(ce,O,F);return}}t.bindTexture(n.TEXTURE_2D,ce.__webglTexture,n.TEXTURE0+F)}function K(O,F){const ce=r.get(O);if(O.version>0&&ce.__version!==O.version){je(ce,O,F);return}t.bindTexture(n.TEXTURE_2D_ARRAY,ce.__webglTexture,n.TEXTURE0+F)}function H(O,F){const ce=r.get(O);if(O.version>0&&ce.__version!==O.version){je(ce,O,F);return}t.bindTexture(n.TEXTURE_3D,ce.__webglTexture,n.TEXTURE0+F)}function ue(O,F){const ce=r.get(O);if(O.version>0&&ce.__version!==O.version){Ke(ce,O,F);return}t.bindTexture(n.TEXTURE_CUBE_MAP,ce.__webglTexture,n.TEXTURE0+F)}const le={[Af]:n.REPEAT,[ss]:n.CLAMP_TO_EDGE,[qy]:n.MIRRORED_REPEAT},Ce={[Gr]:n.NEAREST,[BM]:n.NEAREST_MIPMAP_NEAREST,[Ay]:n.NEAREST_MIPMAP_LINEAR,[_r]:n.LINEAR,[cP]:n.LINEAR_MIPMAP_NEAREST,[Qu]:n.LINEAR_MIPMAP_LINEAR},xe={[$ee]:n.NEVER,[ote]:n.ALWAYS,[ete]:n.LESS,[nte]:n.LEQUAL,[tte]:n.EQUAL,[ste]:n.GEQUAL,[rte]:n.GREATER,[ite]:n.NOTEQUAL};function Be(O,F,ce){if(ce?(n.texParameteri(O,n.TEXTURE_WRAP_S,le[F.wrapS]),n.texParameteri(O,n.TEXTURE_WRAP_T,le[F.wrapT]),(O===n.TEXTURE_3D||O===n.TEXTURE_2D_ARRAY)&&n.texParameteri(O,n.TEXTURE_WRAP_R,le[F.wrapR]),n.texParameteri(O,n.TEXTURE_MAG_FILTER,Ce[F.magFilter]),n.texParameteri(O,n.TEXTURE_MIN_FILTER,Ce[F.minFilter])):(n.texParameteri(O,n.TEXTURE_WRAP_S,n.CLAMP_TO_EDGE),n.texParameteri(O,n.TEXTURE_WRAP_T,n.CLAMP_TO_EDGE),(O===n.TEXTURE_3D||O===n.TEXTURE_2D_ARRAY)&&n.texParameteri(O,n.TEXTURE_WRAP_R,n.CLAMP_TO_EDGE),(F.wrapS!==ss||F.wrapT!==ss)&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),n.texParameteri(O,n.TEXTURE_MAG_FILTER,L(F.magFilter)),n.texParameteri(O,n.TEXTURE_MIN_FILTER,L(F.minFilter)),F.minFilter!==Gr&&F.minFilter!==_r&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),F.compareFunction&&(n.texParameteri(O,n.TEXTURE_COMPARE_MODE,n.COMPARE_REF_TO_TEXTURE),n.texParameteri(O,n.TEXTURE_COMPARE_FUNC,xe[F.compareFunction])),e.has("EXT_texture_filter_anisotropic")===!0){const be=e.get("EXT_texture_filter_anisotropic");if(F.magFilter===Gr||F.minFilter!==Ay&&F.minFilter!==Qu||F.type===Lu&&e.has("OES_texture_float_linear")===!1||a===!1&&F.type===Zy&&e.has("OES_texture_half_float_linear")===!1)return;(F.anisotropy>1||r.get(F).__currentAnisotropy)&&(n.texParameterf(O,be.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(F.anisotropy,i.getMaxAnisotropy())),r.get(F).__currentAnisotropy=F.anisotropy)}}function Qe(O,F){let ce=!1;O.__webglInit===void 0&&(O.__webglInit=!0,F.addEventListener("dispose",U));const be=F.source;let Se=A.get(be);Se===void 0&&(Se={},A.set(be,Se));const Fe=k(F);if(Fe!==O.__cacheKey){Se[Fe]===void 0&&(Se[Fe]={texture:n.createTexture(),usedTimes:0},o.memory.textures++,ce=!0),Se[Fe].usedTimes++;const Xe=Se[O.__cacheKey];Xe!==void 0&&(Se[O.__cacheKey].usedTimes--,Xe.usedTimes===0&&Y(F)),O.__cacheKey=Fe,O.__webglTexture=Se[Fe].texture}return ce}function je(O,F,ce){let be=n.TEXTURE_2D;(F.isDataArrayTexture||F.isCompressedArrayTexture)&&(be=n.TEXTURE_2D_ARRAY),F.isData3DTexture&&(be=n.TEXTURE_3D);const Se=Qe(O,F),Fe=F.source;t.bindTexture(be,O.__webglTexture,n.TEXTURE0+ce);const Xe=r.get(Fe);if(Fe.version!==Xe.__version||Se===!0){t.activeTexture(n.TEXTURE0+ce),n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,F.flipY),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,F.premultiplyAlpha),n.pixelStorei(n.UNPACK_ALIGNMENT,F.unpackAlignment),n.pixelStorei(n.UNPACK_COLORSPACE_CONVERSION_WEBGL,n.NONE);const De=T(F)&&b(F.image)===!1;let j=_(F.image,De,!1,h);j=Dt(F,j);const q=b(j)||a,ve=s.convert(F.format,F.colorSpace);let Re=s.convert(F.type),Pe=P(F.internalFormat,ve,Re,F.colorSpace);Be(be,F,q);let Ue;const it=F.mipmaps,Mt=a&&F.isVideoTexture!==!0,J=Xe.__version===void 0||Se===!0,Ie=R(F,j,q);if(F.isDepthTexture)Pe=n.DEPTH_COMPONENT,a?F.type===Lu?Pe=n.DEPTH_COMPONENT32F:F.type===ih?Pe=n.DEPTH_COMPONENT24:F.type===ef?Pe=n.DEPTH24_STENCIL8:Pe=n.DEPTH_COMPONENT16:F.type===Lu&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),F.format===tf&&Pe===n.DEPTH_COMPONENT&&F.type!==hP&&F.type!==ih&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),F.type=ih,Re=s.convert(F.type)),F.format===og&&Pe===n.DEPTH_COMPONENT&&(Pe=n.DEPTH_STENCIL,F.type!==ef&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),F.type=ef,Re=s.convert(F.type))),J&&(Mt?t.texStorage2D(n.TEXTURE_2D,1,Pe,j.width,j.height):t.texImage2D(n.TEXTURE_2D,0,Pe,j.width,j.height,0,ve,Re,null));else if(F.isDataTexture)if(it.length>0&&q){Mt&&J&&t.texStorage2D(n.TEXTURE_2D,Ie,Pe,it[0].width,it[0].height);for(let oe=0,Ne=it.length;oe<Ne;oe++)Ue=it[oe],Mt?t.texSubImage2D(n.TEXTURE_2D,oe,0,0,Ue.width,Ue.height,ve,Re,Ue.data):t.texImage2D(n.TEXTURE_2D,oe,Pe,Ue.width,Ue.height,0,ve,Re,Ue.data);F.generateMipmaps=!1}else Mt?(J&&t.texStorage2D(n.TEXTURE_2D,Ie,Pe,j.width,j.height),t.texSubImage2D(n.TEXTURE_2D,0,0,0,j.width,j.height,ve,Re,j.data)):t.texImage2D(n.TEXTURE_2D,0,Pe,j.width,j.height,0,ve,Re,j.data);else if(F.isCompressedTexture)if(F.isCompressedArrayTexture){Mt&&J&&t.texStorage3D(n.TEXTURE_2D_ARRAY,Ie,Pe,it[0].width,it[0].height,j.depth);for(let oe=0,Ne=it.length;oe<Ne;oe++)Ue=it[oe],F.format!==lo?ve!==null?Mt?t.compressedTexSubImage3D(n.TEXTURE_2D_ARRAY,oe,0,0,0,Ue.width,Ue.height,j.depth,ve,Ue.data,0,0):t.compressedTexImage3D(n.TEXTURE_2D_ARRAY,oe,Pe,Ue.width,Ue.height,j.depth,0,Ue.data,0,0):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):Mt?t.texSubImage3D(n.TEXTURE_2D_ARRAY,oe,0,0,0,Ue.width,Ue.height,j.depth,ve,Re,Ue.data):t.texImage3D(n.TEXTURE_2D_ARRAY,oe,Pe,Ue.width,Ue.height,j.depth,0,ve,Re,Ue.data)}else{Mt&&J&&t.texStorage2D(n.TEXTURE_2D,Ie,Pe,it[0].width,it[0].height);for(let oe=0,Ne=it.length;oe<Ne;oe++)Ue=it[oe],F.format!==lo?ve!==null?Mt?t.compressedTexSubImage2D(n.TEXTURE_2D,oe,0,0,Ue.width,Ue.height,ve,Ue.data):t.compressedTexImage2D(n.TEXTURE_2D,oe,Pe,Ue.width,Ue.height,0,Ue.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):Mt?t.texSubImage2D(n.TEXTURE_2D,oe,0,0,Ue.width,Ue.height,ve,Re,Ue.data):t.texImage2D(n.TEXTURE_2D,oe,Pe,Ue.width,Ue.height,0,ve,Re,Ue.data)}else if(F.isDataArrayTexture)Mt?(J&&t.texStorage3D(n.TEXTURE_2D_ARRAY,Ie,Pe,j.width,j.height,j.depth),t.texSubImage3D(n.TEXTURE_2D_ARRAY,0,0,0,0,j.width,j.height,j.depth,ve,Re,j.data)):t.texImage3D(n.TEXTURE_2D_ARRAY,0,Pe,j.width,j.height,j.depth,0,ve,Re,j.data);else if(F.isData3DTexture)Mt?(J&&t.texStorage3D(n.TEXTURE_3D,Ie,Pe,j.width,j.height,j.depth),t.texSubImage3D(n.TEXTURE_3D,0,0,0,0,j.width,j.height,j.depth,ve,Re,j.data)):t.texImage3D(n.TEXTURE_3D,0,Pe,j.width,j.height,j.depth,0,ve,Re,j.data);else if(F.isFramebufferTexture){if(J)if(Mt)t.texStorage2D(n.TEXTURE_2D,Ie,Pe,j.width,j.height);else{let oe=j.width,Ne=j.height;for(let Oe=0;Oe<Ie;Oe++)t.texImage2D(n.TEXTURE_2D,Oe,Pe,oe,Ne,0,ve,Re,null),oe>>=1,Ne>>=1}}else if(it.length>0&&q){Mt&&J&&t.texStorage2D(n.TEXTURE_2D,Ie,Pe,it[0].width,it[0].height);for(let oe=0,Ne=it.length;oe<Ne;oe++)Ue=it[oe],Mt?t.texSubImage2D(n.TEXTURE_2D,oe,0,0,ve,Re,Ue):t.texImage2D(n.TEXTURE_2D,oe,Pe,ve,Re,Ue);F.generateMipmaps=!1}else Mt?(J&&t.texStorage2D(n.TEXTURE_2D,Ie,Pe,j.width,j.height),t.texSubImage2D(n.TEXTURE_2D,0,0,0,ve,Re,j)):t.texImage2D(n.TEXTURE_2D,0,Pe,ve,Re,j);C(F,q)&&B(be),Xe.__version=Fe.version,F.onUpdate&&F.onUpdate(F)}O.__version=F.version}function Ke(O,F,ce){if(F.image.length!==6)return;const be=Qe(O,F),Se=F.source;t.bindTexture(n.TEXTURE_CUBE_MAP,O.__webglTexture,n.TEXTURE0+ce);const Fe=r.get(Se);if(Se.version!==Fe.__version||be===!0){t.activeTexture(n.TEXTURE0+ce),n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,F.flipY),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,F.premultiplyAlpha),n.pixelStorei(n.UNPACK_ALIGNMENT,F.unpackAlignment),n.pixelStorei(n.UNPACK_COLORSPACE_CONVERSION_WEBGL,n.NONE);const Xe=F.isCompressedTexture||F.image[0].isCompressedTexture,De=F.image[0]&&F.image[0].isDataTexture,j=[];for(let oe=0;oe<6;oe++)!Xe&&!De?j[oe]=_(F.image[oe],!1,!0,u):j[oe]=De?F.image[oe].image:F.image[oe],j[oe]=Dt(F,j[oe]);const q=j[0],ve=b(q)||a,Re=s.convert(F.format,F.colorSpace),Pe=s.convert(F.type),Ue=P(F.internalFormat,Re,Pe,F.colorSpace),it=a&&F.isVideoTexture!==!0,Mt=Fe.__version===void 0||be===!0;let J=R(F,q,ve);Be(n.TEXTURE_CUBE_MAP,F,ve);let Ie;if(Xe){it&&Mt&&t.texStorage2D(n.TEXTURE_CUBE_MAP,J,Ue,q.width,q.height);for(let oe=0;oe<6;oe++){Ie=j[oe].mipmaps;for(let Ne=0;Ne<Ie.length;Ne++){const Oe=Ie[Ne];F.format!==lo?Re!==null?it?t.compressedTexSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+oe,Ne,0,0,Oe.width,Oe.height,Re,Oe.data):t.compressedTexImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+oe,Ne,Ue,Oe.width,Oe.height,0,Oe.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):it?t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+oe,Ne,0,0,Oe.width,Oe.height,Re,Pe,Oe.data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+oe,Ne,Ue,Oe.width,Oe.height,0,Re,Pe,Oe.data)}}}else{Ie=F.mipmaps,it&&Mt&&(Ie.length>0&&J++,t.texStorage2D(n.TEXTURE_CUBE_MAP,J,Ue,j[0].width,j[0].height));for(let oe=0;oe<6;oe++)if(De){it?t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+oe,0,0,0,j[oe].width,j[oe].height,Re,Pe,j[oe].data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+oe,0,Ue,j[oe].width,j[oe].height,0,Re,Pe,j[oe].data);for(let Ne=0;Ne<Ie.length;Ne++){const wt=Ie[Ne].image[oe].image;it?t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+oe,Ne+1,0,0,wt.width,wt.height,Re,Pe,wt.data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+oe,Ne+1,Ue,wt.width,wt.height,0,Re,Pe,wt.data)}}else{it?t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+oe,0,0,0,Re,Pe,j[oe]):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+oe,0,Ue,Re,Pe,j[oe]);for(let Ne=0;Ne<Ie.length;Ne++){const Oe=Ie[Ne];it?t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+oe,Ne+1,0,0,Re,Pe,Oe.image[oe]):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+oe,Ne+1,Ue,Re,Pe,Oe.image[oe])}}}C(F,ve)&&B(n.TEXTURE_CUBE_MAP),Fe.__version=Se.version,F.onUpdate&&F.onUpdate(F)}O.__version=F.version}function fe(O,F,ce,be,Se){const Fe=s.convert(ce.format,ce.colorSpace),Xe=s.convert(ce.type),De=P(ce.internalFormat,Fe,Xe,ce.colorSpace);r.get(F).__hasExternalTextures||(Se===n.TEXTURE_3D||Se===n.TEXTURE_2D_ARRAY?t.texImage3D(Se,0,De,F.width,F.height,F.depth,0,Fe,Xe,null):t.texImage2D(Se,0,De,F.width,F.height,0,Fe,Xe,null)),t.bindFramebuffer(n.FRAMEBUFFER,O),Ze(F)?p.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,be,Se,r.get(ce).__webglTexture,0,ze(F)):(Se===n.TEXTURE_2D||Se>=n.TEXTURE_CUBE_MAP_POSITIVE_X&&Se<=n.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&n.framebufferTexture2D(n.FRAMEBUFFER,be,Se,r.get(ce).__webglTexture,0),t.bindFramebuffer(n.FRAMEBUFFER,null)}function z(O,F,ce){if(n.bindRenderbuffer(n.RENDERBUFFER,O),F.depthBuffer&&!F.stencilBuffer){let be=n.DEPTH_COMPONENT16;if(ce||Ze(F)){const Se=F.depthTexture;Se&&Se.isDepthTexture&&(Se.type===Lu?be=n.DEPTH_COMPONENT32F:Se.type===ih&&(be=n.DEPTH_COMPONENT24));const Fe=ze(F);Ze(F)?p.renderbufferStorageMultisampleEXT(n.RENDERBUFFER,Fe,be,F.width,F.height):n.renderbufferStorageMultisample(n.RENDERBUFFER,Fe,be,F.width,F.height)}else n.renderbufferStorage(n.RENDERBUFFER,be,F.width,F.height);n.framebufferRenderbuffer(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.RENDERBUFFER,O)}else if(F.depthBuffer&&F.stencilBuffer){const be=ze(F);ce&&Ze(F)===!1?n.renderbufferStorageMultisample(n.RENDERBUFFER,be,n.DEPTH24_STENCIL8,F.width,F.height):Ze(F)?p.renderbufferStorageMultisampleEXT(n.RENDERBUFFER,be,n.DEPTH24_STENCIL8,F.width,F.height):n.renderbufferStorage(n.RENDERBUFFER,n.DEPTH_STENCIL,F.width,F.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.RENDERBUFFER,O)}else{const be=F.isWebGLMultipleRenderTargets===!0?F.texture:[F.texture];for(let Se=0;Se<be.length;Se++){const Fe=be[Se],Xe=s.convert(Fe.format,Fe.colorSpace),De=s.convert(Fe.type),j=P(Fe.internalFormat,Xe,De,Fe.colorSpace),q=ze(F);ce&&Ze(F)===!1?n.renderbufferStorageMultisample(n.RENDERBUFFER,q,j,F.width,F.height):Ze(F)?p.renderbufferStorageMultisampleEXT(n.RENDERBUFFER,q,j,F.width,F.height):n.renderbufferStorage(n.RENDERBUFFER,j,F.width,F.height)}}n.bindRenderbuffer(n.RENDERBUFFER,null)}function Ae(O,F){if(F&&F.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(t.bindFramebuffer(n.FRAMEBUFFER,O),!(F.depthTexture&&F.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!r.get(F.depthTexture).__webglTexture||F.depthTexture.image.width!==F.width||F.depthTexture.image.height!==F.height)&&(F.depthTexture.image.width=F.width,F.depthTexture.image.height=F.height,F.depthTexture.needsUpdate=!0),G(F.depthTexture,0);const be=r.get(F.depthTexture).__webglTexture,Se=ze(F);if(F.depthTexture.format===tf)Ze(F)?p.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,be,0,Se):n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,be,0);else if(F.depthTexture.format===og)Ze(F)?p.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.TEXTURE_2D,be,0,Se):n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.TEXTURE_2D,be,0);else throw new Error("Unknown depthTexture format")}function ge(O){const F=r.get(O),ce=O.isWebGLCubeRenderTarget===!0;if(O.depthTexture&&!F.__autoAllocateDepthBuffer){if(ce)throw new Error("target.depthTexture not supported in Cube render targets");Ae(F.__webglFramebuffer,O)}else if(ce){F.__webglDepthbuffer=[];for(let be=0;be<6;be++)t.bindFramebuffer(n.FRAMEBUFFER,F.__webglFramebuffer[be]),F.__webglDepthbuffer[be]=n.createRenderbuffer(),z(F.__webglDepthbuffer[be],O,!1)}else t.bindFramebuffer(n.FRAMEBUFFER,F.__webglFramebuffer),F.__webglDepthbuffer=n.createRenderbuffer(),z(F.__webglDepthbuffer,O,!1);t.bindFramebuffer(n.FRAMEBUFFER,null)}function Me(O,F,ce){const be=r.get(O);F!==void 0&&fe(be.__webglFramebuffer,O,O.texture,n.COLOR_ATTACHMENT0,n.TEXTURE_2D),ce!==void 0&&ge(O)}function Ee(O){const F=O.texture,ce=r.get(O),be=r.get(F);O.addEventListener("dispose",Q),O.isWebGLMultipleRenderTargets!==!0&&(be.__webglTexture===void 0&&(be.__webglTexture=n.createTexture()),be.__version=F.version,o.memory.textures++);const Se=O.isWebGLCubeRenderTarget===!0,Fe=O.isWebGLMultipleRenderTargets===!0,Xe=b(O)||a;if(Se){ce.__webglFramebuffer=[];for(let De=0;De<6;De++)ce.__webglFramebuffer[De]=n.createFramebuffer()}else{if(ce.__webglFramebuffer=n.createFramebuffer(),Fe)if(i.drawBuffers){const De=O.texture;for(let j=0,q=De.length;j<q;j++){const ve=r.get(De[j]);ve.__webglTexture===void 0&&(ve.__webglTexture=n.createTexture(),o.memory.textures++)}}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");if(a&&O.samples>0&&Ze(O)===!1){const De=Fe?F:[F];ce.__webglMultisampledFramebuffer=n.createFramebuffer(),ce.__webglColorRenderbuffer=[],t.bindFramebuffer(n.FRAMEBUFFER,ce.__webglMultisampledFramebuffer);for(let j=0;j<De.length;j++){const q=De[j];ce.__webglColorRenderbuffer[j]=n.createRenderbuffer(),n.bindRenderbuffer(n.RENDERBUFFER,ce.__webglColorRenderbuffer[j]);const ve=s.convert(q.format,q.colorSpace),Re=s.convert(q.type),Pe=P(q.internalFormat,ve,Re,q.colorSpace,O.isXRRenderTarget===!0),Ue=ze(O);n.renderbufferStorageMultisample(n.RENDERBUFFER,Ue,Pe,O.width,O.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+j,n.RENDERBUFFER,ce.__webglColorRenderbuffer[j])}n.bindRenderbuffer(n.RENDERBUFFER,null),O.depthBuffer&&(ce.__webglDepthRenderbuffer=n.createRenderbuffer(),z(ce.__webglDepthRenderbuffer,O,!0)),t.bindFramebuffer(n.FRAMEBUFFER,null)}}if(Se){t.bindTexture(n.TEXTURE_CUBE_MAP,be.__webglTexture),Be(n.TEXTURE_CUBE_MAP,F,Xe);for(let De=0;De<6;De++)fe(ce.__webglFramebuffer[De],O,F,n.COLOR_ATTACHMENT0,n.TEXTURE_CUBE_MAP_POSITIVE_X+De);C(F,Xe)&&B(n.TEXTURE_CUBE_MAP),t.unbindTexture()}else if(Fe){const De=O.texture;for(let j=0,q=De.length;j<q;j++){const ve=De[j],Re=r.get(ve);t.bindTexture(n.TEXTURE_2D,Re.__webglTexture),Be(n.TEXTURE_2D,ve,Xe),fe(ce.__webglFramebuffer,O,ve,n.COLOR_ATTACHMENT0+j,n.TEXTURE_2D),C(ve,Xe)&&B(n.TEXTURE_2D)}t.unbindTexture()}else{let De=n.TEXTURE_2D;(O.isWebGL3DRenderTarget||O.isWebGLArrayRenderTarget)&&(a?De=O.isWebGL3DRenderTarget?n.TEXTURE_3D:n.TEXTURE_2D_ARRAY:console.error("THREE.WebGLTextures: THREE.Data3DTexture and THREE.DataArrayTexture only supported with WebGL2.")),t.bindTexture(De,be.__webglTexture),Be(De,F,Xe),fe(ce.__webglFramebuffer,O,F,n.COLOR_ATTACHMENT0,De),C(F,Xe)&&B(De),t.unbindTexture()}O.depthBuffer&&ge(O)}function Ve(O){const F=b(O)||a,ce=O.isWebGLMultipleRenderTargets===!0?O.texture:[O.texture];for(let be=0,Se=ce.length;be<Se;be++){const Fe=ce[be];if(C(Fe,F)){const Xe=O.isWebGLCubeRenderTarget?n.TEXTURE_CUBE_MAP:n.TEXTURE_2D,De=r.get(Fe).__webglTexture;t.bindTexture(Xe,De),B(Xe),t.unbindTexture()}}}function Ge(O){if(a&&O.samples>0&&Ze(O)===!1){const F=O.isWebGLMultipleRenderTargets?O.texture:[O.texture],ce=O.width,be=O.height;let Se=n.COLOR_BUFFER_BIT;const Fe=[],Xe=O.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,De=r.get(O),j=O.isWebGLMultipleRenderTargets===!0;if(j)for(let q=0;q<F.length;q++)t.bindFramebuffer(n.FRAMEBUFFER,De.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+q,n.RENDERBUFFER,null),t.bindFramebuffer(n.FRAMEBUFFER,De.__webglFramebuffer),n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0+q,n.TEXTURE_2D,null,0);t.bindFramebuffer(n.READ_FRAMEBUFFER,De.__webglMultisampledFramebuffer),t.bindFramebuffer(n.DRAW_FRAMEBUFFER,De.__webglFramebuffer);for(let q=0;q<F.length;q++){Fe.push(n.COLOR_ATTACHMENT0+q),O.depthBuffer&&Fe.push(Xe);const ve=De.__ignoreDepthValues!==void 0?De.__ignoreDepthValues:!1;if(ve===!1&&(O.depthBuffer&&(Se|=n.DEPTH_BUFFER_BIT),O.stencilBuffer&&(Se|=n.STENCIL_BUFFER_BIT)),j&&n.framebufferRenderbuffer(n.READ_FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.RENDERBUFFER,De.__webglColorRenderbuffer[q]),ve===!0&&(n.invalidateFramebuffer(n.READ_FRAMEBUFFER,[Xe]),n.invalidateFramebuffer(n.DRAW_FRAMEBUFFER,[Xe])),j){const Re=r.get(F[q]).__webglTexture;n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,Re,0)}n.blitFramebuffer(0,0,ce,be,0,0,ce,be,Se,n.NEAREST),m&&n.invalidateFramebuffer(n.READ_FRAMEBUFFER,Fe)}if(t.bindFramebuffer(n.READ_FRAMEBUFFER,null),t.bindFramebuffer(n.DRAW_FRAMEBUFFER,null),j)for(let q=0;q<F.length;q++){t.bindFramebuffer(n.FRAMEBUFFER,De.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+q,n.RENDERBUFFER,De.__webglColorRenderbuffer[q]);const ve=r.get(F[q]).__webglTexture;t.bindFramebuffer(n.FRAMEBUFFER,De.__webglFramebuffer),n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0+q,n.TEXTURE_2D,ve,0)}t.bindFramebuffer(n.DRAW_FRAMEBUFFER,De.__webglMultisampledFramebuffer)}}function ze(O){return Math.min(f,O.samples)}function Ze(O){const F=r.get(O);return a&&O.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&F.__useRenderToTexture!==!1}function St(O){const F=o.render.frame;v.get(O)!==F&&(v.set(O,F),O.update())}function Dt(O,F){const ce=O.colorSpace,be=O.format,Se=O.type;return O.isCompressedTexture===!0||O.format===kC||ce!==Hl&&ce!==rf&&(ce===Zt?a===!1?e.has("EXT_sRGB")===!0&&be===lo?(O.format=kC,O.minFilter=_r,O.generateMipmaps=!1):F=AG.sRGBToLinear(F):(be!==lo||Se!==Hu)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",ce)),F}this.allocateTextureUnit=D,this.resetTextureUnits=Z,this.setTexture2D=G,this.setTexture2DArray=K,this.setTexture3D=H,this.setTextureCube=ue,this.rebindTextures=Me,this.setupRenderTarget=Ee,this.updateRenderTargetMipmap=Ve,this.updateMultisampleRenderTarget=Ge,this.setupDepthRenderbuffer=ge,this.setupFrameBufferTexture=fe,this.useMultisampledRTT=Ze}function vte(n,e,t){const r=t.isWebGL2;function i(s,o=rf){let a;if(s===Hu)return n.UNSIGNED_BYTE;if(s===uG)return n.UNSIGNED_SHORT_4_4_4_4;if(s===cG)return n.UNSIGNED_SHORT_5_5_5_1;if(s===Nee)return n.BYTE;if(s===Uee)return n.SHORT;if(s===hP)return n.UNSIGNED_SHORT;if(s===lG)return n.INT;if(s===ih)return n.UNSIGNED_INT;if(s===Lu)return n.FLOAT;if(s===Zy)return r?n.HALF_FLOAT:(a=e.get("OES_texture_half_float"),a!==null?a.HALF_FLOAT_OES:null);if(s===Oee)return n.ALPHA;if(s===lo)return n.RGBA;if(s===kee)return n.LUMINANCE;if(s===Gee)return n.LUMINANCE_ALPHA;if(s===tf)return n.DEPTH_COMPONENT;if(s===og)return n.DEPTH_STENCIL;if(s===kC)return a=e.get("EXT_sRGB"),a!==null?a.SRGB_ALPHA_EXT:null;if(s===zee)return n.RED;if(s===hG)return n.RED_INTEGER;if(s===Hee)return n.RG;if(s===dG)return n.RG_INTEGER;if(s===fG)return n.RGBA_INTEGER;if(s===gT||s===vT||s===yT||s===xT)if(o===Zt)if(a=e.get("WEBGL_compressed_texture_s3tc_srgb"),a!==null){if(s===gT)return a.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(s===vT)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(s===yT)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(s===xT)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(a=e.get("WEBGL_compressed_texture_s3tc"),a!==null){if(s===gT)return a.COMPRESSED_RGB_S3TC_DXT1_EXT;if(s===vT)return a.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(s===yT)return a.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(s===xT)return a.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(s===AF||s===_F||s===MF||s===SF)if(a=e.get("WEBGL_compressed_texture_pvrtc"),a!==null){if(s===AF)return a.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(s===_F)return a.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(s===MF)return a.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(s===SF)return a.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(s===Vee)return a=e.get("WEBGL_compressed_texture_etc1"),a!==null?a.COMPRESSED_RGB_ETC1_WEBGL:null;if(s===EF||s===bF)if(a=e.get("WEBGL_compressed_texture_etc"),a!==null){if(s===EF)return o===Zt?a.COMPRESSED_SRGB8_ETC2:a.COMPRESSED_RGB8_ETC2;if(s===bF)return o===Zt?a.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:a.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(s===wF||s===TF||s===CF||s===RF||s===PF||s===BF||s===LF||s===IF||s===DF||s===FF||s===NF||s===UF||s===OF||s===kF)if(a=e.get("WEBGL_compressed_texture_astc"),a!==null){if(s===wF)return o===Zt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:a.COMPRESSED_RGBA_ASTC_4x4_KHR;if(s===TF)return o===Zt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:a.COMPRESSED_RGBA_ASTC_5x4_KHR;if(s===CF)return o===Zt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:a.COMPRESSED_RGBA_ASTC_5x5_KHR;if(s===RF)return o===Zt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:a.COMPRESSED_RGBA_ASTC_6x5_KHR;if(s===PF)return o===Zt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:a.COMPRESSED_RGBA_ASTC_6x6_KHR;if(s===BF)return o===Zt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:a.COMPRESSED_RGBA_ASTC_8x5_KHR;if(s===LF)return o===Zt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:a.COMPRESSED_RGBA_ASTC_8x6_KHR;if(s===IF)return o===Zt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:a.COMPRESSED_RGBA_ASTC_8x8_KHR;if(s===DF)return o===Zt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:a.COMPRESSED_RGBA_ASTC_10x5_KHR;if(s===FF)return o===Zt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:a.COMPRESSED_RGBA_ASTC_10x6_KHR;if(s===NF)return o===Zt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:a.COMPRESSED_RGBA_ASTC_10x8_KHR;if(s===UF)return o===Zt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:a.COMPRESSED_RGBA_ASTC_10x10_KHR;if(s===OF)return o===Zt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:a.COMPRESSED_RGBA_ASTC_12x10_KHR;if(s===kF)return o===Zt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:a.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(s===AT)if(a=e.get("EXT_texture_compression_bptc"),a!==null){if(s===AT)return o===Zt?a.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:a.COMPRESSED_RGBA_BPTC_UNORM_EXT}else return null;if(s===Wee||s===GF||s===zF||s===HF)if(a=e.get("EXT_texture_compression_rgtc"),a!==null){if(s===AT)return a.COMPRESSED_RED_RGTC1_EXT;if(s===GF)return a.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(s===zF)return a.COMPRESSED_RED_GREEN_RGTC2_EXT;if(s===HF)return a.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return s===ef?r?n.UNSIGNED_INT_24_8:(a=e.get("WEBGL_depth_texture"),a!==null?a.UNSIGNED_INT_24_8_WEBGL:null):n[s]!==void 0?n[s]:null}return{convert:i}}class yte extends hr{constructor(e=[]){super(),this.isArrayCamera=!0,this.cameras=e}}class sh extends Sn{constructor(){super(),this.isGroup=!0,this.type="Group"}}const FRe={type:"move"};class SL{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new sh,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new sh,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new ie,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new ie),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new sh,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new ie,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new ie),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const t=this._hand;if(t)for(const r of e.hand.values())this._getHandJoint(t,r)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,t,r){let i=null,s=null,o=null;const a=this._targetRay,l=this._grip,u=this._hand;if(e&&t.session.visibilityState!=="visible-blurred"){if(u&&e.hand){o=!0;for(const S of e.hand.values()){const A=t.getJointPose(S,r),g=this._getHandJoint(u,S);A!==null&&(g.matrix.fromArray(A.transform.matrix),g.matrix.decompose(g.position,g.rotation,g.scale),g.matrixWorldNeedsUpdate=!0,g.jointRadius=A.radius),g.visible=A!==null}const h=u.joints["index-finger-tip"],f=u.joints["thumb-tip"],p=h.position.distanceTo(f.position),m=.02,v=.005;u.inputState.pinching&&p>m+v?(u.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!u.inputState.pinching&&p<=m-v&&(u.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else l!==null&&e.gripSpace&&(s=t.getPose(e.gripSpace,r),s!==null&&(l.matrix.fromArray(s.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),l.matrixWorldNeedsUpdate=!0,s.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(s.linearVelocity)):l.hasLinearVelocity=!1,s.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(s.angularVelocity)):l.hasAngularVelocity=!1));a!==null&&(i=t.getPose(e.targetRaySpace,r),i===null&&s!==null&&(i=s),i!==null&&(a.matrix.fromArray(i.transform.matrix),a.matrix.decompose(a.position,a.rotation,a.scale),a.matrixWorldNeedsUpdate=!0,i.linearVelocity?(a.hasLinearVelocity=!0,a.linearVelocity.copy(i.linearVelocity)):a.hasLinearVelocity=!1,i.angularVelocity?(a.hasAngularVelocity=!0,a.angularVelocity.copy(i.angularVelocity)):a.hasAngularVelocity=!1,this.dispatchEvent(FRe)))}return a!==null&&(a.visible=i!==null),l!==null&&(l.visible=s!==null),u!==null&&(u.visible=o!==null),this}_getHandJoint(e,t){if(e.joints[t.jointName]===void 0){const r=new sh;r.matrixAutoUpdate=!1,r.visible=!1,e.joints[t.jointName]=r,e.add(r)}return e.joints[t.jointName]}}class xte extends fr{constructor(e,t,r,i,s,o,a,l,u,h){if(h=h!==void 0?h:tf,h!==tf&&h!==og)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");r===void 0&&h===tf&&(r=ih),r===void 0&&h===og&&(r=ef),super(null,i,s,o,a,l,h,r,u),this.isDepthTexture=!0,this.image={width:e,height:t},this.magFilter=a!==void 0?a:Gr,this.minFilter=l!==void 0?l:Gr,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(e){return super.copy(e),this.compareFunction=e.compareFunction,this}toJSON(e){const t=super.toJSON(e);return this.compareFunction!==null&&(t.compareFunction=this.compareFunction),t}}class NRe extends ec{constructor(e,t){super();const r=this;let i=null,s=1,o=null,a="local-floor",l=1,u=null,h=null,f=null,p=null,m=null,v=null;const S=t.getContextAttributes();let A=null,g=null;const M=[],_=[];let b=null;const T=new hr;T.layers.enable(1),T.viewport=new Gn;const C=new hr;C.layers.enable(2),C.viewport=new Gn;const B=[T,C],P=new yte;P.layers.enable(1),P.layers.enable(2);let R=null,L=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getCamera=function(){},this.setUserCamera=function(H){b=H},this.getController=function(H){let ue=M[H];return ue===void 0&&(ue=new SL,M[H]=ue),ue.getTargetRaySpace()},this.getControllerGrip=function(H){let ue=M[H];return ue===void 0&&(ue=new SL,M[H]=ue),ue.getGripSpace()},this.getHand=function(H){let ue=M[H];return ue===void 0&&(ue=new SL,M[H]=ue),ue.getHandSpace()};function U(H){const ue=_.indexOf(H.inputSource);if(ue===-1)return;const le=M[ue];le!==void 0&&(le.update(H.inputSource,H.frame,u||o),le.dispatchEvent({type:H.type,data:H.inputSource}))}function Q(){i.removeEventListener("select",U),i.removeEventListener("selectstart",U),i.removeEventListener("selectend",U),i.removeEventListener("squeeze",U),i.removeEventListener("squeezestart",U),i.removeEventListener("squeezeend",U),i.removeEventListener("end",Q),i.removeEventListener("inputsourceschange",W);for(let H=0;H<M.length;H++){const ue=_[H];ue!==null&&(_[H]=null,M[H].disconnect(ue))}R=null,L=null,e.setRenderTarget(A),m=null,p=null,f=null,i=null,g=null,K.stop(),r.isPresenting=!1,r.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(H){s=H,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(H){a=H,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return u||o},this.setReferenceSpace=function(H){u=H},this.getBaseLayer=function(){return p!==null?p:m},this.getBinding=function(){return f},this.getFrame=function(){return v},this.getSession=function(){return i},this.setSession=async function(H){if(i=H,i!==null){if(A=e.getRenderTarget(),i.addEventListener("select",U),i.addEventListener("selectstart",U),i.addEventListener("selectend",U),i.addEventListener("squeeze",U),i.addEventListener("squeezestart",U),i.addEventListener("squeezeend",U),i.addEventListener("end",Q),i.addEventListener("inputsourceschange",W),S.xrCompatible!==!0&&await t.makeXRCompatible(),i.renderState.layers===void 0||e.capabilities.isWebGL2===!1){const ue={antialias:i.renderState.layers===void 0?S.antialias:!0,alpha:!0,depth:S.depth,stencil:S.stencil,framebufferScaleFactor:s};m=new XRWebGLLayer(i,t,ue),i.updateRenderState({baseLayer:m}),g=new Vl(m.framebufferWidth,m.framebufferHeight,{format:lo,type:Hu,colorSpace:e.outputColorSpace,stencilBuffer:S.stencil})}else{let ue=null,le=null,Ce=null;S.depth&&(Ce=S.stencil?t.DEPTH24_STENCIL8:t.DEPTH_COMPONENT24,ue=S.stencil?og:tf,le=S.stencil?ef:ih);const xe={colorFormat:t.RGBA8,depthFormat:Ce,scaleFactor:s};f=new XRWebGLBinding(i,t),p=f.createProjectionLayer(xe),i.updateRenderState({layers:[p]}),g=new Vl(p.textureWidth,p.textureHeight,{format:lo,type:Hu,depthTexture:new xte(p.textureWidth,p.textureHeight,le,void 0,void 0,void 0,void 0,void 0,void 0,ue),stencilBuffer:S.stencil,colorSpace:e.outputColorSpace,samples:S.antialias?4:0});const Be=e.properties.get(g);Be.__ignoreDepthValues=p.ignoreDepthValues}g.isXRRenderTarget=!0,this.setFoveation(l),u=null,o=await i.requestReferenceSpace(a),K.setContext(i),K.start(),r.isPresenting=!0,r.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(i!==null)return i.environmentBlendMode};function W(H){for(let ue=0;ue<H.removed.length;ue++){const le=H.removed[ue],Ce=_.indexOf(le);Ce>=0&&(_[Ce]=null,M[Ce].disconnect(le))}for(let ue=0;ue<H.added.length;ue++){const le=H.added[ue];let Ce=_.indexOf(le);if(Ce===-1){for(let Be=0;Be<M.length;Be++)if(Be>=_.length){_.push(le),Ce=Be;break}else if(_[Be]===null){_[Be]=le,Ce=Be;break}if(Ce===-1)break}const xe=M[Ce];xe&&xe.connect(le)}}const Y=new ie,X=new ie;function ae(H,ue,le){Y.setFromMatrixPosition(ue.matrixWorld),X.setFromMatrixPosition(le.matrixWorld);const Ce=Y.distanceTo(X),xe=ue.projectionMatrix.elements,Be=le.projectionMatrix.elements,Qe=xe[14]/(xe[10]-1),je=xe[14]/(xe[10]+1),Ke=(xe[9]+1)/xe[5],fe=(xe[9]-1)/xe[5],z=(xe[8]-1)/xe[0],Ae=(Be[8]+1)/Be[0],ge=Qe*z,Me=Qe*Ae,Ee=Ce/(-z+Ae),Ve=Ee*-z;ue.matrixWorld.decompose(H.position,H.quaternion,H.scale),H.translateX(Ve),H.translateZ(Ee),H.matrixWorld.compose(H.position,H.quaternion,H.scale),H.matrixWorldInverse.copy(H.matrixWorld).invert();const Ge=Qe+Ee,ze=je+Ee,Ze=ge-Ve,St=Me+(Ce-Ve),Dt=Ke*je/ze*Ge,O=fe*je/ze*Ge;H.projectionMatrix.makePerspective(Ze,St,Dt,O,Ge,ze),H.projectionMatrixInverse.copy(H.projectionMatrix).invert()}function Z(H,ue){ue===null?H.matrixWorld.copy(H.matrix):H.matrixWorld.multiplyMatrices(ue.matrixWorld,H.matrix),H.matrixWorldInverse.copy(H.matrixWorld).invert()}this.updateCameraXR=function(H){if(i===null)return H;b&&(H=b),P.near=C.near=T.near=H.near,P.far=C.far=T.far=H.far,(R!==P.near||L!==P.far)&&(i.updateRenderState({depthNear:P.near,depthFar:P.far}),R=P.near,L=P.far);const ue=H.parent,le=P.cameras;Z(P,ue);for(let Ce=0;Ce<le.length;Ce++)Z(le[Ce],ue);return le.length===2?ae(P,T,C):P.projectionMatrix.copy(T.projectionMatrix),b&&D(P,ue),P};function D(H,ue){const le=b;ue===null?le.matrix.copy(H.matrixWorld):(le.matrix.copy(ue.matrixWorld),le.matrix.invert(),le.matrix.multiply(H.matrixWorld)),le.matrix.decompose(le.position,le.quaternion,le.scale),le.updateMatrixWorld(!0);const Ce=le.children;for(let xe=0,Be=Ce.length;xe<Be;xe++)Ce[xe].updateMatrixWorld(!0);le.projectionMatrix.copy(H.projectionMatrix),le.projectionMatrixInverse.copy(H.projectionMatrixInverse),le.isPerspectiveCamera&&(le.fov=ex*2*Math.atan(1/le.projectionMatrix.elements[5]),le.zoom=1)}this.getFoveation=function(){if(!(p===null&&m===null))return l},this.setFoveation=function(H){l=H,p!==null&&(p.fixedFoveation=H),m!==null&&m.fixedFoveation!==void 0&&(m.fixedFoveation=H)};let k=null;function G(H,ue){if(h=ue.getViewerPose(u||o),v=ue,h!==null){const le=h.views;m!==null&&(e.setRenderTargetFramebuffer(g,m.framebuffer),e.setRenderTarget(g));let Ce=!1;le.length!==P.cameras.length&&(P.cameras.length=0,Ce=!0);for(let xe=0;xe<le.length;xe++){const Be=le[xe];let Qe=null;if(m!==null)Qe=m.getViewport(Be);else{const Ke=f.getViewSubImage(p,Be);Qe=Ke.viewport,xe===0&&(e.setRenderTargetTextures(g,Ke.colorTexture,p.ignoreDepthValues?void 0:Ke.depthStencilTexture),e.setRenderTarget(g))}let je=B[xe];je===void 0&&(je=new hr,je.layers.enable(xe),je.viewport=new Gn,B[xe]=je),je.matrix.fromArray(Be.transform.matrix),je.matrix.decompose(je.position,je.quaternion,je.scale),je.projectionMatrix.fromArray(Be.projectionMatrix),je.projectionMatrixInverse.copy(je.projectionMatrix).invert(),je.viewport.set(Qe.x,Qe.y,Qe.width,Qe.height),xe===0&&(P.matrix.copy(je.matrix),P.matrix.decompose(P.position,P.quaternion,P.scale)),Ce===!0&&P.cameras.push(je)}}for(let le=0;le<M.length;le++){const Ce=_[le],xe=M[le];Ce!==null&&xe!==void 0&&xe.update(Ce,ue,u||o)}k&&k(H,ue),ue.detectedPlanes&&r.dispatchEvent({type:"planesdetected",data:ue}),v=null}const K=new dte;K.setAnimationLoop(G),this.setAnimationLoop=function(H){k=H},this.dispose=function(){}}}function URe(n,e){function t(A,g){A.matrixAutoUpdate===!0&&A.updateMatrix(),g.value.copy(A.matrix)}function r(A,g){g.color.getRGB(A.fogColor.value,cte(n)),g.isFog?(A.fogNear.value=g.near,A.fogFar.value=g.far):g.isFogExp2&&(A.fogDensity.value=g.density)}function i(A,g,M,_,b){g.isMeshBasicMaterial||g.isMeshLambertMaterial?s(A,g):g.isMeshToonMaterial?(s(A,g),f(A,g)):g.isMeshPhongMaterial?(s(A,g),h(A,g)):g.isMeshStandardMaterial?(s(A,g),p(A,g),g.isMeshPhysicalMaterial&&m(A,g,b)):g.isMeshMatcapMaterial?(s(A,g),v(A,g)):g.isMeshDepthMaterial?s(A,g):g.isMeshDistanceMaterial?(s(A,g),S(A,g)):g.isMeshNormalMaterial?s(A,g):g.isLineBasicMaterial?(o(A,g),g.isLineDashedMaterial&&a(A,g)):g.isPointsMaterial?l(A,g,M,_):g.isSpriteMaterial?u(A,g):g.isShadowMaterial?(A.color.value.copy(g.color),A.opacity.value=g.opacity):g.isShaderMaterial&&(g.uniformsNeedUpdate=!1)}function s(A,g){A.opacity.value=g.opacity,g.color&&A.diffuse.value.copy(g.color),g.emissive&&A.emissive.value.copy(g.emissive).multiplyScalar(g.emissiveIntensity),g.map&&(A.map.value=g.map,t(g.map,A.mapTransform)),g.alphaMap&&(A.alphaMap.value=g.alphaMap,t(g.alphaMap,A.alphaMapTransform)),g.bumpMap&&(A.bumpMap.value=g.bumpMap,t(g.bumpMap,A.bumpMapTransform),A.bumpScale.value=g.bumpScale,g.side===js&&(A.bumpScale.value*=-1)),g.normalMap&&(A.normalMap.value=g.normalMap,t(g.normalMap,A.normalMapTransform),A.normalScale.value.copy(g.normalScale),g.side===js&&A.normalScale.value.negate()),g.displacementMap&&(A.displacementMap.value=g.displacementMap,t(g.displacementMap,A.displacementMapTransform),A.displacementScale.value=g.displacementScale,A.displacementBias.value=g.displacementBias),g.emissiveMap&&(A.emissiveMap.value=g.emissiveMap,t(g.emissiveMap,A.emissiveMapTransform)),g.specularMap&&(A.specularMap.value=g.specularMap,t(g.specularMap,A.specularMapTransform)),g.alphaTest>0&&(A.alphaTest.value=g.alphaTest);const M=e.get(g).envMap;if(M&&(A.envMap.value=M,A.flipEnvMap.value=M.isCubeTexture&&M.isRenderTargetTexture===!1?-1:1,A.reflectivity.value=g.reflectivity,A.ior.value=g.ior,A.refractionRatio.value=g.refractionRatio),g.lightMap){A.lightMap.value=g.lightMap;const _=n.useLegacyLights===!0?Math.PI:1;A.lightMapIntensity.value=g.lightMapIntensity*_,t(g.lightMap,A.lightMapTransform)}g.aoMap&&(A.aoMap.value=g.aoMap,A.aoMapIntensity.value=g.aoMapIntensity,t(g.aoMap,A.aoMapTransform))}function o(A,g){A.diffuse.value.copy(g.color),A.opacity.value=g.opacity,g.map&&(A.map.value=g.map,t(g.map,A.mapTransform))}function a(A,g){A.dashSize.value=g.dashSize,A.totalSize.value=g.dashSize+g.gapSize,A.scale.value=g.scale}function l(A,g,M,_){A.diffuse.value.copy(g.color),A.opacity.value=g.opacity,A.size.value=g.size*M,A.scale.value=_*.5,g.map&&(A.map.value=g.map,t(g.map,A.uvTransform)),g.alphaMap&&(A.alphaMap.value=g.alphaMap,t(g.alphaMap,A.alphaMapTransform)),g.alphaTest>0&&(A.alphaTest.value=g.alphaTest)}function u(A,g){A.diffuse.value.copy(g.color),A.opacity.value=g.opacity,A.rotation.value=g.rotation,g.map&&(A.map.value=g.map,t(g.map,A.mapTransform)),g.alphaMap&&(A.alphaMap.value=g.alphaMap,t(g.alphaMap,A.alphaMapTransform)),g.alphaTest>0&&(A.alphaTest.value=g.alphaTest)}function h(A,g){A.specular.value.copy(g.specular),A.shininess.value=Math.max(g.shininess,1e-4)}function f(A,g){g.gradientMap&&(A.gradientMap.value=g.gradientMap)}function p(A,g){A.metalness.value=g.metalness,g.metalnessMap&&(A.metalnessMap.value=g.metalnessMap,t(g.metalnessMap,A.metalnessMapTransform)),A.roughness.value=g.roughness,g.roughnessMap&&(A.roughnessMap.value=g.roughnessMap,t(g.roughnessMap,A.roughnessMapTransform)),e.get(g).envMap&&(A.envMapIntensity.value=g.envMapIntensity)}function m(A,g,M){A.ior.value=g.ior,g.sheen>0&&(A.sheenColor.value.copy(g.sheenColor).multiplyScalar(g.sheen),A.sheenRoughness.value=g.sheenRoughness,g.sheenColorMap&&(A.sheenColorMap.value=g.sheenColorMap,t(g.sheenColorMap,A.sheenColorMapTransform)),g.sheenRoughnessMap&&(A.sheenRoughnessMap.value=g.sheenRoughnessMap,t(g.sheenRoughnessMap,A.sheenRoughnessMapTransform))),g.clearcoat>0&&(A.clearcoat.value=g.clearcoat,A.clearcoatRoughness.value=g.clearcoatRoughness,g.clearcoatMap&&(A.clearcoatMap.value=g.clearcoatMap,t(g.clearcoatMap,A.clearcoatMapTransform)),g.clearcoatRoughnessMap&&(A.clearcoatRoughnessMap.value=g.clearcoatRoughnessMap,t(g.clearcoatRoughnessMap,A.clearcoatRoughnessMapTransform)),g.clearcoatNormalMap&&(A.clearcoatNormalMap.value=g.clearcoatNormalMap,t(g.clearcoatNormalMap,A.clearcoatNormalMapTransform),A.clearcoatNormalScale.value.copy(g.clearcoatNormalScale),g.side===js&&A.clearcoatNormalScale.value.negate())),g.iridescence>0&&(A.iridescence.value=g.iridescence,A.iridescenceIOR.value=g.iridescenceIOR,A.iridescenceThicknessMinimum.value=g.iridescenceThicknessRange[0],A.iridescenceThicknessMaximum.value=g.iridescenceThicknessRange[1],g.iridescenceMap&&(A.iridescenceMap.value=g.iridescenceMap,t(g.iridescenceMap,A.iridescenceMapTransform)),g.iridescenceThicknessMap&&(A.iridescenceThicknessMap.value=g.iridescenceThicknessMap,t(g.iridescenceThicknessMap,A.iridescenceThicknessMapTransform))),g.transmission>0&&(A.transmission.value=g.transmission,A.transmissionSamplerMap.value=M.texture,A.transmissionSamplerSize.value.set(M.width,M.height),g.transmissionMap&&(A.transmissionMap.value=g.transmissionMap,t(g.transmissionMap,A.transmissionMapTransform)),A.thickness.value=g.thickness,g.thicknessMap&&(A.thicknessMap.value=g.thicknessMap,t(g.thicknessMap,A.thicknessMapTransform)),A.attenuationDistance.value=g.attenuationDistance,A.attenuationColor.value.copy(g.attenuationColor)),g.anisotropy>0&&(A.anisotropyVector.value.set(g.anisotropy*Math.cos(g.anisotropyRotation),g.anisotropy*Math.sin(g.anisotropyRotation)),g.anisotropyMap&&(A.anisotropyMap.value=g.anisotropyMap,t(g.anisotropyMap,A.anisotropyMapTransform))),A.specularIntensity.value=g.specularIntensity,A.specularColor.value.copy(g.specularColor),g.specularColorMap&&(A.specularColorMap.value=g.specularColorMap,t(g.specularColorMap,A.specularColorMapTransform)),g.specularIntensityMap&&(A.specularIntensityMap.value=g.specularIntensityMap,t(g.specularIntensityMap,A.specularIntensityMapTransform))}function v(A,g){g.matcap&&(A.matcap.value=g.matcap)}function S(A,g){const M=e.get(g).light;A.referencePosition.value.setFromMatrixPosition(M.matrixWorld),A.nearDistance.value=M.shadow.camera.near,A.farDistance.value=M.shadow.camera.far}return{refreshFogUniforms:r,refreshMaterialUniforms:i}}function ORe(n,e,t,r){let i={},s={},o=[];const a=t.isWebGL2?n.getParameter(n.MAX_UNIFORM_BUFFER_BINDINGS):0;function l(M,_){const b=_.program;r.uniformBlockBinding(M,b)}function u(M,_){let b=i[M.id];b===void 0&&(v(M),b=h(M),i[M.id]=b,M.addEventListener("dispose",A));const T=_.program;r.updateUBOMapping(M,T);const C=e.render.frame;s[M.id]!==C&&(p(M),s[M.id]=C)}function h(M){const _=f();M.__bindingPointIndex=_;const b=n.createBuffer(),T=M.__size,C=M.usage;return n.bindBuffer(n.UNIFORM_BUFFER,b),n.bufferData(n.UNIFORM_BUFFER,T,C),n.bindBuffer(n.UNIFORM_BUFFER,null),n.bindBufferBase(n.UNIFORM_BUFFER,_,b),b}function f(){for(let M=0;M<a;M++)if(o.indexOf(M)===-1)return o.push(M),M;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function p(M){const _=i[M.id],b=M.uniforms,T=M.__cache;n.bindBuffer(n.UNIFORM_BUFFER,_);for(let C=0,B=b.length;C<B;C++){const P=b[C];if(m(P,C,T)===!0){const R=P.__offset,L=Array.isArray(P.value)?P.value:[P.value];let U=0;for(let Q=0;Q<L.length;Q++){const W=L[Q],Y=S(W);typeof W=="number"?(P.__data[0]=W,n.bufferSubData(n.UNIFORM_BUFFER,R+U,P.__data)):W.isMatrix3?(P.__data[0]=W.elements[0],P.__data[1]=W.elements[1],P.__data[2]=W.elements[2],P.__data[3]=W.elements[0],P.__data[4]=W.elements[3],P.__data[5]=W.elements[4],P.__data[6]=W.elements[5],P.__data[7]=W.elements[0],P.__data[8]=W.elements[6],P.__data[9]=W.elements[7],P.__data[10]=W.elements[8],P.__data[11]=W.elements[0]):(W.toArray(P.__data,U),U+=Y.storage/Float32Array.BYTES_PER_ELEMENT)}n.bufferSubData(n.UNIFORM_BUFFER,R,P.__data)}}n.bindBuffer(n.UNIFORM_BUFFER,null)}function m(M,_,b){const T=M.value;if(b[_]===void 0){if(typeof T=="number")b[_]=T;else{const C=Array.isArray(T)?T:[T],B=[];for(let P=0;P<C.length;P++)B.push(C[P].clone());b[_]=B}return!0}else if(typeof T=="number"){if(b[_]!==T)return b[_]=T,!0}else{const C=Array.isArray(b[_])?b[_]:[b[_]],B=Array.isArray(T)?T:[T];for(let P=0;P<C.length;P++){const R=C[P];if(R.equals(B[P])===!1)return R.copy(B[P]),!0}}return!1}function v(M){const _=M.uniforms;let b=0;const T=16;let C=0;for(let B=0,P=_.length;B<P;B++){const R=_[B],L={boundary:0,storage:0},U=Array.isArray(R.value)?R.value:[R.value];for(let Q=0,W=U.length;Q<W;Q++){const Y=U[Q],X=S(Y);L.boundary+=X.boundary,L.storage+=X.storage}if(R.__data=new Float32Array(L.storage/Float32Array.BYTES_PER_ELEMENT),R.__offset=b,B>0){C=b%T;const Q=T-C;C!==0&&Q-L.boundary<0&&(b+=T-C,R.__offset=b)}b+=L.storage}return C=b%T,C>0&&(b+=T-C),M.__size=b,M.__cache={},this}function S(M){const _={boundary:0,storage:0};return typeof M=="number"?(_.boundary=4,_.storage=4):M.isVector2?(_.boundary=8,_.storage=8):M.isVector3||M.isColor?(_.boundary=16,_.storage=12):M.isVector4?(_.boundary=16,_.storage=16):M.isMatrix3?(_.boundary=48,_.storage=48):M.isMatrix4?(_.boundary=64,_.storage=64):M.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",M),_}function A(M){const _=M.target;_.removeEventListener("dispose",A);const b=o.indexOf(_.__bindingPointIndex);o.splice(b,1),n.deleteBuffer(i[_.id]),delete i[_.id],delete s[_.id]}function g(){for(const M in i)n.deleteBuffer(i[M]);o=[],i={},s={}}return{bind:l,update:u,dispose:g}}function kRe(){const n=FM("canvas");return n.style.display="block",n}class RG{constructor(e={}){const{canvas:t=kRe(),context:r=null,depth:i=!0,stencil:s=!0,alpha:o=!1,antialias:a=!1,premultipliedAlpha:l=!0,preserveDrawingBuffer:u=!1,powerPreference:h="default",failIfMajorPerformanceCaveat:f=!1}=e;this.isWebGLRenderer=!0;let p;r!==null?p=r.getContextAttributes().alpha:p=o;const m=new Uint32Array(4),v=new Int32Array(4);let S=null,A=null;const g=[],M=[];this.domElement=t,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.outputColorSpace=Zt,this.useLegacyLights=!0,this.toneMapping=Nl,this.toneMappingExposure=1;const _=this;let b=!1,T=0,C=0,B=null,P=-1,R=null;const L=new Gn,U=new Gn;let Q=null;const W=new At(0);let Y=0,X=t.width,ae=t.height,Z=1,D=null,k=null;const G=new Gn(0,0,X,ae),K=new Gn(0,0,X,ae);let H=!1;const ue=new pP;let le=!1,Ce=!1,xe=null;const Be=new Ht,Qe=new Je,je=new ie,Ke={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function fe(){return B===null?Z:1}let z=r;function Ae(N,re){for(let he=0;he<N.length;he++){const ee=N[he],de=t.getContext(ee,re);if(de!==null)return de}return null}try{const N={alpha:!0,depth:i,stencil:s,antialias:a,premultipliedAlpha:l,preserveDrawingBuffer:u,powerPreference:h,failIfMajorPerformanceCaveat:f};if("setAttribute"in t&&t.setAttribute("data-engine",`three.js r${MS}`),t.addEventListener("webglcontextlost",Ie,!1),t.addEventListener("webglcontextrestored",oe,!1),t.addEventListener("webglcontextcreationerror",Ne,!1),z===null){const re=["webgl2","webgl","experimental-webgl"];if(_.isWebGL1Renderer===!0&&re.shift(),z=Ae(re,N),z===null)throw Ae(re)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}z instanceof WebGLRenderingContext&&console.warn("THREE.WebGLRenderer: WebGL 1 support was deprecated in r153 and will be removed in r163."),z.getShaderPrecisionFormat===void 0&&(z.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(N){throw console.error("THREE.WebGLRenderer: "+N.message),N}let ge,Me,Ee,Ve,Ge,ze,Ze,St,Dt,O,F,ce,be,Se,Fe,Xe,De,j,q,ve,Re,Pe,Ue,it;function Mt(){ge=new tCe(z),Me=new KTe(z,ge,e),ge.init(Me),Pe=new vte(z,ge,Me),Ee=new IRe(z,ge,Me),Ve=new iCe(z),Ge=new _Re,ze=new DRe(z,ge,Ee,Ge,Me,Pe,Ve),Ze=new qTe(_),St=new eCe(_),Dt=new gbe(z,Me),Ue=new JTe(z,ge,Dt,Me),O=new nCe(z,Dt,Ve,Ue),F=new lCe(z,O,Dt,Ve),q=new aCe(z,Me,ze),Xe=new QTe(Ge),ce=new ARe(_,Ze,St,ge,Me,Ue,Xe),be=new URe(_,Ge),Se=new SRe,Fe=new RRe(ge,Me),j=new XTe(_,Ze,St,Ee,F,p,l),De=new LRe(_,F,Me),it=new ORe(z,Ve,Me,Ee),ve=new YTe(z,ge,Ve,Me),Re=new rCe(z,ge,Ve,Me),Ve.programs=ce.programs,_.capabilities=Me,_.extensions=ge,_.properties=Ge,_.renderLists=Se,_.shadowMap=De,_.state=Ee,_.info=Ve}Mt();const J=new NRe(_,z);this.xr=J,this.getContext=function(){return z},this.getContextAttributes=function(){return z.getContextAttributes()},this.forceContextLoss=function(){const N=ge.get("WEBGL_lose_context");N&&N.loseContext()},this.forceContextRestore=function(){const N=ge.get("WEBGL_lose_context");N&&N.restoreContext()},this.getPixelRatio=function(){return Z},this.setPixelRatio=function(N){N!==void 0&&(Z=N,this.setSize(X,ae,!1))},this.getSize=function(N){return N.set(X,ae)},this.setSize=function(N,re,he=!0){if(J.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}X=N,ae=re,t.width=Math.floor(N*Z),t.height=Math.floor(re*Z),he===!0&&(t.style.width=N+"px",t.style.height=re+"px"),this.setViewport(0,0,N,re)},this.getDrawingBufferSize=function(N){return N.set(X*Z,ae*Z).floor()},this.setDrawingBufferSize=function(N,re,he){X=N,ae=re,Z=he,t.width=Math.floor(N*he),t.height=Math.floor(re*he),this.setViewport(0,0,N,re)},this.getCurrentViewport=function(N){return N.copy(L)},this.getViewport=function(N){return N.copy(G)},this.setViewport=function(N,re,he,ee){N.isVector4?G.set(N.x,N.y,N.z,N.w):G.set(N,re,he,ee),Ee.viewport(L.copy(G).multiplyScalar(Z).floor())},this.getScissor=function(N){return N.copy(K)},this.setScissor=function(N,re,he,ee){N.isVector4?K.set(N.x,N.y,N.z,N.w):K.set(N,re,he,ee),Ee.scissor(U.copy(K).multiplyScalar(Z).floor())},this.getScissorTest=function(){return H},this.setScissorTest=function(N){Ee.setScissorTest(H=N)},this.setOpaqueSort=function(N){D=N},this.setTransparentSort=function(N){k=N},this.getClearColor=function(N){return N.copy(j.getClearColor())},this.setClearColor=function(){j.setClearColor.apply(j,arguments)},this.getClearAlpha=function(){return j.getClearAlpha()},this.setClearAlpha=function(){j.setClearAlpha.apply(j,arguments)},this.clear=function(N=!0,re=!0,he=!0){let ee=0;if(N){let de=!1;if(B!==null){const He=B.texture.format;de=He===fG||He===dG||He===hG}if(de){const He=B.texture.type,et=He===Hu||He===ih||He===hP||He===ef||He===uG||He===cG,nt=j.getClearColor(),lt=j.getClearAlpha(),mt=nt.r,st=nt.g,ut=nt.b,Ft=Ge.get(B).__webglFramebuffer;et?(m[0]=mt,m[1]=st,m[2]=ut,m[3]=lt,z.clearBufferuiv(z.COLOR,Ft,m)):(v[0]=mt,v[1]=st,v[2]=ut,v[3]=lt,z.clearBufferiv(z.COLOR,Ft,v))}else ee|=z.COLOR_BUFFER_BIT}re&&(ee|=z.DEPTH_BUFFER_BIT),he&&(ee|=z.STENCIL_BUFFER_BIT),z.clear(ee)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){t.removeEventListener("webglcontextlost",Ie,!1),t.removeEventListener("webglcontextrestored",oe,!1),t.removeEventListener("webglcontextcreationerror",Ne,!1),Se.dispose(),Fe.dispose(),Ge.dispose(),Ze.dispose(),St.dispose(),F.dispose(),Ue.dispose(),it.dispose(),ce.dispose(),J.dispose(),J.removeEventListener("sessionstart",Ot),J.removeEventListener("sessionend",Xn),xe&&(xe.dispose(),xe=null),gn.stop()};function Ie(N){N.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),b=!0}function oe(){console.log("THREE.WebGLRenderer: Context Restored."),b=!1;const N=Ve.autoReset,re=De.enabled,he=De.autoUpdate,ee=De.needsUpdate,de=De.type;Mt(),Ve.autoReset=N,De.enabled=re,De.autoUpdate=he,De.needsUpdate=ee,De.type=de}function Ne(N){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",N.statusMessage)}function Oe(N){const re=N.target;re.removeEventListener("dispose",Oe),wt(re)}function wt(N){Ut(N),Ge.remove(N)}function Ut(N){const re=Ge.get(N).programs;re!==void 0&&(re.forEach(function(he){ce.releaseProgram(he)}),N.isShaderMaterial&&ce.releaseShaderCache(N))}this.renderBufferDirect=function(N,re,he,ee,de,He){re===null&&(re=Ke);const et=de.isMesh&&de.matrixWorld.determinant()<0,nt=Gf(N,re,he,ee,de);Ee.setMaterial(ee,et);let lt=he.index,mt=1;ee.wireframe===!0&&(lt=O.getWireframeAttribute(he),mt=2);const st=he.drawRange,ut=he.attributes.position;let Ft=st.start*mt,Vt=(st.start+st.count)*mt;He!==null&&(Ft=Math.max(Ft,He.start*mt),Vt=Math.min(Vt,(He.start+He.count)*mt)),lt!==null?(Ft=Math.max(Ft,0),Vt=Math.min(Vt,lt.count)):ut!=null&&(Ft=Math.max(Ft,0),Vt=Math.min(Vt,ut.count));const Fn=Vt-Ft;if(Fn<0||Fn===1/0)return;Ue.setup(de,ee,nt,he,lt);let In,It=ve;if(lt!==null&&(In=Dt.get(lt),It=Re,It.setIndex(In)),de.isMesh)ee.wireframe===!0?(Ee.setLineWidth(ee.wireframeLinewidth*fe()),It.setMode(z.LINES)):It.setMode(z.TRIANGLES);else if(de.isLine){let $e=ee.linewidth;$e===void 0&&($e=1),Ee.setLineWidth($e*fe()),de.isLineSegments?It.setMode(z.LINES):de.isLineLoop?It.setMode(z.LINE_LOOP):It.setMode(z.LINE_STRIP)}else de.isPoints?It.setMode(z.POINTS):de.isSprite&&It.setMode(z.TRIANGLES);if(de.isInstancedMesh)It.renderInstances(Ft,Fn,de.count);else if(he.isInstancedBufferGeometry){const $e=he._maxInstanceCount!==void 0?he._maxInstanceCount:1/0,Pt=Math.min(he.instanceCount,$e);It.renderInstances(Ft,Fn,Pt)}else It.render(Ft,Fn)},this.compile=function(N,re){function he(ee,de,He){ee.transparent===!0&&ee.side===za&&ee.forceSinglePass===!1?(ee.side=js,ee.needsUpdate=!0,ji(ee,de,He),ee.side=Ku,ee.needsUpdate=!0,ji(ee,de,He),ee.side=za):ji(ee,de,He)}A=Fe.get(N),A.init(),M.push(A),N.traverseVisible(function(ee){ee.isLight&&ee.layers.test(re.layers)&&(A.pushLight(ee),ee.castShadow&&A.pushShadow(ee))}),A.setupLights(_.useLegacyLights),N.traverse(function(ee){const de=ee.material;if(de)if(Array.isArray(de))for(let He=0;He<de.length;He++){const et=de[He];he(et,N,ee)}else he(de,N,ee)}),M.pop(),A=null};let Xt=null;function Vr(N){Xt&&Xt(N)}function Ot(){gn.stop()}function Xn(){gn.start()}const gn=new dte;gn.setAnimationLoop(Vr),typeof self<"u"&&gn.setContext(self),this.setAnimationLoop=function(N){Xt=N,J.setAnimationLoop(N),N===null?gn.stop():gn.start()},J.addEventListener("sessionstart",Ot),J.addEventListener("sessionend",Xn),this.render=function(N,re){if(re!==void 0&&re.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(b===!0)return;N.matrixWorldAutoUpdate===!0&&N.updateMatrixWorld(),re.parent===null&&re.matrixWorldAutoUpdate===!0&&re.updateMatrixWorld(),J.enabled===!0&&J.isPresenting===!0&&(re=J.updateCameraXR(re)),N.isScene===!0&&N.onBeforeRender(_,N,re,B),A=Fe.get(N,M.length),A.init(),M.push(A),Be.multiplyMatrices(re.projectionMatrix,re.matrixWorldInverse),ue.setFromProjectionMatrix(Be),Ce=this.localClippingEnabled,le=Xe.init(this.clippingPlanes,Ce),S=Se.get(N,g.length),S.init(),g.push(S),nc(N,re,0,_.sortObjects),S.finish(),_.sortObjects===!0&&S.sort(D,k),le===!0&&Xe.beginShadows();const he=A.state.shadowsArray;if(De.render(he,N,re),le===!0&&Xe.endShadows(),this.info.autoReset===!0&&this.info.reset(),this.info.render.frame++,j.render(S,N),A.setupLights(_.useLegacyLights),re.isArrayCamera){const ee=re.cameras;for(let de=0,He=ee.length;de<He;de++){const et=ee[de];Zl(S,N,et,et.viewport)}}else Zl(S,N,re);B!==null&&(ze.updateMultisampleRenderTarget(B),ze.updateRenderTargetMipmap(B)),N.isScene===!0&&N.onAfterRender(_,N,re),Ue.resetDefaultState(),P=-1,R=null,M.pop(),M.length>0?A=M[M.length-1]:A=null,g.pop(),g.length>0?S=g[g.length-1]:S=null};function nc(N,re,he,ee){if(N.visible===!1)return;if(N.layers.test(re.layers)){if(N.isGroup)he=N.renderOrder;else if(N.isLOD)N.autoUpdate===!0&&N.update(re);else if(N.isLight)A.pushLight(N),N.castShadow&&A.pushShadow(N);else if(N.isSprite){if(!N.frustumCulled||ue.intersectsSprite(N)){ee&&je.setFromMatrixPosition(N.matrixWorld).applyMatrix4(Be);const et=F.update(N),nt=N.material;nt.visible&&S.push(N,et,nt,he,je.z,null)}}else if((N.isMesh||N.isLine||N.isPoints)&&(!N.frustumCulled||ue.intersectsObject(N))){N.isSkinnedMesh&&N.skeleton.frame!==Ve.render.frame&&(N.skeleton.update(),N.skeleton.frame=Ve.render.frame);const et=F.update(N),nt=N.material;if(ee&&(N.boundingSphere!==void 0?(N.boundingSphere===null&&N.computeBoundingSphere(),je.copy(N.boundingSphere.center)):(et.boundingSphere===null&&et.computeBoundingSphere(),je.copy(et.boundingSphere.center)),je.applyMatrix4(N.matrixWorld).applyMatrix4(Be)),Array.isArray(nt)){const lt=et.groups;for(let mt=0,st=lt.length;mt<st;mt++){const ut=lt[mt],Ft=nt[ut.materialIndex];Ft&&Ft.visible&&S.push(N,et,Ft,he,je.z,ut)}}else nt.visible&&S.push(N,et,nt,he,je.z,null)}}const He=N.children;for(let et=0,nt=He.length;et<nt;et++)nc(He[et],re,he,ee)}function Zl(N,re,he,ee){const de=N.opaque,He=N.transmissive,et=N.transparent;A.setupLightsView(he),le===!0&&Xe.setGlobalState(_.clippingPlanes,he),He.length>0&&$l(de,He,re,he),ee&&Ee.viewport(L.copy(ee)),de.length>0&&Rs(de,re,he),He.length>0&&Rs(He,re,he),et.length>0&&Rs(et,re,he),Ee.buffers.depth.setTest(!0),Ee.buffers.depth.setMask(!0),Ee.buffers.color.setMask(!0),Ee.setPolygonOffset(!1)}function $l(N,re,he,ee){const de=Me.isWebGL2;xe===null&&(xe=new Vl(1,1,{generateMipmaps:!0,type:ge.has("EXT_color_buffer_half_float")?Zy:Hu,minFilter:Qu,samples:de&&a===!0?4:0})),_.getDrawingBufferSize(Qe),de?xe.setSize(Qe.x,Qe.y):xe.setSize(GC(Qe.x),GC(Qe.y));const He=_.getRenderTarget();_.setRenderTarget(xe),_.getClearColor(W),Y=_.getClearAlpha(),Y<1&&_.setClearColor(16777215,.5),_.clear();const et=_.toneMapping;_.toneMapping=Nl,Rs(N,he,ee),ze.updateMultisampleRenderTarget(xe),ze.updateRenderTargetMipmap(xe);let nt=!1;for(let lt=0,mt=re.length;lt<mt;lt++){const st=re[lt],ut=st.object,Ft=st.geometry,Vt=st.material,Fn=st.group;if(Vt.side===za&&ut.layers.test(ee.layers)){const In=Vt.side;Vt.side=js,Vt.needsUpdate=!0,Ao(ut,he,ee,Ft,Vt,Fn),Vt.side=In,Vt.needsUpdate=!0,nt=!0}}nt===!0&&(ze.updateMultisampleRenderTarget(xe),ze.updateRenderTargetMipmap(xe)),_.setRenderTarget(He),_.setClearColor(W,Y),_.toneMapping=et}function Rs(N,re,he){const ee=re.isScene===!0?re.overrideMaterial:null;for(let de=0,He=N.length;de<He;de++){const et=N[de],nt=et.object,lt=et.geometry,mt=ee===null?et.material:ee,st=et.group;nt.layers.test(he.layers)&&Ao(nt,re,he,lt,mt,st)}}function Ao(N,re,he,ee,de,He){N.onBeforeRender(_,re,he,ee,de,He),N.modelViewMatrix.multiplyMatrices(he.matrixWorldInverse,N.matrixWorld),N.normalMatrix.getNormalMatrix(N.modelViewMatrix),de.onBeforeRender(_,re,he,ee,N,He),de.transparent===!0&&de.side===za&&de.forceSinglePass===!1?(de.side=js,de.needsUpdate=!0,_.renderBufferDirect(he,re,ee,de,N,He),de.side=Ku,de.needsUpdate=!0,_.renderBufferDirect(he,re,ee,de,N,He),de.side=za):_.renderBufferDirect(he,re,ee,de,N,He),N.onAfterRender(_,re,he,ee,de,He)}function ji(N,re,he){re.isScene!==!0&&(re=Ke);const ee=Ge.get(N),de=A.state.lights,He=A.state.shadowsArray,et=de.state.version,nt=ce.getParameters(N,de.state,He,re,he),lt=ce.getProgramCacheKey(nt);let mt=ee.programs;ee.environment=N.isMeshStandardMaterial?re.environment:null,ee.fog=re.fog,ee.envMap=(N.isMeshStandardMaterial?St:Ze).get(N.envMap||ee.environment),mt===void 0&&(N.addEventListener("dispose",Oe),mt=new Map,ee.programs=mt);let st=mt.get(lt);if(st!==void 0){if(ee.currentProgram===st&&ee.lightsStateVersion===et)return rc(N,nt),st}else nt.uniforms=ce.getUniforms(N),N.onBuild(he,nt,_),N.onBeforeCompile(nt,_),st=ce.acquireProgram(nt,lt),mt.set(lt,st),ee.uniforms=nt.uniforms;const ut=ee.uniforms;(!N.isShaderMaterial&&!N.isRawShaderMaterial||N.clipping===!0)&&(ut.clippingPlanes=Xe.uniform),rc(N,nt),ee.needsLights=Hf(N),ee.lightsStateVersion=et,ee.needsLights&&(ut.ambientLightColor.value=de.state.ambient,ut.lightProbe.value=de.state.probe,ut.directionalLights.value=de.state.directional,ut.directionalLightShadows.value=de.state.directionalShadow,ut.spotLights.value=de.state.spot,ut.spotLightShadows.value=de.state.spotShadow,ut.rectAreaLights.value=de.state.rectArea,ut.ltc_1.value=de.state.rectAreaLTC1,ut.ltc_2.value=de.state.rectAreaLTC2,ut.pointLights.value=de.state.point,ut.pointLightShadows.value=de.state.pointShadow,ut.hemisphereLights.value=de.state.hemi,ut.directionalShadowMap.value=de.state.directionalShadowMap,ut.directionalShadowMatrix.value=de.state.directionalShadowMatrix,ut.spotShadowMap.value=de.state.spotShadowMap,ut.spotLightMatrix.value=de.state.spotLightMatrix,ut.spotLightMap.value=de.state.spotLightMap,ut.pointShadowMap.value=de.state.pointShadowMap,ut.pointShadowMatrix.value=de.state.pointShadowMatrix);const Ft=st.getUniforms(),Vt=ST.seqWithValue(Ft.seq,ut);return ee.currentProgram=st,ee.uniformsList=Vt,st}function rc(N,re){const he=Ge.get(N);he.outputColorSpace=re.outputColorSpace,he.instancing=re.instancing,he.skinning=re.skinning,he.morphTargets=re.morphTargets,he.morphNormals=re.morphNormals,he.morphColors=re.morphColors,he.morphTargetsCount=re.morphTargetsCount,he.numClippingPlanes=re.numClippingPlanes,he.numIntersection=re.numClipIntersection,he.vertexAlphas=re.vertexAlphas,he.vertexTangents=re.vertexTangents,he.toneMapping=re.toneMapping}function Gf(N,re,he,ee,de){re.isScene!==!0&&(re=Ke),ze.resetTextureUnits();const He=re.fog,et=ee.isMeshStandardMaterial?re.environment:null,nt=B===null?_.outputColorSpace:B.isXRRenderTarget===!0?B.texture.colorSpace:Hl,lt=(ee.isMeshStandardMaterial?St:Ze).get(ee.envMap||et),mt=ee.vertexColors===!0&&!!he.attributes.color&&he.attributes.color.itemSize===4,st=!!he.attributes.tangent&&(!!ee.normalMap||ee.anisotropy>0),ut=!!he.morphAttributes.position,Ft=!!he.morphAttributes.normal,Vt=!!he.morphAttributes.color,Fn=ee.toneMapped?_.toneMapping:Nl,In=he.morphAttributes.position||he.morphAttributes.normal||he.morphAttributes.color,It=In!==void 0?In.length:0,$e=Ge.get(ee),Pt=A.state.lights;if(le===!0&&(Ce===!0||N!==R)){const Tn=N===R&&ee.id===P;Xe.setState(ee,N,Tn)}let Lt=!1;ee.version===$e.__version?($e.needsLights&&$e.lightsStateVersion!==Pt.state.version||$e.outputColorSpace!==nt||de.isInstancedMesh&&$e.instancing===!1||!de.isInstancedMesh&&$e.instancing===!0||de.isSkinnedMesh&&$e.skinning===!1||!de.isSkinnedMesh&&$e.skinning===!0||$e.envMap!==lt||ee.fog===!0&&$e.fog!==He||$e.numClippingPlanes!==void 0&&($e.numClippingPlanes!==Xe.numPlanes||$e.numIntersection!==Xe.numIntersection)||$e.vertexAlphas!==mt||$e.vertexTangents!==st||$e.morphTargets!==ut||$e.morphNormals!==Ft||$e.morphColors!==Vt||$e.toneMapping!==Fn||Me.isWebGL2===!0&&$e.morphTargetsCount!==It)&&(Lt=!0):(Lt=!0,$e.__version=ee.version);let $t=$e.currentProgram;Lt===!0&&($t=ji(ee,re,de));let dn=!1,En=!1,Lr=!1;const Nt=$t.getUniforms(),vn=$e.uniforms;if(Ee.useProgram($t.program)&&(dn=!0,En=!0,Lr=!0),ee.id!==P&&(P=ee.id,En=!0),dn||R!==N){if(Nt.setValue(z,"projectionMatrix",N.projectionMatrix),Me.logarithmicDepthBuffer&&Nt.setValue(z,"logDepthBufFC",2/(Math.log(N.far+1)/Math.LN2)),R!==N&&(R=N,En=!0,Lr=!0),ee.isShaderMaterial||ee.isMeshPhongMaterial||ee.isMeshToonMaterial||ee.isMeshStandardMaterial||ee.envMap){const Tn=Nt.map.cameraPosition;Tn!==void 0&&Tn.setValue(z,je.setFromMatrixPosition(N.matrixWorld))}(ee.isMeshPhongMaterial||ee.isMeshToonMaterial||ee.isMeshLambertMaterial||ee.isMeshBasicMaterial||ee.isMeshStandardMaterial||ee.isShaderMaterial)&&Nt.setValue(z,"isOrthographic",N.isOrthographicCamera===!0),(ee.isMeshPhongMaterial||ee.isMeshToonMaterial||ee.isMeshLambertMaterial||ee.isMeshBasicMaterial||ee.isMeshStandardMaterial||ee.isShaderMaterial||ee.isShadowMaterial||de.isSkinnedMesh)&&Nt.setValue(z,"viewMatrix",N.matrixWorldInverse)}if(de.isSkinnedMesh){Nt.setOptional(z,de,"bindMatrix"),Nt.setOptional(z,de,"bindMatrixInverse");const Tn=de.skeleton;Tn&&(Me.floatVertexTextures?(Tn.boneTexture===null&&Tn.computeBoneTexture(),Nt.setValue(z,"boneTexture",Tn.boneTexture,ze),Nt.setValue(z,"boneTextureSize",Tn.boneTextureSize)):console.warn("THREE.WebGLRenderer: SkinnedMesh can only be used with WebGL 2. With WebGL 1 OES_texture_float and vertex textures support is required."))}const Ps=he.morphAttributes;if((Ps.position!==void 0||Ps.normal!==void 0||Ps.color!==void 0&&Me.isWebGL2===!0)&&q.update(de,he,$t),(En||$e.receiveShadow!==de.receiveShadow)&&($e.receiveShadow=de.receiveShadow,Nt.setValue(z,"receiveShadow",de.receiveShadow)),ee.isMeshGouraudMaterial&&ee.envMap!==null&&(vn.envMap.value=lt,vn.flipEnvMap.value=lt.isCubeTexture&&lt.isRenderTargetTexture===!1?-1:1),En&&(Nt.setValue(z,"toneMappingExposure",_.toneMappingExposure),$e.needsLights&&zf(vn,Lr),He&&ee.fog===!0&&be.refreshFogUniforms(vn,He),be.refreshMaterialUniforms(vn,ee,Z,ae,xe),ST.upload(z,$e.uniformsList,vn,ze)),ee.isShaderMaterial&&ee.uniformsNeedUpdate===!0&&(ST.upload(z,$e.uniformsList,vn,ze),ee.uniformsNeedUpdate=!1),ee.isSpriteMaterial&&Nt.setValue(z,"center",de.center),Nt.setValue(z,"modelViewMatrix",de.modelViewMatrix),Nt.setValue(z,"normalMatrix",de.normalMatrix),Nt.setValue(z,"modelMatrix",de.matrixWorld),ee.isShaderMaterial||ee.isRawShaderMaterial){const Tn=ee.uniformsGroups;for(let Bs=0,el=Tn.length;Bs<el;Bs++)if(Me.isWebGL2){const Kr=Tn[Bs];it.update(Kr,$t),it.bind(Kr,$t)}else console.warn("THREE.WebGLRenderer: Uniform Buffer Objects can only be used with WebGL 2.")}return $t}function zf(N,re){N.ambientLightColor.needsUpdate=re,N.lightProbe.needsUpdate=re,N.directionalLights.needsUpdate=re,N.directionalLightShadows.needsUpdate=re,N.pointLights.needsUpdate=re,N.pointLightShadows.needsUpdate=re,N.spotLights.needsUpdate=re,N.spotLightShadows.needsUpdate=re,N.rectAreaLights.needsUpdate=re,N.hemisphereLights.needsUpdate=re}function Hf(N){return N.isMeshLambertMaterial||N.isMeshToonMaterial||N.isMeshPhongMaterial||N.isMeshStandardMaterial||N.isShadowMaterial||N.isShaderMaterial&&N.lights===!0}this.getActiveCubeFace=function(){return T},this.getActiveMipmapLevel=function(){return C},this.getRenderTarget=function(){return B},this.setRenderTargetTextures=function(N,re,he){Ge.get(N.texture).__webglTexture=re,Ge.get(N.depthTexture).__webglTexture=he;const ee=Ge.get(N);ee.__hasExternalTextures=!0,ee.__hasExternalTextures&&(ee.__autoAllocateDepthBuffer=he===void 0,ee.__autoAllocateDepthBuffer||ge.has("WEBGL_multisampled_render_to_texture")===!0&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),ee.__useRenderToTexture=!1))},this.setRenderTargetFramebuffer=function(N,re){const he=Ge.get(N);he.__webglFramebuffer=re,he.__useDefaultFramebuffer=re===void 0},this.setRenderTarget=function(N,re=0,he=0){B=N,T=re,C=he;let ee=!0,de=null,He=!1,et=!1;if(N){const lt=Ge.get(N);lt.__useDefaultFramebuffer!==void 0?(Ee.bindFramebuffer(z.FRAMEBUFFER,null),ee=!1):lt.__webglFramebuffer===void 0?ze.setupRenderTarget(N):lt.__hasExternalTextures&&ze.rebindTextures(N,Ge.get(N.texture).__webglTexture,Ge.get(N.depthTexture).__webglTexture);const mt=N.texture;(mt.isData3DTexture||mt.isDataArrayTexture||mt.isCompressedArrayTexture)&&(et=!0);const st=Ge.get(N).__webglFramebuffer;N.isWebGLCubeRenderTarget?(de=st[re],He=!0):Me.isWebGL2&&N.samples>0&&ze.useMultisampledRTT(N)===!1?de=Ge.get(N).__webglMultisampledFramebuffer:de=st,L.copy(N.viewport),U.copy(N.scissor),Q=N.scissorTest}else L.copy(G).multiplyScalar(Z).floor(),U.copy(K).multiplyScalar(Z).floor(),Q=H;if(Ee.bindFramebuffer(z.FRAMEBUFFER,de)&&Me.drawBuffers&&ee&&Ee.drawBuffers(N,de),Ee.viewport(L),Ee.scissor(U),Ee.setScissorTest(Q),He){const lt=Ge.get(N.texture);z.framebufferTexture2D(z.FRAMEBUFFER,z.COLOR_ATTACHMENT0,z.TEXTURE_CUBE_MAP_POSITIVE_X+re,lt.__webglTexture,he)}else if(et){const lt=Ge.get(N.texture),mt=re||0;z.framebufferTextureLayer(z.FRAMEBUFFER,z.COLOR_ATTACHMENT0,lt.__webglTexture,he||0,mt)}P=-1},this.readRenderTargetPixels=function(N,re,he,ee,de,He,et){if(!(N&&N.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let nt=Ge.get(N).__webglFramebuffer;if(N.isWebGLCubeRenderTarget&&et!==void 0&&(nt=nt[et]),nt){Ee.bindFramebuffer(z.FRAMEBUFFER,nt);try{const lt=N.texture,mt=lt.format,st=lt.type;if(mt!==lo&&Pe.convert(mt)!==z.getParameter(z.IMPLEMENTATION_COLOR_READ_FORMAT)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}const ut=st===Zy&&(ge.has("EXT_color_buffer_half_float")||Me.isWebGL2&&ge.has("EXT_color_buffer_float"));if(st!==Hu&&Pe.convert(st)!==z.getParameter(z.IMPLEMENTATION_COLOR_READ_TYPE)&&!(st===Lu&&(Me.isWebGL2||ge.has("OES_texture_float")||ge.has("WEBGL_color_buffer_float")))&&!ut){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}re>=0&&re<=N.width-ee&&he>=0&&he<=N.height-de&&z.readPixels(re,he,ee,de,Pe.convert(mt),Pe.convert(st),He)}finally{const lt=B!==null?Ge.get(B).__webglFramebuffer:null;Ee.bindFramebuffer(z.FRAMEBUFFER,lt)}}},this.copyFramebufferToTexture=function(N,re,he=0){const ee=Math.pow(2,-he),de=Math.floor(re.image.width*ee),He=Math.floor(re.image.height*ee);ze.setTexture2D(re,0),z.copyTexSubImage2D(z.TEXTURE_2D,he,0,0,N.x,N.y,de,He),Ee.unbindTexture()},this.copyTextureToTexture=function(N,re,he,ee=0){const de=re.image.width,He=re.image.height,et=Pe.convert(he.format),nt=Pe.convert(he.type);ze.setTexture2D(he,0),z.pixelStorei(z.UNPACK_FLIP_Y_WEBGL,he.flipY),z.pixelStorei(z.UNPACK_PREMULTIPLY_ALPHA_WEBGL,he.premultiplyAlpha),z.pixelStorei(z.UNPACK_ALIGNMENT,he.unpackAlignment),re.isDataTexture?z.texSubImage2D(z.TEXTURE_2D,ee,N.x,N.y,de,He,et,nt,re.image.data):re.isCompressedTexture?z.compressedTexSubImage2D(z.TEXTURE_2D,ee,N.x,N.y,re.mipmaps[0].width,re.mipmaps[0].height,et,re.mipmaps[0].data):z.texSubImage2D(z.TEXTURE_2D,ee,N.x,N.y,et,nt,re.image),ee===0&&he.generateMipmaps&&z.generateMipmap(z.TEXTURE_2D),Ee.unbindTexture()},this.copyTextureToTexture3D=function(N,re,he,ee,de=0){if(_.isWebGL1Renderer){console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");return}const He=N.max.x-N.min.x+1,et=N.max.y-N.min.y+1,nt=N.max.z-N.min.z+1,lt=Pe.convert(ee.format),mt=Pe.convert(ee.type);let st;if(ee.isData3DTexture)ze.setTexture3D(ee,0),st=z.TEXTURE_3D;else if(ee.isDataArrayTexture)ze.setTexture2DArray(ee,0),st=z.TEXTURE_2D_ARRAY;else{console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");return}z.pixelStorei(z.UNPACK_FLIP_Y_WEBGL,ee.flipY),z.pixelStorei(z.UNPACK_PREMULTIPLY_ALPHA_WEBGL,ee.premultiplyAlpha),z.pixelStorei(z.UNPACK_ALIGNMENT,ee.unpackAlignment);const ut=z.getParameter(z.UNPACK_ROW_LENGTH),Ft=z.getParameter(z.UNPACK_IMAGE_HEIGHT),Vt=z.getParameter(z.UNPACK_SKIP_PIXELS),Fn=z.getParameter(z.UNPACK_SKIP_ROWS),In=z.getParameter(z.UNPACK_SKIP_IMAGES),It=he.isCompressedTexture?he.mipmaps[0]:he.image;z.pixelStorei(z.UNPACK_ROW_LENGTH,It.width),z.pixelStorei(z.UNPACK_IMAGE_HEIGHT,It.height),z.pixelStorei(z.UNPACK_SKIP_PIXELS,N.min.x),z.pixelStorei(z.UNPACK_SKIP_ROWS,N.min.y),z.pixelStorei(z.UNPACK_SKIP_IMAGES,N.min.z),he.isDataTexture||he.isData3DTexture?z.texSubImage3D(st,de,re.x,re.y,re.z,He,et,nt,lt,mt,It.data):he.isCompressedArrayTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),z.compressedTexSubImage3D(st,de,re.x,re.y,re.z,He,et,nt,lt,It.data)):z.texSubImage3D(st,de,re.x,re.y,re.z,He,et,nt,lt,mt,It),z.pixelStorei(z.UNPACK_ROW_LENGTH,ut),z.pixelStorei(z.UNPACK_IMAGE_HEIGHT,Ft),z.pixelStorei(z.UNPACK_SKIP_PIXELS,Vt),z.pixelStorei(z.UNPACK_SKIP_ROWS,Fn),z.pixelStorei(z.UNPACK_SKIP_IMAGES,In),de===0&&ee.generateMipmaps&&z.generateMipmap(st),Ee.unbindTexture()},this.initTexture=function(N){N.isCubeTexture?ze.setTextureCube(N,0):N.isData3DTexture?ze.setTexture3D(N,0):N.isDataArrayTexture||N.isCompressedArrayTexture?ze.setTexture2DArray(N,0):ze.setTexture2D(N,0),Ee.unbindTexture()},this.resetState=function(){T=0,C=0,B=null,Ee.reset(),Ue.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return Iu}get physicallyCorrectLights(){return console.warn("THREE.WebGLRenderer: the property .physicallyCorrectLights has been removed. Set renderer.useLegacyLights instead."),!this.useLegacyLights}set physicallyCorrectLights(e){console.warn("THREE.WebGLRenderer: the property .physicallyCorrectLights has been removed. Set renderer.useLegacyLights instead."),this.useLegacyLights=!e}get outputEncoding(){return console.warn("THREE.WebGLRenderer: Property .outputEncoding has been removed. Use .outputColorSpace instead."),this.outputColorSpace===Zt?nf:gG}set outputEncoding(e){console.warn("THREE.WebGLRenderer: Property .outputEncoding has been removed. Use .outputColorSpace instead."),this.outputColorSpace=e===nf?Zt:Hl}}class Ate extends RG{}Ate.prototype.isWebGL1Renderer=!0;class gP{constructor(e,t=25e-5){this.isFogExp2=!0,this.name="",this.color=new At(e),this.density=t}clone(){return new gP(this.color,this.density)}toJSON(){return{type:"FogExp2",color:this.color.getHex(),density:this.density}}}class vP{constructor(e,t=1,r=1e3){this.isFog=!0,this.name="",this.color=new At(e),this.near=t,this.far=r}clone(){return new vP(this.color,this.near,this.far)}toJSON(){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}}}class zC extends Sn{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,t){return super.copy(e,t),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const t=super.toJSON(e);return this.fog!==null&&(t.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(t.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(t.object.backgroundIntensity=this.backgroundIntensity),t}get autoUpdate(){return console.warn("THREE.Scene: autoUpdate was renamed to matrixWorldAutoUpdate in r144."),this.matrixWorldAutoUpdate}set autoUpdate(e){console.warn("THREE.Scene: autoUpdate was renamed to matrixWorldAutoUpdate in r144."),this.matrixWorldAutoUpdate=e}}class wS{constructor(e,t){this.isInterleavedBuffer=!0,this.array=e,this.stride=t,this.count=e!==void 0?e.length/t:0,this.usage=IM,this.updateRange={offset:0,count:-1},this.version=0,this.uuid=Qo()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,t,r){e*=this.stride,r*=t.stride;for(let i=0,s=this.stride;i<s;i++)this.array[e+i]=t.array[r+i];return this}set(e,t=0){return this.array.set(e,t),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Qo()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const t=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),r=new this.constructor(t,this.stride);return r.setUsage(this.usage),r}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Qo()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const Fs=new ie;class _f{constructor(e,t,r,i=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=t,this.offset=r,this.normalized=i}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let t=0,r=this.data.count;t<r;t++)Fs.fromBufferAttribute(this,t),Fs.applyMatrix4(e),this.setXYZ(t,Fs.x,Fs.y,Fs.z);return this}applyNormalMatrix(e){for(let t=0,r=this.count;t<r;t++)Fs.fromBufferAttribute(this,t),Fs.applyNormalMatrix(e),this.setXYZ(t,Fs.x,Fs.y,Fs.z);return this}transformDirection(e){for(let t=0,r=this.count;t<r;t++)Fs.fromBufferAttribute(this,t),Fs.transformDirection(e),this.setXYZ(t,Fs.x,Fs.y,Fs.z);return this}setX(e,t){return this.normalized&&(t=ln(t,this.array)),this.data.array[e*this.data.stride+this.offset]=t,this}setY(e,t){return this.normalized&&(t=ln(t,this.array)),this.data.array[e*this.data.stride+this.offset+1]=t,this}setZ(e,t){return this.normalized&&(t=ln(t,this.array)),this.data.array[e*this.data.stride+this.offset+2]=t,this}setW(e,t){return this.normalized&&(t=ln(t,this.array)),this.data.array[e*this.data.stride+this.offset+3]=t,this}getX(e){let t=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(t=jo(t,this.array)),t}getY(e){let t=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(t=jo(t,this.array)),t}getZ(e){let t=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(t=jo(t,this.array)),t}getW(e){let t=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(t=jo(t,this.array)),t}setXY(e,t,r){return e=e*this.data.stride+this.offset,this.normalized&&(t=ln(t,this.array),r=ln(r,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=r,this}setXYZ(e,t,r,i){return e=e*this.data.stride+this.offset,this.normalized&&(t=ln(t,this.array),r=ln(r,this.array),i=ln(i,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=r,this.data.array[e+2]=i,this}setXYZW(e,t,r,i,s){return e=e*this.data.stride+this.offset,this.normalized&&(t=ln(t,this.array),r=ln(r,this.array),i=ln(i,this.array),s=ln(s,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=r,this.data.array[e+2]=i,this.data.array[e+3]=s,this}clone(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let r=0;r<this.count;r++){const i=r*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)t.push(this.data.array[i+s])}return new Bn(new this.array.constructor(t),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new _f(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let r=0;r<this.count;r++){const i=r*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)t.push(this.data.array[i+s])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:t,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class PG extends hi{constructor(e){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new At(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}let r0;const A1=new ie,i0=new ie,s0=new ie,o0=new Je,_1=new Je,_te=new Ht,ow=new ie,M1=new ie,aw=new ie,f6=new Je,EL=new Je,p6=new Je;class Mte extends Sn{constructor(e){if(super(),this.isSprite=!0,this.type="Sprite",r0===void 0){r0=new Qt;const t=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),r=new wS(t,5);r0.setIndex([0,1,2,0,2,3]),r0.setAttribute("position",new _f(r,3,0,!1)),r0.setAttribute("uv",new _f(r,2,3,!1))}this.geometry=r0,this.material=e!==void 0?e:new PG,this.center=new Je(.5,.5)}raycast(e,t){e.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),i0.setFromMatrixScale(this.matrixWorld),_te.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),s0.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&i0.multiplyScalar(-s0.z);const r=this.material.rotation;let i,s;r!==0&&(s=Math.cos(r),i=Math.sin(r));const o=this.center;lw(ow.set(-.5,-.5,0),s0,o,i0,i,s),lw(M1.set(.5,-.5,0),s0,o,i0,i,s),lw(aw.set(.5,.5,0),s0,o,i0,i,s),f6.set(0,0),EL.set(1,0),p6.set(1,1);let a=e.ray.intersectTriangle(ow,M1,aw,!1,A1);if(a===null&&(lw(M1.set(-.5,.5,0),s0,o,i0,i,s),EL.set(0,1),a=e.ray.intersectTriangle(ow,aw,M1,!1,A1),a===null))return;const l=e.ray.origin.distanceTo(A1);l<e.near||l>e.far||t.push({distance:l,point:A1.clone(),uv:oo.getInterpolation(A1,ow,M1,aw,f6,EL,p6,new Je),face:null,object:this})}copy(e,t){return super.copy(e,t),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}}function lw(n,e,t,r,i,s){o0.subVectors(n,t).addScalar(.5).multiply(r),i!==void 0?(_1.x=s*o0.x-i*o0.y,_1.y=i*o0.x+s*o0.y):_1.copy(o0),n.copy(e),n.x+=_1.x,n.y+=_1.y,n.applyMatrix4(_te)}const uw=new ie,m6=new ie;class Ste extends Sn{constructor(){super(),this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]},isLOD:{value:!0}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);const t=e.levels;for(let r=0,i=t.length;r<i;r++){const s=t[r];this.addLevel(s.object.clone(),s.distance,s.hysteresis)}return this.autoUpdate=e.autoUpdate,this}addLevel(e,t=0,r=0){t=Math.abs(t);const i=this.levels;let s;for(s=0;s<i.length&&!(t<i[s].distance);s++);return i.splice(s,0,{distance:t,hysteresis:r,object:e}),this.add(e),this}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){const t=this.levels;if(t.length>0){let r,i;for(r=1,i=t.length;r<i;r++){let s=t[r].distance;if(t[r].object.visible&&(s-=s*t[r].hysteresis),e<s)break}return t[r-1].object}return null}raycast(e,t){if(this.levels.length>0){uw.setFromMatrixPosition(this.matrixWorld);const i=e.ray.origin.distanceTo(uw);this.getObjectForDistance(i).raycast(e,t)}}update(e){const t=this.levels;if(t.length>1){uw.setFromMatrixPosition(e.matrixWorld),m6.setFromMatrixPosition(this.matrixWorld);const r=uw.distanceTo(m6)/e.zoom;t[0].object.visible=!0;let i,s;for(i=1,s=t.length;i<s;i++){let o=t[i].distance;if(t[i].object.visible&&(o-=o*t[i].hysteresis),r>=o)t[i-1].object.visible=!1,t[i].object.visible=!0;else break}for(this._currentLevel=i-1;i<s;i++)t[i].object.visible=!1}}toJSON(e){const t=super.toJSON(e);this.autoUpdate===!1&&(t.object.autoUpdate=!1),t.object.levels=[];const r=this.levels;for(let i=0,s=r.length;i<s;i++){const o=r[i];t.object.levels.push({object:o.object.uuid,distance:o.distance,hysteresis:o.hysteresis})}return t}}const g6=new ie,v6=new Gn,y6=new Gn,GRe=new ie,x6=new Ht,a0=new ie,bL=new $a,A6=new Ht,wL=new wx;class BG extends Si{constructor(e,t){super(e,t),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new Ht,this.bindMatrixInverse=new Ht,this.boundingBox=null,this.boundingSphere=null}computeBoundingBox(){const e=this.geometry;this.boundingBox===null&&(this.boundingBox=new Yl),this.boundingBox.makeEmpty();const t=e.getAttribute("position");for(let r=0;r<t.count;r++)a0.fromBufferAttribute(t,r),this.applyBoneTransform(r,a0),this.boundingBox.expandByPoint(a0)}computeBoundingSphere(){const e=this.geometry;this.boundingSphere===null&&(this.boundingSphere=new $a),this.boundingSphere.makeEmpty();const t=e.getAttribute("position");for(let r=0;r<t.count;r++)a0.fromBufferAttribute(t,r),this.applyBoneTransform(r,a0),this.boundingSphere.expandByPoint(a0)}copy(e,t){return super.copy(e,t),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}raycast(e,t){const r=this.material,i=this.matrixWorld;r!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),bL.copy(this.boundingSphere),bL.applyMatrix4(i),e.ray.intersectsSphere(bL)!==!1&&(A6.copy(i).invert(),wL.copy(e.ray).applyMatrix4(A6),!(this.boundingBox!==null&&wL.intersectsBox(this.boundingBox)===!1)&&this._computeIntersections(e,t,wL)))}getVertexPosition(e,t){return super.getVertexPosition(e,t),this.applyBoneTransform(e,t),t}bind(e,t){this.skeleton=e,t===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.copy(t).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new Gn,t=this.geometry.attributes.skinWeight;for(let r=0,i=t.count;r<i;r++){e.fromBufferAttribute(t,r);const s=1/e.manhattanLength();s!==1/0?e.multiplyScalar(s):e.set(1,0,0,0),t.setXYZW(r,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode==="attached"?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode==="detached"?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}applyBoneTransform(e,t){const r=this.skeleton,i=this.geometry;v6.fromBufferAttribute(i.attributes.skinIndex,e),y6.fromBufferAttribute(i.attributes.skinWeight,e),g6.copy(t).applyMatrix4(this.bindMatrix),t.set(0,0,0);for(let s=0;s<4;s++){const o=y6.getComponent(s);if(o!==0){const a=v6.getComponent(s);x6.multiplyMatrices(r.bones[a].matrixWorld,r.boneInverses[a]),t.addScaledVector(GRe.copy(g6).applyMatrix4(x6),o)}}return t.applyMatrix4(this.bindMatrixInverse)}boneTransform(e,t){return console.warn("THREE.SkinnedMesh: .boneTransform() was renamed to .applyBoneTransform() in r151."),this.applyBoneTransform(e,t)}}class yP extends Sn{constructor(){super(),this.isBone=!0,this.type="Bone"}}class My extends fr{constructor(e=null,t=1,r=1,i,s,o,a,l,u=Gr,h=Gr,f,p){super(null,o,a,l,u,h,i,s,f,p),this.isDataTexture=!0,this.image={data:e,width:t,height:r},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const _6=new Ht,zRe=new Ht;class TS{constructor(e=[],t=[]){this.uuid=Qo(),this.bones=e.slice(0),this.boneInverses=t,this.boneMatrices=null,this.boneTexture=null,this.boneTextureSize=0,this.frame=-1,this.init()}init(){const e=this.bones,t=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),t.length===0)this.calculateInverses();else if(e.length!==t.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let r=0,i=this.bones.length;r<i;r++)this.boneInverses.push(new Ht)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,t=this.bones.length;e<t;e++){const r=new Ht;this.bones[e]&&r.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(r)}}pose(){for(let e=0,t=this.bones.length;e<t;e++){const r=this.bones[e];r&&r.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,t=this.bones.length;e<t;e++){const r=this.bones[e];r&&(r.parent&&r.parent.isBone?(r.matrix.copy(r.parent.matrixWorld).invert(),r.matrix.multiply(r.matrixWorld)):r.matrix.copy(r.matrixWorld),r.matrix.decompose(r.position,r.quaternion,r.scale))}}update(){const e=this.bones,t=this.boneInverses,r=this.boneMatrices,i=this.boneTexture;for(let s=0,o=e.length;s<o;s++){const a=e[s]?e[s].matrixWorld:zRe;_6.multiplyMatrices(a,t[s]),_6.toArray(r,s*16)}i!==null&&(i.needsUpdate=!0)}clone(){return new TS(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=ate(e),e=Math.max(e,4);const t=new Float32Array(e*e*4);t.set(this.boneMatrices);const r=new My(t,e,e,lo,Lu);return r.needsUpdate=!0,this.boneMatrices=t,this.boneTexture=r,this.boneTextureSize=e,this}getBoneByName(e){for(let t=0,r=this.bones.length;t<r;t++){const i=this.bones[t];if(i.name===e)return i}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,t){this.uuid=e.uuid;for(let r=0,i=e.bones.length;r<i;r++){const s=e.bones[r];let o=t[s];o===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",s),o=new yP),this.bones.push(o),this.boneInverses.push(new Ht().fromArray(e.boneInverses[r]))}return this.init(),this}toJSON(){const e={metadata:{version:4.6,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const t=this.bones,r=this.boneInverses;for(let i=0,s=t.length;i<s;i++){const o=t[i];e.bones.push(o.uuid);const a=r[i];e.boneInverses.push(a.toArray())}return e}}class nx extends Bn{constructor(e,t,r,i=1){super(e,t,r),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=i}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const l0=new Ht,M6=new Ht,cw=[],S6=new Yl,HRe=new Ht,S1=new Si,E1=new $a;class LG extends Si{constructor(e,t,r){super(e,t),this.isInstancedMesh=!0,this.instanceMatrix=new nx(new Float32Array(r*16),16),this.instanceColor=null,this.count=r,this.boundingBox=null,this.boundingSphere=null;for(let i=0;i<r;i++)this.setMatrixAt(i,HRe)}computeBoundingBox(){const e=this.geometry,t=this.count;this.boundingBox===null&&(this.boundingBox=new Yl),e.boundingBox===null&&e.computeBoundingBox(),this.boundingBox.makeEmpty();for(let r=0;r<t;r++)this.getMatrixAt(r,l0),S6.copy(e.boundingBox).applyMatrix4(l0),this.boundingBox.union(S6)}computeBoundingSphere(){const e=this.geometry,t=this.count;this.boundingSphere===null&&(this.boundingSphere=new $a),e.boundingSphere===null&&e.computeBoundingSphere(),this.boundingSphere.makeEmpty();for(let r=0;r<t;r++)this.getMatrixAt(r,l0),E1.copy(e.boundingSphere).applyMatrix4(l0),this.boundingSphere.union(E1)}copy(e,t){return super.copy(e,t),this.instanceMatrix.copy(e.instanceMatrix),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}getColorAt(e,t){t.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,t){t.fromArray(this.instanceMatrix.array,e*16)}raycast(e,t){const r=this.matrixWorld,i=this.count;if(S1.geometry=this.geometry,S1.material=this.material,S1.material!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),E1.copy(this.boundingSphere),E1.applyMatrix4(r),e.ray.intersectsSphere(E1)!==!1))for(let s=0;s<i;s++){this.getMatrixAt(s,l0),M6.multiplyMatrices(r,l0),S1.matrixWorld=M6,S1.raycast(e,cw);for(let o=0,a=cw.length;o<a;o++){const l=cw[o];l.instanceId=s,l.object=this,t.push(l)}cw.length=0}}setColorAt(e,t){this.instanceColor===null&&(this.instanceColor=new nx(new Float32Array(this.instanceMatrix.count*3),3)),t.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,t){t.toArray(this.instanceMatrix.array,e*16)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"})}}class Cs extends hi{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new At(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const E6=new ie,b6=new ie,w6=new Ht,TL=new wx,hw=new $a;class bh extends Sn{constructor(e=new Qt,t=new Cs){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,r=[0];for(let i=1,s=t.count;i<s;i++)E6.fromBufferAttribute(t,i-1),b6.fromBufferAttribute(t,i),r[i]=r[i-1],r[i]+=E6.distanceTo(b6);e.setAttribute("lineDistance",new Ct(r,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,t){const r=this.geometry,i=this.matrixWorld,s=e.params.Line.threshold,o=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),hw.copy(r.boundingSphere),hw.applyMatrix4(i),hw.radius+=s,e.ray.intersectsSphere(hw)===!1)return;w6.copy(i).invert(),TL.copy(e.ray).applyMatrix4(w6);const a=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=a*a,u=new ie,h=new ie,f=new ie,p=new ie,m=this.isLineSegments?2:1,v=r.index,A=r.attributes.position;if(v!==null){const g=Math.max(0,o.start),M=Math.min(v.count,o.start+o.count);for(let _=g,b=M-1;_<b;_+=m){const T=v.getX(_),C=v.getX(_+1);if(u.fromBufferAttribute(A,T),h.fromBufferAttribute(A,C),TL.distanceSqToSegment(u,h,p,f)>l)continue;p.applyMatrix4(this.matrixWorld);const P=e.ray.origin.distanceTo(p);P<e.near||P>e.far||t.push({distance:P,point:f.clone().applyMatrix4(this.matrixWorld),index:_,face:null,faceIndex:null,object:this})}}else{const g=Math.max(0,o.start),M=Math.min(A.count,o.start+o.count);for(let _=g,b=M-1;_<b;_+=m){if(u.fromBufferAttribute(A,_),h.fromBufferAttribute(A,_+1),TL.distanceSqToSegment(u,h,p,f)>l)continue;p.applyMatrix4(this.matrixWorld);const C=e.ray.origin.distanceTo(p);C<e.near||C>e.far||t.push({distance:C,point:f.clone().applyMatrix4(this.matrixWorld),index:_,face:null,faceIndex:null,object:this})}}}updateMorphTargets(){const t=this.geometry.morphAttributes,r=Object.keys(t);if(r.length>0){const i=t[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=i.length;s<o;s++){const a=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}}const T6=new ie,C6=new ie;class Kl extends bh{constructor(e,t){super(e,t),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,r=[];for(let i=0,s=t.count;i<s;i+=2)T6.fromBufferAttribute(t,i),C6.fromBufferAttribute(t,i+1),r[i]=i===0?0:r[i-1],r[i+1]=r[i]+T6.distanceTo(C6);e.setAttribute("lineDistance",new Ct(r,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class IG extends bh{constructor(e,t){super(e,t),this.isLineLoop=!0,this.type="LineLoop"}}class CS extends hi{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new At(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const R6=new Ht,JF=new wx,dw=new $a,fw=new ie;let DG=class extends Sn{constructor(e=new Qt,t=new CS){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=e.material,this.geometry=e.geometry,this}raycast(e,t){const r=this.geometry,i=this.matrixWorld,s=e.params.Points.threshold,o=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),dw.copy(r.boundingSphere),dw.applyMatrix4(i),dw.radius+=s,e.ray.intersectsSphere(dw)===!1)return;R6.copy(i).invert(),JF.copy(e.ray).applyMatrix4(R6);const a=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=a*a,u=r.index,f=r.attributes.position;if(u!==null){const p=Math.max(0,o.start),m=Math.min(u.count,o.start+o.count);for(let v=p,S=m;v<S;v++){const A=u.getX(v);fw.fromBufferAttribute(f,A),P6(fw,A,l,i,e,t,this)}}else{const p=Math.max(0,o.start),m=Math.min(f.count,o.start+o.count);for(let v=p,S=m;v<S;v++)fw.fromBufferAttribute(f,v),P6(fw,v,l,i,e,t,this)}}updateMorphTargets(){const t=this.geometry.morphAttributes,r=Object.keys(t);if(r.length>0){const i=t[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=i.length;s<o;s++){const a=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}};function P6(n,e,t,r,i,s,o){const a=JF.distanceSqToPoint(n);if(a<t){const l=new ie;JF.closestPointToPoint(n,l),l.applyMatrix4(r);const u=i.ray.origin.distanceTo(l);if(u<i.near||u>i.far)return;s.push({distance:u,distanceToRay:Math.sqrt(a),point:l,index:e,face:null,object:o})}}class VRe extends fr{constructor(e,t,r,i,s,o,a,l,u){super(e,t,r,i,s,o,a,l,u),this.isVideoTexture=!0,this.minFilter=o!==void 0?o:_r,this.magFilter=s!==void 0?s:_r,this.generateMipmaps=!1;const h=this;function f(){h.needsUpdate=!0,e.requestVideoFrameCallback(f)}"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback(f)}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;"requestVideoFrameCallback"in e===!1&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}class WRe extends fr{constructor(e,t){super({width:e,height:t}),this.isFramebufferTexture=!0,this.magFilter=Gr,this.minFilter=Gr,this.generateMipmaps=!1,this.needsUpdate=!0}}class FG extends fr{constructor(e,t,r,i,s,o,a,l,u,h,f,p){super(null,o,a,l,u,h,i,s,f,p),this.isCompressedTexture=!0,this.image={width:t,height:r},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}class jRe extends FG{constructor(e,t,r,i,s,o){super(e,t,r,s,o),this.isCompressedArrayTexture=!0,this.image.depth=i,this.wrapR=ss}}class XRe extends fr{constructor(e,t,r,i,s,o,a,l,u){super(e,t,r,i,s,o,a,l,u),this.isCanvasTexture=!0,this.needsUpdate=!0}}class Ql{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(e,t){const r=this.getUtoTmapping(e);return this.getPoint(r,t)}getPoints(e=5){const t=[];for(let r=0;r<=e;r++)t.push(this.getPoint(r/e));return t}getSpacedPoints(e=5){const t=[];for(let r=0;r<=e;r++)t.push(this.getPointAt(r/e));return t}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const t=[];let r,i=this.getPoint(0),s=0;t.push(0);for(let o=1;o<=e;o++)r=this.getPoint(o/e),s+=r.distanceTo(i),t.push(s),i=r;return this.cacheArcLengths=t,t}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,t){const r=this.getLengths();let i=0;const s=r.length;let o;t?o=t:o=e*r[s-1];let a=0,l=s-1,u;for(;a<=l;)if(i=Math.floor(a+(l-a)/2),u=r[i]-o,u<0)a=i+1;else if(u>0)l=i-1;else{l=i;break}if(i=l,r[i]===o)return i/(s-1);const h=r[i],p=r[i+1]-h,m=(o-h)/p;return(i+m)/(s-1)}getTangent(e,t){let i=e-1e-4,s=e+1e-4;i<0&&(i=0),s>1&&(s=1);const o=this.getPoint(i),a=this.getPoint(s),l=t||(o.isVector2?new Je:new ie);return l.copy(a).sub(o).normalize(),l}getTangentAt(e,t){const r=this.getUtoTmapping(e);return this.getTangent(r,t)}computeFrenetFrames(e,t){const r=new ie,i=[],s=[],o=[],a=new ie,l=new Ht;for(let m=0;m<=e;m++){const v=m/e;i[m]=this.getTangentAt(v,new ie)}s[0]=new ie,o[0]=new ie;let u=Number.MAX_VALUE;const h=Math.abs(i[0].x),f=Math.abs(i[0].y),p=Math.abs(i[0].z);h<=u&&(u=h,r.set(1,0,0)),f<=u&&(u=f,r.set(0,1,0)),p<=u&&r.set(0,0,1),a.crossVectors(i[0],r).normalize(),s[0].crossVectors(i[0],a),o[0].crossVectors(i[0],s[0]);for(let m=1;m<=e;m++){if(s[m]=s[m-1].clone(),o[m]=o[m-1].clone(),a.crossVectors(i[m-1],i[m]),a.length()>Number.EPSILON){a.normalize();const v=Math.acos(Hr(i[m-1].dot(i[m]),-1,1));s[m].applyMatrix4(l.makeRotationAxis(a,v))}o[m].crossVectors(i[m],s[m])}if(t===!0){let m=Math.acos(Hr(s[0].dot(s[e]),-1,1));m/=e,i[0].dot(a.crossVectors(s[0],s[e]))>0&&(m=-m);for(let v=1;v<=e;v++)s[v].applyMatrix4(l.makeRotationAxis(i[v],m*v)),o[v].crossVectors(i[v],s[v])}return{tangents:i,normals:s,binormals:o}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.6,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class xP extends Ql{constructor(e=0,t=0,r=1,i=1,s=0,o=Math.PI*2,a=!1,l=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=t,this.xRadius=r,this.yRadius=i,this.aStartAngle=s,this.aEndAngle=o,this.aClockwise=a,this.aRotation=l}getPoint(e,t){const r=t||new Je,i=Math.PI*2;let s=this.aEndAngle-this.aStartAngle;const o=Math.abs(s)<Number.EPSILON;for(;s<0;)s+=i;for(;s>i;)s-=i;s<Number.EPSILON&&(o?s=0:s=i),this.aClockwise===!0&&!o&&(s===i?s=-i:s=s-i);const a=this.aStartAngle+e*s;let l=this.aX+this.xRadius*Math.cos(a),u=this.aY+this.yRadius*Math.sin(a);if(this.aRotation!==0){const h=Math.cos(this.aRotation),f=Math.sin(this.aRotation),p=l-this.aX,m=u-this.aY;l=p*h-m*f+this.aX,u=p*f+m*h+this.aY}return r.set(l,u)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}class Ete extends xP{constructor(e,t,r,i,s,o){super(e,t,r,r,i,s,o),this.isArcCurve=!0,this.type="ArcCurve"}}function NG(){let n=0,e=0,t=0,r=0;function i(s,o,a,l){n=s,e=a,t=-3*s+3*o-2*a-l,r=2*s-2*o+a+l}return{initCatmullRom:function(s,o,a,l,u){i(o,a,u*(a-s),u*(l-o))},initNonuniformCatmullRom:function(s,o,a,l,u,h,f){let p=(o-s)/u-(a-s)/(u+h)+(a-o)/h,m=(a-o)/h-(l-o)/(h+f)+(l-a)/f;p*=h,m*=h,i(o,a,p,m)},calc:function(s){const o=s*s,a=o*s;return n+e*s+t*o+r*a}}}const pw=new ie,CL=new NG,RL=new NG,PL=new NG;class bte extends Ql{constructor(e=[],t=!1,r="centripetal",i=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=t,this.curveType=r,this.tension=i}getPoint(e,t=new ie){const r=t,i=this.points,s=i.length,o=(s-(this.closed?0:1))*e;let a=Math.floor(o),l=o-a;this.closed?a+=a>0?0:(Math.floor(Math.abs(a)/s)+1)*s:l===0&&a===s-1&&(a=s-2,l=1);let u,h;this.closed||a>0?u=i[(a-1)%s]:(pw.subVectors(i[0],i[1]).add(i[0]),u=pw);const f=i[a%s],p=i[(a+1)%s];if(this.closed||a+2<s?h=i[(a+2)%s]:(pw.subVectors(i[s-1],i[s-2]).add(i[s-1]),h=pw),this.curveType==="centripetal"||this.curveType==="chordal"){const m=this.curveType==="chordal"?.5:.25;let v=Math.pow(u.distanceToSquared(f),m),S=Math.pow(f.distanceToSquared(p),m),A=Math.pow(p.distanceToSquared(h),m);S<1e-4&&(S=1),v<1e-4&&(v=S),A<1e-4&&(A=S),CL.initNonuniformCatmullRom(u.x,f.x,p.x,h.x,v,S,A),RL.initNonuniformCatmullRom(u.y,f.y,p.y,h.y,v,S,A),PL.initNonuniformCatmullRom(u.z,f.z,p.z,h.z,v,S,A)}else this.curveType==="catmullrom"&&(CL.initCatmullRom(u.x,f.x,p.x,h.x,this.tension),RL.initCatmullRom(u.y,f.y,p.y,h.y,this.tension),PL.initCatmullRom(u.z,f.z,p.z,h.z,this.tension));return r.set(CL.calc(l),RL.calc(l),PL.calc(l)),r}copy(e){super.copy(e),this.points=[];for(let t=0,r=e.points.length;t<r;t++){const i=e.points[t];this.points.push(i.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,r=this.points.length;t<r;t++){const i=this.points[t];e.points.push(i.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,r=e.points.length;t<r;t++){const i=e.points[t];this.points.push(new ie().fromArray(i))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function B6(n,e,t,r,i){const s=(r-e)*.5,o=(i-t)*.5,a=n*n,l=n*a;return(2*t-2*r+s+o)*l+(-3*t+3*r-2*s-o)*a+s*n+t}function JRe(n,e){const t=1-n;return t*t*e}function YRe(n,e){return 2*(1-n)*n*e}function KRe(n,e){return n*n*e}function b_(n,e,t,r){return JRe(n,e)+YRe(n,t)+KRe(n,r)}function QRe(n,e){const t=1-n;return t*t*t*e}function qRe(n,e){const t=1-n;return 3*t*t*n*e}function ZRe(n,e){return 3*(1-n)*n*n*e}function $Re(n,e){return n*n*n*e}function w_(n,e,t,r,i){return QRe(n,e)+qRe(n,t)+ZRe(n,r)+$Re(n,i)}class UG extends Ql{constructor(e=new Je,t=new Je,r=new Je,i=new Je){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=t,this.v2=r,this.v3=i}getPoint(e,t=new Je){const r=t,i=this.v0,s=this.v1,o=this.v2,a=this.v3;return r.set(w_(e,i.x,s.x,o.x,a.x),w_(e,i.y,s.y,o.y,a.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class wte extends Ql{constructor(e=new ie,t=new ie,r=new ie,i=new ie){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=t,this.v2=r,this.v3=i}getPoint(e,t=new ie){const r=t,i=this.v0,s=this.v1,o=this.v2,a=this.v3;return r.set(w_(e,i.x,s.x,o.x,a.x),w_(e,i.y,s.y,o.y,a.y),w_(e,i.z,s.z,o.z,a.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class AP extends Ql{constructor(e=new Je,t=new Je){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=t}getPoint(e,t=new Je){const r=t;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t=new Je){return t.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,t){return this.getTangent(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class Tte extends Ql{constructor(e=new ie,t=new ie){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=t}getPoint(e,t=new ie){const r=t;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t=new ie){return t.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,t){return this.getTangent(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class OG extends Ql{constructor(e=new Je,t=new Je,r=new Je){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=t,this.v2=r}getPoint(e,t=new Je){const r=t,i=this.v0,s=this.v1,o=this.v2;return r.set(b_(e,i.x,s.x,o.x),b_(e,i.y,s.y,o.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class kG extends Ql{constructor(e=new ie,t=new ie,r=new ie){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=t,this.v2=r}getPoint(e,t=new ie){const r=t,i=this.v0,s=this.v1,o=this.v2;return r.set(b_(e,i.x,s.x,o.x),b_(e,i.y,s.y,o.y),b_(e,i.z,s.z,o.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class GG extends Ql{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,t=new Je){const r=t,i=this.points,s=(i.length-1)*e,o=Math.floor(s),a=s-o,l=i[o===0?o:o-1],u=i[o],h=i[o>i.length-2?i.length-1:o+1],f=i[o>i.length-3?i.length-1:o+2];return r.set(B6(a,l.x,u.x,h.x,f.x),B6(a,l.y,u.y,h.y,f.y)),r}copy(e){super.copy(e),this.points=[];for(let t=0,r=e.points.length;t<r;t++){const i=e.points[t];this.points.push(i.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,r=this.points.length;t<r;t++){const i=this.points[t];e.points.push(i.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,r=e.points.length;t<r;t++){const i=e.points[t];this.points.push(new Je().fromArray(i))}return this}}var zG=Object.freeze({__proto__:null,ArcCurve:Ete,CatmullRomCurve3:bte,CubicBezierCurve:UG,CubicBezierCurve3:wte,EllipseCurve:xP,LineCurve:AP,LineCurve3:Tte,QuadraticBezierCurve:OG,QuadraticBezierCurve3:kG,SplineCurve:GG});class Cte extends Ql{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);e.equals(t)||this.curves.push(new AP(t,e))}getPoint(e,t){const r=e*this.getLength(),i=this.getCurveLengths();let s=0;for(;s<i.length;){if(i[s]>=r){const o=i[s]-r,a=this.curves[s],l=a.getLength(),u=l===0?0:1-o/l;return a.getPointAt(u,t)}s++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let t=0;for(let r=0,i=this.curves.length;r<i;r++)t+=this.curves[r].getLength(),e.push(t);return this.cacheLengths=e,e}getSpacedPoints(e=40){const t=[];for(let r=0;r<=e;r++)t.push(this.getPoint(r/e));return this.autoClose&&t.push(t[0]),t}getPoints(e=12){const t=[];let r;for(let i=0,s=this.curves;i<s.length;i++){const o=s[i],a=o.isEllipseCurve?e*2:o.isLineCurve||o.isLineCurve3?1:o.isSplineCurve?e*o.points.length:e,l=o.getPoints(a);for(let u=0;u<l.length;u++){const h=l[u];r&&r.equals(h)||(t.push(h),r=h)}}return this.autoClose&&t.length>1&&!t[t.length-1].equals(t[0])&&t.push(t[0]),t}copy(e){super.copy(e),this.curves=[];for(let t=0,r=e.curves.length;t<r;t++){const i=e.curves[t];this.curves.push(i.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let t=0,r=this.curves.length;t<r;t++){const i=this.curves[t];e.curves.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let t=0,r=e.curves.length;t<r;t++){const i=e.curves[t];this.curves.push(new zG[i.type]().fromJSON(i))}return this}}class NM extends Cte{constructor(e){super(),this.type="Path",this.currentPoint=new Je,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let t=1,r=e.length;t<r;t++)this.lineTo(e[t].x,e[t].y);return this}moveTo(e,t){return this.currentPoint.set(e,t),this}lineTo(e,t){const r=new AP(this.currentPoint.clone(),new Je(e,t));return this.curves.push(r),this.currentPoint.set(e,t),this}quadraticCurveTo(e,t,r,i){const s=new OG(this.currentPoint.clone(),new Je(e,t),new Je(r,i));return this.curves.push(s),this.currentPoint.set(r,i),this}bezierCurveTo(e,t,r,i,s,o){const a=new UG(this.currentPoint.clone(),new Je(e,t),new Je(r,i),new Je(s,o));return this.curves.push(a),this.currentPoint.set(s,o),this}splineThru(e){const t=[this.currentPoint.clone()].concat(e),r=new GG(t);return this.curves.push(r),this.currentPoint.copy(e[e.length-1]),this}arc(e,t,r,i,s,o){const a=this.currentPoint.x,l=this.currentPoint.y;return this.absarc(e+a,t+l,r,i,s,o),this}absarc(e,t,r,i,s,o){return this.absellipse(e,t,r,r,i,s,o),this}ellipse(e,t,r,i,s,o,a,l){const u=this.currentPoint.x,h=this.currentPoint.y;return this.absellipse(e+u,t+h,r,i,s,o,a,l),this}absellipse(e,t,r,i,s,o,a,l){const u=new xP(e,t,r,i,s,o,a,l);if(this.curves.length>0){const f=u.getPoint(0);f.equals(this.currentPoint)||this.lineTo(f.x,f.y)}this.curves.push(u);const h=u.getPoint(1);return this.currentPoint.copy(h),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}}class Rx extends Qt{constructor(e=[new Je(0,-.5),new Je(.5,0),new Je(0,.5)],t=12,r=0,i=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:e,segments:t,phiStart:r,phiLength:i},t=Math.floor(t),i=Hr(i,0,Math.PI*2);const s=[],o=[],a=[],l=[],u=[],h=1/t,f=new ie,p=new Je,m=new ie,v=new ie,S=new ie;let A=0,g=0;for(let M=0;M<=e.length-1;M++)switch(M){case 0:A=e[M+1].x-e[M].x,g=e[M+1].y-e[M].y,m.x=g*1,m.y=-A,m.z=g*0,S.copy(m),m.normalize(),l.push(m.x,m.y,m.z);break;case e.length-1:l.push(S.x,S.y,S.z);break;default:A=e[M+1].x-e[M].x,g=e[M+1].y-e[M].y,m.x=g*1,m.y=-A,m.z=g*0,v.copy(m),m.x+=S.x,m.y+=S.y,m.z+=S.z,m.normalize(),l.push(m.x,m.y,m.z),S.copy(v)}for(let M=0;M<=t;M++){const _=r+M*h*i,b=Math.sin(_),T=Math.cos(_);for(let C=0;C<=e.length-1;C++){f.x=e[C].x*b,f.y=e[C].y,f.z=e[C].x*T,o.push(f.x,f.y,f.z),p.x=M/t,p.y=C/(e.length-1),a.push(p.x,p.y);const B=l[3*C+0]*b,P=l[3*C+1],R=l[3*C+0]*T;u.push(B,P,R)}}for(let M=0;M<t;M++)for(let _=0;_<e.length-1;_++){const b=_+M*e.length,T=b,C=b+e.length,B=b+e.length+1,P=b+1;s.push(T,C,P),s.push(B,P,C)}this.setIndex(s),this.setAttribute("position",new Ct(o,3)),this.setAttribute("uv",new Ct(a,2)),this.setAttribute("normal",new Ct(u,3))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Rx(e.points,e.segments,e.phiStart,e.phiLength)}}class RS extends Rx{constructor(e=1,t=1,r=4,i=8){const s=new NM;s.absarc(0,-t/2,e,Math.PI*1.5,0),s.absarc(0,t/2,e,0,Math.PI*.5),super(s.getPoints(r),i),this.type="CapsuleGeometry",this.parameters={radius:e,height:t,capSegments:r,radialSegments:i}}static fromJSON(e){return new RS(e.radius,e.length,e.capSegments,e.radialSegments)}}class PS extends Qt{constructor(e=1,t=32,r=0,i=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:e,segments:t,thetaStart:r,thetaLength:i},t=Math.max(3,t);const s=[],o=[],a=[],l=[],u=new ie,h=new Je;o.push(0,0,0),a.push(0,0,1),l.push(.5,.5);for(let f=0,p=3;f<=t;f++,p+=3){const m=r+f/t*i;u.x=e*Math.cos(m),u.y=e*Math.sin(m),o.push(u.x,u.y,u.z),a.push(0,0,1),h.x=(o[p]/e+1)/2,h.y=(o[p+1]/e+1)/2,l.push(h.x,h.y)}for(let f=1;f<=t;f++)s.push(f,f+1,0);this.setIndex(s),this.setAttribute("position",new Ct(o,3)),this.setAttribute("normal",new Ct(a,3)),this.setAttribute("uv",new Ct(l,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new PS(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class Ag extends Qt{constructor(e=1,t=1,r=1,i=32,s=1,o=!1,a=0,l=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:r,radialSegments:i,heightSegments:s,openEnded:o,thetaStart:a,thetaLength:l};const u=this;i=Math.floor(i),s=Math.floor(s);const h=[],f=[],p=[],m=[];let v=0;const S=[],A=r/2;let g=0;M(),o===!1&&(e>0&&_(!0),t>0&&_(!1)),this.setIndex(h),this.setAttribute("position",new Ct(f,3)),this.setAttribute("normal",new Ct(p,3)),this.setAttribute("uv",new Ct(m,2));function M(){const b=new ie,T=new ie;let C=0;const B=(t-e)/r;for(let P=0;P<=s;P++){const R=[],L=P/s,U=L*(t-e)+e;for(let Q=0;Q<=i;Q++){const W=Q/i,Y=W*l+a,X=Math.sin(Y),ae=Math.cos(Y);T.x=U*X,T.y=-L*r+A,T.z=U*ae,f.push(T.x,T.y,T.z),b.set(X,B,ae).normalize(),p.push(b.x,b.y,b.z),m.push(W,1-L),R.push(v++)}S.push(R)}for(let P=0;P<i;P++)for(let R=0;R<s;R++){const L=S[R][P],U=S[R+1][P],Q=S[R+1][P+1],W=S[R][P+1];h.push(L,U,W),h.push(U,Q,W),C+=6}u.addGroup(g,C,0),g+=C}function _(b){const T=v,C=new Je,B=new ie;let P=0;const R=b===!0?e:t,L=b===!0?1:-1;for(let Q=1;Q<=i;Q++)f.push(0,A*L,0),p.push(0,L,0),m.push(.5,.5),v++;const U=v;for(let Q=0;Q<=i;Q++){const Y=Q/i*l+a,X=Math.cos(Y),ae=Math.sin(Y);B.x=R*ae,B.y=A*L,B.z=R*X,f.push(B.x,B.y,B.z),p.push(0,L,0),C.x=X*.5+.5,C.y=ae*.5*L+.5,m.push(C.x,C.y),v++}for(let Q=0;Q<i;Q++){const W=T+Q,Y=U+Q;b===!0?h.push(Y,Y+1,W):h.push(Y+1,Y,W),P+=3}u.addGroup(g,P,b===!0?1:2),g+=P}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Ag(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class BS extends Ag{constructor(e=1,t=1,r=32,i=1,s=!1,o=0,a=Math.PI*2){super(0,e,t,r,i,s,o,a),this.type="ConeGeometry",this.parameters={radius:e,height:t,radialSegments:r,heightSegments:i,openEnded:s,thetaStart:o,thetaLength:a}}static fromJSON(e){return new BS(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class Ph extends Qt{constructor(e=[],t=[],r=1,i=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:t,radius:r,detail:i};const s=[],o=[];a(i),u(r),h(),this.setAttribute("position",new Ct(s,3)),this.setAttribute("normal",new Ct(s.slice(),3)),this.setAttribute("uv",new Ct(o,2)),i===0?this.computeVertexNormals():this.normalizeNormals();function a(M){const _=new ie,b=new ie,T=new ie;for(let C=0;C<t.length;C+=3)m(t[C+0],_),m(t[C+1],b),m(t[C+2],T),l(_,b,T,M)}function l(M,_,b,T){const C=T+1,B=[];for(let P=0;P<=C;P++){B[P]=[];const R=M.clone().lerp(b,P/C),L=_.clone().lerp(b,P/C),U=C-P;for(let Q=0;Q<=U;Q++)Q===0&&P===C?B[P][Q]=R:B[P][Q]=R.clone().lerp(L,Q/U)}for(let P=0;P<C;P++)for(let R=0;R<2*(C-P)-1;R++){const L=Math.floor(R/2);R%2===0?(p(B[P][L+1]),p(B[P+1][L]),p(B[P][L])):(p(B[P][L+1]),p(B[P+1][L+1]),p(B[P+1][L]))}}function u(M){const _=new ie;for(let b=0;b<s.length;b+=3)_.x=s[b+0],_.y=s[b+1],_.z=s[b+2],_.normalize().multiplyScalar(M),s[b+0]=_.x,s[b+1]=_.y,s[b+2]=_.z}function h(){const M=new ie;for(let _=0;_<s.length;_+=3){M.x=s[_+0],M.y=s[_+1],M.z=s[_+2];const b=A(M)/2/Math.PI+.5,T=g(M)/Math.PI+.5;o.push(b,1-T)}v(),f()}function f(){for(let M=0;M<o.length;M+=6){const _=o[M+0],b=o[M+2],T=o[M+4],C=Math.max(_,b,T),B=Math.min(_,b,T);C>.9&&B<.1&&(_<.2&&(o[M+0]+=1),b<.2&&(o[M+2]+=1),T<.2&&(o[M+4]+=1))}}function p(M){s.push(M.x,M.y,M.z)}function m(M,_){const b=M*3;_.x=e[b+0],_.y=e[b+1],_.z=e[b+2]}function v(){const M=new ie,_=new ie,b=new ie,T=new ie,C=new Je,B=new Je,P=new Je;for(let R=0,L=0;R<s.length;R+=9,L+=6){M.set(s[R+0],s[R+1],s[R+2]),_.set(s[R+3],s[R+4],s[R+5]),b.set(s[R+6],s[R+7],s[R+8]),C.set(o[L+0],o[L+1]),B.set(o[L+2],o[L+3]),P.set(o[L+4],o[L+5]),T.copy(M).add(_).add(b).divideScalar(3);const U=A(T);S(C,L+0,M,U),S(B,L+2,_,U),S(P,L+4,b,U)}}function S(M,_,b,T){T<0&&M.x===1&&(o[_]=M.x-1),b.x===0&&b.z===0&&(o[_]=T/2/Math.PI+.5)}function A(M){return Math.atan2(M.z,-M.x)}function g(M){return Math.atan2(-M.y,Math.sqrt(M.x*M.x+M.z*M.z))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Ph(e.vertices,e.indices,e.radius,e.details)}}class LS extends Ph{constructor(e=1,t=0){const r=(1+Math.sqrt(5))/2,i=1/r,s=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-i,-r,0,-i,r,0,i,-r,0,i,r,-i,-r,0,-i,r,0,i,-r,0,i,r,0,-r,0,-i,r,0,-i,-r,0,i,r,0,i],o=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(s,o,e,t),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new LS(e.radius,e.detail)}}const mw=new ie,gw=new ie,BL=new ie,vw=new oo;class Rte extends Qt{constructor(e=null,t=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:t},e!==null){const i=Math.pow(10,4),s=Math.cos(Vm*t),o=e.getIndex(),a=e.getAttribute("position"),l=o?o.count:a.count,u=[0,0,0],h=["a","b","c"],f=new Array(3),p={},m=[];for(let v=0;v<l;v+=3){o?(u[0]=o.getX(v),u[1]=o.getX(v+1),u[2]=o.getX(v+2)):(u[0]=v,u[1]=v+1,u[2]=v+2);const{a:S,b:A,c:g}=vw;if(S.fromBufferAttribute(a,u[0]),A.fromBufferAttribute(a,u[1]),g.fromBufferAttribute(a,u[2]),vw.getNormal(BL),f[0]=`${Math.round(S.x*i)},${Math.round(S.y*i)},${Math.round(S.z*i)}`,f[1]=`${Math.round(A.x*i)},${Math.round(A.y*i)},${Math.round(A.z*i)}`,f[2]=`${Math.round(g.x*i)},${Math.round(g.y*i)},${Math.round(g.z*i)}`,!(f[0]===f[1]||f[1]===f[2]||f[2]===f[0]))for(let M=0;M<3;M++){const _=(M+1)%3,b=f[M],T=f[_],C=vw[h[M]],B=vw[h[_]],P=`${b}_${T}`,R=`${T}_${b}`;R in p&&p[R]?(BL.dot(p[R].normal)<=s&&(m.push(C.x,C.y,C.z),m.push(B.x,B.y,B.z)),p[R]=null):P in p||(p[P]={index0:u[M],index1:u[_],normal:BL.clone()})}}for(const v in p)if(p[v]){const{index0:S,index1:A}=p[v];mw.fromBufferAttribute(a,S),gw.fromBufferAttribute(a,A),m.push(mw.x,mw.y,mw.z),m.push(gw.x,gw.y,gw.z)}this.setAttribute("position",new Ct(m,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}class jm extends NM{constructor(e){super(e),this.uuid=Qo(),this.type="Shape",this.holes=[]}getPointsHoles(e){const t=[];for(let r=0,i=this.holes.length;r<i;r++)t[r]=this.holes[r].getPoints(e);return t}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let t=0,r=e.holes.length;t<r;t++){const i=e.holes[t];this.holes.push(i.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let t=0,r=this.holes.length;t<r;t++){const i=this.holes[t];e.holes.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let t=0,r=e.holes.length;t<r;t++){const i=e.holes[t];this.holes.push(new NM().fromJSON(i))}return this}}const ePe={triangulate:function(n,e,t=2){const r=e&&e.length,i=r?e[0]*t:n.length;let s=Pte(n,0,i,t,!0);const o=[];if(!s||s.next===s.prev)return o;let a,l,u,h,f,p,m;if(r&&(s=sPe(n,e,s,t)),n.length>80*t){a=u=n[0],l=h=n[1];for(let v=t;v<i;v+=t)f=n[v],p=n[v+1],f<a&&(a=f),p<l&&(l=p),f>u&&(u=f),p>h&&(h=p);m=Math.max(u-a,h-l),m=m!==0?32767/m:0}return UM(s,o,t,a,l,m,0),o}};function Pte(n,e,t,r,i){let s,o;if(i===gPe(n,e,t,r)>0)for(s=e;s<t;s+=r)o=L6(s,n[s],n[s+1],o);else for(s=t-r;s>=e;s-=r)o=L6(s,n[s],n[s+1],o);return o&&_P(o,o.next)&&(kM(o),o=o.next),o}function lg(n,e){if(!n)return n;e||(e=n);let t=n,r;do if(r=!1,!t.steiner&&(_P(t,t.next)||Er(t.prev,t,t.next)===0)){if(kM(t),t=e=t.prev,t===t.next)break;r=!0}else t=t.next;while(r||t!==e);return e}function UM(n,e,t,r,i,s,o){if(!n)return;!o&&s&&cPe(n,r,i,s);let a=n,l,u;for(;n.prev!==n.next;){if(l=n.prev,u=n.next,s?nPe(n,r,i,s):tPe(n)){e.push(l.i/t|0),e.push(n.i/t|0),e.push(u.i/t|0),kM(n),n=u.next,a=u.next;continue}if(n=u,n===a){o?o===1?(n=rPe(lg(n),e,t),UM(n,e,t,r,i,s,2)):o===2&&iPe(n,e,t,r,i,s):UM(lg(n),e,t,r,i,s,1);break}}}function tPe(n){const e=n.prev,t=n,r=n.next;if(Er(e,t,r)>=0)return!1;const i=e.x,s=t.x,o=r.x,a=e.y,l=t.y,u=r.y,h=i<s?i<o?i:o:s<o?s:o,f=a<l?a<u?a:u:l<u?l:u,p=i>s?i>o?i:o:s>o?s:o,m=a>l?a>u?a:u:l>u?l:u;let v=r.next;for(;v!==e;){if(v.x>=h&&v.x<=p&&v.y>=f&&v.y<=m&&K0(i,a,s,l,o,u,v.x,v.y)&&Er(v.prev,v,v.next)>=0)return!1;v=v.next}return!0}function nPe(n,e,t,r){const i=n.prev,s=n,o=n.next;if(Er(i,s,o)>=0)return!1;const a=i.x,l=s.x,u=o.x,h=i.y,f=s.y,p=o.y,m=a<l?a<u?a:u:l<u?l:u,v=h<f?h<p?h:p:f<p?f:p,S=a>l?a>u?a:u:l>u?l:u,A=h>f?h>p?h:p:f>p?f:p,g=YF(m,v,e,t,r),M=YF(S,A,e,t,r);let _=n.prevZ,b=n.nextZ;for(;_&&_.z>=g&&b&&b.z<=M;){if(_.x>=m&&_.x<=S&&_.y>=v&&_.y<=A&&_!==i&&_!==o&&K0(a,h,l,f,u,p,_.x,_.y)&&Er(_.prev,_,_.next)>=0||(_=_.prevZ,b.x>=m&&b.x<=S&&b.y>=v&&b.y<=A&&b!==i&&b!==o&&K0(a,h,l,f,u,p,b.x,b.y)&&Er(b.prev,b,b.next)>=0))return!1;b=b.nextZ}for(;_&&_.z>=g;){if(_.x>=m&&_.x<=S&&_.y>=v&&_.y<=A&&_!==i&&_!==o&&K0(a,h,l,f,u,p,_.x,_.y)&&Er(_.prev,_,_.next)>=0)return!1;_=_.prevZ}for(;b&&b.z<=M;){if(b.x>=m&&b.x<=S&&b.y>=v&&b.y<=A&&b!==i&&b!==o&&K0(a,h,l,f,u,p,b.x,b.y)&&Er(b.prev,b,b.next)>=0)return!1;b=b.nextZ}return!0}function rPe(n,e,t){let r=n;do{const i=r.prev,s=r.next.next;!_P(i,s)&&Bte(i,r,r.next,s)&&OM(i,s)&&OM(s,i)&&(e.push(i.i/t|0),e.push(r.i/t|0),e.push(s.i/t|0),kM(r),kM(r.next),r=n=s),r=r.next}while(r!==n);return lg(r)}function iPe(n,e,t,r,i,s){let o=n;do{let a=o.next.next;for(;a!==o.prev;){if(o.i!==a.i&&fPe(o,a)){let l=Lte(o,a);o=lg(o,o.next),l=lg(l,l.next),UM(o,e,t,r,i,s,0),UM(l,e,t,r,i,s,0);return}a=a.next}o=o.next}while(o!==n)}function sPe(n,e,t,r){const i=[];let s,o,a,l,u;for(s=0,o=e.length;s<o;s++)a=e[s]*r,l=s<o-1?e[s+1]*r:n.length,u=Pte(n,a,l,r,!1),u===u.next&&(u.steiner=!0),i.push(dPe(u));for(i.sort(oPe),s=0;s<i.length;s++)t=aPe(i[s],t);return t}function oPe(n,e){return n.x-e.x}function aPe(n,e){const t=lPe(n,e);if(!t)return e;const r=Lte(t,n);return lg(r,r.next),lg(t,t.next)}function lPe(n,e){let t=e,r=-1/0,i;const s=n.x,o=n.y;do{if(o<=t.y&&o>=t.next.y&&t.next.y!==t.y){const p=t.x+(o-t.y)*(t.next.x-t.x)/(t.next.y-t.y);if(p<=s&&p>r&&(r=p,i=t.x<t.next.x?t:t.next,p===s))return i}t=t.next}while(t!==e);if(!i)return null;const a=i,l=i.x,u=i.y;let h=1/0,f;t=i;do s>=t.x&&t.x>=l&&s!==t.x&&K0(o<u?s:r,o,l,u,o<u?r:s,o,t.x,t.y)&&(f=Math.abs(o-t.y)/(s-t.x),OM(t,n)&&(f<h||f===h&&(t.x>i.x||t.x===i.x&&uPe(i,t)))&&(i=t,h=f)),t=t.next;while(t!==a);return i}function uPe(n,e){return Er(n.prev,n,e.prev)<0&&Er(e.next,n,n.next)<0}function cPe(n,e,t,r){let i=n;do i.z===0&&(i.z=YF(i.x,i.y,e,t,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next;while(i!==n);i.prevZ.nextZ=null,i.prevZ=null,hPe(i)}function hPe(n){let e,t,r,i,s,o,a,l,u=1;do{for(t=n,n=null,s=null,o=0;t;){for(o++,r=t,a=0,e=0;e<u&&(a++,r=r.nextZ,!!r);e++);for(l=u;a>0||l>0&&r;)a!==0&&(l===0||!r||t.z<=r.z)?(i=t,t=t.nextZ,a--):(i=r,r=r.nextZ,l--),s?s.nextZ=i:n=i,i.prevZ=s,s=i;t=r}s.nextZ=null,u*=2}while(o>1);return n}function YF(n,e,t,r,i){return n=(n-t)*i|0,e=(e-r)*i|0,n=(n|n<<8)&16711935,n=(n|n<<4)&252645135,n=(n|n<<2)&858993459,n=(n|n<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,n|e<<1}function dPe(n){let e=n,t=n;do(e.x<t.x||e.x===t.x&&e.y<t.y)&&(t=e),e=e.next;while(e!==n);return t}function K0(n,e,t,r,i,s,o,a){return(i-o)*(e-a)>=(n-o)*(s-a)&&(n-o)*(r-a)>=(t-o)*(e-a)&&(t-o)*(s-a)>=(i-o)*(r-a)}function fPe(n,e){return n.next.i!==e.i&&n.prev.i!==e.i&&!pPe(n,e)&&(OM(n,e)&&OM(e,n)&&mPe(n,e)&&(Er(n.prev,n,e.prev)||Er(n,e.prev,e))||_P(n,e)&&Er(n.prev,n,n.next)>0&&Er(e.prev,e,e.next)>0)}function Er(n,e,t){return(e.y-n.y)*(t.x-e.x)-(e.x-n.x)*(t.y-e.y)}function _P(n,e){return n.x===e.x&&n.y===e.y}function Bte(n,e,t,r){const i=xw(Er(n,e,t)),s=xw(Er(n,e,r)),o=xw(Er(t,r,n)),a=xw(Er(t,r,e));return!!(i!==s&&o!==a||i===0&&yw(n,t,e)||s===0&&yw(n,r,e)||o===0&&yw(t,n,r)||a===0&&yw(t,e,r))}function yw(n,e,t){return e.x<=Math.max(n.x,t.x)&&e.x>=Math.min(n.x,t.x)&&e.y<=Math.max(n.y,t.y)&&e.y>=Math.min(n.y,t.y)}function xw(n){return n>0?1:n<0?-1:0}function pPe(n,e){let t=n;do{if(t.i!==n.i&&t.next.i!==n.i&&t.i!==e.i&&t.next.i!==e.i&&Bte(t,t.next,n,e))return!0;t=t.next}while(t!==n);return!1}function OM(n,e){return Er(n.prev,n,n.next)<0?Er(n,e,n.next)>=0&&Er(n,n.prev,e)>=0:Er(n,e,n.prev)<0||Er(n,n.next,e)<0}function mPe(n,e){let t=n,r=!1;const i=(n.x+e.x)/2,s=(n.y+e.y)/2;do t.y>s!=t.next.y>s&&t.next.y!==t.y&&i<(t.next.x-t.x)*(s-t.y)/(t.next.y-t.y)+t.x&&(r=!r),t=t.next;while(t!==n);return r}function Lte(n,e){const t=new KF(n.i,n.x,n.y),r=new KF(e.i,e.x,e.y),i=n.next,s=e.prev;return n.next=e,e.prev=n,t.next=i,i.prev=t,r.next=t,t.prev=r,s.next=r,r.prev=s,r}function L6(n,e,t,r){const i=new KF(n,e,t);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function kM(n){n.next.prev=n.prev,n.prev.next=n.next,n.prevZ&&(n.prevZ.nextZ=n.nextZ),n.nextZ&&(n.nextZ.prevZ=n.prevZ)}function KF(n,e,t){this.i=n,this.x=e,this.y=t,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function gPe(n,e,t,r){let i=0;for(let s=e,o=t-r;s<t;s+=r)i+=(n[o]-n[s])*(n[s+1]+n[o+1]),o=s;return i}class Vu{static area(e){const t=e.length;let r=0;for(let i=t-1,s=0;s<t;i=s++)r+=e[i].x*e[s].y-e[s].x*e[i].y;return r*.5}static isClockWise(e){return Vu.area(e)<0}static triangulateShape(e,t){const r=[],i=[],s=[];I6(e),D6(r,e);let o=e.length;t.forEach(I6);for(let l=0;l<t.length;l++)i.push(o),o+=t[l].length,D6(r,t[l]);const a=ePe.triangulate(r,i);for(let l=0;l<a.length;l+=3)s.push(a.slice(l,l+3));return s}}function I6(n){const e=n.length;e>2&&n[e-1].equals(n[0])&&n.pop()}function D6(n,e){for(let t=0;t<e.length;t++)n.push(e[t].x),n.push(e[t].y)}class IS extends Qt{constructor(e=new jm([new Je(.5,.5),new Je(-.5,.5),new Je(-.5,-.5),new Je(.5,-.5)]),t={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:t},e=Array.isArray(e)?e:[e];const r=this,i=[],s=[];for(let a=0,l=e.length;a<l;a++){const u=e[a];o(u)}this.setAttribute("position",new Ct(i,3)),this.setAttribute("uv",new Ct(s,2)),this.computeVertexNormals();function o(a){const l=[],u=t.curveSegments!==void 0?t.curveSegments:12,h=t.steps!==void 0?t.steps:1,f=t.depth!==void 0?t.depth:1;let p=t.bevelEnabled!==void 0?t.bevelEnabled:!0,m=t.bevelThickness!==void 0?t.bevelThickness:.2,v=t.bevelSize!==void 0?t.bevelSize:m-.1,S=t.bevelOffset!==void 0?t.bevelOffset:0,A=t.bevelSegments!==void 0?t.bevelSegments:3;const g=t.extrudePath,M=t.UVGenerator!==void 0?t.UVGenerator:vPe;let _,b=!1,T,C,B,P;g&&(_=g.getSpacedPoints(h),b=!0,p=!1,T=g.computeFrenetFrames(h,!1),C=new ie,B=new ie,P=new ie),p||(A=0,m=0,v=0,S=0);const R=a.extractPoints(u);let L=R.shape;const U=R.holes;if(!Vu.isClockWise(L)){L=L.reverse();for(let z=0,Ae=U.length;z<Ae;z++){const ge=U[z];Vu.isClockWise(ge)&&(U[z]=ge.reverse())}}const W=Vu.triangulateShape(L,U),Y=L;for(let z=0,Ae=U.length;z<Ae;z++){const ge=U[z];L=L.concat(ge)}function X(z,Ae,ge){return Ae||console.error("THREE.ExtrudeGeometry: vec does not exist"),z.clone().addScaledVector(Ae,ge)}const ae=L.length,Z=W.length;function D(z,Ae,ge){let Me,Ee,Ve;const Ge=z.x-Ae.x,ze=z.y-Ae.y,Ze=ge.x-z.x,St=ge.y-z.y,Dt=Ge*Ge+ze*ze,O=Ge*St-ze*Ze;if(Math.abs(O)>Number.EPSILON){const F=Math.sqrt(Dt),ce=Math.sqrt(Ze*Ze+St*St),be=Ae.x-ze/F,Se=Ae.y+Ge/F,Fe=ge.x-St/ce,Xe=ge.y+Ze/ce,De=((Fe-be)*St-(Xe-Se)*Ze)/(Ge*St-ze*Ze);Me=be+Ge*De-z.x,Ee=Se+ze*De-z.y;const j=Me*Me+Ee*Ee;if(j<=2)return new Je(Me,Ee);Ve=Math.sqrt(j/2)}else{let F=!1;Ge>Number.EPSILON?Ze>Number.EPSILON&&(F=!0):Ge<-Number.EPSILON?Ze<-Number.EPSILON&&(F=!0):Math.sign(ze)===Math.sign(St)&&(F=!0),F?(Me=-ze,Ee=Ge,Ve=Math.sqrt(Dt)):(Me=Ge,Ee=ze,Ve=Math.sqrt(Dt/2))}return new Je(Me/Ve,Ee/Ve)}const k=[];for(let z=0,Ae=Y.length,ge=Ae-1,Me=z+1;z<Ae;z++,ge++,Me++)ge===Ae&&(ge=0),Me===Ae&&(Me=0),k[z]=D(Y[z],Y[ge],Y[Me]);const G=[];let K,H=k.concat();for(let z=0,Ae=U.length;z<Ae;z++){const ge=U[z];K=[];for(let Me=0,Ee=ge.length,Ve=Ee-1,Ge=Me+1;Me<Ee;Me++,Ve++,Ge++)Ve===Ee&&(Ve=0),Ge===Ee&&(Ge=0),K[Me]=D(ge[Me],ge[Ve],ge[Ge]);G.push(K),H=H.concat(K)}for(let z=0;z<A;z++){const Ae=z/A,ge=m*Math.cos(Ae*Math.PI/2),Me=v*Math.sin(Ae*Math.PI/2)+S;for(let Ee=0,Ve=Y.length;Ee<Ve;Ee++){const Ge=X(Y[Ee],k[Ee],Me);Be(Ge.x,Ge.y,-ge)}for(let Ee=0,Ve=U.length;Ee<Ve;Ee++){const Ge=U[Ee];K=G[Ee];for(let ze=0,Ze=Ge.length;ze<Ze;ze++){const St=X(Ge[ze],K[ze],Me);Be(St.x,St.y,-ge)}}}const ue=v+S;for(let z=0;z<ae;z++){const Ae=p?X(L[z],H[z],ue):L[z];b?(B.copy(T.normals[0]).multiplyScalar(Ae.x),C.copy(T.binormals[0]).multiplyScalar(Ae.y),P.copy(_[0]).add(B).add(C),Be(P.x,P.y,P.z)):Be(Ae.x,Ae.y,0)}for(let z=1;z<=h;z++)for(let Ae=0;Ae<ae;Ae++){const ge=p?X(L[Ae],H[Ae],ue):L[Ae];b?(B.copy(T.normals[z]).multiplyScalar(ge.x),C.copy(T.binormals[z]).multiplyScalar(ge.y),P.copy(_[z]).add(B).add(C),Be(P.x,P.y,P.z)):Be(ge.x,ge.y,f/h*z)}for(let z=A-1;z>=0;z--){const Ae=z/A,ge=m*Math.cos(Ae*Math.PI/2),Me=v*Math.sin(Ae*Math.PI/2)+S;for(let Ee=0,Ve=Y.length;Ee<Ve;Ee++){const Ge=X(Y[Ee],k[Ee],Me);Be(Ge.x,Ge.y,f+ge)}for(let Ee=0,Ve=U.length;Ee<Ve;Ee++){const Ge=U[Ee];K=G[Ee];for(let ze=0,Ze=Ge.length;ze<Ze;ze++){const St=X(Ge[ze],K[ze],Me);b?Be(St.x,St.y+_[h-1].y,_[h-1].x+ge):Be(St.x,St.y,f+ge)}}}le(),Ce();function le(){const z=i.length/3;if(p){let Ae=0,ge=ae*Ae;for(let Me=0;Me<Z;Me++){const Ee=W[Me];Qe(Ee[2]+ge,Ee[1]+ge,Ee[0]+ge)}Ae=h+A*2,ge=ae*Ae;for(let Me=0;Me<Z;Me++){const Ee=W[Me];Qe(Ee[0]+ge,Ee[1]+ge,Ee[2]+ge)}}else{for(let Ae=0;Ae<Z;Ae++){const ge=W[Ae];Qe(ge[2],ge[1],ge[0])}for(let Ae=0;Ae<Z;Ae++){const ge=W[Ae];Qe(ge[0]+ae*h,ge[1]+ae*h,ge[2]+ae*h)}}r.addGroup(z,i.length/3-z,0)}function Ce(){const z=i.length/3;let Ae=0;xe(Y,Ae),Ae+=Y.length;for(let ge=0,Me=U.length;ge<Me;ge++){const Ee=U[ge];xe(Ee,Ae),Ae+=Ee.length}r.addGroup(z,i.length/3-z,1)}function xe(z,Ae){let ge=z.length;for(;--ge>=0;){const Me=ge;let Ee=ge-1;Ee<0&&(Ee=z.length-1);for(let Ve=0,Ge=h+A*2;Ve<Ge;Ve++){const ze=ae*Ve,Ze=ae*(Ve+1),St=Ae+Me+ze,Dt=Ae+Ee+ze,O=Ae+Ee+Ze,F=Ae+Me+Ze;je(St,Dt,O,F)}}}function Be(z,Ae,ge){l.push(z),l.push(Ae),l.push(ge)}function Qe(z,Ae,ge){Ke(z),Ke(Ae),Ke(ge);const Me=i.length/3,Ee=M.generateTopUV(r,i,Me-3,Me-2,Me-1);fe(Ee[0]),fe(Ee[1]),fe(Ee[2])}function je(z,Ae,ge,Me){Ke(z),Ke(Ae),Ke(Me),Ke(Ae),Ke(ge),Ke(Me);const Ee=i.length/3,Ve=M.generateSideWallUV(r,i,Ee-6,Ee-3,Ee-2,Ee-1);fe(Ve[0]),fe(Ve[1]),fe(Ve[3]),fe(Ve[1]),fe(Ve[2]),fe(Ve[3])}function Ke(z){i.push(l[z*3+0]),i.push(l[z*3+1]),i.push(l[z*3+2])}function fe(z){s.push(z.x),s.push(z.y)}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),t=this.parameters.shapes,r=this.parameters.options;return yPe(t,r,e)}static fromJSON(e,t){const r=[];for(let s=0,o=e.shapes.length;s<o;s++){const a=t[e.shapes[s]];r.push(a)}const i=e.options.extrudePath;return i!==void 0&&(e.options.extrudePath=new zG[i.type]().fromJSON(i)),new IS(r,e.options)}}const vPe={generateTopUV:function(n,e,t,r,i){const s=e[t*3],o=e[t*3+1],a=e[r*3],l=e[r*3+1],u=e[i*3],h=e[i*3+1];return[new Je(s,o),new Je(a,l),new Je(u,h)]},generateSideWallUV:function(n,e,t,r,i,s){const o=e[t*3],a=e[t*3+1],l=e[t*3+2],u=e[r*3],h=e[r*3+1],f=e[r*3+2],p=e[i*3],m=e[i*3+1],v=e[i*3+2],S=e[s*3],A=e[s*3+1],g=e[s*3+2];return Math.abs(a-h)<Math.abs(o-u)?[new Je(o,1-l),new Je(u,1-f),new Je(p,1-v),new Je(S,1-g)]:[new Je(a,1-l),new Je(h,1-f),new Je(m,1-v),new Je(A,1-g)]}};function yPe(n,e,t){if(t.shapes=[],Array.isArray(n))for(let r=0,i=n.length;r<i;r++){const s=n[r];t.shapes.push(s.uuid)}else t.shapes.push(n.uuid);return t.options=Object.assign({},e),e.extrudePath!==void 0&&(t.options.extrudePath=e.extrudePath.toJSON()),t}class DS extends Ph{constructor(e=1,t=0){const r=(1+Math.sqrt(5))/2,i=[-1,r,0,1,r,0,-1,-r,0,1,-r,0,0,-1,r,0,1,r,0,-1,-r,0,1,-r,r,0,-1,r,0,1,-r,0,-1,-r,0,1],s=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(i,s,e,t),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new DS(e.radius,e.detail)}}class Px extends Ph{constructor(e=1,t=0){const r=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],i=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(r,i,e,t),this.type="OctahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new Px(e.radius,e.detail)}}class FS extends Qt{constructor(e=.5,t=1,r=32,i=1,s=0,o=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:r,phiSegments:i,thetaStart:s,thetaLength:o},r=Math.max(3,r),i=Math.max(1,i);const a=[],l=[],u=[],h=[];let f=e;const p=(t-e)/i,m=new ie,v=new Je;for(let S=0;S<=i;S++){for(let A=0;A<=r;A++){const g=s+A/r*o;m.x=f*Math.cos(g),m.y=f*Math.sin(g),l.push(m.x,m.y,m.z),u.push(0,0,1),v.x=(m.x/t+1)/2,v.y=(m.y/t+1)/2,h.push(v.x,v.y)}f+=p}for(let S=0;S<i;S++){const A=S*(r+1);for(let g=0;g<r;g++){const M=g+A,_=M,b=M+r+1,T=M+r+2,C=M+1;a.push(_,b,C),a.push(b,T,C)}}this.setIndex(a),this.setAttribute("position",new Ct(l,3)),this.setAttribute("normal",new Ct(u,3)),this.setAttribute("uv",new Ct(h,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new FS(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}class NS extends Qt{constructor(e=new jm([new Je(0,.5),new Je(-.5,-.5),new Je(.5,-.5)]),t=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:t};const r=[],i=[],s=[],o=[];let a=0,l=0;if(Array.isArray(e)===!1)u(e);else for(let h=0;h<e.length;h++)u(e[h]),this.addGroup(a,l,h),a+=l,l=0;this.setIndex(r),this.setAttribute("position",new Ct(i,3)),this.setAttribute("normal",new Ct(s,3)),this.setAttribute("uv",new Ct(o,2));function u(h){const f=i.length/3,p=h.extractPoints(t);let m=p.shape;const v=p.holes;Vu.isClockWise(m)===!1&&(m=m.reverse());for(let A=0,g=v.length;A<g;A++){const M=v[A];Vu.isClockWise(M)===!0&&(v[A]=M.reverse())}const S=Vu.triangulateShape(m,v);for(let A=0,g=v.length;A<g;A++){const M=v[A];m=m.concat(M)}for(let A=0,g=m.length;A<g;A++){const M=m[A];i.push(M.x,M.y,0),s.push(0,0,1),o.push(M.x,M.y)}for(let A=0,g=S.length;A<g;A++){const M=S[A],_=M[0]+f,b=M[1]+f,T=M[2]+f;r.push(_,b,T),l+=3}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),t=this.parameters.shapes;return xPe(t,e)}static fromJSON(e,t){const r=[];for(let i=0,s=e.shapes.length;i<s;i++){const o=t[e.shapes[i]];r.push(o)}return new NS(r,e.curveSegments)}}function xPe(n,e){if(e.shapes=[],Array.isArray(n))for(let t=0,r=n.length;t<r;t++){const i=n[t];e.shapes.push(i.uuid)}else e.shapes.push(n.uuid);return e}class Bx extends Qt{constructor(e=1,t=32,r=16,i=0,s=Math.PI*2,o=0,a=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:r,phiStart:i,phiLength:s,thetaStart:o,thetaLength:a},t=Math.max(3,Math.floor(t)),r=Math.max(2,Math.floor(r));const l=Math.min(o+a,Math.PI);let u=0;const h=[],f=new ie,p=new ie,m=[],v=[],S=[],A=[];for(let g=0;g<=r;g++){const M=[],_=g/r;let b=0;g===0&&o===0?b=.5/t:g===r&&l===Math.PI&&(b=-.5/t);for(let T=0;T<=t;T++){const C=T/t;f.x=-e*Math.cos(i+C*s)*Math.sin(o+_*a),f.y=e*Math.cos(o+_*a),f.z=e*Math.sin(i+C*s)*Math.sin(o+_*a),v.push(f.x,f.y,f.z),p.copy(f).normalize(),S.push(p.x,p.y,p.z),A.push(C+b,1-_),M.push(u++)}h.push(M)}for(let g=0;g<r;g++)for(let M=0;M<t;M++){const _=h[g][M+1],b=h[g][M],T=h[g+1][M],C=h[g+1][M+1];(g!==0||o>0)&&m.push(_,b,C),(g!==r-1||l<Math.PI)&&m.push(b,T,C)}this.setIndex(m),this.setAttribute("position",new Ct(v,3)),this.setAttribute("normal",new Ct(S,3)),this.setAttribute("uv",new Ct(A,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Bx(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class US extends Ph{constructor(e=1,t=0){const r=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],i=[2,1,0,0,3,2,1,3,0,2,3,1];super(r,i,e,t),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new US(e.radius,e.detail)}}class OS extends Qt{constructor(e=1,t=.4,r=12,i=48,s=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:t,radialSegments:r,tubularSegments:i,arc:s},r=Math.floor(r),i=Math.floor(i);const o=[],a=[],l=[],u=[],h=new ie,f=new ie,p=new ie;for(let m=0;m<=r;m++)for(let v=0;v<=i;v++){const S=v/i*s,A=m/r*Math.PI*2;f.x=(e+t*Math.cos(A))*Math.cos(S),f.y=(e+t*Math.cos(A))*Math.sin(S),f.z=t*Math.sin(A),a.push(f.x,f.y,f.z),h.x=e*Math.cos(S),h.y=e*Math.sin(S),p.subVectors(f,h).normalize(),l.push(p.x,p.y,p.z),u.push(v/i),u.push(m/r)}for(let m=1;m<=r;m++)for(let v=1;v<=i;v++){const S=(i+1)*m+v-1,A=(i+1)*(m-1)+v-1,g=(i+1)*(m-1)+v,M=(i+1)*m+v;o.push(S,A,M),o.push(A,g,M)}this.setIndex(o),this.setAttribute("position",new Ct(a,3)),this.setAttribute("normal",new Ct(l,3)),this.setAttribute("uv",new Ct(u,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new OS(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class kS extends Qt{constructor(e=1,t=.4,r=64,i=8,s=2,o=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:t,tubularSegments:r,radialSegments:i,p:s,q:o},r=Math.floor(r),i=Math.floor(i);const a=[],l=[],u=[],h=[],f=new ie,p=new ie,m=new ie,v=new ie,S=new ie,A=new ie,g=new ie;for(let _=0;_<=r;++_){const b=_/r*s*Math.PI*2;M(b,s,o,e,m),M(b+.01,s,o,e,v),A.subVectors(v,m),g.addVectors(v,m),S.crossVectors(A,g),g.crossVectors(S,A),S.normalize(),g.normalize();for(let T=0;T<=i;++T){const C=T/i*Math.PI*2,B=-t*Math.cos(C),P=t*Math.sin(C);f.x=m.x+(B*g.x+P*S.x),f.y=m.y+(B*g.y+P*S.y),f.z=m.z+(B*g.z+P*S.z),l.push(f.x,f.y,f.z),p.subVectors(f,m).normalize(),u.push(p.x,p.y,p.z),h.push(_/r),h.push(T/i)}}for(let _=1;_<=r;_++)for(let b=1;b<=i;b++){const T=(i+1)*(_-1)+(b-1),C=(i+1)*_+(b-1),B=(i+1)*_+b,P=(i+1)*(_-1)+b;a.push(T,C,P),a.push(C,B,P)}this.setIndex(a),this.setAttribute("position",new Ct(l,3)),this.setAttribute("normal",new Ct(u,3)),this.setAttribute("uv",new Ct(h,2));function M(_,b,T,C,B){const P=Math.cos(_),R=Math.sin(_),L=T/b*_,U=Math.cos(L);B.x=C*(2+U)*.5*P,B.y=C*(2+U)*R*.5,B.z=C*Math.sin(L)*.5}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new kS(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}class GS extends Qt{constructor(e=new kG(new ie(-1,-1,0),new ie(-1,1,0),new ie(1,1,0)),t=64,r=1,i=8,s=!1){super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:t,radius:r,radialSegments:i,closed:s};const o=e.computeFrenetFrames(t,s);this.tangents=o.tangents,this.normals=o.normals,this.binormals=o.binormals;const a=new ie,l=new ie,u=new Je;let h=new ie;const f=[],p=[],m=[],v=[];S(),this.setIndex(v),this.setAttribute("position",new Ct(f,3)),this.setAttribute("normal",new Ct(p,3)),this.setAttribute("uv",new Ct(m,2));function S(){for(let _=0;_<t;_++)A(_);A(s===!1?t:0),M(),g()}function A(_){h=e.getPointAt(_/t,h);const b=o.normals[_],T=o.binormals[_];for(let C=0;C<=i;C++){const B=C/i*Math.PI*2,P=Math.sin(B),R=-Math.cos(B);l.x=R*b.x+P*T.x,l.y=R*b.y+P*T.y,l.z=R*b.z+P*T.z,l.normalize(),p.push(l.x,l.y,l.z),a.x=h.x+r*l.x,a.y=h.y+r*l.y,a.z=h.z+r*l.z,f.push(a.x,a.y,a.z)}}function g(){for(let _=1;_<=t;_++)for(let b=1;b<=i;b++){const T=(i+1)*(_-1)+(b-1),C=(i+1)*_+(b-1),B=(i+1)*_+b,P=(i+1)*(_-1)+b;v.push(T,C,P),v.push(C,B,P)}}function M(){for(let _=0;_<=t;_++)for(let b=0;b<=i;b++)u.x=_/t,u.y=b/i,m.push(u.x,u.y)}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new GS(new zG[e.path.type]().fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class Ite extends Qt{constructor(e=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:e},e!==null){const t=[],r=new Set,i=new ie,s=new ie;if(e.index!==null){const o=e.attributes.position,a=e.index;let l=e.groups;l.length===0&&(l=[{start:0,count:a.count,materialIndex:0}]);for(let u=0,h=l.length;u<h;++u){const f=l[u],p=f.start,m=f.count;for(let v=p,S=p+m;v<S;v+=3)for(let A=0;A<3;A++){const g=a.getX(v+A),M=a.getX(v+(A+1)%3);i.fromBufferAttribute(o,g),s.fromBufferAttribute(o,M),F6(i,s,r)===!0&&(t.push(i.x,i.y,i.z),t.push(s.x,s.y,s.z))}}}else{const o=e.attributes.position;for(let a=0,l=o.count/3;a<l;a++)for(let u=0;u<3;u++){const h=3*a+u,f=3*a+(u+1)%3;i.fromBufferAttribute(o,h),s.fromBufferAttribute(o,f),F6(i,s,r)===!0&&(t.push(i.x,i.y,i.z),t.push(s.x,s.y,s.z))}}this.setAttribute("position",new Ct(t,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}function F6(n,e,t){const r=`${n.x},${n.y},${n.z}-${e.x},${e.y},${e.z}`,i=`${e.x},${e.y},${e.z}-${n.x},${n.y},${n.z}`;return t.has(r)===!0||t.has(i)===!0?!1:(t.add(r),t.add(i),!0)}var N6=Object.freeze({__proto__:null,BoxGeometry:Nf,CapsuleGeometry:RS,CircleGeometry:PS,ConeGeometry:BS,CylinderGeometry:Ag,DodecahedronGeometry:LS,EdgesGeometry:Rte,ExtrudeGeometry:IS,IcosahedronGeometry:DS,LatheGeometry:Rx,OctahedronGeometry:Px,PlaneGeometry:Tx,PolyhedronGeometry:Ph,RingGeometry:FS,ShapeGeometry:NS,SphereGeometry:Bx,TetrahedronGeometry:US,TorusGeometry:OS,TorusKnotGeometry:kS,TubeGeometry:GS,WireframeGeometry:Ite});class Dte extends hi{constructor(e){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new At(0),this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.fog=e.fog,this}}class Fte extends qu{constructor(e){super(e),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class zS extends hi{constructor(e){super(),this.isMeshStandardMaterial=!0,this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new At(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new At(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Ff,this.normalScale=new Je(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class tc extends zS{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.anisotropyRotation=0,this.anisotropyMap=null,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new Je(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return Hr(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(t){this.ior=(1+.4*t)/(1-.4*t)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new At(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new At(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new At(1,1,1),this.specularColorMap=null,this._anisotropy=0,this._clearcoat=0,this._iridescence=0,this._sheen=0,this._transmission=0,this.setValues(e)}get anisotropy(){return this._anisotropy}set anisotropy(e){this._anisotropy>0!=e>0&&this.version++,this._anisotropy=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.anisotropy=e.anisotropy,this.anisotropyRotation=e.anisotropyRotation,this.anisotropyMap=e.anisotropyMap,this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}class Nte extends hi{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new At(16777215),this.specular=new At(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new At(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Ff,this.normalScale=new Je(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=SS,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class Ute extends hi{constructor(e){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new At(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new At(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Ff,this.normalScale=new Je(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}class Ote extends hi{constructor(e){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Ff,this.normalScale=new Je(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}class kte extends hi{constructor(e){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new At(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new At(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Ff,this.normalScale=new Je(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=SS,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class Gte extends hi{constructor(e){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new At(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Ff,this.normalScale=new Je(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.flatShading=e.flatShading,this.fog=e.fog,this}}class zte extends Cs{constructor(e){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}function Fa(n,e,t){return HG(n)?new n.constructor(n.subarray(e,t!==void 0?t:n.length)):n.slice(e,t)}function Cm(n,e,t){return!n||!t&&n.constructor===e?n:typeof e.BYTES_PER_ELEMENT=="number"?new e(n):Array.prototype.slice.call(n)}function HG(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}function Hte(n){function e(i,s){return n[i]-n[s]}const t=n.length,r=new Array(t);for(let i=0;i!==t;++i)r[i]=i;return r.sort(e),r}function QF(n,e,t){const r=n.length,i=new n.constructor(r);for(let s=0,o=0;o!==r;++s){const a=t[s]*e;for(let l=0;l!==e;++l)i[o++]=n[a+l]}return i}function VG(n,e,t,r){let i=1,s=n[0];for(;s!==void 0&&s[r]===void 0;)s=n[i++];if(s===void 0)return;let o=s[r];if(o!==void 0)if(Array.isArray(o))do o=s[r],o!==void 0&&(e.push(s.time),t.push.apply(t,o)),s=n[i++];while(s!==void 0);else if(o.toArray!==void 0)do o=s[r],o!==void 0&&(e.push(s.time),o.toArray(t,t.length)),s=n[i++];while(s!==void 0);else do o=s[r],o!==void 0&&(e.push(s.time),t.push(o)),s=n[i++];while(s!==void 0)}function APe(n,e,t,r,i=30){const s=n.clone();s.name=e;const o=[];for(let l=0;l<s.tracks.length;++l){const u=s.tracks[l],h=u.getValueSize(),f=[],p=[];for(let m=0;m<u.times.length;++m){const v=u.times[m]*i;if(!(v<t||v>=r)){f.push(u.times[m]);for(let S=0;S<h;++S)p.push(u.values[m*h+S])}}f.length!==0&&(u.times=Cm(f,u.times.constructor),u.values=Cm(p,u.values.constructor),o.push(u))}s.tracks=o;let a=1/0;for(let l=0;l<s.tracks.length;++l)a>s.tracks[l].times[0]&&(a=s.tracks[l].times[0]);for(let l=0;l<s.tracks.length;++l)s.tracks[l].shift(-1*a);return s.resetDuration(),s}function _Pe(n,e=0,t=n,r=30){r<=0&&(r=30);const i=t.tracks.length,s=e/r;for(let o=0;o<i;++o){const a=t.tracks[o],l=a.ValueTypeName;if(l==="bool"||l==="string")continue;const u=n.tracks.find(function(g){return g.name===a.name&&g.ValueTypeName===l});if(u===void 0)continue;let h=0;const f=a.getValueSize();a.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(h=f/3);let p=0;const m=u.getValueSize();u.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(p=m/3);const v=a.times.length-1;let S;if(s<=a.times[0]){const g=h,M=f-h;S=Fa(a.values,g,M)}else if(s>=a.times[v]){const g=v*f+h,M=g+f-h;S=Fa(a.values,g,M)}else{const g=a.createInterpolant(),M=h,_=f-h;g.evaluate(s),S=Fa(g.resultBuffer,M,_)}l==="quaternion"&&new Wi().fromArray(S).normalize().conjugate().toArray(S);const A=u.times.length;for(let g=0;g<A;++g){const M=g*m+p;if(l==="quaternion")Wi.multiplyQuaternionsFlat(u.values,M,S,0,u.values,M);else{const _=m-p*2;for(let b=0;b<_;++b)u.values[M+b]-=S[b]}}}return n.blendMode=pG,n}const MPe={arraySlice:Fa,convertArray:Cm,isTypedArray:HG,getKeyframeOrder:Hte,sortedArray:QF,flattenJSON:VG,subclip:APe,makeClipAdditive:_Pe};class Lx{constructor(e,t,r,i){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=i!==void 0?i:new t.constructor(r),this.sampleValues=t,this.valueSize=r,this.settings=null,this.DefaultSettings_={}}evaluate(e){const t=this.parameterPositions;let r=this._cachedIndex,i=t[r],s=t[r-1];e:{t:{let o;n:{r:if(!(e<i)){for(let a=r+2;;){if(i===void 0){if(e<s)break r;return r=t.length,this._cachedIndex=r,this.copySampleValue_(r-1)}if(r===a)break;if(s=i,i=t[++r],e<i)break t}o=t.length;break n}if(!(e>=s)){const a=t[1];e<a&&(r=2,s=a);for(let l=r-2;;){if(s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(r===l)break;if(i=s,s=t[--r-1],e>=s)break t}o=r,r=0;break n}break e}for(;r<o;){const a=r+o>>>1;e<t[a]?o=a:r=a+1}if(i=t[r],s=t[r-1],s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(i===void 0)return r=t.length,this._cachedIndex=r,this.copySampleValue_(r-1)}this._cachedIndex=r,this.intervalChanged_(r,s,i)}return this.interpolate_(r,s,e,i)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const t=this.resultBuffer,r=this.sampleValues,i=this.valueSize,s=e*i;for(let o=0;o!==i;++o)t[o]=r[s+o];return t}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class Vte extends Lx{constructor(e,t,r,i){super(e,t,r,i),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:bm,endingEnd:bm}}intervalChanged_(e,t,r){const i=this.parameterPositions;let s=e-2,o=e+1,a=i[s],l=i[o];if(a===void 0)switch(this.getSettings_().endingStart){case wm:s=e,a=2*t-r;break;case LM:s=i.length-2,a=t+i[s]-i[s+1];break;default:s=e,a=r}if(l===void 0)switch(this.getSettings_().endingEnd){case wm:o=e,l=2*r-t;break;case LM:o=1,l=r+i[1]-i[0];break;default:o=e-1,l=t}const u=(r-t)*.5,h=this.valueSize;this._weightPrev=u/(t-a),this._weightNext=u/(l-r),this._offsetPrev=s*h,this._offsetNext=o*h}interpolate_(e,t,r,i){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=e*a,u=l-a,h=this._offsetPrev,f=this._offsetNext,p=this._weightPrev,m=this._weightNext,v=(r-t)/(i-t),S=v*v,A=S*v,g=-p*A+2*p*S-p*v,M=(1+p)*A+(-1.5-2*p)*S+(-.5+p)*v+1,_=(-1-m)*A+(1.5+m)*S+.5*v,b=m*A-m*S;for(let T=0;T!==a;++T)s[T]=g*o[h+T]+M*o[u+T]+_*o[l+T]+b*o[f+T];return s}}class WG extends Lx{constructor(e,t,r,i){super(e,t,r,i)}interpolate_(e,t,r,i){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=e*a,u=l-a,h=(r-t)/(i-t),f=1-h;for(let p=0;p!==a;++p)s[p]=o[u+p]*f+o[l+p]*h;return s}}class Wte extends Lx{constructor(e,t,r,i){super(e,t,r,i)}interpolate_(e){return this.copySampleValue_(e-1)}}class ql{constructor(e,t,r,i){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(t===void 0||t.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=Cm(t,this.TimeBufferType),this.values=Cm(r,this.ValueBufferType),this.setInterpolation(i||this.DefaultInterpolation)}static toJSON(e){const t=e.constructor;let r;if(t.toJSON!==this.toJSON)r=t.toJSON(e);else{r={name:e.name,times:Cm(e.times,Array),values:Cm(e.values,Array)};const i=e.getInterpolation();i!==e.DefaultInterpolation&&(r.interpolation=i)}return r.type=e.ValueTypeName,r}InterpolantFactoryMethodDiscrete(e){return new Wte(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new WG(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new Vte(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let t;switch(e){case $y:t=this.InterpolantFactoryMethodDiscrete;break;case ag:t=this.InterpolantFactoryMethodLinear;break;case _T:t=this.InterpolantFactoryMethodSmooth;break}if(t===void 0){const r="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(r);return console.warn("THREE.KeyframeTrack:",r),this}return this.createInterpolant=t,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return $y;case this.InterpolantFactoryMethodLinear:return ag;case this.InterpolantFactoryMethodSmooth:return _T}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){const t=this.times;for(let r=0,i=t.length;r!==i;++r)t[r]+=e}return this}scale(e){if(e!==1){const t=this.times;for(let r=0,i=t.length;r!==i;++r)t[r]*=e}return this}trim(e,t){const r=this.times,i=r.length;let s=0,o=i-1;for(;s!==i&&r[s]<e;)++s;for(;o!==-1&&r[o]>t;)--o;if(++o,s!==0||o!==i){s>=o&&(o=Math.max(o,1),s=o-1);const a=this.getValueSize();this.times=Fa(r,s,o),this.values=Fa(this.values,s*a,o*a)}return this}validate(){let e=!0;const t=this.getValueSize();t-Math.floor(t)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const r=this.times,i=this.values,s=r.length;s===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let o=null;for(let a=0;a!==s;a++){const l=r[a];if(typeof l=="number"&&isNaN(l)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,a,l),e=!1;break}if(o!==null&&o>l){console.error("THREE.KeyframeTrack: Out of order keys.",this,a,l,o),e=!1;break}o=l}if(i!==void 0&&HG(i))for(let a=0,l=i.length;a!==l;++a){const u=i[a];if(isNaN(u)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,a,u),e=!1;break}}return e}optimize(){const e=Fa(this.times),t=Fa(this.values),r=this.getValueSize(),i=this.getInterpolation()===_T,s=e.length-1;let o=1;for(let a=1;a<s;++a){let l=!1;const u=e[a],h=e[a+1];if(u!==h&&(a!==1||u!==e[0]))if(i)l=!0;else{const f=a*r,p=f-r,m=f+r;for(let v=0;v!==r;++v){const S=t[f+v];if(S!==t[p+v]||S!==t[m+v]){l=!0;break}}}if(l){if(a!==o){e[o]=e[a];const f=a*r,p=o*r;for(let m=0;m!==r;++m)t[p+m]=t[f+m]}++o}}if(s>0){e[o]=e[s];for(let a=s*r,l=o*r,u=0;u!==r;++u)t[l+u]=t[a+u];++o}return o!==e.length?(this.times=Fa(e,0,o),this.values=Fa(t,0,o*r)):(this.times=e,this.values=t),this}clone(){const e=Fa(this.times,0),t=Fa(this.values,0),r=this.constructor,i=new r(this.name,e,t);return i.createInterpolant=this.createInterpolant,i}}ql.prototype.TimeBufferType=Float32Array;ql.prototype.ValueBufferType=Float32Array;ql.prototype.DefaultInterpolation=ag;class _g extends ql{}_g.prototype.ValueTypeName="bool";_g.prototype.ValueBufferType=Array;_g.prototype.DefaultInterpolation=$y;_g.prototype.InterpolantFactoryMethodLinear=void 0;_g.prototype.InterpolantFactoryMethodSmooth=void 0;class jG extends ql{}jG.prototype.ValueTypeName="color";class rx extends ql{}rx.prototype.ValueTypeName="number";class jte extends Lx{constructor(e,t,r,i){super(e,t,r,i)}interpolate_(e,t,r,i){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=(r-t)/(i-t);let u=e*a;for(let h=u+a;u!==h;u+=4)Wi.slerpFlat(s,0,o,u-a,o,u,l);return s}}class Mf extends ql{InterpolantFactoryMethodLinear(e){return new jte(this.times,this.values,this.getValueSize(),e)}}Mf.prototype.ValueTypeName="quaternion";Mf.prototype.DefaultInterpolation=ag;Mf.prototype.InterpolantFactoryMethodSmooth=void 0;class Mg extends ql{}Mg.prototype.ValueTypeName="string";Mg.prototype.ValueBufferType=Array;Mg.prototype.DefaultInterpolation=$y;Mg.prototype.InterpolantFactoryMethodLinear=void 0;Mg.prototype.InterpolantFactoryMethodSmooth=void 0;class ix extends ql{}ix.prototype.ValueTypeName="vector";class sx{constructor(e,t=-1,r,i=dP){this.name=e,this.tracks=r,this.duration=t,this.blendMode=i,this.uuid=Qo(),this.duration<0&&this.resetDuration()}static parse(e){const t=[],r=e.tracks,i=1/(e.fps||1);for(let o=0,a=r.length;o!==a;++o)t.push(EPe(r[o]).scale(i));const s=new this(e.name,e.duration,t,e.blendMode);return s.uuid=e.uuid,s}static toJSON(e){const t=[],r=e.tracks,i={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid,blendMode:e.blendMode};for(let s=0,o=r.length;s!==o;++s)t.push(ql.toJSON(r[s]));return i}static CreateFromMorphTargetSequence(e,t,r,i){const s=t.length,o=[];for(let a=0;a<s;a++){let l=[],u=[];l.push((a+s-1)%s,a,(a+1)%s),u.push(0,1,0);const h=Hte(l);l=QF(l,1,h),u=QF(u,1,h),!i&&l[0]===0&&(l.push(s),u.push(u[0])),o.push(new rx(".morphTargetInfluences["+t[a].name+"]",l,u).scale(1/r))}return new this(e,-1,o)}static findByName(e,t){let r=e;if(!Array.isArray(e)){const i=e;r=i.geometry&&i.geometry.animations||i.animations}for(let i=0;i<r.length;i++)if(r[i].name===t)return r[i];return null}static CreateClipsFromMorphTargetSequences(e,t,r){const i={},s=/^([\w-]*?)([\d]+)$/;for(let a=0,l=e.length;a<l;a++){const u=e[a],h=u.name.match(s);if(h&&h.length>1){const f=h[1];let p=i[f];p||(i[f]=p=[]),p.push(u)}}const o=[];for(const a in i)o.push(this.CreateFromMorphTargetSequence(a,i[a],t,r));return o}static parseAnimation(e,t){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const r=function(f,p,m,v,S){if(m.length!==0){const A=[],g=[];VG(m,A,g,v),A.length!==0&&S.push(new f(p,A,g))}},i=[],s=e.name||"default",o=e.fps||30,a=e.blendMode;let l=e.length||-1;const u=e.hierarchy||[];for(let f=0;f<u.length;f++){const p=u[f].keys;if(!(!p||p.length===0))if(p[0].morphTargets){const m={};let v;for(v=0;v<p.length;v++)if(p[v].morphTargets)for(let S=0;S<p[v].morphTargets.length;S++)m[p[v].morphTargets[S]]=-1;for(const S in m){const A=[],g=[];for(let M=0;M!==p[v].morphTargets.length;++M){const _=p[v];A.push(_.time),g.push(_.morphTarget===S?1:0)}i.push(new rx(".morphTargetInfluence["+S+"]",A,g))}l=m.length*o}else{const m=".bones["+t[f].name+"]";r(ix,m+".position",p,"pos",i),r(Mf,m+".quaternion",p,"rot",i),r(ix,m+".scale",p,"scl",i)}}return i.length===0?null:new this(s,l,i,a)}resetDuration(){const e=this.tracks;let t=0;for(let r=0,i=e.length;r!==i;++r){const s=this.tracks[r];t=Math.max(t,s.times[s.times.length-1])}return this.duration=t,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let t=0;t<this.tracks.length;t++)e.push(this.tracks[t].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function SPe(n){switch(n.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return rx;case"vector":case"vector2":case"vector3":case"vector4":return ix;case"color":return jG;case"quaternion":return Mf;case"bool":case"boolean":return _g;case"string":return Mg}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+n)}function EPe(n){if(n.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=SPe(n.type);if(n.times===void 0){const t=[],r=[];VG(n.keys,t,r,"value"),n.times=t,n.values=r}return e.parse!==void 0?e.parse(n):new e(n.name,n.times,n.values,n.interpolation)}const ug={enabled:!1,files:{},add:function(n,e){this.enabled!==!1&&(this.files[n]=e)},get:function(n){if(this.enabled!==!1)return this.files[n]},remove:function(n){delete this.files[n]},clear:function(){this.files={}}};class XG{constructor(e,t,r){const i=this;let s=!1,o=0,a=0,l;const u=[];this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=r,this.itemStart=function(h){a++,s===!1&&i.onStart!==void 0&&i.onStart(h,o,a),s=!0},this.itemEnd=function(h){o++,i.onProgress!==void 0&&i.onProgress(h,o,a),o===a&&(s=!1,i.onLoad!==void 0&&i.onLoad())},this.itemError=function(h){i.onError!==void 0&&i.onError(h)},this.resolveURL=function(h){return l?l(h):h},this.setURLModifier=function(h){return l=h,this},this.addHandler=function(h,f){return u.push(h,f),this},this.removeHandler=function(h){const f=u.indexOf(h);return f!==-1&&u.splice(f,2),this},this.getHandler=function(h){for(let f=0,p=u.length;f<p;f+=2){const m=u[f],v=u[f+1];if(m.global&&(m.lastIndex=0),m.test(h))return v}return null}}}const Q0=new XG;let qs=class{constructor(e){this.manager=e!==void 0?e:Q0,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,t){const r=this;return new Promise(function(i,s){r.load(e,i,t,s)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}};const Wc={};class bPe extends Error{constructor(e,t){super(e),this.response=t}}class na extends qs{constructor(e){super(e)}load(e,t,r,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=ug.get(e);if(s!==void 0)return this.manager.itemStart(e),setTimeout(()=>{t&&t(s),this.manager.itemEnd(e)},0),s;if(Wc[e]!==void 0){Wc[e].push({onLoad:t,onProgress:r,onError:i});return}Wc[e]=[],Wc[e].push({onLoad:t,onProgress:r,onError:i});const o=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),a=this.mimeType,l=this.responseType;fetch(o).then(u=>{if(u.status===200||u.status===0){if(u.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||u.body===void 0||u.body.getReader===void 0)return u;const h=Wc[e],f=u.body.getReader(),p=u.headers.get("Content-Length")||u.headers.get("X-File-Size"),m=p?parseInt(p):0,v=m!==0;let S=0;const A=new ReadableStream({start(g){M();function M(){f.read().then(({done:_,value:b})=>{if(_)g.close();else{S+=b.byteLength;const T=new ProgressEvent("progress",{lengthComputable:v,loaded:S,total:m});for(let C=0,B=h.length;C<B;C++){const P=h[C];P.onProgress&&P.onProgress(T)}g.enqueue(b),M()}})}}});return new Response(A)}else throw new bPe(`fetch for "${u.url}" responded with ${u.status}: ${u.statusText}`,u)}).then(u=>{switch(l){case"arraybuffer":return u.arrayBuffer();case"blob":return u.blob();case"document":return u.text().then(h=>new DOMParser().parseFromString(h,a));case"json":return u.json();default:if(a===void 0)return u.text();{const f=/charset="?([^;"\s]*)"?/i.exec(a),p=f&&f[1]?f[1].toLowerCase():void 0,m=new TextDecoder(p);return u.arrayBuffer().then(v=>m.decode(v))}}}).then(u=>{ug.add(e,u);const h=Wc[e];delete Wc[e];for(let f=0,p=h.length;f<p;f++){const m=h[f];m.onLoad&&m.onLoad(u)}}).catch(u=>{const h=Wc[e];if(h===void 0)throw this.manager.itemError(e),u;delete Wc[e];for(let f=0,p=h.length;f<p;f++){const m=h[f];m.onError&&m.onError(u)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}}class wPe extends qs{constructor(e){super(e)}load(e,t,r,i){const s=this,o=new na(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(a){try{t(s.parse(JSON.parse(a)))}catch(l){i?i(l):console.error(l),s.manager.itemError(e)}},r,i)}parse(e){const t=[];for(let r=0;r<e.length;r++){const i=sx.parse(e[r]);t.push(i)}return t}}class TPe extends qs{constructor(e){super(e)}load(e,t,r,i){const s=this,o=[],a=new FG,l=new na(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(s.withCredentials);let u=0;function h(f){l.load(e[f],function(p){const m=s.parse(p,!0);o[f]={width:m.width,height:m.height,format:m.format,mipmaps:m.mipmaps},u+=1,u===6&&(m.mipmapCount===1&&(a.minFilter=_r),a.image=o,a.format=m.format,a.needsUpdate=!0,t&&t(a))},r,i)}if(Array.isArray(e))for(let f=0,p=e.length;f<p;++f)h(f);else l.load(e,function(f){const p=s.parse(f,!0);if(p.isCubemap){const m=p.mipmaps.length/p.mipmapCount;for(let v=0;v<m;v++){o[v]={mipmaps:[]};for(let S=0;S<p.mipmapCount;S++)o[v].mipmaps.push(p.mipmaps[v*p.mipmapCount+S]),o[v].format=p.format,o[v].width=p.width,o[v].height=p.height}a.image=o}else a.image.width=p.width,a.image.height=p.height,a.mipmaps=p.mipmaps;p.mipmapCount===1&&(a.minFilter=_r),a.format=p.format,a.needsUpdate=!0,t&&t(a)},r,i);return a}}class GM extends qs{constructor(e){super(e)}load(e,t,r,i){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,o=ug.get(e);if(o!==void 0)return s.manager.itemStart(e),setTimeout(function(){t&&t(o),s.manager.itemEnd(e)},0),o;const a=FM("img");function l(){h(),ug.add(e,this),t&&t(this),s.manager.itemEnd(e)}function u(f){h(),i&&i(f),s.manager.itemError(e),s.manager.itemEnd(e)}function h(){a.removeEventListener("load",l,!1),a.removeEventListener("error",u,!1)}return a.addEventListener("load",l,!1),a.addEventListener("error",u,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(a.crossOrigin=this.crossOrigin),s.manager.itemStart(e),a.src=e,a}}class CPe extends qs{constructor(e){super(e)}load(e,t,r,i){const s=new bS;s.colorSpace=Zt;const o=new GM(this.manager);o.setCrossOrigin(this.crossOrigin),o.setPath(this.path);let a=0;function l(u){o.load(e[u],function(h){s.images[u]=h,a++,a===6&&(s.needsUpdate=!0,t&&t(s))},void 0,i)}for(let u=0;u<e.length;++u)l(u);return s}}class RPe extends qs{constructor(e){super(e)}load(e,t,r,i){const s=this,o=new My,a=new na(this.manager);return a.setResponseType("arraybuffer"),a.setRequestHeader(this.requestHeader),a.setPath(this.path),a.setWithCredentials(s.withCredentials),a.load(e,function(l){const u=s.parse(l);u&&(u.image!==void 0?o.image=u.image:u.data!==void 0&&(o.image.width=u.width,o.image.height=u.height,o.image.data=u.data),o.wrapS=u.wrapS!==void 0?u.wrapS:ss,o.wrapT=u.wrapT!==void 0?u.wrapT:ss,o.magFilter=u.magFilter!==void 0?u.magFilter:_r,o.minFilter=u.minFilter!==void 0?u.minFilter:_r,o.anisotropy=u.anisotropy!==void 0?u.anisotropy:1,u.colorSpace!==void 0?o.colorSpace=u.colorSpace:u.encoding!==void 0&&(o.encoding=u.encoding),u.flipY!==void 0&&(o.flipY=u.flipY),u.format!==void 0&&(o.format=u.format),u.type!==void 0&&(o.type=u.type),u.mipmaps!==void 0&&(o.mipmaps=u.mipmaps,o.minFilter=Qu),u.mipmapCount===1&&(o.minFilter=_r),u.generateMipmaps!==void 0&&(o.generateMipmaps=u.generateMipmaps),o.needsUpdate=!0,t&&t(o,u))},r,i),o}}class HS extends qs{constructor(e){super(e)}load(e,t,r,i){const s=new fr,o=new GM(this.manager);return o.setCrossOrigin(this.crossOrigin),o.setPath(this.path),o.load(e,function(a){s.image=a,s.needsUpdate=!0,t!==void 0&&t(s)},r,i),s}}class Uf extends Sn{constructor(e,t=1){super(),this.isLight=!0,this.type="Light",this.color=new At(e),this.intensity=t}dispose(){}copy(e,t){return super.copy(e,t),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const t=super.toJSON(e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,this.groundColor!==void 0&&(t.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(t.object.distance=this.distance),this.angle!==void 0&&(t.object.angle=this.angle),this.decay!==void 0&&(t.object.decay=this.decay),this.penumbra!==void 0&&(t.object.penumbra=this.penumbra),this.shadow!==void 0&&(t.object.shadow=this.shadow.toJSON()),t}}class Xte extends Uf{constructor(e,t,r){super(e,r),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(Sn.DEFAULT_UP),this.updateMatrix(),this.groundColor=new At(t)}copy(e,t){return super.copy(e,t),this.groundColor.copy(e.groundColor),this}}const LL=new Ht,U6=new ie,O6=new ie;class JG{constructor(e){this.camera=e,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new Je(512,512),this.map=null,this.mapPass=null,this.matrix=new Ht,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new pP,this._frameExtents=new Je(1,1),this._viewportCount=1,this._viewports=[new Gn(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const t=this.camera,r=this.matrix;U6.setFromMatrixPosition(e.matrixWorld),t.position.copy(U6),O6.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(O6),t.updateMatrixWorld(),LL.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(LL),r.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),r.multiply(LL)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class PPe extends JG{constructor(){super(new hr(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(e){const t=this.camera,r=ex*2*e.angle*this.focus,i=this.mapSize.width/this.mapSize.height,s=e.distance||t.far;(r!==t.fov||i!==t.aspect||s!==t.far)&&(t.fov=r,t.aspect=i,t.far=s,t.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class YG extends Uf{constructor(e,t,r=0,i=Math.PI/3,s=0,o=2){super(e,t),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(Sn.DEFAULT_UP),this.updateMatrix(),this.target=new Sn,this.distance=r,this.angle=i,this.penumbra=s,this.decay=o,this.map=null,this.shadow=new PPe}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}const k6=new Ht,b1=new ie,IL=new ie;class BPe extends JG{constructor(){super(new hr(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new Je(4,2),this._viewportCount=6,this._viewports=[new Gn(2,1,1,1),new Gn(0,1,1,1),new Gn(3,1,1,1),new Gn(1,1,1,1),new Gn(3,0,1,1),new Gn(1,0,1,1)],this._cubeDirections=[new ie(1,0,0),new ie(-1,0,0),new ie(0,0,1),new ie(0,0,-1),new ie(0,1,0),new ie(0,-1,0)],this._cubeUps=[new ie(0,1,0),new ie(0,1,0),new ie(0,1,0),new ie(0,1,0),new ie(0,0,1),new ie(0,0,-1)]}updateMatrices(e,t=0){const r=this.camera,i=this.matrix,s=e.distance||r.far;s!==r.far&&(r.far=s,r.updateProjectionMatrix()),b1.setFromMatrixPosition(e.matrixWorld),r.position.copy(b1),IL.copy(r.position),IL.add(this._cubeDirections[t]),r.up.copy(this._cubeUps[t]),r.lookAt(IL),r.updateMatrixWorld(),i.makeTranslation(-b1.x,-b1.y,-b1.z),k6.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),this._frustum.setFromProjectionMatrix(k6)}}class KG extends Uf{constructor(e,t,r=0,i=2){super(e,t),this.isPointLight=!0,this.type="PointLight",this.distance=r,this.decay=i,this.shadow=new BPe}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}class LPe extends JG{constructor(){super(new Ul(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class QG extends Uf{constructor(e,t){super(e,t),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(Sn.DEFAULT_UP),this.updateMatrix(),this.target=new Sn,this.shadow=new LPe}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class Jte extends Uf{constructor(e,t){super(e,t),this.isAmbientLight=!0,this.type="AmbientLight"}}class Yte extends Uf{constructor(e,t,r=10,i=10){super(e,t),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=r,this.height=i}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const t=super.toJSON(e);return t.object.width=this.width,t.object.height=this.height,t}}class Kte{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new ie)}set(e){for(let t=0;t<9;t++)this.coefficients[t].copy(e[t]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,t){const r=e.x,i=e.y,s=e.z,o=this.coefficients;return t.copy(o[0]).multiplyScalar(.282095),t.addScaledVector(o[1],.488603*i),t.addScaledVector(o[2],.488603*s),t.addScaledVector(o[3],.488603*r),t.addScaledVector(o[4],1.092548*(r*i)),t.addScaledVector(o[5],1.092548*(i*s)),t.addScaledVector(o[6],.315392*(3*s*s-1)),t.addScaledVector(o[7],1.092548*(r*s)),t.addScaledVector(o[8],.546274*(r*r-i*i)),t}getIrradianceAt(e,t){const r=e.x,i=e.y,s=e.z,o=this.coefficients;return t.copy(o[0]).multiplyScalar(.886227),t.addScaledVector(o[1],2*.511664*i),t.addScaledVector(o[2],2*.511664*s),t.addScaledVector(o[3],2*.511664*r),t.addScaledVector(o[4],2*.429043*r*i),t.addScaledVector(o[5],2*.429043*i*s),t.addScaledVector(o[6],.743125*s*s-.247708),t.addScaledVector(o[7],2*.429043*r*s),t.addScaledVector(o[8],.429043*(r*r-i*i)),t}add(e){for(let t=0;t<9;t++)this.coefficients[t].add(e.coefficients[t]);return this}addScaledSH(e,t){for(let r=0;r<9;r++)this.coefficients[r].addScaledVector(e.coefficients[r],t);return this}scale(e){for(let t=0;t<9;t++)this.coefficients[t].multiplyScalar(e);return this}lerp(e,t){for(let r=0;r<9;r++)this.coefficients[r].lerp(e.coefficients[r],t);return this}equals(e){for(let t=0;t<9;t++)if(!this.coefficients[t].equals(e.coefficients[t]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(e,t=0){const r=this.coefficients;for(let i=0;i<9;i++)r[i].fromArray(e,t+i*3);return this}toArray(e=[],t=0){const r=this.coefficients;for(let i=0;i<9;i++)r[i].toArray(e,t+i*3);return e}static getBasisAt(e,t){const r=e.x,i=e.y,s=e.z;t[0]=.282095,t[1]=.488603*i,t[2]=.488603*s,t[3]=.488603*r,t[4]=1.092548*r*i,t[5]=1.092548*i*s,t[6]=.315392*(3*s*s-1),t[7]=1.092548*r*s,t[8]=.546274*(r*r-i*i)}}class MP extends Uf{constructor(e=new Kte,t=1){super(void 0,t),this.isLightProbe=!0,this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){const t=super.toJSON(e);return t.object.sh=this.sh.toArray(),t}}class SP extends qs{constructor(e){super(e),this.textures={}}load(e,t,r,i){const s=this,o=new na(s.manager);o.setPath(s.path),o.setRequestHeader(s.requestHeader),o.setWithCredentials(s.withCredentials),o.load(e,function(a){try{t(s.parse(JSON.parse(a)))}catch(l){i?i(l):console.error(l),s.manager.itemError(e)}},r,i)}parse(e){const t=this.textures;function r(s){return t[s]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",s),t[s]}const i=SP.createMaterialFromType(e.type);if(e.uuid!==void 0&&(i.uuid=e.uuid),e.name!==void 0&&(i.name=e.name),e.color!==void 0&&i.color!==void 0&&i.color.setHex(e.color),e.roughness!==void 0&&(i.roughness=e.roughness),e.metalness!==void 0&&(i.metalness=e.metalness),e.sheen!==void 0&&(i.sheen=e.sheen),e.sheenColor!==void 0&&(i.sheenColor=new At().setHex(e.sheenColor)),e.sheenRoughness!==void 0&&(i.sheenRoughness=e.sheenRoughness),e.emissive!==void 0&&i.emissive!==void 0&&i.emissive.setHex(e.emissive),e.specular!==void 0&&i.specular!==void 0&&i.specular.setHex(e.specular),e.specularIntensity!==void 0&&(i.specularIntensity=e.specularIntensity),e.specularColor!==void 0&&i.specularColor!==void 0&&i.specularColor.setHex(e.specularColor),e.shininess!==void 0&&(i.shininess=e.shininess),e.clearcoat!==void 0&&(i.clearcoat=e.clearcoat),e.clearcoatRoughness!==void 0&&(i.clearcoatRoughness=e.clearcoatRoughness),e.iridescence!==void 0&&(i.iridescence=e.iridescence),e.iridescenceIOR!==void 0&&(i.iridescenceIOR=e.iridescenceIOR),e.iridescenceThicknessRange!==void 0&&(i.iridescenceThicknessRange=e.iridescenceThicknessRange),e.transmission!==void 0&&(i.transmission=e.transmission),e.thickness!==void 0&&(i.thickness=e.thickness),e.attenuationDistance!==void 0&&(i.attenuationDistance=e.attenuationDistance),e.attenuationColor!==void 0&&i.attenuationColor!==void 0&&i.attenuationColor.setHex(e.attenuationColor),e.anisotropy!==void 0&&(i.anisotropy=e.anisotropy),e.anisotropyRotation!==void 0&&(i.anisotropyRotation=e.anisotropyRotation),e.fog!==void 0&&(i.fog=e.fog),e.flatShading!==void 0&&(i.flatShading=e.flatShading),e.blending!==void 0&&(i.blending=e.blending),e.combine!==void 0&&(i.combine=e.combine),e.side!==void 0&&(i.side=e.side),e.shadowSide!==void 0&&(i.shadowSide=e.shadowSide),e.opacity!==void 0&&(i.opacity=e.opacity),e.transparent!==void 0&&(i.transparent=e.transparent),e.alphaTest!==void 0&&(i.alphaTest=e.alphaTest),e.depthTest!==void 0&&(i.depthTest=e.depthTest),e.depthWrite!==void 0&&(i.depthWrite=e.depthWrite),e.colorWrite!==void 0&&(i.colorWrite=e.colorWrite),e.stencilWrite!==void 0&&(i.stencilWrite=e.stencilWrite),e.stencilWriteMask!==void 0&&(i.stencilWriteMask=e.stencilWriteMask),e.stencilFunc!==void 0&&(i.stencilFunc=e.stencilFunc),e.stencilRef!==void 0&&(i.stencilRef=e.stencilRef),e.stencilFuncMask!==void 0&&(i.stencilFuncMask=e.stencilFuncMask),e.stencilFail!==void 0&&(i.stencilFail=e.stencilFail),e.stencilZFail!==void 0&&(i.stencilZFail=e.stencilZFail),e.stencilZPass!==void 0&&(i.stencilZPass=e.stencilZPass),e.wireframe!==void 0&&(i.wireframe=e.wireframe),e.wireframeLinewidth!==void 0&&(i.wireframeLinewidth=e.wireframeLinewidth),e.wireframeLinecap!==void 0&&(i.wireframeLinecap=e.wireframeLinecap),e.wireframeLinejoin!==void 0&&(i.wireframeLinejoin=e.wireframeLinejoin),e.rotation!==void 0&&(i.rotation=e.rotation),e.linewidth!==1&&(i.linewidth=e.linewidth),e.dashSize!==void 0&&(i.dashSize=e.dashSize),e.gapSize!==void 0&&(i.gapSize=e.gapSize),e.scale!==void 0&&(i.scale=e.scale),e.polygonOffset!==void 0&&(i.polygonOffset=e.polygonOffset),e.polygonOffsetFactor!==void 0&&(i.polygonOffsetFactor=e.polygonOffsetFactor),e.polygonOffsetUnits!==void 0&&(i.polygonOffsetUnits=e.polygonOffsetUnits),e.dithering!==void 0&&(i.dithering=e.dithering),e.alphaToCoverage!==void 0&&(i.alphaToCoverage=e.alphaToCoverage),e.premultipliedAlpha!==void 0&&(i.premultipliedAlpha=e.premultipliedAlpha),e.forceSinglePass!==void 0&&(i.forceSinglePass=e.forceSinglePass),e.visible!==void 0&&(i.visible=e.visible),e.toneMapped!==void 0&&(i.toneMapped=e.toneMapped),e.userData!==void 0&&(i.userData=e.userData),e.vertexColors!==void 0&&(typeof e.vertexColors=="number"?i.vertexColors=e.vertexColors>0:i.vertexColors=e.vertexColors),e.uniforms!==void 0)for(const s in e.uniforms){const o=e.uniforms[s];switch(i.uniforms[s]={},o.type){case"t":i.uniforms[s].value=r(o.value);break;case"c":i.uniforms[s].value=new At().setHex(o.value);break;case"v2":i.uniforms[s].value=new Je().fromArray(o.value);break;case"v3":i.uniforms[s].value=new ie().fromArray(o.value);break;case"v4":i.uniforms[s].value=new Gn().fromArray(o.value);break;case"m3":i.uniforms[s].value=new on().fromArray(o.value);break;case"m4":i.uniforms[s].value=new Ht().fromArray(o.value);break;default:i.uniforms[s].value=o.value}}if(e.defines!==void 0&&(i.defines=e.defines),e.vertexShader!==void 0&&(i.vertexShader=e.vertexShader),e.fragmentShader!==void 0&&(i.fragmentShader=e.fragmentShader),e.glslVersion!==void 0&&(i.glslVersion=e.glslVersion),e.extensions!==void 0)for(const s in e.extensions)i.extensions[s]=e.extensions[s];if(e.lights!==void 0&&(i.lights=e.lights),e.clipping!==void 0&&(i.clipping=e.clipping),e.size!==void 0&&(i.size=e.size),e.sizeAttenuation!==void 0&&(i.sizeAttenuation=e.sizeAttenuation),e.map!==void 0&&(i.map=r(e.map)),e.matcap!==void 0&&(i.matcap=r(e.matcap)),e.alphaMap!==void 0&&(i.alphaMap=r(e.alphaMap)),e.bumpMap!==void 0&&(i.bumpMap=r(e.bumpMap)),e.bumpScale!==void 0&&(i.bumpScale=e.bumpScale),e.normalMap!==void 0&&(i.normalMap=r(e.normalMap)),e.normalMapType!==void 0&&(i.normalMapType=e.normalMapType),e.normalScale!==void 0){let s=e.normalScale;Array.isArray(s)===!1&&(s=[s,s]),i.normalScale=new Je().fromArray(s)}return e.displacementMap!==void 0&&(i.displacementMap=r(e.displacementMap)),e.displacementScale!==void 0&&(i.displacementScale=e.displacementScale),e.displacementBias!==void 0&&(i.displacementBias=e.displacementBias),e.roughnessMap!==void 0&&(i.roughnessMap=r(e.roughnessMap)),e.metalnessMap!==void 0&&(i.metalnessMap=r(e.metalnessMap)),e.emissiveMap!==void 0&&(i.emissiveMap=r(e.emissiveMap)),e.emissiveIntensity!==void 0&&(i.emissiveIntensity=e.emissiveIntensity),e.specularMap!==void 0&&(i.specularMap=r(e.specularMap)),e.specularIntensityMap!==void 0&&(i.specularIntensityMap=r(e.specularIntensityMap)),e.specularColorMap!==void 0&&(i.specularColorMap=r(e.specularColorMap)),e.envMap!==void 0&&(i.envMap=r(e.envMap)),e.envMapIntensity!==void 0&&(i.envMapIntensity=e.envMapIntensity),e.reflectivity!==void 0&&(i.reflectivity=e.reflectivity),e.refractionRatio!==void 0&&(i.refractionRatio=e.refractionRatio),e.lightMap!==void 0&&(i.lightMap=r(e.lightMap)),e.lightMapIntensity!==void 0&&(i.lightMapIntensity=e.lightMapIntensity),e.aoMap!==void 0&&(i.aoMap=r(e.aoMap)),e.aoMapIntensity!==void 0&&(i.aoMapIntensity=e.aoMapIntensity),e.gradientMap!==void 0&&(i.gradientMap=r(e.gradientMap)),e.clearcoatMap!==void 0&&(i.clearcoatMap=r(e.clearcoatMap)),e.clearcoatRoughnessMap!==void 0&&(i.clearcoatRoughnessMap=r(e.clearcoatRoughnessMap)),e.clearcoatNormalMap!==void 0&&(i.clearcoatNormalMap=r(e.clearcoatNormalMap)),e.clearcoatNormalScale!==void 0&&(i.clearcoatNormalScale=new Je().fromArray(e.clearcoatNormalScale)),e.iridescenceMap!==void 0&&(i.iridescenceMap=r(e.iridescenceMap)),e.iridescenceThicknessMap!==void 0&&(i.iridescenceThicknessMap=r(e.iridescenceThicknessMap)),e.transmissionMap!==void 0&&(i.transmissionMap=r(e.transmissionMap)),e.thicknessMap!==void 0&&(i.thicknessMap=r(e.thicknessMap)),e.anisotropyMap!==void 0&&(i.anisotropyMap=r(e.anisotropyMap)),e.sheenColorMap!==void 0&&(i.sheenColorMap=r(e.sheenColorMap)),e.sheenRoughnessMap!==void 0&&(i.sheenRoughnessMap=r(e.sheenRoughnessMap)),i}setTextures(e){return this.textures=e,this}static createMaterialFromType(e){const t={ShadowMaterial:Dte,SpriteMaterial:PG,RawShaderMaterial:Fte,ShaderMaterial:qu,PointsMaterial:CS,MeshPhysicalMaterial:tc,MeshStandardMaterial:zS,MeshPhongMaterial:Nte,MeshToonMaterial:Ute,MeshNormalMaterial:Ote,MeshLambertMaterial:kte,MeshDepthMaterial:TG,MeshDistanceMaterial:CG,MeshBasicMaterial:Xo,MeshMatcapMaterial:Gte,LineDashedMaterial:zte,LineBasicMaterial:Cs,Material:hi};return new t[e]}}class Wu{static decodeText(e){if(typeof TextDecoder<"u")return new TextDecoder().decode(e);let t="";for(let r=0,i=e.length;r<i;r++)t+=String.fromCharCode(e[r]);try{return decodeURIComponent(escape(t))}catch{return t}}static extractUrlBase(e){const t=e.lastIndexOf("/");return t===-1?"./":e.slice(0,t+1)}static resolveURL(e,t){return typeof e!="string"||e===""?"":(/^https?:\/\//i.test(t)&&/^\//.test(e)&&(t=t.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:t+e)}}class Qte extends Qt{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}toJSON(){const e=super.toJSON();return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}class qte extends qs{constructor(e){super(e)}load(e,t,r,i){const s=this,o=new na(s.manager);o.setPath(s.path),o.setRequestHeader(s.requestHeader),o.setWithCredentials(s.withCredentials),o.load(e,function(a){try{t(s.parse(JSON.parse(a)))}catch(l){i?i(l):console.error(l),s.manager.itemError(e)}},r,i)}parse(e){const t={},r={};function i(m,v){if(t[v]!==void 0)return t[v];const A=m.interleavedBuffers[v],g=s(m,A.buffer),M=J0(A.type,g),_=new wS(M,A.stride);return _.uuid=A.uuid,t[v]=_,_}function s(m,v){if(r[v]!==void 0)return r[v];const A=m.arrayBuffers[v],g=new Uint32Array(A).buffer;return r[v]=g,g}const o=e.isInstancedBufferGeometry?new Qte:new Qt,a=e.data.index;if(a!==void 0){const m=J0(a.type,a.array);o.setIndex(new Bn(m,1))}const l=e.data.attributes;for(const m in l){const v=l[m];let S;if(v.isInterleavedBufferAttribute){const A=i(e.data,v.data);S=new _f(A,v.itemSize,v.offset,v.normalized)}else{const A=J0(v.type,v.array),g=v.isInstancedBufferAttribute?nx:Bn;S=new g(A,v.itemSize,v.normalized)}v.name!==void 0&&(S.name=v.name),v.usage!==void 0&&S.setUsage(v.usage),v.updateRange!==void 0&&(S.updateRange.offset=v.updateRange.offset,S.updateRange.count=v.updateRange.count),o.setAttribute(m,S)}const u=e.data.morphAttributes;if(u)for(const m in u){const v=u[m],S=[];for(let A=0,g=v.length;A<g;A++){const M=v[A];let _;if(M.isInterleavedBufferAttribute){const b=i(e.data,M.data);_=new _f(b,M.itemSize,M.offset,M.normalized)}else{const b=J0(M.type,M.array);_=new Bn(b,M.itemSize,M.normalized)}M.name!==void 0&&(_.name=M.name),S.push(_)}o.morphAttributes[m]=S}e.data.morphTargetsRelative&&(o.morphTargetsRelative=!0);const f=e.data.groups||e.data.drawcalls||e.data.offsets;if(f!==void 0)for(let m=0,v=f.length;m!==v;++m){const S=f[m];o.addGroup(S.start,S.count,S.materialIndex)}const p=e.data.boundingSphere;if(p!==void 0){const m=new ie;p.center!==void 0&&m.fromArray(p.center),o.boundingSphere=new $a(m,p.radius)}return e.name&&(o.name=e.name),e.userData&&(o.userData=e.userData),o}}class IPe extends qs{constructor(e){super(e)}load(e,t,r,i){const s=this,o=this.path===""?Wu.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||o;const a=new na(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,function(l){let u=null;try{u=JSON.parse(l)}catch(f){i!==void 0&&i(f),console.error("THREE:ObjectLoader: Can't parse "+e+".",f.message);return}const h=u.metadata;if(h===void 0||h.type===void 0||h.type.toLowerCase()==="geometry"){i!==void 0&&i(new Error("THREE.ObjectLoader: Can't load "+e)),console.error("THREE.ObjectLoader: Can't load "+e);return}s.parse(u,t)},r,i)}async loadAsync(e,t){const r=this,i=this.path===""?Wu.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||i;const s=new na(this.manager);s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials);const o=await s.loadAsync(e,t),a=JSON.parse(o),l=a.metadata;if(l===void 0||l.type===void 0||l.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+e);return await r.parseAsync(a)}parse(e,t){const r=this.parseAnimations(e.animations),i=this.parseShapes(e.shapes),s=this.parseGeometries(e.geometries,i),o=this.parseImages(e.images,function(){t!==void 0&&t(u)}),a=this.parseTextures(e.textures,o),l=this.parseMaterials(e.materials,a),u=this.parseObject(e.object,s,l,a,r),h=this.parseSkeletons(e.skeletons,u);if(this.bindSkeletons(u,h),t!==void 0){let f=!1;for(const p in o)if(o[p].data instanceof HTMLImageElement){f=!0;break}f===!1&&t(u)}return u}async parseAsync(e){const t=this.parseAnimations(e.animations),r=this.parseShapes(e.shapes),i=this.parseGeometries(e.geometries,r),s=await this.parseImagesAsync(e.images),o=this.parseTextures(e.textures,s),a=this.parseMaterials(e.materials,o),l=this.parseObject(e.object,i,a,o,t),u=this.parseSkeletons(e.skeletons,l);return this.bindSkeletons(l,u),l}parseShapes(e){const t={};if(e!==void 0)for(let r=0,i=e.length;r<i;r++){const s=new jm().fromJSON(e[r]);t[s.uuid]=s}return t}parseSkeletons(e,t){const r={},i={};if(t.traverse(function(s){s.isBone&&(i[s.uuid]=s)}),e!==void 0)for(let s=0,o=e.length;s<o;s++){const a=new TS().fromJSON(e[s],i);r[a.uuid]=a}return r}parseGeometries(e,t){const r={};if(e!==void 0){const i=new qte;for(let s=0,o=e.length;s<o;s++){let a;const l=e[s];switch(l.type){case"BufferGeometry":case"InstancedBufferGeometry":a=i.parse(l);break;default:l.type in N6?a=N6[l.type].fromJSON(l,t):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${l.type}"`)}a.uuid=l.uuid,l.name!==void 0&&(a.name=l.name),l.userData!==void 0&&(a.userData=l.userData),r[l.uuid]=a}}return r}parseMaterials(e,t){const r={},i={};if(e!==void 0){const s=new SP;s.setTextures(t);for(let o=0,a=e.length;o<a;o++){const l=e[o];r[l.uuid]===void 0&&(r[l.uuid]=s.parse(l)),i[l.uuid]=r[l.uuid]}}return i}parseAnimations(e){const t={};if(e!==void 0)for(let r=0;r<e.length;r++){const i=e[r],s=sx.parse(i);t[s.uuid]=s}return t}parseImages(e,t){const r=this,i={};let s;function o(l){return r.manager.itemStart(l),s.load(l,function(){r.manager.itemEnd(l)},void 0,function(){r.manager.itemError(l),r.manager.itemEnd(l)})}function a(l){if(typeof l=="string"){const u=l,h=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(u)?u:r.resourcePath+u;return o(h)}else return l.data?{data:J0(l.type,l.data),width:l.width,height:l.height}:null}if(e!==void 0&&e.length>0){const l=new XG(t);s=new GM(l),s.setCrossOrigin(this.crossOrigin);for(let u=0,h=e.length;u<h;u++){const f=e[u],p=f.url;if(Array.isArray(p)){const m=[];for(let v=0,S=p.length;v<S;v++){const A=p[v],g=a(A);g!==null&&(g instanceof HTMLImageElement?m.push(g):m.push(new My(g.data,g.width,g.height)))}i[f.uuid]=new Tm(m)}else{const m=a(f.url);i[f.uuid]=new Tm(m)}}}return i}async parseImagesAsync(e){const t=this,r={};let i;async function s(o){if(typeof o=="string"){const a=o,l=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(a)?a:t.resourcePath+a;return await i.loadAsync(l)}else return o.data?{data:J0(o.type,o.data),width:o.width,height:o.height}:null}if(e!==void 0&&e.length>0){i=new GM(this.manager),i.setCrossOrigin(this.crossOrigin);for(let o=0,a=e.length;o<a;o++){const l=e[o],u=l.url;if(Array.isArray(u)){const h=[];for(let f=0,p=u.length;f<p;f++){const m=u[f],v=await s(m);v!==null&&(v instanceof HTMLImageElement?h.push(v):h.push(new My(v.data,v.width,v.height)))}r[l.uuid]=new Tm(h)}else{const h=await s(l.url);r[l.uuid]=new Tm(h)}}}return r}parseTextures(e,t){function r(s,o){return typeof s=="number"?s:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",s),o[s])}const i={};if(e!==void 0)for(let s=0,o=e.length;s<o;s++){const a=e[s];a.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',a.uuid),t[a.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",a.image);const l=t[a.image],u=l.data;let h;Array.isArray(u)?(h=new bS,u.length===6&&(h.needsUpdate=!0)):(u&&u.data?h=new My:h=new fr,u&&(h.needsUpdate=!0)),h.source=l,h.uuid=a.uuid,a.name!==void 0&&(h.name=a.name),a.mapping!==void 0&&(h.mapping=r(a.mapping,DPe)),a.channel!==void 0&&(h.channel=a.channel),a.offset!==void 0&&h.offset.fromArray(a.offset),a.repeat!==void 0&&h.repeat.fromArray(a.repeat),a.center!==void 0&&h.center.fromArray(a.center),a.rotation!==void 0&&(h.rotation=a.rotation),a.wrap!==void 0&&(h.wrapS=r(a.wrap[0],G6),h.wrapT=r(a.wrap[1],G6)),a.format!==void 0&&(h.format=a.format),a.internalFormat!==void 0&&(h.internalFormat=a.internalFormat),a.type!==void 0&&(h.type=a.type),a.colorSpace!==void 0&&(h.colorSpace=a.colorSpace),a.encoding!==void 0&&(h.encoding=a.encoding),a.minFilter!==void 0&&(h.minFilter=r(a.minFilter,z6)),a.magFilter!==void 0&&(h.magFilter=r(a.magFilter,z6)),a.anisotropy!==void 0&&(h.anisotropy=a.anisotropy),a.flipY!==void 0&&(h.flipY=a.flipY),a.generateMipmaps!==void 0&&(h.generateMipmaps=a.generateMipmaps),a.premultiplyAlpha!==void 0&&(h.premultiplyAlpha=a.premultiplyAlpha),a.unpackAlignment!==void 0&&(h.unpackAlignment=a.unpackAlignment),a.compareFunction!==void 0&&(h.compareFunction=a.compareFunction),a.userData!==void 0&&(h.userData=a.userData),i[a.uuid]=h}return i}parseObject(e,t,r,i,s){let o;function a(p){return t[p]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",p),t[p]}function l(p){if(p!==void 0){if(Array.isArray(p)){const m=[];for(let v=0,S=p.length;v<S;v++){const A=p[v];r[A]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",A),m.push(r[A])}return m}return r[p]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",p),r[p]}}function u(p){return i[p]===void 0&&console.warn("THREE.ObjectLoader: Undefined texture",p),i[p]}let h,f;switch(e.type){case"Scene":o=new zC,e.background!==void 0&&(Number.isInteger(e.background)?o.background=new At(e.background):o.background=u(e.background)),e.environment!==void 0&&(o.environment=u(e.environment)),e.fog!==void 0&&(e.fog.type==="Fog"?o.fog=new vP(e.fog.color,e.fog.near,e.fog.far):e.fog.type==="FogExp2"&&(o.fog=new gP(e.fog.color,e.fog.density))),e.backgroundBlurriness!==void 0&&(o.backgroundBlurriness=e.backgroundBlurriness),e.backgroundIntensity!==void 0&&(o.backgroundIntensity=e.backgroundIntensity);break;case"PerspectiveCamera":o=new hr(e.fov,e.aspect,e.near,e.far),e.focus!==void 0&&(o.focus=e.focus),e.zoom!==void 0&&(o.zoom=e.zoom),e.filmGauge!==void 0&&(o.filmGauge=e.filmGauge),e.filmOffset!==void 0&&(o.filmOffset=e.filmOffset),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"OrthographicCamera":o=new Ul(e.left,e.right,e.top,e.bottom,e.near,e.far),e.zoom!==void 0&&(o.zoom=e.zoom),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"AmbientLight":o=new Jte(e.color,e.intensity);break;case"DirectionalLight":o=new QG(e.color,e.intensity);break;case"PointLight":o=new KG(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":o=new Yte(e.color,e.intensity,e.width,e.height);break;case"SpotLight":o=new YG(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay);break;case"HemisphereLight":o=new Xte(e.color,e.groundColor,e.intensity);break;case"LightProbe":o=new MP().fromJSON(e);break;case"SkinnedMesh":h=a(e.geometry),f=l(e.material),o=new BG(h,f),e.bindMode!==void 0&&(o.bindMode=e.bindMode),e.bindMatrix!==void 0&&o.bindMatrix.fromArray(e.bindMatrix),e.skeleton!==void 0&&(o.skeleton=e.skeleton);break;case"Mesh":h=a(e.geometry),f=l(e.material),o=new Si(h,f);break;case"InstancedMesh":h=a(e.geometry),f=l(e.material);const p=e.count,m=e.instanceMatrix,v=e.instanceColor;o=new LG(h,f,p),o.instanceMatrix=new nx(new Float32Array(m.array),16),v!==void 0&&(o.instanceColor=new nx(new Float32Array(v.array),v.itemSize));break;case"LOD":o=new Ste;break;case"Line":o=new bh(a(e.geometry),l(e.material));break;case"LineLoop":o=new IG(a(e.geometry),l(e.material));break;case"LineSegments":o=new Kl(a(e.geometry),l(e.material));break;case"PointCloud":case"Points":o=new DG(a(e.geometry),l(e.material));break;case"Sprite":o=new Mte(l(e.material));break;case"Group":o=new sh;break;case"Bone":o=new yP;break;default:o=new Sn}if(o.uuid=e.uuid,e.name!==void 0&&(o.name=e.name),e.matrix!==void 0?(o.matrix.fromArray(e.matrix),e.matrixAutoUpdate!==void 0&&(o.matrixAutoUpdate=e.matrixAutoUpdate),o.matrixAutoUpdate&&o.matrix.decompose(o.position,o.quaternion,o.scale)):(e.position!==void 0&&o.position.fromArray(e.position),e.rotation!==void 0&&o.rotation.fromArray(e.rotation),e.quaternion!==void 0&&o.quaternion.fromArray(e.quaternion),e.scale!==void 0&&o.scale.fromArray(e.scale)),e.up!==void 0&&o.up.fromArray(e.up),e.castShadow!==void 0&&(o.castShadow=e.castShadow),e.receiveShadow!==void 0&&(o.receiveShadow=e.receiveShadow),e.shadow&&(e.shadow.bias!==void 0&&(o.shadow.bias=e.shadow.bias),e.shadow.normalBias!==void 0&&(o.shadow.normalBias=e.shadow.normalBias),e.shadow.radius!==void 0&&(o.shadow.radius=e.shadow.radius),e.shadow.mapSize!==void 0&&o.shadow.mapSize.fromArray(e.shadow.mapSize),e.shadow.camera!==void 0&&(o.shadow.camera=this.parseObject(e.shadow.camera))),e.visible!==void 0&&(o.visible=e.visible),e.frustumCulled!==void 0&&(o.frustumCulled=e.frustumCulled),e.renderOrder!==void 0&&(o.renderOrder=e.renderOrder),e.userData!==void 0&&(o.userData=e.userData),e.layers!==void 0&&(o.layers.mask=e.layers),e.children!==void 0){const p=e.children;for(let m=0;m<p.length;m++)o.add(this.parseObject(p[m],t,r,i,s))}if(e.animations!==void 0){const p=e.animations;for(let m=0;m<p.length;m++){const v=p[m];o.animations.push(s[v])}}if(e.type==="LOD"){e.autoUpdate!==void 0&&(o.autoUpdate=e.autoUpdate);const p=e.levels;for(let m=0;m<p.length;m++){const v=p[m],S=o.getObjectByProperty("uuid",v.object);S!==void 0&&o.addLevel(S,v.distance,v.hysteresis)}}return o}bindSkeletons(e,t){Object.keys(t).length!==0&&e.traverse(function(r){if(r.isSkinnedMesh===!0&&r.skeleton!==void 0){const i=t[r.skeleton];i===void 0?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",r.skeleton):r.bind(i,r.bindMatrix)}})}}const DPe={UVMapping:uP,CubeReflectionMapping:yf,CubeRefractionMapping:xf,EquirectangularReflectionMapping:RM,EquirectangularRefractionMapping:PM,CubeUVReflectionMapping:bx},G6={RepeatWrapping:Af,ClampToEdgeWrapping:ss,MirroredRepeatWrapping:qy},z6={NearestFilter:Gr,NearestMipmapNearestFilter:BM,NearestMipmapLinearFilter:Ay,LinearFilter:_r,LinearMipmapNearestFilter:cP,LinearMipmapLinearFilter:Qu};class Zte extends qs{constructor(e){super(e),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(e){return this.options=e,this}load(e,t,r,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,o=ug.get(e);if(o!==void 0)return s.manager.itemStart(e),setTimeout(function(){t&&t(o),s.manager.itemEnd(e)},0),o;const a={};a.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",a.headers=this.requestHeader,fetch(e,a).then(function(l){return l.blob()}).then(function(l){return createImageBitmap(l,Object.assign(s.options,{colorSpaceConversion:"none"}))}).then(function(l){ug.add(e,l),t&&t(l),s.manager.itemEnd(e)}).catch(function(l){i&&i(l),s.manager.itemError(e),s.manager.itemEnd(e)}),s.manager.itemStart(e)}}let Aw;class qG{static getContext(){return Aw===void 0&&(Aw=new(window.AudioContext||window.webkitAudioContext)),Aw}static setContext(e){Aw=e}}class FPe extends qs{constructor(e){super(e)}load(e,t,r,i){const s=this,o=new na(this.manager);o.setResponseType("arraybuffer"),o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(l){try{const u=l.slice(0);qG.getContext().decodeAudioData(u,function(f){t(f)},a)}catch(u){a(u)}},r,i);function a(l){i?i(l):console.error(l),s.manager.itemError(e)}}}class NPe extends MP{constructor(e,t,r=1){super(void 0,r),this.isHemisphereLightProbe=!0;const i=new At().set(e),s=new At().set(t),o=new ie(i.r,i.g,i.b),a=new ie(s.r,s.g,s.b),l=Math.sqrt(Math.PI),u=l*Math.sqrt(.75);this.sh.coefficients[0].copy(o).add(a).multiplyScalar(l),this.sh.coefficients[1].copy(o).sub(a).multiplyScalar(u)}}class UPe extends MP{constructor(e,t=1){super(void 0,t),this.isAmbientLightProbe=!0;const r=new At().set(e);this.sh.coefficients[0].set(r.r,r.g,r.b).multiplyScalar(2*Math.sqrt(Math.PI))}}const H6=new Ht,V6=new Ht,Up=new Ht;class OPe{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new hr,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new hr,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(e){const t=this._cache;if(t.focus!==e.focus||t.fov!==e.fov||t.aspect!==e.aspect*this.aspect||t.near!==e.near||t.far!==e.far||t.zoom!==e.zoom||t.eyeSep!==this.eyeSep){t.focus=e.focus,t.fov=e.fov,t.aspect=e.aspect*this.aspect,t.near=e.near,t.far=e.far,t.zoom=e.zoom,t.eyeSep=this.eyeSep,Up.copy(e.projectionMatrix);const i=t.eyeSep/2,s=i*t.near/t.focus,o=t.near*Math.tan(Vm*t.fov*.5)/t.zoom;let a,l;V6.elements[12]=-i,H6.elements[12]=i,a=-o*t.aspect+s,l=o*t.aspect+s,Up.elements[0]=2*t.near/(l-a),Up.elements[8]=(l+a)/(l-a),this.cameraL.projectionMatrix.copy(Up),a=-o*t.aspect-s,l=o*t.aspect-s,Up.elements[0]=2*t.near/(l-a),Up.elements[8]=(l+a)/(l-a),this.cameraR.projectionMatrix.copy(Up)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(V6),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(H6)}}class ZG{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=W6(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const t=W6();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}}function W6(){return(typeof performance>"u"?Date:performance).now()}const Op=new ie,j6=new Wi,kPe=new ie,kp=new ie;class GPe extends Sn{constructor(){super(),this.type="AudioListener",this.context=qG.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new ZG}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);const t=this.context.listener,r=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(Op,j6,kPe),kp.set(0,0,-1).applyQuaternion(j6),t.positionX){const i=this.context.currentTime+this.timeDelta;t.positionX.linearRampToValueAtTime(Op.x,i),t.positionY.linearRampToValueAtTime(Op.y,i),t.positionZ.linearRampToValueAtTime(Op.z,i),t.forwardX.linearRampToValueAtTime(kp.x,i),t.forwardY.linearRampToValueAtTime(kp.y,i),t.forwardZ.linearRampToValueAtTime(kp.z,i),t.upX.linearRampToValueAtTime(r.x,i),t.upY.linearRampToValueAtTime(r.y,i),t.upZ.linearRampToValueAtTime(r.z,i)}else t.setPosition(Op.x,Op.y,Op.z),t.setOrientation(kp.x,kp.y,kp.z,r.x,r.y,r.z)}}class $te extends Sn{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+e;const t=this.context.createBufferSource();return t.buffer=this.buffer,t.loop=this.loop,t.loopStart=this.loopStart,t.loopEnd=this.loopEnd,t.onended=this.onEnded.bind(this),t.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=t,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source!==null&&(this.source.stop(),this.source.onended=null),this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}getFilters(){return this.filters}setFilters(e){return e||(e=[]),this._connected===!0?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){if(this.detune=e,this.source.detune!==void 0)return this.isPlaying===!0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}}const Gp=new ie,X6=new Wi,zPe=new ie,zp=new ie;class HPe extends $te{constructor(e){super(e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}connect(){super.connect(),this.panner.connect(this.gain)}disconnect(){super.disconnect(),this.panner.disconnect(this.gain)}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,t,r){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=t,this.panner.coneOuterGain=r,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(Gp,X6,zPe),zp.set(0,0,1).applyQuaternion(X6);const t=this.panner;if(t.positionX){const r=this.context.currentTime+this.listener.timeDelta;t.positionX.linearRampToValueAtTime(Gp.x,r),t.positionY.linearRampToValueAtTime(Gp.y,r),t.positionZ.linearRampToValueAtTime(Gp.z,r),t.orientationX.linearRampToValueAtTime(zp.x,r),t.orientationY.linearRampToValueAtTime(zp.y,r),t.orientationZ.linearRampToValueAtTime(zp.z,r)}else t.setPosition(Gp.x,Gp.y,Gp.z),t.setOrientation(zp.x,zp.y,zp.z)}}class VPe{constructor(e,t=2048){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=t,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0;const t=this.getFrequencyData();for(let r=0;r<t.length;r++)e+=t[r];return e/t.length}}class ene{constructor(e,t,r){this.binding=e,this.valueSize=r;let i,s,o;switch(t){case"quaternion":i=this._slerp,s=this._slerpAdditive,o=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(r*6),this._workIndex=5;break;case"string":case"bool":i=this._select,s=this._select,o=this._setAdditiveIdentityOther,this.buffer=new Array(r*5);break;default:i=this._lerp,s=this._lerpAdditive,o=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(r*5)}this._mixBufferRegion=i,this._mixBufferRegionAdditive=s,this._setIdentity=o,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,t){const r=this.buffer,i=this.valueSize,s=e*i+i;let o=this.cumulativeWeight;if(o===0){for(let a=0;a!==i;++a)r[s+a]=r[a];o=t}else{o+=t;const a=t/o;this._mixBufferRegion(r,s,0,a,i)}this.cumulativeWeight=o}accumulateAdditive(e){const t=this.buffer,r=this.valueSize,i=r*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(t,i,0,e,r),this.cumulativeWeightAdditive+=e}apply(e){const t=this.valueSize,r=this.buffer,i=e*t+t,s=this.cumulativeWeight,o=this.cumulativeWeightAdditive,a=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,s<1){const l=t*this._origIndex;this._mixBufferRegion(r,i,l,1-s,t)}o>0&&this._mixBufferRegionAdditive(r,i,this._addIndex*t,1,t);for(let l=t,u=t+t;l!==u;++l)if(r[l]!==r[l+t]){a.setValue(r,i);break}}saveOriginalState(){const e=this.binding,t=this.buffer,r=this.valueSize,i=r*this._origIndex;e.getValue(t,i);for(let s=r,o=i;s!==o;++s)t[s]=t[i+s%r];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=this.valueSize*3;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,t=e+this.valueSize;for(let r=e;r<t;r++)this.buffer[r]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,t=this._addIndex*this.valueSize;for(let r=0;r<this.valueSize;r++)this.buffer[t+r]=this.buffer[e+r]}_select(e,t,r,i,s){if(i>=.5)for(let o=0;o!==s;++o)e[t+o]=e[r+o]}_slerp(e,t,r,i){Wi.slerpFlat(e,t,e,t,e,r,i)}_slerpAdditive(e,t,r,i,s){const o=this._workIndex*s;Wi.multiplyQuaternionsFlat(e,o,e,t,e,r),Wi.slerpFlat(e,t,e,t,e,o,i)}_lerp(e,t,r,i,s){const o=1-i;for(let a=0;a!==s;++a){const l=t+a;e[l]=e[l]*o+e[r+a]*i}}_lerpAdditive(e,t,r,i,s){for(let o=0;o!==s;++o){const a=t+o;e[a]=e[a]+e[r+o]*i}}}const $G="\\[\\]\\.:\\/",WPe=new RegExp("["+$G+"]","g"),ez="[^"+$G+"]",jPe="[^"+$G.replace("\\.","")+"]",XPe=/((?:WC+[\/:])*)/.source.replace("WC",ez),JPe=/(WCOD+)?/.source.replace("WCOD",jPe),YPe=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",ez),KPe=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",ez),QPe=new RegExp("^"+XPe+JPe+YPe+KPe+"$"),qPe=["material","materials","bones","map"];class ZPe{constructor(e,t,r){const i=r||wn.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,i)}getValue(e,t){this.bind();const r=this._targetGroup.nCachedObjects_,i=this._bindings[r];i!==void 0&&i.getValue(e,t)}setValue(e,t){const r=this._bindings;for(let i=this._targetGroup.nCachedObjects_,s=r.length;i!==s;++i)r[i].setValue(e,t)}bind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,r=e.length;t!==r;++t)e[t].bind()}unbind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,r=e.length;t!==r;++t)e[t].unbind()}}class wn{constructor(e,t,r){this.path=t,this.parsedPath=r||wn.parseTrackName(t),this.node=wn.findNode(e,this.parsedPath.nodeName),this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,t,r){return e&&e.isAnimationObjectGroup?new wn.Composite(e,t,r):new wn(e,t,r)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(WPe,"")}static parseTrackName(e){const t=QPe.exec(e);if(t===null)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const r={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},i=r.nodeName&&r.nodeName.lastIndexOf(".");if(i!==void 0&&i!==-1){const s=r.nodeName.substring(i+1);qPe.indexOf(s)!==-1&&(r.nodeName=r.nodeName.substring(0,i),r.objectName=s)}if(r.propertyName===null||r.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return r}static findNode(e,t){if(t===void 0||t===""||t==="."||t===-1||t===e.name||t===e.uuid)return e;if(e.skeleton){const r=e.skeleton.getBoneByName(t);if(r!==void 0)return r}if(e.children){const r=function(s){for(let o=0;o<s.length;o++){const a=s[o];if(a.name===t||a.uuid===t)return a;const l=r(a.children);if(l)return l}return null},i=r(e.children);if(i)return i}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,t){e[t]=this.targetObject[this.propertyName]}_getValue_array(e,t){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)e[t++]=r[i]}_getValue_arrayElement(e,t){e[t]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,t){this.resolvedProperty.toArray(e,t)}_setValue_direct(e,t){this.targetObject[this.propertyName]=e[t]}_setValue_direct_setNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,t){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)r[i]=e[t++]}_setValue_array_setNeedsUpdate(e,t){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)r[i]=e[t++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,t){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)r[i]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,t){this.resolvedProperty[this.propertyIndex]=e[t]}_setValue_arrayElement_setNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,t){this.resolvedProperty.fromArray(e,t)}_setValue_fromArray_setNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,t){this.bind(),this.getValue(e,t)}_setValue_unbound(e,t){this.bind(),this.setValue(e,t)}bind(){let e=this.node;const t=this.parsedPath,r=t.objectName,i=t.propertyName;let s=t.propertyIndex;if(e||(e=wn.findNode(this.rootNode,t.nodeName),this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.");return}if(r){let u=t.objectIndex;switch(r){case"materials":if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let h=0;h<e.length;h++)if(e[h].name===u){u=h;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.map){console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}e=e.material.map;break;default:if(e[r]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[r]}if(u!==void 0){if(e[u]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[u]}}const o=e[i];if(o===void 0){const u=t.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+u+"."+i+" but it wasn't found.",e);return}let a=this.Versioning.None;this.targetObject=e,e.needsUpdate!==void 0?a=this.Versioning.NeedsUpdate:e.matrixWorldNeedsUpdate!==void 0&&(a=this.Versioning.MatrixWorldNeedsUpdate);let l=this.BindingType.Direct;if(s!==void 0){if(i==="morphTargetInfluences"){if(!e.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!e.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[s]!==void 0&&(s=e.morphTargetDictionary[s])}l=this.BindingType.ArrayElement,this.resolvedProperty=o,this.propertyIndex=s}else o.fromArray!==void 0&&o.toArray!==void 0?(l=this.BindingType.HasFromToArray,this.resolvedProperty=o):Array.isArray(o)?(l=this.BindingType.EntireArray,this.resolvedProperty=o):this.propertyName=i;this.getValue=this.GetterByBindingType[l],this.setValue=this.SetterByBindingTypeAndVersioning[l][a]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}wn.Composite=ZPe;wn.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};wn.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};wn.prototype.GetterByBindingType=[wn.prototype._getValue_direct,wn.prototype._getValue_array,wn.prototype._getValue_arrayElement,wn.prototype._getValue_toArray];wn.prototype.SetterByBindingTypeAndVersioning=[[wn.prototype._setValue_direct,wn.prototype._setValue_direct_setNeedsUpdate,wn.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[wn.prototype._setValue_array,wn.prototype._setValue_array_setNeedsUpdate,wn.prototype._setValue_array_setMatrixWorldNeedsUpdate],[wn.prototype._setValue_arrayElement,wn.prototype._setValue_arrayElement_setNeedsUpdate,wn.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[wn.prototype._setValue_fromArray,wn.prototype._setValue_fromArray_setNeedsUpdate,wn.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class $Pe{constructor(){this.isAnimationObjectGroup=!0,this.uuid=Qo(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let r=0,i=arguments.length;r!==i;++r)e[arguments[r].uuid]=r;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const t=this;this.stats={objects:{get total(){return t._objects.length},get inUse(){return this.total-t.nCachedObjects_}},get bindingsPerObject(){return t._bindings.length}}}add(){const e=this._objects,t=this._indicesByUUID,r=this._paths,i=this._parsedPaths,s=this._bindings,o=s.length;let a,l=e.length,u=this.nCachedObjects_;for(let h=0,f=arguments.length;h!==f;++h){const p=arguments[h],m=p.uuid;let v=t[m];if(v===void 0){v=l++,t[m]=v,e.push(p);for(let S=0,A=o;S!==A;++S)s[S].push(new wn(p,r[S],i[S]))}else if(v<u){a=e[v];const S=--u,A=e[S];t[A.uuid]=v,e[v]=A,t[m]=S,e[S]=p;for(let g=0,M=o;g!==M;++g){const _=s[g],b=_[S];let T=_[v];_[v]=b,T===void 0&&(T=new wn(p,r[g],i[g])),_[S]=T}}else e[v]!==a&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=u}remove(){const e=this._objects,t=this._indicesByUUID,r=this._bindings,i=r.length;let s=this.nCachedObjects_;for(let o=0,a=arguments.length;o!==a;++o){const l=arguments[o],u=l.uuid,h=t[u];if(h!==void 0&&h>=s){const f=s++,p=e[f];t[p.uuid]=h,e[h]=p,t[u]=f,e[f]=l;for(let m=0,v=i;m!==v;++m){const S=r[m],A=S[f],g=S[h];S[h]=A,S[f]=g}}}this.nCachedObjects_=s}uncache(){const e=this._objects,t=this._indicesByUUID,r=this._bindings,i=r.length;let s=this.nCachedObjects_,o=e.length;for(let a=0,l=arguments.length;a!==l;++a){const u=arguments[a],h=u.uuid,f=t[h];if(f!==void 0)if(delete t[h],f<s){const p=--s,m=e[p],v=--o,S=e[v];t[m.uuid]=f,e[f]=m,t[S.uuid]=p,e[p]=S,e.pop();for(let A=0,g=i;A!==g;++A){const M=r[A],_=M[p],b=M[v];M[f]=_,M[p]=b,M.pop()}}else{const p=--o,m=e[p];p>0&&(t[m.uuid]=f),e[f]=m,e.pop();for(let v=0,S=i;v!==S;++v){const A=r[v];A[f]=A[p],A.pop()}}}this.nCachedObjects_=s}subscribe_(e,t){const r=this._bindingsIndicesByPath;let i=r[e];const s=this._bindings;if(i!==void 0)return s[i];const o=this._paths,a=this._parsedPaths,l=this._objects,u=l.length,h=this.nCachedObjects_,f=new Array(u);i=s.length,r[e]=i,o.push(e),a.push(t),s.push(f);for(let p=h,m=l.length;p!==m;++p){const v=l[p];f[p]=new wn(v,e,t)}return f}unsubscribe_(e){const t=this._bindingsIndicesByPath,r=t[e];if(r!==void 0){const i=this._paths,s=this._parsedPaths,o=this._bindings,a=o.length-1,l=o[a],u=e[a];t[u]=r,o[r]=l,o.pop(),s[r]=s[a],s.pop(),i[r]=i[a],i.pop()}}}class tne{constructor(e,t,r=null,i=t.blendMode){this._mixer=e,this._clip=t,this._localRoot=r,this.blendMode=i;const s=t.tracks,o=s.length,a=new Array(o),l={endingStart:bm,endingEnd:bm};for(let u=0;u!==o;++u){const h=s[u].createInterpolant(null);a[u]=h,h.settings=l}this._interpolantSettings=l,this._interpolants=a,this._propertyBindings=new Array(o),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=Xee,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,t){return this.loop=e,this.repetitions=t,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,t,r){if(e.fadeOut(t),this.fadeIn(t),r){const i=this._clip.duration,s=e._clip.duration,o=s/i,a=i/s;e.warp(1,o,t),this.warp(a,1,t)}return this}crossFadeTo(e,t,r){return e.crossFadeFrom(this,t,r)}stopFading(){const e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,t,r){const i=this._mixer,s=i.time,o=this.timeScale;let a=this._timeScaleInterpolant;a===null&&(a=i._lendControlInterpolant(),this._timeScaleInterpolant=a);const l=a.parameterPositions,u=a.sampleValues;return l[0]=s,l[1]=s+r,u[0]=e/o,u[1]=t/o,this}stopWarping(){const e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,t,r,i){if(!this.enabled){this._updateWeight(e);return}const s=this._startTime;if(s!==null){const l=(e-s)*r;l<0||r===0?t=0:(this._startTime=null,t=r*l)}t*=this._updateTimeScale(e);const o=this._updateTime(t),a=this._updateWeight(e);if(a>0){const l=this._interpolants,u=this._propertyBindings;switch(this.blendMode){case pG:for(let h=0,f=l.length;h!==f;++h)l[h].evaluate(o),u[h].accumulateAdditive(a);break;case dP:default:for(let h=0,f=l.length;h!==f;++h)l[h].evaluate(o),u[h].accumulate(i,a)}}}_updateWeight(e){let t=0;if(this.enabled){t=this.weight;const r=this._weightInterpolant;if(r!==null){const i=r.evaluate(e)[0];t*=i,e>r.parameterPositions[1]&&(this.stopFading(),i===0&&(this.enabled=!1))}}return this._effectiveWeight=t,t}_updateTimeScale(e){let t=0;if(!this.paused){t=this.timeScale;const r=this._timeScaleInterpolant;if(r!==null){const i=r.evaluate(e)[0];t*=i,e>r.parameterPositions[1]&&(this.stopWarping(),t===0?this.paused=!0:this.timeScale=t)}}return this._effectiveTimeScale=t,t}_updateTime(e){const t=this._clip.duration,r=this.loop;let i=this.time+e,s=this._loopCount;const o=r===Jee;if(e===0)return s===-1?i:o&&(s&1)===1?t-i:i;if(r===jee){s===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(i>=t)i=t;else if(i<0)i=0;else{this.time=i;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(s===-1&&(e>=0?(s=0,this._setEndings(!0,this.repetitions===0,o)):this._setEndings(this.repetitions===0,!0,o)),i>=t||i<0){const a=Math.floor(i/t);i-=t*a,s+=Math.abs(a);const l=this.repetitions-s;if(l<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,i=e>0?t:0,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(l===1){const u=e<0;this._setEndings(u,!u,o)}else this._setEndings(!1,!1,o);this._loopCount=s,this.time=i,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:a})}}else this.time=i;if(o&&(s&1)===1)return t-i}return i}_setEndings(e,t,r){const i=this._interpolantSettings;r?(i.endingStart=wm,i.endingEnd=wm):(e?i.endingStart=this.zeroSlopeAtStart?wm:bm:i.endingStart=LM,t?i.endingEnd=this.zeroSlopeAtEnd?wm:bm:i.endingEnd=LM)}_scheduleFading(e,t,r){const i=this._mixer,s=i.time;let o=this._weightInterpolant;o===null&&(o=i._lendControlInterpolant(),this._weightInterpolant=o);const a=o.parameterPositions,l=o.sampleValues;return a[0]=s,l[0]=t,a[1]=s+e,l[1]=r,this}}const eBe=new Float32Array(1);class tBe extends ec{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,t){const r=e._localRoot||this._root,i=e._clip.tracks,s=i.length,o=e._propertyBindings,a=e._interpolants,l=r.uuid,u=this._bindingsByRootAndName;let h=u[l];h===void 0&&(h={},u[l]=h);for(let f=0;f!==s;++f){const p=i[f],m=p.name;let v=h[m];if(v!==void 0)++v.referenceCount,o[f]=v;else{if(v=o[f],v!==void 0){v._cacheIndex===null&&(++v.referenceCount,this._addInactiveBinding(v,l,m));continue}const S=t&&t._propertyBindings[f].binding.parsedPath;v=new ene(wn.create(r,m,S),p.ValueTypeName,p.getValueSize()),++v.referenceCount,this._addInactiveBinding(v,l,m),o[f]=v}a[f].resultBuffer=v.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){const r=(e._localRoot||this._root).uuid,i=e._clip.uuid,s=this._actionsByClip[i];this._bindAction(e,s&&s.knownActions[0]),this._addInactiveAction(e,i,r)}const t=e._propertyBindings;for(let r=0,i=t.length;r!==i;++r){const s=t[r];s.useCount++===0&&(this._lendBinding(s),s.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const t=e._propertyBindings;for(let r=0,i=t.length;r!==i;++r){const s=t[r];--s.useCount===0&&(s.restoreOriginalState(),this._takeBackBinding(s))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const t=e._cacheIndex;return t!==null&&t<this._nActiveActions}_addInactiveAction(e,t,r){const i=this._actions,s=this._actionsByClip;let o=s[t];if(o===void 0)o={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,s[t]=o;else{const a=o.knownActions;e._byClipCacheIndex=a.length,a.push(e)}e._cacheIndex=i.length,i.push(e),o.actionByRoot[r]=e}_removeInactiveAction(e){const t=this._actions,r=t[t.length-1],i=e._cacheIndex;r._cacheIndex=i,t[i]=r,t.pop(),e._cacheIndex=null;const s=e._clip.uuid,o=this._actionsByClip,a=o[s],l=a.knownActions,u=l[l.length-1],h=e._byClipCacheIndex;u._byClipCacheIndex=h,l[h]=u,l.pop(),e._byClipCacheIndex=null;const f=a.actionByRoot,p=(e._localRoot||this._root).uuid;delete f[p],l.length===0&&delete o[s],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const t=e._propertyBindings;for(let r=0,i=t.length;r!==i;++r){const s=t[r];--s.referenceCount===0&&this._removeInactiveBinding(s)}}_lendAction(e){const t=this._actions,r=e._cacheIndex,i=this._nActiveActions++,s=t[i];e._cacheIndex=i,t[i]=e,s._cacheIndex=r,t[r]=s}_takeBackAction(e){const t=this._actions,r=e._cacheIndex,i=--this._nActiveActions,s=t[i];e._cacheIndex=i,t[i]=e,s._cacheIndex=r,t[r]=s}_addInactiveBinding(e,t,r){const i=this._bindingsByRootAndName,s=this._bindings;let o=i[t];o===void 0&&(o={},i[t]=o),o[r]=e,e._cacheIndex=s.length,s.push(e)}_removeInactiveBinding(e){const t=this._bindings,r=e.binding,i=r.rootNode.uuid,s=r.path,o=this._bindingsByRootAndName,a=o[i],l=t[t.length-1],u=e._cacheIndex;l._cacheIndex=u,t[u]=l,t.pop(),delete a[s],Object.keys(a).length===0&&delete o[i]}_lendBinding(e){const t=this._bindings,r=e._cacheIndex,i=this._nActiveBindings++,s=t[i];e._cacheIndex=i,t[i]=e,s._cacheIndex=r,t[r]=s}_takeBackBinding(e){const t=this._bindings,r=e._cacheIndex,i=--this._nActiveBindings,s=t[i];e._cacheIndex=i,t[i]=e,s._cacheIndex=r,t[r]=s}_lendControlInterpolant(){const e=this._controlInterpolants,t=this._nActiveControlInterpolants++;let r=e[t];return r===void 0&&(r=new WG(new Float32Array(2),new Float32Array(2),1,eBe),r.__cacheIndex=t,e[t]=r),r}_takeBackControlInterpolant(e){const t=this._controlInterpolants,r=e.__cacheIndex,i=--this._nActiveControlInterpolants,s=t[i];e.__cacheIndex=i,t[i]=e,s.__cacheIndex=r,t[r]=s}clipAction(e,t,r){const i=t||this._root,s=i.uuid;let o=typeof e=="string"?sx.findByName(i,e):e;const a=o!==null?o.uuid:e,l=this._actionsByClip[a];let u=null;if(r===void 0&&(o!==null?r=o.blendMode:r=dP),l!==void 0){const f=l.actionByRoot[s];if(f!==void 0&&f.blendMode===r)return f;u=l.knownActions[0],o===null&&(o=u._clip)}if(o===null)return null;const h=new tne(this,o,t,r);return this._bindAction(h,u),this._addInactiveAction(h,a,s),h}existingAction(e,t){const r=t||this._root,i=r.uuid,s=typeof e=="string"?sx.findByName(r,e):e,o=s?s.uuid:e,a=this._actionsByClip[o];return a!==void 0&&a.actionByRoot[i]||null}stopAllAction(){const e=this._actions,t=this._nActiveActions;for(let r=t-1;r>=0;--r)e[r].stop();return this}update(e){e*=this.timeScale;const t=this._actions,r=this._nActiveActions,i=this.time+=e,s=Math.sign(e),o=this._accuIndex^=1;for(let u=0;u!==r;++u)t[u]._update(i,e,s,o);const a=this._bindings,l=this._nActiveBindings;for(let u=0;u!==l;++u)a[u].apply(o);return this}setTime(e){this.time=0;for(let t=0;t<this._actions.length;t++)this._actions[t].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const t=this._actions,r=e.uuid,i=this._actionsByClip,s=i[r];if(s!==void 0){const o=s.knownActions;for(let a=0,l=o.length;a!==l;++a){const u=o[a];this._deactivateAction(u);const h=u._cacheIndex,f=t[t.length-1];u._cacheIndex=null,u._byClipCacheIndex=null,f._cacheIndex=h,t[h]=f,t.pop(),this._removeInactiveBindingsForAction(u)}delete i[r]}}uncacheRoot(e){const t=e.uuid,r=this._actionsByClip;for(const o in r){const a=r[o].actionByRoot,l=a[t];l!==void 0&&(this._deactivateAction(l),this._removeInactiveAction(l))}const i=this._bindingsByRootAndName,s=i[t];if(s!==void 0)for(const o in s){const a=s[o];a.restoreOriginalState(),this._removeInactiveBinding(a)}}uncacheAction(e,t){const r=this.existingAction(e,t);r!==null&&(this._deactivateAction(r),this._removeInactiveAction(r))}}class tz{constructor(e){this.value=e}clone(){return new tz(this.value.clone===void 0?this.value:this.value.clone())}}let nBe=0;class rBe extends ec{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:nBe++}),this.name="",this.usage=IM,this.uniforms=[]}add(e){return this.uniforms.push(e),this}remove(e){const t=this.uniforms.indexOf(e);return t!==-1&&this.uniforms.splice(t,1),this}setName(e){return this.name=e,this}setUsage(e){return this.usage=e,this}dispose(){return this.dispatchEvent({type:"dispose"}),this}copy(e){this.name=e.name,this.usage=e.usage;const t=e.uniforms;this.uniforms.length=0;for(let r=0,i=t.length;r<i;r++)this.uniforms.push(t[r].clone());return this}clone(){return new this.constructor().copy(this)}}class iBe extends wS{constructor(e,t,r=1){super(e,t),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=r}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const t=super.clone(e);return t.meshPerAttribute=this.meshPerAttribute,t}toJSON(e){const t=super.toJSON(e);return t.isInstancedInterleavedBuffer=!0,t.meshPerAttribute=this.meshPerAttribute,t}}class sBe{constructor(e,t,r,i,s){this.isGLBufferAttribute=!0,this.name="",this.buffer=e,this.type=t,this.itemSize=r,this.elementSize=i,this.count=s,this.version=0}set needsUpdate(e){e===!0&&this.version++}setBuffer(e){return this.buffer=e,this}setType(e,t){return this.type=e,this.elementSize=t,this}setItemSize(e){return this.itemSize=e,this}setCount(e){return this.count=e,this}}class nne{constructor(e,t,r=0,i=1/0){this.ray=new wx(e,t),this.near=r,this.far=i,this.camera=null,this.layers=new Wm,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,t){this.ray.set(e,t)}setFromCamera(e,t){t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t):t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t):console.error("THREE.Raycaster: Unsupported camera type: "+t.type)}intersectObject(e,t=!0,r=[]){return qF(e,this,r,t),r.sort(J6),r}intersectObjects(e,t=!0,r=[]){for(let i=0,s=e.length;i<s;i++)qF(e[i],this,r,t);return r.sort(J6),r}}function J6(n,e){return n.distance-e.distance}function qF(n,e,t,r){if(n.layers.test(e.layers)&&n.raycast(e,t),r===!0){const i=n.children;for(let s=0,o=i.length;s<o;s++)qF(i[s],e,t,!0)}}class ZF{constructor(e=1,t=0,r=0){return this.radius=e,this.phi=t,this.theta=r,this}set(e,t,r){return this.radius=e,this.phi=t,this.theta=r,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,r){return this.radius=Math.sqrt(e*e+t*t+r*r),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,r),this.phi=Math.acos(Hr(t/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class oBe{constructor(e=1,t=0,r=0){return this.radius=e,this.theta=t,this.y=r,this}set(e,t,r){return this.radius=e,this.theta=t,this.y=r,this}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,r){return this.radius=Math.sqrt(e*e+r*r),this.theta=Math.atan2(e,r),this.y=t,this}clone(){return new this.constructor().copy(this)}}const Y6=new Je;class aBe{constructor(e=new Je(1/0,1/0),t=new Je(-1/0,-1/0)){this.isBox2=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromPoints(e){this.makeEmpty();for(let t=0,r=e.length;t<r;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const r=Y6.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y)}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,Y6).distanceTo(e)}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const K6=new ie,_w=new ie;class lBe{constructor(e=new ie,t=new ie){this.start=e,this.end=t}set(e,t){return this.start.copy(e),this.end.copy(t),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,t){return this.delta(t).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,t){K6.subVectors(e,this.start),_w.subVectors(this.end,this.start);const r=_w.dot(_w);let s=_w.dot(K6)/r;return t&&(s=Hr(s,0,1)),s}closestPointToPoint(e,t,r){const i=this.closestPointToPointParameter(e,t);return this.delta(r).multiplyScalar(i).add(this.start)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const Q6=new ie;class uBe extends Sn{constructor(e,t){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=t,this.type="SpotLightHelper";const r=new Qt,i=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let o=0,a=1,l=32;o<l;o++,a++){const u=o/l*Math.PI*2,h=a/l*Math.PI*2;i.push(Math.cos(u),Math.sin(u),1,Math.cos(h),Math.sin(h),1)}r.setAttribute("position",new Ct(i,3));const s=new Cs({fog:!1,toneMapped:!1});this.cone=new Kl(r,s),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1);const e=this.light.distance?this.light.distance:1e3,t=e*Math.tan(this.light.angle);this.cone.scale.set(t,t,e),Q6.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(Q6),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const ud=new ie,Mw=new Ht,DL=new Ht;class cBe extends Kl{constructor(e){const t=rne(e),r=new Qt,i=[],s=[],o=new At(0,0,1),a=new At(0,1,0);for(let u=0;u<t.length;u++){const h=t[u];h.parent&&h.parent.isBone&&(i.push(0,0,0),i.push(0,0,0),s.push(o.r,o.g,o.b),s.push(a.r,a.g,a.b))}r.setAttribute("position",new Ct(i,3)),r.setAttribute("color",new Ct(s,3));const l=new Cs({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(r,l),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=e,this.bones=t,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(e){const t=this.bones,r=this.geometry,i=r.getAttribute("position");DL.copy(this.root.matrixWorld).invert();for(let s=0,o=0;s<t.length;s++){const a=t[s];a.parent&&a.parent.isBone&&(Mw.multiplyMatrices(DL,a.matrixWorld),ud.setFromMatrixPosition(Mw),i.setXYZ(o,ud.x,ud.y,ud.z),Mw.multiplyMatrices(DL,a.parent.matrixWorld),ud.setFromMatrixPosition(Mw),i.setXYZ(o+1,ud.x,ud.y,ud.z),o+=2)}r.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose()}}function rne(n){const e=[];n.isBone===!0&&e.push(n);for(let t=0;t<n.children.length;t++)e.push.apply(e,rne(n.children[t]));return e}class hBe extends Si{constructor(e,t,r){const i=new Bx(t,4,2),s=new Xo({wireframe:!0,fog:!1,toneMapped:!1});super(i,s),this.light=e,this.color=r,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const dBe=new ie,q6=new At,Z6=new At;class fBe extends Sn{constructor(e,t,r){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=r,this.type="HemisphereLightHelper";const i=new Px(t);i.rotateY(Math.PI*.5),this.material=new Xo({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const s=i.getAttribute("position"),o=new Float32Array(s.count*3);i.setAttribute("color",new Bn(o,3)),this.add(new Si(i,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const e=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const t=e.geometry.getAttribute("color");q6.copy(this.light.color),Z6.copy(this.light.groundColor);for(let r=0,i=t.count;r<i;r++){const s=r<i/2?q6:Z6;t.setXYZ(r,s.r,s.g,s.b)}t.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),e.lookAt(dBe.setFromMatrixPosition(this.light.matrixWorld).negate())}}class pBe extends Kl{constructor(e=10,t=10,r=4473924,i=8947848){r=new At(r),i=new At(i);const s=t/2,o=e/t,a=e/2,l=[],u=[];for(let p=0,m=0,v=-a;p<=t;p++,v+=o){l.push(-a,0,v,a,0,v),l.push(v,0,-a,v,0,a);const S=p===s?r:i;S.toArray(u,m),m+=3,S.toArray(u,m),m+=3,S.toArray(u,m),m+=3,S.toArray(u,m),m+=3}const h=new Qt;h.setAttribute("position",new Ct(l,3)),h.setAttribute("color",new Ct(u,3));const f=new Cs({vertexColors:!0,toneMapped:!1});super(h,f),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class mBe extends Kl{constructor(e=10,t=16,r=8,i=64,s=4473924,o=8947848){s=new At(s),o=new At(o);const a=[],l=[];if(t>1)for(let f=0;f<t;f++){const p=f/t*(Math.PI*2),m=Math.sin(p)*e,v=Math.cos(p)*e;a.push(0,0,0),a.push(m,0,v);const S=f&1?s:o;l.push(S.r,S.g,S.b),l.push(S.r,S.g,S.b)}for(let f=0;f<r;f++){const p=f&1?s:o,m=e-e/r*f;for(let v=0;v<i;v++){let S=v/i*(Math.PI*2),A=Math.sin(S)*m,g=Math.cos(S)*m;a.push(A,0,g),l.push(p.r,p.g,p.b),S=(v+1)/i*(Math.PI*2),A=Math.sin(S)*m,g=Math.cos(S)*m,a.push(A,0,g),l.push(p.r,p.g,p.b)}}const u=new Qt;u.setAttribute("position",new Ct(a,3)),u.setAttribute("color",new Ct(l,3));const h=new Cs({vertexColors:!0,toneMapped:!1});super(u,h),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const $6=new ie,Sw=new ie,eW=new ie;class gBe extends Sn{constructor(e,t,r){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=r,this.type="DirectionalLightHelper",t===void 0&&(t=1);let i=new Qt;i.setAttribute("position",new Ct([-t,t,0,t,t,0,t,-t,0,-t,-t,0,-t,t,0],3));const s=new Cs({fog:!1,toneMapped:!1});this.lightPlane=new bh(i,s),this.add(this.lightPlane),i=new Qt,i.setAttribute("position",new Ct([0,0,0,0,0,1],3)),this.targetLine=new bh(i,s),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),$6.setFromMatrixPosition(this.light.matrixWorld),Sw.setFromMatrixPosition(this.light.target.matrixWorld),eW.subVectors(Sw,$6),this.lightPlane.lookAt(Sw),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(Sw),this.targetLine.scale.z=eW.length()}}const Ew=new ie,Nr=new ES;class vBe extends Kl{constructor(e){const t=new Qt,r=new Cs({color:16777215,vertexColors:!0,toneMapped:!1}),i=[],s=[],o={};a("n1","n2"),a("n2","n4"),a("n4","n3"),a("n3","n1"),a("f1","f2"),a("f2","f4"),a("f4","f3"),a("f3","f1"),a("n1","f1"),a("n2","f2"),a("n3","f3"),a("n4","f4"),a("p","n1"),a("p","n2"),a("p","n3"),a("p","n4"),a("u1","u2"),a("u2","u3"),a("u3","u1"),a("c","t"),a("p","c"),a("cn1","cn2"),a("cn3","cn4"),a("cf1","cf2"),a("cf3","cf4");function a(v,S){l(v),l(S)}function l(v){i.push(0,0,0),s.push(0,0,0),o[v]===void 0&&(o[v]=[]),o[v].push(i.length/3-1)}t.setAttribute("position",new Ct(i,3)),t.setAttribute("color",new Ct(s,3)),super(t,r),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=o,this.update();const u=new At(16755200),h=new At(16711680),f=new At(43775),p=new At(16777215),m=new At(3355443);this.setColors(u,h,f,p,m)}setColors(e,t,r,i,s){const a=this.geometry.getAttribute("color");a.setXYZ(0,e.r,e.g,e.b),a.setXYZ(1,e.r,e.g,e.b),a.setXYZ(2,e.r,e.g,e.b),a.setXYZ(3,e.r,e.g,e.b),a.setXYZ(4,e.r,e.g,e.b),a.setXYZ(5,e.r,e.g,e.b),a.setXYZ(6,e.r,e.g,e.b),a.setXYZ(7,e.r,e.g,e.b),a.setXYZ(8,e.r,e.g,e.b),a.setXYZ(9,e.r,e.g,e.b),a.setXYZ(10,e.r,e.g,e.b),a.setXYZ(11,e.r,e.g,e.b),a.setXYZ(12,e.r,e.g,e.b),a.setXYZ(13,e.r,e.g,e.b),a.setXYZ(14,e.r,e.g,e.b),a.setXYZ(15,e.r,e.g,e.b),a.setXYZ(16,e.r,e.g,e.b),a.setXYZ(17,e.r,e.g,e.b),a.setXYZ(18,e.r,e.g,e.b),a.setXYZ(19,e.r,e.g,e.b),a.setXYZ(20,e.r,e.g,e.b),a.setXYZ(21,e.r,e.g,e.b),a.setXYZ(22,e.r,e.g,e.b),a.setXYZ(23,e.r,e.g,e.b),a.setXYZ(24,t.r,t.g,t.b),a.setXYZ(25,t.r,t.g,t.b),a.setXYZ(26,t.r,t.g,t.b),a.setXYZ(27,t.r,t.g,t.b),a.setXYZ(28,t.r,t.g,t.b),a.setXYZ(29,t.r,t.g,t.b),a.setXYZ(30,t.r,t.g,t.b),a.setXYZ(31,t.r,t.g,t.b),a.setXYZ(32,r.r,r.g,r.b),a.setXYZ(33,r.r,r.g,r.b),a.setXYZ(34,r.r,r.g,r.b),a.setXYZ(35,r.r,r.g,r.b),a.setXYZ(36,r.r,r.g,r.b),a.setXYZ(37,r.r,r.g,r.b),a.setXYZ(38,i.r,i.g,i.b),a.setXYZ(39,i.r,i.g,i.b),a.setXYZ(40,s.r,s.g,s.b),a.setXYZ(41,s.r,s.g,s.b),a.setXYZ(42,s.r,s.g,s.b),a.setXYZ(43,s.r,s.g,s.b),a.setXYZ(44,s.r,s.g,s.b),a.setXYZ(45,s.r,s.g,s.b),a.setXYZ(46,s.r,s.g,s.b),a.setXYZ(47,s.r,s.g,s.b),a.setXYZ(48,s.r,s.g,s.b),a.setXYZ(49,s.r,s.g,s.b),a.needsUpdate=!0}update(){const e=this.geometry,t=this.pointMap,r=1,i=1;Nr.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),Xr("c",t,e,Nr,0,0,-1),Xr("t",t,e,Nr,0,0,1),Xr("n1",t,e,Nr,-r,-i,-1),Xr("n2",t,e,Nr,r,-i,-1),Xr("n3",t,e,Nr,-r,i,-1),Xr("n4",t,e,Nr,r,i,-1),Xr("f1",t,e,Nr,-r,-i,1),Xr("f2",t,e,Nr,r,-i,1),Xr("f3",t,e,Nr,-r,i,1),Xr("f4",t,e,Nr,r,i,1),Xr("u1",t,e,Nr,r*.7,i*1.1,-1),Xr("u2",t,e,Nr,-r*.7,i*1.1,-1),Xr("u3",t,e,Nr,0,i*2,-1),Xr("cf1",t,e,Nr,-r,0,1),Xr("cf2",t,e,Nr,r,0,1),Xr("cf3",t,e,Nr,0,-i,1),Xr("cf4",t,e,Nr,0,i,1),Xr("cn1",t,e,Nr,-r,0,-1),Xr("cn2",t,e,Nr,r,0,-1),Xr("cn3",t,e,Nr,0,-i,-1),Xr("cn4",t,e,Nr,0,i,-1),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function Xr(n,e,t,r,i,s,o){Ew.set(i,s,o).unproject(r);const a=e[n];if(a!==void 0){const l=t.getAttribute("position");for(let u=0,h=a.length;u<h;u++)l.setXYZ(a[u],Ew.x,Ew.y,Ew.z)}}const bw=new Yl;class yBe extends Kl{constructor(e,t=16776960){const r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=new Float32Array(8*3),s=new Qt;s.setIndex(new Bn(r,1)),s.setAttribute("position",new Bn(i,3)),super(s,new Cs({color:t,toneMapped:!1})),this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(e){if(e!==void 0&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),this.object!==void 0&&bw.setFromObject(this.object),bw.isEmpty())return;const t=bw.min,r=bw.max,i=this.geometry.attributes.position,s=i.array;s[0]=r.x,s[1]=r.y,s[2]=r.z,s[3]=t.x,s[4]=r.y,s[5]=r.z,s[6]=t.x,s[7]=t.y,s[8]=r.z,s[9]=r.x,s[10]=t.y,s[11]=r.z,s[12]=r.x,s[13]=r.y,s[14]=t.z,s[15]=t.x,s[16]=r.y,s[17]=t.z,s[18]=t.x,s[19]=t.y,s[20]=t.z,s[21]=r.x,s[22]=t.y,s[23]=t.z,i.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e,t){return super.copy(e,t),this.object=e.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class xBe extends Kl{constructor(e,t=16776960){const r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],s=new Qt;s.setIndex(new Bn(r,1)),s.setAttribute("position",new Ct(i,3)),super(s,new Cs({color:t,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){const t=this.box;t.isEmpty()||(t.getCenter(this.position),t.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}dispose(){this.geometry.dispose(),this.material.dispose()}}class ABe extends bh{constructor(e,t=1,r=16776960){const i=r,s=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],o=new Qt;o.setAttribute("position",new Ct(s,3)),o.computeBoundingSphere(),super(o,new Cs({color:i,toneMapped:!1})),this.type="PlaneHelper",this.plane=e,this.size=t;const a=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],l=new Qt;l.setAttribute("position",new Ct(a,3)),l.computeBoundingSphere(),this.add(new Si(l,new Xo({color:i,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const tW=new ie;let ww,FL;class _Be extends Sn{constructor(e=new ie(0,0,1),t=new ie(0,0,0),r=1,i=16776960,s=r*.2,o=s*.2){super(),this.type="ArrowHelper",ww===void 0&&(ww=new Qt,ww.setAttribute("position",new Ct([0,0,0,0,1,0],3)),FL=new Ag(0,.5,1,5,1),FL.translate(0,-.5,0)),this.position.copy(t),this.line=new bh(ww,new Cs({color:i,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new Si(FL,new Xo({color:i,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(r,s,o)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{tW.set(e.z,0,-e.x).normalize();const t=Math.acos(e.y);this.quaternion.setFromAxisAngle(tW,t)}}setLength(e,t=e*.2,r=t*.2){this.line.scale.set(1,Math.max(1e-4,e-t),1),this.line.updateMatrix(),this.cone.scale.set(r,t,r),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class MBe extends Kl{constructor(e=1){const t=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],r=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],i=new Qt;i.setAttribute("position",new Ct(t,3)),i.setAttribute("color",new Ct(r,3));const s=new Cs({vertexColors:!0,toneMapped:!1});super(i,s),this.type="AxesHelper"}setColors(e,t,r){const i=new At,s=this.geometry.attributes.color.array;return i.set(e),i.toArray(s,0),i.toArray(s,3),i.set(t),i.toArray(s,6),i.toArray(s,9),i.set(r),i.toArray(s,12),i.toArray(s,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class SBe{constructor(){this.type="ShapePath",this.color=new At,this.subPaths=[],this.currentPath=null}moveTo(e,t){return this.currentPath=new NM,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,t),this}lineTo(e,t){return this.currentPath.lineTo(e,t),this}quadraticCurveTo(e,t,r,i){return this.currentPath.quadraticCurveTo(e,t,r,i),this}bezierCurveTo(e,t,r,i,s,o){return this.currentPath.bezierCurveTo(e,t,r,i,s,o),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e){function t(g){const M=[];for(let _=0,b=g.length;_<b;_++){const T=g[_],C=new jm;C.curves=T.curves,M.push(C)}return M}function r(g,M){const _=M.length;let b=!1;for(let T=_-1,C=0;C<_;T=C++){let B=M[T],P=M[C],R=P.x-B.x,L=P.y-B.y;if(Math.abs(L)>Number.EPSILON){if(L<0&&(B=M[C],R=-R,P=M[T],L=-L),g.y<B.y||g.y>P.y)continue;if(g.y===B.y){if(g.x===B.x)return!0}else{const U=L*(g.x-B.x)-R*(g.y-B.y);if(U===0)return!0;if(U<0)continue;b=!b}}else{if(g.y!==B.y)continue;if(P.x<=g.x&&g.x<=B.x||B.x<=g.x&&g.x<=P.x)return!0}}return b}const i=Vu.isClockWise,s=this.subPaths;if(s.length===0)return[];let o,a,l;const u=[];if(s.length===1)return a=s[0],l=new jm,l.curves=a.curves,u.push(l),u;let h=!i(s[0].getPoints());h=e?!h:h;const f=[],p=[];let m=[],v=0,S;p[v]=void 0,m[v]=[];for(let g=0,M=s.length;g<M;g++)a=s[g],S=a.getPoints(),o=i(S),o=e?!o:o,o?(!h&&p[v]&&v++,p[v]={s:new jm,p:S},p[v].s.curves=a.curves,h&&v++,m[v]=[]):m[v].push({h:a,p:S[0]});if(!p[0])return t(s);if(p.length>1){let g=!1,M=0;for(let _=0,b=p.length;_<b;_++)f[_]=[];for(let _=0,b=p.length;_<b;_++){const T=m[_];for(let C=0;C<T.length;C++){const B=T[C];let P=!0;for(let R=0;R<p.length;R++)r(B.p,p[R].p)&&(_!==R&&M++,P?(P=!1,f[R].push(B)):g=!0);P&&f[_].push(B)}}M>0&&g===!1&&(m=f)}let A;for(let g=0,M=p.length;g<M;g++){l=p[g].s,u.push(l),A=m[g];for(let _=0,b=A.length;_<b;_++)l.holes.push(A[_].h)}return u}}class EBe extends Nf{constructor(e,t,r,i,s,o){console.warn("THREE.BoxBufferGeometry has been renamed to THREE.BoxGeometry."),super(e,t,r,i,s,o)}}class bBe extends RS{constructor(e,t,r,i){console.warn("THREE.CapsuleBufferGeometry has been renamed to THREE.CapsuleGeometry."),super(e,t,r,i)}}class wBe extends PS{constructor(e,t,r,i){console.warn("THREE.CircleBufferGeometry has been renamed to THREE.CircleGeometry."),super(e,t,r,i)}}class TBe extends BS{constructor(e,t,r,i,s,o,a){console.warn("THREE.ConeBufferGeometry has been renamed to THREE.ConeGeometry."),super(e,t,r,i,s,o,a)}}class CBe extends Ag{constructor(e,t,r,i,s,o,a,l){console.warn("THREE.CylinderBufferGeometry has been renamed to THREE.CylinderGeometry."),super(e,t,r,i,s,o,a,l)}}class RBe extends LS{constructor(e,t){console.warn("THREE.DodecahedronBufferGeometry has been renamed to THREE.DodecahedronGeometry."),super(e,t)}}class PBe extends IS{constructor(e,t){console.warn("THREE.ExtrudeBufferGeometry has been renamed to THREE.ExtrudeGeometry."),super(e,t)}}class BBe extends DS{constructor(e,t){console.warn("THREE.IcosahedronBufferGeometry has been renamed to THREE.IcosahedronGeometry."),super(e,t)}}class LBe extends Rx{constructor(e,t,r,i){console.warn("THREE.LatheBufferGeometry has been renamed to THREE.LatheGeometry."),super(e,t,r,i)}}class IBe extends Px{constructor(e,t){console.warn("THREE.OctahedronBufferGeometry has been renamed to THREE.OctahedronGeometry."),super(e,t)}}class DBe extends Tx{constructor(e,t,r,i){console.warn("THREE.PlaneBufferGeometry has been renamed to THREE.PlaneGeometry."),super(e,t,r,i)}}class FBe extends Ph{constructor(e,t,r,i){console.warn("THREE.PolyhedronBufferGeometry has been renamed to THREE.PolyhedronGeometry."),super(e,t,r,i)}}class NBe extends FS{constructor(e,t,r,i,s,o){console.warn("THREE.RingBufferGeometry has been renamed to THREE.RingGeometry."),super(e,t,r,i,s,o)}}class UBe extends NS{constructor(e,t){console.warn("THREE.ShapeBufferGeometry has been renamed to THREE.ShapeGeometry."),super(e,t)}}class OBe extends Bx{constructor(e,t,r,i,s,o,a){console.warn("THREE.SphereBufferGeometry has been renamed to THREE.SphereGeometry."),super(e,t,r,i,s,o,a)}}class kBe extends US{constructor(e,t){console.warn("THREE.TetrahedronBufferGeometry has been renamed to THREE.TetrahedronGeometry."),super(e,t)}}class GBe extends OS{constructor(e,t,r,i,s){console.warn("THREE.TorusBufferGeometry has been renamed to THREE.TorusGeometry."),super(e,t,r,i,s)}}class zBe extends kS{constructor(e,t,r,i,s,o){console.warn("THREE.TorusKnotBufferGeometry has been renamed to THREE.TorusKnotGeometry."),super(e,t,r,i,s,o)}}class HBe extends GS{constructor(e,t,r,i,s){console.warn("THREE.TubeBufferGeometry has been renamed to THREE.TubeGeometry."),super(e,t,r,i,s)}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:MS}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=MS);const VBe=Object.freeze(Object.defineProperty({__proto__:null,ACESFilmicToneMapping:aG,AddEquation:lm,AddOperation:Bee,AdditiveAnimationBlendMode:pG,AdditiveBlending:mF,AlphaFormat:Oee,AlwaysCompare:ote,AlwaysDepth:Eee,AlwaysStencilFunc:Zee,AmbientLight:Jte,AmbientLightProbe:UPe,AnimationAction:tne,AnimationClip:sx,AnimationLoader:wPe,AnimationMixer:tBe,AnimationObjectGroup:$Pe,AnimationUtils:MPe,ArcCurve:Ete,ArrayCamera:yte,ArrowHelper:_Be,Audio:$te,AudioAnalyser:VPe,AudioContext:qG,AudioListener:GPe,AudioLoader:FPe,AxesHelper:MBe,BackSide:js,BasicDepthPacking:Kee,BasicShadowMap:cee,Bone:yP,BooleanKeyframeTrack:_g,Box2:aBe,Box3:Yl,Box3Helper:xBe,BoxBufferGeometry:EBe,BoxGeometry:Nf,BoxHelper:yBe,BufferAttribute:Bn,BufferGeometry:Qt,BufferGeometryLoader:qte,ByteType:Nee,Cache:ug,Camera:ES,CameraHelper:vBe,CanvasTexture:XRe,CapsuleBufferGeometry:bBe,CapsuleGeometry:RS,CatmullRomCurve3:bte,CineonToneMapping:Dee,CircleBufferGeometry:wBe,CircleGeometry:PS,ClampToEdgeWrapping:ss,Clock:ZG,Color:At,ColorKeyframeTrack:jG,ColorManagement:Ba,CompressedArrayTexture:jRe,CompressedTexture:FG,CompressedTextureLoader:TPe,ConeBufferGeometry:TBe,ConeGeometry:BS,CubeCamera:EG,CubeReflectionMapping:yf,CubeRefractionMapping:xf,CubeTexture:bS,CubeTextureLoader:CPe,CubeUVReflectionMapping:bx,CubicBezierCurve:UG,CubicBezierCurve3:wte,CubicInterpolant:Vte,CullFaceBack:pF,CullFaceFront:uee,CullFaceFrontBack:JSe,CullFaceNone:lee,Curve:Ql,CurvePath:Cte,CustomBlending:hee,CustomToneMapping:Fee,CylinderBufferGeometry:CBe,CylinderGeometry:Ag,Cylindrical:oBe,Data3DTexture:_G,DataArrayTexture:fP,DataTexture:My,DataTextureLoader:RPe,DataUtils:tbe,DecrementStencilOp:nEe,DecrementWrapStencilOp:iEe,DefaultLoadingManager:Q0,DepthFormat:tf,DepthStencilFormat:og,DepthTexture:xte,DirectionalLight:QG,DirectionalLightHelper:gBe,DiscreteInterpolant:Wte,DisplayP3ColorSpace:vG,DodecahedronBufferGeometry:RBe,DodecahedronGeometry:LS,DoubleSide:za,DstAlphaFactor:yee,DstColorFactor:Aee,DynamicCopyUsage:yEe,DynamicDrawUsage:Hm,DynamicReadUsage:mEe,EdgesGeometry:Rte,EllipseCurve:xP,EqualCompare:tte,EqualDepth:wee,EqualStencilFunc:lEe,EquirectangularReflectionMapping:RM,EquirectangularRefractionMapping:PM,Euler:xg,EventDispatcher:ec,ExtrudeBufferGeometry:PBe,ExtrudeGeometry:IS,FileLoader:na,Float16BufferAttribute:abe,Float32BufferAttribute:Ct,Float64BufferAttribute:lbe,FloatType:Lu,Fog:vP,FogExp2:gP,FramebufferTexture:WRe,FrontSide:Ku,Frustum:pP,GLBufferAttribute:sBe,GLSL1:AEe,GLSL3:VF,GreaterCompare:rte,GreaterDepth:Cee,GreaterEqualCompare:ste,GreaterEqualDepth:Tee,GreaterEqualStencilFunc:dEe,GreaterStencilFunc:cEe,GridHelper:pBe,Group:sh,HalfFloatType:Zy,HemisphereLight:Xte,HemisphereLightHelper:fBe,HemisphereLightProbe:NPe,IcosahedronBufferGeometry:BBe,IcosahedronGeometry:DS,ImageBitmapLoader:Zte,ImageLoader:GM,ImageUtils:AG,IncrementStencilOp:tEe,IncrementWrapStencilOp:rEe,InstancedBufferAttribute:nx,InstancedBufferGeometry:Qte,InstancedInterleavedBuffer:iBe,InstancedMesh:LG,Int16BufferAttribute:sbe,Int32BufferAttribute:obe,Int8BufferAttribute:nbe,IntType:lG,InterleavedBuffer:wS,InterleavedBufferAttribute:_f,Interpolant:Lx,InterpolateDiscrete:$y,InterpolateLinear:ag,InterpolateSmooth:_T,InvertStencilOp:sEe,KeepStencilOp:MT,KeyframeTrack:ql,LOD:Ste,LatheBufferGeometry:LBe,LatheGeometry:Rx,Layers:Wm,LessCompare:ete,LessDepth:bee,LessEqualCompare:nte,LessEqualDepth:UC,LessEqualStencilFunc:uEe,LessStencilFunc:aEe,Light:Uf,LightProbe:MP,Line:bh,Line3:lBe,LineBasicMaterial:Cs,LineCurve:AP,LineCurve3:Tte,LineDashedMaterial:zte,LineLoop:IG,LineSegments:Kl,LinearEncoding:gG,LinearFilter:_r,LinearInterpolant:WG,LinearMipMapLinearFilter:ZSe,LinearMipMapNearestFilter:qSe,LinearMipmapLinearFilter:Qu,LinearMipmapNearestFilter:cP,LinearSRGBColorSpace:Hl,LinearToneMapping:Lee,Loader:qs,LoaderUtils:Wu,LoadingManager:XG,LoopOnce:jee,LoopPingPong:Jee,LoopRepeat:Xee,LuminanceAlphaFormat:Gee,LuminanceFormat:kee,MOUSE:tm,Material:hi,MaterialLoader:SP,MathUtils:xG,Matrix3:on,Matrix4:Ht,MaxEquation:xF,Mesh:Si,MeshBasicMaterial:Xo,MeshDepthMaterial:TG,MeshDistanceMaterial:CG,MeshLambertMaterial:kte,MeshMatcapMaterial:Gte,MeshNormalMaterial:Ote,MeshPhongMaterial:Nte,MeshPhysicalMaterial:tc,MeshStandardMaterial:zS,MeshToonMaterial:Ute,MinEquation:yF,MirroredRepeatWrapping:qy,MixOperation:Pee,MultiplyBlending:vF,MultiplyOperation:SS,NearestFilter:Gr,NearestMipMapLinearFilter:QSe,NearestMipMapNearestFilter:KSe,NearestMipmapLinearFilter:Ay,NearestMipmapNearestFilter:BM,NeverCompare:$ee,NeverDepth:See,NeverStencilFunc:oEe,NoBlending:dh,NoColorSpace:rf,NoToneMapping:Nl,NormalAnimationBlendMode:dP,NormalBlending:zm,NotEqualCompare:ite,NotEqualDepth:Ree,NotEqualStencilFunc:hEe,NumberKeyframeTrack:rx,Object3D:Sn,ObjectLoader:IPe,ObjectSpaceNormalMap:qee,OctahedronBufferGeometry:IBe,OctahedronGeometry:Px,OneFactor:mee,OneMinusDstAlphaFactor:xee,OneMinusDstColorFactor:_ee,OneMinusSrcAlphaFactor:oG,OneMinusSrcColorFactor:vee,OrthographicCamera:Ul,PCFShadowMap:lP,PCFSoftShadowMap:M_,PMREMGenerator:jF,Path:NM,PerspectiveCamera:hr,Plane:Md,PlaneBufferGeometry:DBe,PlaneGeometry:Tx,PlaneHelper:ABe,PointLight:KG,PointLightHelper:hBe,Points:DG,PointsMaterial:CS,PolarGridHelper:mBe,PolyhedronBufferGeometry:FBe,PolyhedronGeometry:Ph,PositionalAudio:HPe,PropertyBinding:wn,PropertyMixer:ene,QuadraticBezierCurve:OG,QuadraticBezierCurve3:kG,Quaternion:Wi,QuaternionKeyframeTrack:Mf,QuaternionLinearInterpolant:jte,RED_GREEN_RGTC2_Format:zF,RED_RGTC1_Format:Wee,REVISION:MS,RGBADepthPacking:Qee,RGBAFormat:lo,RGBAIntegerFormat:fG,RGBA_ASTC_10x10_Format:UF,RGBA_ASTC_10x5_Format:DF,RGBA_ASTC_10x6_Format:FF,RGBA_ASTC_10x8_Format:NF,RGBA_ASTC_12x10_Format:OF,RGBA_ASTC_12x12_Format:kF,RGBA_ASTC_4x4_Format:wF,RGBA_ASTC_5x4_Format:TF,RGBA_ASTC_5x5_Format:CF,RGBA_ASTC_6x5_Format:RF,RGBA_ASTC_6x6_Format:PF,RGBA_ASTC_8x5_Format:BF,RGBA_ASTC_8x6_Format:LF,RGBA_ASTC_8x8_Format:IF,RGBA_BPTC_Format:AT,RGBA_ETC2_EAC_Format:bF,RGBA_PVRTC_2BPPV1_Format:SF,RGBA_PVRTC_4BPPV1_Format:MF,RGBA_S3TC_DXT1_Format:vT,RGBA_S3TC_DXT3_Format:yT,RGBA_S3TC_DXT5_Format:xT,RGB_ETC1_Format:Vee,RGB_ETC2_Format:EF,RGB_PVRTC_2BPPV1_Format:_F,RGB_PVRTC_4BPPV1_Format:AF,RGB_S3TC_DXT1_Format:gT,RGFormat:Hee,RGIntegerFormat:dG,RawShaderMaterial:Fte,Ray:wx,Raycaster:nne,RectAreaLight:Yte,RedFormat:zee,RedIntegerFormat:hG,ReinhardToneMapping:Iee,RepeatWrapping:Af,ReplaceStencilOp:eEe,ReverseSubtractEquation:fee,RingBufferGeometry:NBe,RingGeometry:FS,SIGNED_RED_GREEN_RGTC2_Format:HF,SIGNED_RED_RGTC1_Format:GF,SRGBColorSpace:Zt,Scene:zC,ShaderChunk:rn,ShaderLib:Tl,ShaderMaterial:qu,ShadowMaterial:Dte,Shape:jm,ShapeBufferGeometry:UBe,ShapeGeometry:NS,ShapePath:SBe,ShapeUtils:Vu,ShortType:Uee,Skeleton:TS,SkeletonHelper:cBe,SkinnedMesh:BG,Source:Tm,Sphere:$a,SphereBufferGeometry:OBe,SphereGeometry:Bx,Spherical:ZF,SphericalHarmonics3:Kte,SplineCurve:GG,SpotLight:YG,SpotLightHelper:uBe,Sprite:Mte,SpriteMaterial:PG,SrcAlphaFactor:sG,SrcAlphaSaturateFactor:Mee,SrcColorFactor:gee,StaticCopyUsage:vEe,StaticDrawUsage:IM,StaticReadUsage:pEe,StereoCamera:OPe,StreamCopyUsage:xEe,StreamDrawUsage:fEe,StreamReadUsage:gEe,StringKeyframeTrack:Mg,SubtractEquation:dee,SubtractiveBlending:gF,TOUCH:nm,TangentSpaceNormalMap:Ff,TetrahedronBufferGeometry:kBe,TetrahedronGeometry:US,Texture:fr,TextureLoader:HS,TorusBufferGeometry:GBe,TorusGeometry:OS,TorusKnotBufferGeometry:zBe,TorusKnotGeometry:kS,Triangle:oo,TriangleFanDrawMode:OC,TriangleStripDrawMode:mG,TrianglesDrawMode:Yee,TubeBufferGeometry:HBe,TubeGeometry:GS,TwoPassDoubleSide:YSe,UVMapping:uP,Uint16BufferAttribute:MG,Uint32BufferAttribute:SG,Uint8BufferAttribute:rbe,Uint8ClampedBufferAttribute:ibe,Uniform:tz,UniformsGroup:rBe,UniformsLib:pt,UniformsUtils:hte,UnsignedByteType:Hu,UnsignedInt248Type:ef,UnsignedIntType:ih,UnsignedShort4444Type:uG,UnsignedShort5551Type:cG,UnsignedShortType:hP,VSMShadowMap:_l,Vector2:Je,Vector3:ie,Vector4:Gn,VectorKeyframeTrack:ix,VideoTexture:VRe,WebGL1Renderer:Ate,WebGL3DRenderTarget:WEe,WebGLArrayRenderTarget:VEe,WebGLCoordinateSystem:Iu,WebGLCubeRenderTarget:bG,WebGLMultipleRenderTargets:jEe,WebGLRenderTarget:Vl,WebGLRenderer:RG,WebGLUtils:vte,WebGPUCoordinateSystem:DM,WireframeGeometry:Ite,WrapAroundEnding:LM,ZeroCurvatureEnding:bm,ZeroFactor:pee,ZeroSlopeEnding:wm,ZeroStencilOp:$Se,_SRGBAFormat:kC,sRGBEncoding:nf},Symbol.toStringTag,{value:"Module"}));var ine={exports:{}},Sg={};/**
 * @license React
 * react-reconciler-constants.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */Sg.ConcurrentRoot=1;Sg.ContinuousEventPriority=4;Sg.DefaultEventPriority=16;Sg.DiscreteEventPriority=1;Sg.IdleEventPriority=536870912;Sg.LegacyRoot=0;ine.exports=Sg;var q0=ine.exports;function WBe(n){let e;const t=new Set,r=(u,h)=>{const f=typeof u=="function"?u(e):u;if(f!==e){const p=e;e=h?f:Object.assign({},e,f),t.forEach(m=>m(e,p))}},i=()=>e,s=(u,h=i,f=Object.is)=>{console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");let p=h(e);function m(){const v=h(e);if(!f(p,v)){const S=p;u(p=v,S)}}return t.add(m),()=>t.delete(m)},l={setState:r,getState:i,subscribe:(u,h,f)=>h||f?s(u,h,f):(t.add(u),()=>t.delete(u)),destroy:()=>t.clear()};return e=n(r,i,l),l}const jBe=typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),nW=jBe?me.useEffect:me.useLayoutEffect;function sne(n){const e=typeof n=="function"?WBe(n):n,t=(r=e.getState,i=Object.is)=>{const[,s]=me.useReducer(A=>A+1,0),o=e.getState(),a=me.useRef(o),l=me.useRef(r),u=me.useRef(i),h=me.useRef(!1),f=me.useRef();f.current===void 0&&(f.current=r(o));let p,m=!1;(a.current!==o||l.current!==r||u.current!==i||h.current)&&(p=r(o),m=!i(f.current,p)),nW(()=>{m&&(f.current=p),a.current=o,l.current=r,u.current=i,h.current=!1});const v=me.useRef(o);nW(()=>{const A=()=>{try{const M=e.getState(),_=l.current(M);u.current(f.current,_)||(a.current=M,f.current=_,s())}catch{h.current=!0,s()}},g=e.subscribe(A);return e.getState()!==v.current&&A(),g},[]);const S=m?p:f.current;return me.useDebugValue(S),S};return Object.assign(t,e),t[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");const r=[t,e];return{next(){const i=r.length<=0;return{value:r.shift(),done:i}}}},t}var one={exports:{}},NL={exports:{}},UL={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rW;function XBe(){return rW||(rW=1,function(n){function e(D,k){var G=D.length;D.push(k);e:for(;0<G;){var K=G-1>>>1,H=D[K];if(0<i(H,k))D[K]=k,D[G]=H,G=K;else break e}}function t(D){return D.length===0?null:D[0]}function r(D){if(D.length===0)return null;var k=D[0],G=D.pop();if(G!==k){D[0]=G;e:for(var K=0,H=D.length,ue=H>>>1;K<ue;){var le=2*(K+1)-1,Ce=D[le],xe=le+1,Be=D[xe];if(0>i(Ce,G))xe<H&&0>i(Be,Ce)?(D[K]=Be,D[xe]=G,K=xe):(D[K]=Ce,D[le]=G,K=le);else if(xe<H&&0>i(Be,G))D[K]=Be,D[xe]=G,K=xe;else break e}}return k}function i(D,k){var G=D.sortIndex-k.sortIndex;return G!==0?G:D.id-k.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();n.unstable_now=function(){return o.now()-a}}var l=[],u=[],h=1,f=null,p=3,m=!1,v=!1,S=!1,A=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,M=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(D){for(var k=t(u);k!==null;){if(k.callback===null)r(u);else if(k.startTime<=D)r(u),k.sortIndex=k.expirationTime,e(l,k);else break;k=t(u)}}function b(D){if(S=!1,_(D),!v)if(t(l)!==null)v=!0,ae(T);else{var k=t(u);k!==null&&Z(b,k.startTime-D)}}function T(D,k){v=!1,S&&(S=!1,g(P),P=-1),m=!0;var G=p;try{for(_(k),f=t(l);f!==null&&(!(f.expirationTime>k)||D&&!U());){var K=f.callback;if(typeof K=="function"){f.callback=null,p=f.priorityLevel;var H=K(f.expirationTime<=k);k=n.unstable_now(),typeof H=="function"?f.callback=H:f===t(l)&&r(l),_(k)}else r(l);f=t(l)}if(f!==null)var ue=!0;else{var le=t(u);le!==null&&Z(b,le.startTime-k),ue=!1}return ue}finally{f=null,p=G,m=!1}}var C=!1,B=null,P=-1,R=5,L=-1;function U(){return!(n.unstable_now()-L<R)}function Q(){if(B!==null){var D=n.unstable_now();L=D;var k=!0;try{k=B(!0,D)}finally{k?W():(C=!1,B=null)}}else C=!1}var W;if(typeof M=="function")W=function(){M(Q)};else if(typeof MessageChannel<"u"){var Y=new MessageChannel,X=Y.port2;Y.port1.onmessage=Q,W=function(){X.postMessage(null)}}else W=function(){A(Q,0)};function ae(D){B=D,C||(C=!0,W())}function Z(D,k){P=A(function(){D(n.unstable_now())},k)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(D){D.callback=null},n.unstable_continueExecution=function(){v||m||(v=!0,ae(T))},n.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<D?Math.floor(1e3/D):5},n.unstable_getCurrentPriorityLevel=function(){return p},n.unstable_getFirstCallbackNode=function(){return t(l)},n.unstable_next=function(D){switch(p){case 1:case 2:case 3:var k=3;break;default:k=p}var G=p;p=k;try{return D()}finally{p=G}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(D,k){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var G=p;p=D;try{return k()}finally{p=G}},n.unstable_scheduleCallback=function(D,k,G){var K=n.unstable_now();switch(typeof G=="object"&&G!==null?(G=G.delay,G=typeof G=="number"&&0<G?K+G:K):G=K,D){case 1:var H=-1;break;case 2:H=250;break;case 5:H=1073741823;break;case 4:H=1e4;break;default:H=5e3}return H=G+H,D={id:h++,callback:k,priorityLevel:D,startTime:G,expirationTime:H,sortIndex:-1},G>K?(D.sortIndex=G,e(u,D),t(l)===null&&D===t(u)&&(S?(g(P),P=-1):S=!0,Z(b,G-K))):(D.sortIndex=H,e(l,D),v||m||(v=!0,ae(T))),D},n.unstable_shouldYield=U,n.unstable_wrapCallback=function(D){var k=p;return function(){var G=p;p=k;try{return D.apply(this,arguments)}finally{p=G}}}}(UL)),UL}var iW;function JBe(){return iW||(iW=1,NL.exports=XBe()),NL.exports}/**
 * @license React
 * react-reconciler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var YBe=function(e){var t={},r=me,i=JBe(),s=Object.assign;function o(c){for(var d="https://reactjs.org/docs/error-decoder.html?invariant="+c,x=1;x<arguments.length;x++)d+="&args[]="+encodeURIComponent(arguments[x]);return"Minified React error #"+c+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,l=Symbol.for("react.element"),u=Symbol.for("react.portal"),h=Symbol.for("react.fragment"),f=Symbol.for("react.strict_mode"),p=Symbol.for("react.profiler"),m=Symbol.for("react.provider"),v=Symbol.for("react.context"),S=Symbol.for("react.forward_ref"),A=Symbol.for("react.suspense"),g=Symbol.for("react.suspense_list"),M=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),b=Symbol.for("react.offscreen"),T=Symbol.iterator;function C(c){return c===null||typeof c!="object"?null:(c=T&&c[T]||c["@@iterator"],typeof c=="function"?c:null)}function B(c){if(c==null)return null;if(typeof c=="function")return c.displayName||c.name||null;if(typeof c=="string")return c;switch(c){case h:return"Fragment";case u:return"Portal";case p:return"Profiler";case f:return"StrictMode";case A:return"Suspense";case g:return"SuspenseList"}if(typeof c=="object")switch(c.$$typeof){case v:return(c.displayName||"Context")+".Consumer";case m:return(c._context.displayName||"Context")+".Provider";case S:var d=c.render;return c=c.displayName,c||(c=d.displayName||d.name||"",c=c!==""?"ForwardRef("+c+")":"ForwardRef"),c;case M:return d=c.displayName||null,d!==null?d:B(c.type)||"Memo";case _:d=c._payload,c=c._init;try{return B(c(d))}catch{}}return null}function P(c){var d=c.type;switch(c.tag){case 24:return"Cache";case 9:return(d.displayName||"Context")+".Consumer";case 10:return(d._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return c=d.render,c=c.displayName||c.name||"",d.displayName||(c!==""?"ForwardRef("+c+")":"ForwardRef");case 7:return"Fragment";case 5:return d;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return B(d);case 8:return d===f?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof d=="function")return d.displayName||d.name||null;if(typeof d=="string")return d}return null}function R(c){var d=c,x=c;if(c.alternate)for(;d.return;)d=d.return;else{c=d;do d=c,d.flags&4098&&(x=d.return),c=d.return;while(c)}return d.tag===3?x:null}function L(c){if(R(c)!==c)throw Error(o(188))}function U(c){var d=c.alternate;if(!d){if(d=R(c),d===null)throw Error(o(188));return d!==c?null:c}for(var x=c,E=d;;){var w=x.return;if(w===null)break;var I=w.alternate;if(I===null){if(E=w.return,E!==null){x=E;continue}break}if(w.child===I.child){for(I=w.child;I;){if(I===x)return L(w),c;if(I===E)return L(w),d;I=I.sibling}throw Error(o(188))}if(x.return!==E.return)x=w,E=I;else{for(var V=!1,te=w.child;te;){if(te===x){V=!0,x=w,E=I;break}if(te===E){V=!0,E=w,x=I;break}te=te.sibling}if(!V){for(te=I.child;te;){if(te===x){V=!0,x=I,E=w;break}if(te===E){V=!0,E=I,x=w;break}te=te.sibling}if(!V)throw Error(o(189))}}if(x.alternate!==E)throw Error(o(190))}if(x.tag!==3)throw Error(o(188));return x.stateNode.current===x?c:d}function Q(c){return c=U(c),c!==null?W(c):null}function W(c){if(c.tag===5||c.tag===6)return c;for(c=c.child;c!==null;){var d=W(c);if(d!==null)return d;c=c.sibling}return null}function Y(c){if(c.tag===5||c.tag===6)return c;for(c=c.child;c!==null;){if(c.tag!==4){var d=Y(c);if(d!==null)return d}c=c.sibling}return null}var X=Array.isArray,ae=e.getPublicInstance,Z=e.getRootHostContext,D=e.getChildHostContext,k=e.prepareForCommit,G=e.resetAfterCommit,K=e.createInstance,H=e.appendInitialChild,ue=e.finalizeInitialChildren,le=e.prepareUpdate,Ce=e.shouldSetTextContent,xe=e.createTextInstance,Be=e.scheduleTimeout,Qe=e.cancelTimeout,je=e.noTimeout,Ke=e.isPrimaryRenderer,fe=e.supportsMutation,z=e.supportsPersistence,Ae=e.supportsHydration,ge=e.getInstanceFromNode,Me=e.preparePortalMount,Ee=e.getCurrentEventPriority,Ve=e.detachDeletedInstance,Ge=e.supportsMicrotasks,ze=e.scheduleMicrotask,Ze=e.supportsTestSelectors,St=e.findFiberRoot,Dt=e.getBoundingRect,O=e.getTextContent,F=e.isHiddenSubtree,ce=e.matchAccessibilityRole,be=e.setFocusIfFocusable,Se=e.setupIntersectionObserver,Fe=e.appendChild,Xe=e.appendChildToContainer,De=e.commitTextUpdate,j=e.commitMount,q=e.commitUpdate,ve=e.insertBefore,Re=e.insertInContainerBefore,Pe=e.removeChild,Ue=e.removeChildFromContainer,it=e.resetTextContent,Mt=e.hideInstance,J=e.hideTextInstance,Ie=e.unhideInstance,oe=e.unhideTextInstance,Ne=e.clearContainer,Oe=e.cloneInstance,wt=e.createContainerChildSet,Ut=e.appendChildToContainerChildSet,Xt=e.finalizeContainerChildren,Vr=e.replaceContainerChildren,Ot=e.cloneHiddenInstance,Xn=e.cloneHiddenTextInstance,gn=e.canHydrateInstance,nc=e.canHydrateTextInstance,Zl=e.canHydrateSuspenseInstance,$l=e.isSuspenseInstancePending,Rs=e.isSuspenseInstanceFallback,Ao=e.registerSuspenseInstanceRetry,ji=e.getNextHydratableSibling,rc=e.getFirstHydratableChild,Gf=e.getFirstHydratableChildWithinContainer,zf=e.getFirstHydratableChildWithinSuspenseInstance,Hf=e.hydrateInstance,N=e.hydrateTextInstance,re=e.hydrateSuspenseInstance,he=e.getNextHydratableInstanceAfterSuspenseInstance,ee=e.commitHydratedContainer,de=e.commitHydratedSuspenseInstance,He=e.clearSuspenseBoundary,et=e.clearSuspenseBoundaryFromContainer,nt=e.shouldDeleteUnhydratedTailInstances,lt=e.didNotMatchHydratedContainerTextInstance,mt=e.didNotMatchHydratedTextInstance,st;function ut(c){if(st===void 0)try{throw Error()}catch(x){var d=x.stack.trim().match(/\n( *(at )?)/);st=d&&d[1]||""}return`
`+st+c}var Ft=!1;function Vt(c,d){if(!c||Ft)return"";Ft=!0;var x=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(d)if(d=function(){throw Error()},Object.defineProperty(d.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(d,[])}catch(ke){var E=ke}Reflect.construct(c,[],d)}else{try{d.call()}catch(ke){E=ke}c.call(d.prototype)}else{try{throw Error()}catch(ke){E=ke}c()}}catch(ke){if(ke&&E&&typeof ke.stack=="string"){for(var w=ke.stack.split(`
`),I=E.stack.split(`
`),V=w.length-1,te=I.length-1;1<=V&&0<=te&&w[V]!==I[te];)te--;for(;1<=V&&0<=te;V--,te--)if(w[V]!==I[te]){if(V!==1||te!==1)do if(V--,te--,0>te||w[V]!==I[te]){var ye=`
`+w[V].replace(" at new "," at ");return c.displayName&&ye.includes("<anonymous>")&&(ye=ye.replace("<anonymous>",c.displayName)),ye}while(1<=V&&0<=te);break}}}finally{Ft=!1,Error.prepareStackTrace=x}return(c=c?c.displayName||c.name:"")?ut(c):""}var Fn=Object.prototype.hasOwnProperty,In=[],It=-1;function $e(c){return{current:c}}function Pt(c){0>It||(c.current=In[It],In[It]=null,It--)}function Lt(c,d){It++,In[It]=c.current,c.current=d}var $t={},dn=$e($t),En=$e(!1),Lr=$t;function Nt(c,d){var x=c.type.contextTypes;if(!x)return $t;var E=c.stateNode;if(E&&E.__reactInternalMemoizedUnmaskedChildContext===d)return E.__reactInternalMemoizedMaskedChildContext;var w={},I;for(I in x)w[I]=d[I];return E&&(c=c.stateNode,c.__reactInternalMemoizedUnmaskedChildContext=d,c.__reactInternalMemoizedMaskedChildContext=w),w}function vn(c){return c=c.childContextTypes,c!=null}function Ps(){Pt(En),Pt(dn)}function Tn(c,d,x){if(dn.current!==$t)throw Error(o(168));Lt(dn,d),Lt(En,x)}function Bs(c,d,x){var E=c.stateNode;if(d=d.childContextTypes,typeof E.getChildContext!="function")return x;E=E.getChildContext();for(var w in E)if(!(w in d))throw Error(o(108,P(c)||"Unknown",w));return s({},x,E)}function el(c){return c=(c=c.stateNode)&&c.__reactInternalMemoizedMergedChildContext||$t,Lr=dn.current,Lt(dn,c),Lt(En,En.current),!0}function Kr(c,d,x){var E=c.stateNode;if(!E)throw Error(o(169));x?(c=Bs(c,d,Lr),E.__reactInternalMemoizedMergedChildContext=c,Pt(En),Pt(dn),Lt(dn,c)):Pt(En),Lt(En,x)}var _o=Math.clz32?Math.clz32:wg,UP=Math.log,OP=Math.LN2;function wg(c){return c>>>=0,c===0?32:31-(UP(c)/OP|0)|0}var ic=64,eu=4194304;function tu(c){switch(c&-c){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return c&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return c}}function Tg(c,d){var x=c.pendingLanes;if(x===0)return 0;var E=0,w=c.suspendedLanes,I=c.pingedLanes,V=x&268435455;if(V!==0){var te=V&~w;te!==0?E=tu(te):(I&=V,I!==0&&(E=tu(I)))}else V=x&~w,V!==0?E=tu(V):I!==0&&(E=tu(I));if(E===0)return 0;if(d!==0&&d!==E&&!(d&w)&&(w=E&-E,I=d&-d,w>=I||w===16&&(I&4194240)!==0))return d;if(E&4&&(E|=x&16),d=c.entangledLanes,d!==0)for(c=c.entanglements,d&=E;0<d;)x=31-_o(d),w=1<<x,E|=c[x],d&=~w;return E}function kP(c,d){switch(c){case 1:case 2:case 4:return d+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return d+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Fx(c,d){for(var x=c.suspendedLanes,E=c.pingedLanes,w=c.expirationTimes,I=c.pendingLanes;0<I;){var V=31-_o(I),te=1<<V,ye=w[V];ye===-1?(!(te&x)||te&E)&&(w[V]=kP(te,d)):ye<=d&&(c.expiredLanes|=te),I&=~te}}function Vf(c){return c=c.pendingLanes&-1073741825,c!==0?c:c&1073741824?1073741824:0}function sc(c){for(var d=[],x=0;31>x;x++)d.push(c);return d}function Wf(c,d,x){c.pendingLanes|=d,d!==536870912&&(c.suspendedLanes=0,c.pingedLanes=0),c=c.eventTimes,d=31-_o(d),c[d]=x}function Nx(c,d){var x=c.pendingLanes&~d;c.pendingLanes=d,c.suspendedLanes=0,c.pingedLanes=0,c.expiredLanes&=d,c.mutableReadLanes&=d,c.entangledLanes&=d,d=c.entanglements;var E=c.eventTimes;for(c=c.expirationTimes;0<x;){var w=31-_o(x),I=1<<w;d[w]=0,E[w]=-1,c[w]=-1,x&=~I}}function fn(c,d){var x=c.entangledLanes|=d;for(c=c.entanglements;x;){var E=31-_o(x),w=1<<E;w&d|c[E]&d&&(c[E]|=d),x&=~w}}var yn=0;function Cg(c){return c&=-c,1<c?4<c?c&268435455?16:536870912:4:1}var Rg=i.unstable_scheduleCallback,QS=i.unstable_cancelCallback,GP=i.unstable_shouldYield,Qr=i.unstable_requestPaint,Ir=i.unstable_now,Ux=i.unstable_ImmediatePriority,Ox=i.unstable_UserBlockingPriority,kx=i.unstable_NormalPriority,Pg=i.unstable_IdlePriority,Ls=null,ua=null;function zP(c){if(ua&&typeof ua.onCommitFiberRoot=="function")try{ua.onCommitFiberRoot(Ls,c,void 0,(c.current.flags&128)===128)}catch{}}function ca(c,d){return c===d&&(c!==0||1/c===1/d)||c!==c&&d!==d}var qr=typeof Object.is=="function"?Object.is:ca,Zs=null,Bh=!1,Bg=!1;function qS(c){Zs===null?Zs=[c]:Zs.push(c)}function ha(c){Bh=!0,qS(c)}function da(){if(!Bg&&Zs!==null){Bg=!0;var c=0,d=yn;try{var x=Zs;for(yn=1;c<x.length;c++){var E=x[c];do E=E(!0);while(E!==null)}Zs=null,Bh=!1}catch(w){throw Zs!==null&&(Zs=Zs.slice(c+1)),Rg(Ux,da),w}finally{yn=d,Bg=!1}}return null}var Lg=a.ReactCurrentBatchConfig;function Ig(c,d){if(qr(c,d))return!0;if(typeof c!="object"||c===null||typeof d!="object"||d===null)return!1;var x=Object.keys(c),E=Object.keys(d);if(x.length!==E.length)return!1;for(E=0;E<x.length;E++){var w=x[E];if(!Fn.call(d,w)||!qr(c[w],d[w]))return!1}return!0}function Mo(c){switch(c.tag){case 5:return ut(c.type);case 16:return ut("Lazy");case 13:return ut("Suspense");case 19:return ut("SuspenseList");case 0:case 2:case 15:return c=Vt(c.type,!1),c;case 11:return c=Vt(c.type.render,!1),c;case 1:return c=Vt(c.type,!0),c;default:return""}}function ds(c,d){if(c&&c.defaultProps){d=s({},d),c=c.defaultProps;for(var x in c)d[x]===void 0&&(d[x]=c[x]);return d}return d}var oc=$e(null),tl=null,nu=null,jf=null;function Dg(){jf=nu=tl=null}function Fg(c,d,x){Ke?(Lt(oc,d._currentValue),d._currentValue=x):(Lt(oc,d._currentValue2),d._currentValue2=x)}function Xf(c){var d=oc.current;Pt(oc),Ke?c._currentValue=d:c._currentValue2=d}function ru(c,d,x){for(;c!==null;){var E=c.alternate;if((c.childLanes&d)!==d?(c.childLanes|=d,E!==null&&(E.childLanes|=d)):E!==null&&(E.childLanes&d)!==d&&(E.childLanes|=d),c===x)break;c=c.return}}function di(c,d){tl=c,jf=nu=null,c=c.dependencies,c!==null&&c.firstContext!==null&&(c.lanes&d&&(Un=!0),c.firstContext=null)}function pr(c){var d=Ke?c._currentValue:c._currentValue2;if(jf!==c)if(c={context:c,memoizedValue:d,next:null},nu===null){if(tl===null)throw Error(o(308));nu=c,tl.dependencies={lanes:0,firstContext:c}}else nu=nu.next=c;return d}var fi=null,fa=!1;function Ng(c){c.updateQueue={baseState:c.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function pa(c,d){c=c.updateQueue,d.updateQueue===c&&(d.updateQueue={baseState:c.baseState,firstBaseUpdate:c.firstBaseUpdate,lastBaseUpdate:c.lastBaseUpdate,shared:c.shared,effects:c.effects})}function Ci(c,d){return{eventTime:c,lane:d,tag:0,payload:null,callback:null,next:null}}function So(c,d){var x=c.updateQueue;x!==null&&(x=x.shared,en!==null&&c.mode&1&&!(Bt&2)?(c=x.interleaved,c===null?(d.next=d,fi===null?fi=[x]:fi.push(x)):(d.next=c.next,c.next=d),x.interleaved=d):(c=x.pending,c===null?d.next=d:(d.next=c.next,c.next=d),x.pending=d))}function Jf(c,d,x){if(d=d.updateQueue,d!==null&&(d=d.shared,(x&4194240)!==0)){var E=d.lanes;E&=c.pendingLanes,x|=E,d.lanes=x,fn(c,x)}}function Yf(c,d){var x=c.updateQueue,E=c.alternate;if(E!==null&&(E=E.updateQueue,x===E)){var w=null,I=null;if(x=x.firstBaseUpdate,x!==null){do{var V={eventTime:x.eventTime,lane:x.lane,tag:x.tag,payload:x.payload,callback:x.callback,next:null};I===null?w=I=V:I=I.next=V,x=x.next}while(x!==null);I===null?w=I=d:I=I.next=d}else w=I=d;x={baseState:E.baseState,firstBaseUpdate:w,lastBaseUpdate:I,shared:E.shared,effects:E.effects},c.updateQueue=x;return}c=x.lastBaseUpdate,c===null?x.firstBaseUpdate=d:c.next=d,x.lastBaseUpdate=d}function Kf(c,d,x,E){var w=c.updateQueue;fa=!1;var I=w.firstBaseUpdate,V=w.lastBaseUpdate,te=w.shared.pending;if(te!==null){w.shared.pending=null;var ye=te,ke=ye.next;ye.next=null,V===null?I=ke:V.next=ke,V=ye;var qe=c.alternate;qe!==null&&(qe=qe.updateQueue,te=qe.lastBaseUpdate,te!==V&&(te===null?qe.firstBaseUpdate=ke:te.next=ke,qe.lastBaseUpdate=ye))}if(I!==null){var rt=w.baseState;V=0,qe=ke=ye=null,te=I;do{var dt=te.lane,ct=te.eventTime;if((E&dt)===dt){qe!==null&&(qe=qe.next={eventTime:ct,lane:0,tag:te.tag,payload:te.payload,callback:te.callback,next:null});e:{var _t=c,On=te;switch(dt=d,ct=x,On.tag){case 1:if(_t=On.payload,typeof _t=="function"){rt=_t.call(ct,rt,dt);break e}rt=_t;break e;case 3:_t.flags=_t.flags&-65537|128;case 0:if(_t=On.payload,dt=typeof _t=="function"?_t.call(ct,rt,dt):_t,dt==null)break e;rt=s({},rt,dt);break e;case 2:fa=!0}}te.callback!==null&&te.lane!==0&&(c.flags|=64,dt=w.effects,dt===null?w.effects=[te]:dt.push(te))}else ct={eventTime:ct,lane:dt,tag:te.tag,payload:te.payload,callback:te.callback,next:null},qe===null?(ke=qe=ct,ye=rt):qe=qe.next=ct,V|=dt;if(te=te.next,te===null){if(te=w.shared.pending,te===null)break;dt=te,te=dt.next,dt.next=null,w.lastBaseUpdate=dt,w.shared.pending=null}}while(1);if(qe===null&&(ye=rt),w.baseState=ye,w.firstBaseUpdate=ke,w.lastBaseUpdate=qe,d=w.shared.interleaved,d!==null){w=d;do V|=w.lane,w=w.next;while(w!==d)}else I===null&&(w.shared.lanes=0);ol|=V,c.lanes=V,c.memoizedState=rt}}function Gx(c,d,x){if(c=d.effects,d.effects=null,c!==null)for(d=0;d<c.length;d++){var E=c[d],w=E.callback;if(w!==null){if(E.callback=null,E=x,typeof w!="function")throw Error(o(191,w));w.call(E)}}}var Ug=new r.Component().refs;function Lh(c,d,x,E){d=c.memoizedState,x=x(E,d),x=x==null?d:s({},d,x),c.memoizedState=x,c.lanes===0&&(c.updateQueue.baseState=x)}var Qf={isMounted:function(c){return(c=c._reactInternals)?R(c)===c:!1},enqueueSetState:function(c,d,x){c=c._reactInternals;var E=sr(),w=Wr(c),I=Ci(E,w);I.payload=d,x!=null&&(I.callback=x),So(c,I),d=$i(c,w,E),d!==null&&Jf(d,c,w)},enqueueReplaceState:function(c,d,x){c=c._reactInternals;var E=sr(),w=Wr(c),I=Ci(E,w);I.tag=1,I.payload=d,x!=null&&(I.callback=x),So(c,I),d=$i(c,w,E),d!==null&&Jf(d,c,w)},enqueueForceUpdate:function(c,d){c=c._reactInternals;var x=sr(),E=Wr(c),w=Ci(x,E);w.tag=2,d!=null&&(w.callback=d),So(c,w),d=$i(c,E,x),d!==null&&Jf(d,c,E)}};function zx(c,d,x,E,w,I,V){return c=c.stateNode,typeof c.shouldComponentUpdate=="function"?c.shouldComponentUpdate(E,I,V):d.prototype&&d.prototype.isPureReactComponent?!Ig(x,E)||!Ig(w,I):!0}function Hx(c,d,x){var E=!1,w=$t,I=d.contextType;return typeof I=="object"&&I!==null?I=pr(I):(w=vn(d)?Lr:dn.current,E=d.contextTypes,I=(E=E!=null)?Nt(c,w):$t),d=new d(x,I),c.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Qf,c.stateNode=d,d._reactInternals=c,E&&(c=c.stateNode,c.__reactInternalMemoizedUnmaskedChildContext=w,c.__reactInternalMemoizedMaskedChildContext=I),d}function Og(c,d,x,E){c=d.state,typeof d.componentWillReceiveProps=="function"&&d.componentWillReceiveProps(x,E),typeof d.UNSAFE_componentWillReceiveProps=="function"&&d.UNSAFE_componentWillReceiveProps(x,E),d.state!==c&&Qf.enqueueReplaceState(d,d.state,null)}function iu(c,d,x,E){var w=c.stateNode;w.props=x,w.state=c.memoizedState,w.refs=Ug,Ng(c);var I=d.contextType;typeof I=="object"&&I!==null?w.context=pr(I):(I=vn(d)?Lr:dn.current,w.context=Nt(c,I)),w.state=c.memoizedState,I=d.getDerivedStateFromProps,typeof I=="function"&&(Lh(c,d,I,x),w.state=c.memoizedState),typeof d.getDerivedStateFromProps=="function"||typeof w.getSnapshotBeforeUpdate=="function"||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(d=w.state,typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount(),d!==w.state&&Qf.enqueueReplaceState(w,w.state,null),Kf(c,x,w,E),w.state=c.memoizedState),typeof w.componentDidMount=="function"&&(c.flags|=4194308)}var Eo=[],nl=0,ac=null,Xi=0,Qn=[],Zr=0,Ji=null,pi=1,Yi="";function su(c,d){Eo[nl++]=Xi,Eo[nl++]=ac,ac=c,Xi=d}function kg(c,d,x){Qn[Zr++]=pi,Qn[Zr++]=Yi,Qn[Zr++]=Ji,Ji=c;var E=pi;c=Yi;var w=32-_o(E)-1;E&=~(1<<w),x+=1;var I=32-_o(d)+w;if(30<I){var V=w-w%5;I=(E&(1<<V)-1).toString(32),E>>=V,w-=V,pi=1<<32-_o(d)+w|x<<w|E,Yi=I+c}else pi=1<<I|x<<w|E,Yi=c}function qf(c){c.return!==null&&(su(c,1),kg(c,1,0))}function Ki(c){for(;c===ac;)ac=Eo[--nl],Eo[nl]=null,Xi=Eo[--nl],Eo[nl]=null;for(;c===Ji;)Ji=Qn[--Zr],Qn[Zr]=null,Yi=Qn[--Zr],Qn[Zr]=null,pi=Qn[--Zr],Qn[Zr]=null}var Wn=null,cn=null,Dn=!1,Qi=!1,$s=null;function Vx(c,d){var x=ps(5,null,null,0);x.elementType="DELETED",x.stateNode=d,x.return=c,d=c.deletions,d===null?(c.deletions=[x],c.flags|=16):d.push(x)}function Gg(c,d){switch(c.tag){case 5:return d=gn(d,c.type,c.pendingProps),d!==null?(c.stateNode=d,Wn=c,cn=rc(d),!0):!1;case 6:return d=nc(d,c.pendingProps),d!==null?(c.stateNode=d,Wn=c,cn=null,!0):!1;case 13:if(d=Zl(d),d!==null){var x=Ji!==null?{id:pi,overflow:Yi}:null;return c.memoizedState={dehydrated:d,treeContext:x,retryLane:1073741824},x=ps(18,null,null,0),x.stateNode=d,x.return=c,c.child=x,Wn=c,cn=null,!0}return!1;default:return!1}}function Zf(c){return(c.mode&1)!==0&&(c.flags&128)===0}function zg(c){if(Dn){var d=cn;if(d){var x=d;if(!Gg(c,d)){if(Zf(c))throw Error(o(418));d=ji(x);var E=Wn;d&&Gg(c,d)?Vx(E,x):(c.flags=c.flags&-4097|2,Dn=!1,Wn=c)}}else{if(Zf(c))throw Error(o(418));c.flags=c.flags&-4097|2,Dn=!1,Wn=c}}}function Ih(c){for(c=c.return;c!==null&&c.tag!==5&&c.tag!==3&&c.tag!==13;)c=c.return;Wn=c}function ma(c){if(!Ae||c!==Wn)return!1;if(!Dn)return Ih(c),Dn=!0,!1;if(c.tag!==3&&(c.tag!==5||nt(c.type)&&!Ce(c.type,c.memoizedProps))){var d=cn;if(d){if(Zf(c)){for(c=cn;c;)c=ji(c);throw Error(o(418))}for(;d;)Vx(c,d),d=ji(d)}}if(Ih(c),c.tag===13){if(!Ae)throw Error(o(316));if(c=c.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(o(317));cn=he(c)}else cn=Wn?ji(c.stateNode):null;return!0}function ou(){Ae&&(cn=Wn=null,Qi=Dn=!1)}function lc(c){$s===null?$s=[c]:$s.push(c)}function au(c,d,x){if(c=x.ref,c!==null&&typeof c!="function"&&typeof c!="object"){if(x._owner){if(x=x._owner,x){if(x.tag!==1)throw Error(o(309));var E=x.stateNode}if(!E)throw Error(o(147,c));var w=E,I=""+c;return d!==null&&d.ref!==null&&typeof d.ref=="function"&&d.ref._stringRef===I?d.ref:(d=function(V){var te=w.refs;te===Ug&&(te=w.refs={}),V===null?delete te[I]:te[I]=V},d._stringRef=I,d)}if(typeof c!="string")throw Error(o(284));if(!x._owner)throw Error(o(290,c))}return c}function $f(c,d){throw c=Object.prototype.toString.call(d),Error(o(31,c==="[object Object]"?"object with keys {"+Object.keys(d).join(", ")+"}":c))}function Wx(c){var d=c._init;return d(c._payload)}function uc(c){function d($,ne){if(c){var _e=$.deletions;_e===null?($.deletions=[ne],$.flags|=16):_e.push(ne)}}function x($,ne){if(!c)return null;for(;ne!==null;)d($,ne),ne=ne.sibling;return null}function E($,ne){for($=new Map;ne!==null;)ne.key!==null?$.set(ne.key,ne):$.set(ne.index,ne),ne=ne.sibling;return $}function w($,ne){return $=Lo($,ne),$.index=0,$.sibling=null,$}function I($,ne,_e){return $.index=_e,c?(_e=$.alternate,_e!==null?(_e=_e.index,_e<ne?($.flags|=2,ne):_e):($.flags|=2,ne)):($.flags|=1048576,ne)}function V($){return c&&$.alternate===null&&($.flags|=2),$}function te($,ne,_e,We){return ne===null||ne.tag!==6?(ne=Ap(_e,$.mode,We),ne.return=$,ne):(ne=w(ne,_e),ne.return=$,ne)}function ye($,ne,_e,We){var tt=_e.type;return tt===h?qe($,ne,_e.props.children,We,_e.key):ne!==null&&(ne.elementType===tt||typeof tt=="object"&&tt!==null&&tt.$$typeof===_&&Wx(tt)===ne.type)?(We=w(ne,_e.props),We.ref=au($,ne,_e),We.return=$,We):(We=Ma(_e.type,_e.key,_e.props,null,$.mode,We),We.ref=au($,ne,_e),We.return=$,We)}function ke($,ne,_e,We){return ne===null||ne.tag!==4||ne.stateNode.containerInfo!==_e.containerInfo||ne.stateNode.implementation!==_e.implementation?(ne=PA(_e,$.mode,We),ne.return=$,ne):(ne=w(ne,_e.children||[]),ne.return=$,ne)}function qe($,ne,_e,We,tt){return ne===null||ne.tag!==7?(ne=Sa(_e,$.mode,We,tt),ne.return=$,ne):(ne=w(ne,_e),ne.return=$,ne)}function rt($,ne,_e){if(typeof ne=="string"&&ne!==""||typeof ne=="number")return ne=Ap(""+ne,$.mode,_e),ne.return=$,ne;if(typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case l:return _e=Ma(ne.type,ne.key,ne.props,null,$.mode,_e),_e.ref=au($,null,ne),_e.return=$,_e;case u:return ne=PA(ne,$.mode,_e),ne.return=$,ne;case _:var We=ne._init;return rt($,We(ne._payload),_e)}if(X(ne)||C(ne))return ne=Sa(ne,$.mode,_e,null),ne.return=$,ne;$f($,ne)}return null}function dt($,ne,_e,We){var tt=ne!==null?ne.key:null;if(typeof _e=="string"&&_e!==""||typeof _e=="number")return tt!==null?null:te($,ne,""+_e,We);if(typeof _e=="object"&&_e!==null){switch(_e.$$typeof){case l:return _e.key===tt?ye($,ne,_e,We):null;case u:return _e.key===tt?ke($,ne,_e,We):null;case _:return tt=_e._init,dt($,ne,tt(_e._payload),We)}if(X(_e)||C(_e))return tt!==null?null:qe($,ne,_e,We,null);$f($,_e)}return null}function ct($,ne,_e,We,tt){if(typeof We=="string"&&We!==""||typeof We=="number")return $=$.get(_e)||null,te(ne,$,""+We,tt);if(typeof We=="object"&&We!==null){switch(We.$$typeof){case l:return $=$.get(We.key===null?_e:We.key)||null,ye(ne,$,We,tt);case u:return $=$.get(We.key===null?_e:We.key)||null,ke(ne,$,We,tt);case _:var ht=We._init;return ct($,ne,_e,ht(We._payload),tt)}if(X(We)||C(We))return $=$.get(_e)||null,qe(ne,$,We,tt,null);$f(ne,We)}return null}function _t($,ne,_e,We){for(var tt=null,ht=null,vt=ne,kt=ne=0,Gt=null;vt!==null&&kt<_e.length;kt++){vt.index>kt?(Gt=vt,vt=null):Gt=vt.sibling;var tn=dt($,vt,_e[kt],We);if(tn===null){vt===null&&(vt=Gt);break}c&&vt&&tn.alternate===null&&d($,vt),ne=I(tn,ne,kt),ht===null?tt=tn:ht.sibling=tn,ht=tn,vt=Gt}if(kt===_e.length)return x($,vt),Dn&&su($,kt),tt;if(vt===null){for(;kt<_e.length;kt++)vt=rt($,_e[kt],We),vt!==null&&(ne=I(vt,ne,kt),ht===null?tt=vt:ht.sibling=vt,ht=vt);return Dn&&su($,kt),tt}for(vt=E($,vt);kt<_e.length;kt++)Gt=ct(vt,$,kt,_e[kt],We),Gt!==null&&(c&&Gt.alternate!==null&&vt.delete(Gt.key===null?kt:Gt.key),ne=I(Gt,ne,kt),ht===null?tt=Gt:ht.sibling=Gt,ht=Gt);return c&&vt.forEach(function(xu){return d($,xu)}),Dn&&su($,kt),tt}function On($,ne,_e,We){var tt=C(_e);if(typeof tt!="function")throw Error(o(150));if(_e=tt.call(_e),_e==null)throw Error(o(151));for(var ht=tt=null,vt=ne,kt=ne=0,Gt=null,tn=_e.next();vt!==null&&!tn.done;kt++,tn=_e.next()){vt.index>kt?(Gt=vt,vt=null):Gt=vt.sibling;var xu=dt($,vt,tn.value,We);if(xu===null){vt===null&&(vt=Gt);break}c&&vt&&xu.alternate===null&&d($,vt),ne=I(xu,ne,kt),ht===null?tt=xu:ht.sibling=xu,ht=xu,vt=Gt}if(tn.done)return x($,vt),Dn&&su($,kt),tt;if(vt===null){for(;!tn.done;kt++,tn=_e.next())tn=rt($,tn.value,We),tn!==null&&(ne=I(tn,ne,kt),ht===null?tt=tn:ht.sibling=tn,ht=tn);return Dn&&su($,kt),tt}for(vt=E($,vt);!tn.done;kt++,tn=_e.next())tn=ct(vt,$,kt,tn.value,We),tn!==null&&(c&&tn.alternate!==null&&vt.delete(tn.key===null?kt:tn.key),ne=I(tn,ne,kt),ht===null?tt=tn:ht.sibling=tn,ht=tn);return c&&vt.forEach(function(cie){return d($,cie)}),Dn&&su($,kt),tt}function Le($,ne,_e,We){if(typeof _e=="object"&&_e!==null&&_e.type===h&&_e.key===null&&(_e=_e.props.children),typeof _e=="object"&&_e!==null){switch(_e.$$typeof){case l:e:{for(var tt=_e.key,ht=ne;ht!==null;){if(ht.key===tt){if(tt=_e.type,tt===h){if(ht.tag===7){x($,ht.sibling),ne=w(ht,_e.props.children),ne.return=$,$=ne;break e}}else if(ht.elementType===tt||typeof tt=="object"&&tt!==null&&tt.$$typeof===_&&Wx(tt)===ht.type){x($,ht.sibling),ne=w(ht,_e.props),ne.ref=au($,ht,_e),ne.return=$,$=ne;break e}x($,ht);break}else d($,ht);ht=ht.sibling}_e.type===h?(ne=Sa(_e.props.children,$.mode,We,_e.key),ne.return=$,$=ne):(We=Ma(_e.type,_e.key,_e.props,null,$.mode,We),We.ref=au($,ne,_e),We.return=$,$=We)}return V($);case u:e:{for(ht=_e.key;ne!==null;){if(ne.key===ht)if(ne.tag===4&&ne.stateNode.containerInfo===_e.containerInfo&&ne.stateNode.implementation===_e.implementation){x($,ne.sibling),ne=w(ne,_e.children||[]),ne.return=$,$=ne;break e}else{x($,ne);break}else d($,ne);ne=ne.sibling}ne=PA(_e,$.mode,We),ne.return=$,$=ne}return V($);case _:return ht=_e._init,Le($,ne,ht(_e._payload),We)}if(X(_e))return _t($,ne,_e,We);if(C(_e))return On($,ne,_e,We);$f($,_e)}return typeof _e=="string"&&_e!==""||typeof _e=="number"?(_e=""+_e,ne!==null&&ne.tag===6?(x($,ne.sibling),ne=w(ne,_e),ne.return=$,$=ne):(x($,ne),ne=Ap(_e,$.mode,We),ne.return=$,$=ne),V($)):x($,ne)}return Le}var cc=uc(!0),Dh=uc(!1),Ri={},Pi=$e(Ri),ga=$e(Ri),qi=$e(Ri);function eo(c){if(c===Ri)throw Error(o(174));return c}function lu(c,d){Lt(qi,d),Lt(ga,c),Lt(Pi,Ri),c=Z(d),Pt(Pi),Lt(Pi,c)}function hc(){Pt(Pi),Pt(ga),Pt(qi)}function Hg(c){var d=eo(qi.current),x=eo(Pi.current);d=D(x,c.type,d),x!==d&&(Lt(ga,c),Lt(Pi,d))}function jn(c){ga.current===c&&(Pt(Pi),Pt(ga))}var Vn=$e(0);function Fh(c){for(var d=c;d!==null;){if(d.tag===13){var x=d.memoizedState;if(x!==null&&(x=x.dehydrated,x===null||$l(x)||Rs(x)))return d}else if(d.tag===19&&d.memoizedProps.revealOrder!==void 0){if(d.flags&128)return d}else if(d.child!==null){d.child.return=d,d=d.child;continue}if(d===c)break;for(;d.sibling===null;){if(d.return===null||d.return===c)return null;d=d.return}d.sibling.return=d.return,d=d.sibling}return null}var ep=[];function Nh(){for(var c=0;c<ep.length;c++){var d=ep[c];Ke?d._workInProgressVersionPrimary=null:d._workInProgressVersionSecondary=null}ep.length=0}var Zi=a.ReactCurrentDispatcher,mi=a.ReactCurrentBatchConfig,Nn=0,un=null,xn=null,mr=null,uu=!1,rl=!1,tp=0,Bi=0;function $r(){throw Error(o(321))}function np(c,d){if(d===null)return!1;for(var x=0;x<d.length&&x<c.length;x++)if(!qr(c[x],d[x]))return!1;return!0}function rp(c,d,x,E,w,I){if(Nn=I,un=d,d.memoizedState=null,d.updateQueue=null,d.lanes=0,Zi.current=c===null||c.memoizedState===null?VP:WP,c=x(E,w),rl){I=0;do{if(rl=!1,tp=0,25<=I)throw Error(o(301));I+=1,mr=xn=null,d.updateQueue=null,Zi.current=rA,c=x(E,w)}while(rl)}if(Zi.current=Xg,d=xn!==null&&xn.next!==null,Nn=0,mr=xn=un=null,uu=!1,d)throw Error(o(300));return c}function bo(){var c=tp!==0;return tp=0,c}function ei(){var c={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return mr===null?un.memoizedState=mr=c:mr=mr.next=c,mr}function Li(){if(xn===null){var c=un.alternate;c=c!==null?c.memoizedState:null}else c=xn.next;var d=mr===null?un.memoizedState:mr.next;if(d!==null)mr=d,xn=c;else{if(c===null)throw Error(o(310));xn=c,c={memoizedState:xn.memoizedState,baseState:xn.baseState,baseQueue:xn.baseQueue,queue:xn.queue,next:null},mr===null?un.memoizedState=mr=c:mr=mr.next=c}return mr}function va(c,d){return typeof d=="function"?d(c):d}function dc(c){var d=Li(),x=d.queue;if(x===null)throw Error(o(311));x.lastRenderedReducer=c;var E=xn,w=E.baseQueue,I=x.pending;if(I!==null){if(w!==null){var V=w.next;w.next=I.next,I.next=V}E.baseQueue=w=I,x.pending=null}if(w!==null){I=w.next,E=E.baseState;var te=V=null,ye=null,ke=I;do{var qe=ke.lane;if((Nn&qe)===qe)ye!==null&&(ye=ye.next={lane:0,action:ke.action,hasEagerState:ke.hasEagerState,eagerState:ke.eagerState,next:null}),E=ke.hasEagerState?ke.eagerState:c(E,ke.action);else{var rt={lane:qe,action:ke.action,hasEagerState:ke.hasEagerState,eagerState:ke.eagerState,next:null};ye===null?(te=ye=rt,V=E):ye=ye.next=rt,un.lanes|=qe,ol|=qe}ke=ke.next}while(ke!==null&&ke!==I);ye===null?V=E:ye.next=te,qr(E,d.memoizedState)||(Un=!0),d.memoizedState=E,d.baseState=V,d.baseQueue=ye,x.lastRenderedState=E}if(c=x.interleaved,c!==null){w=c;do I=w.lane,un.lanes|=I,ol|=I,w=w.next;while(w!==c)}else w===null&&(x.lanes=0);return[d.memoizedState,x.dispatch]}function ip(c){var d=Li(),x=d.queue;if(x===null)throw Error(o(311));x.lastRenderedReducer=c;var E=x.dispatch,w=x.pending,I=d.memoizedState;if(w!==null){x.pending=null;var V=w=w.next;do I=c(I,V.action),V=V.next;while(V!==w);qr(I,d.memoizedState)||(Un=!0),d.memoizedState=I,d.baseQueue===null&&(d.baseState=I),x.lastRenderedState=I}return[I,E]}function jx(){}function Xx(c,d){var x=un,E=Li(),w=d(),I=!qr(E.memoizedState,w);if(I&&(E.memoizedState=w,Un=!0),E=E.queue,kh(Kx.bind(null,x,E,c),[c]),E.getSnapshot!==d||I||mr!==null&&mr.memoizedState.tag&1){if(x.flags|=2048,Uh(9,Yx.bind(null,x,E,w,d),void 0,null),en===null)throw Error(o(349));Nn&30||Jx(x,d,w)}return w}function Jx(c,d,x){c.flags|=16384,c={getSnapshot:d,value:x},d=un.updateQueue,d===null?(d={lastEffect:null,stores:null},un.updateQueue=d,d.stores=[c]):(x=d.stores,x===null?d.stores=[c]:x.push(c))}function Yx(c,d,x,E){d.value=x,d.getSnapshot=E,Vg(d)&&$i(c,1,-1)}function Kx(c,d,x){return x(function(){Vg(d)&&$i(c,1,-1)})}function Vg(c){var d=c.getSnapshot;c=c.value;try{var x=d();return!qr(c,x)}catch{return!0}}function fc(c){var d=ei();return typeof c=="function"&&(c=c()),d.memoizedState=d.baseState=c,c={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:va,lastRenderedState:c},d.queue=c,c=c.dispatch=tE.bind(null,un,c),[d.memoizedState,c]}function Uh(c,d,x,E){return c={tag:c,create:d,destroy:x,deps:E,next:null},d=un.updateQueue,d===null?(d={lastEffect:null,stores:null},un.updateQueue=d,d.lastEffect=c.next=c):(x=d.lastEffect,x===null?d.lastEffect=c.next=c:(E=x.next,x.next=c,c.next=E,d.lastEffect=c)),c}function sp(){return Li().memoizedState}function pc(c,d,x,E){var w=ei();un.flags|=c,w.memoizedState=Uh(1|d,x,void 0,E===void 0?null:E)}function Oh(c,d,x,E){var w=Li();E=E===void 0?null:E;var I=void 0;if(xn!==null){var V=xn.memoizedState;if(I=V.destroy,E!==null&&np(E,V.deps)){w.memoizedState=Uh(d,x,I,E);return}}un.flags|=c,w.memoizedState=Uh(1|d,x,I,E)}function mc(c,d){return pc(8390656,8,c,d)}function kh(c,d){return Oh(2048,8,c,d)}function Qx(c,d){return Oh(4,2,c,d)}function qx(c,d){return Oh(4,4,c,d)}function Zx(c,d){if(typeof d=="function")return c=c(),d(c),function(){d(null)};if(d!=null)return c=c(),d.current=c,function(){d.current=null}}function Wg(c,d,x){return x=x!=null?x.concat([c]):null,Oh(4,4,Zx.bind(null,d,c),x)}function jg(){}function $x(c,d){var x=Li();d=d===void 0?null:d;var E=x.memoizedState;return E!==null&&d!==null&&np(d,E[1])?E[0]:(x.memoizedState=[c,d],c)}function ZS(c,d){var x=Li();d=d===void 0?null:d;var E=x.memoizedState;return E!==null&&d!==null&&np(d,E[1])?E[0]:(c=c(),x.memoizedState=[c,d],c)}function $S(c,d){var x=yn;yn=x!==0&&4>x?x:4,c(!0);var E=mi.transition;mi.transition={};try{c(!1),d()}finally{yn=x,mi.transition=E}}function eE(){return Li().memoizedState}function HP(c,d,x){var E=Wr(c);x={lane:E,action:x,hasEagerState:!1,eagerState:null,next:null},eA(c)?tA(d,x):(nA(c,d,x),x=sr(),c=$i(c,E,x),c!==null&&op(c,d,E))}function tE(c,d,x){var E=Wr(c),w={lane:E,action:x,hasEagerState:!1,eagerState:null,next:null};if(eA(c))tA(d,w);else{nA(c,d,w);var I=c.alternate;if(c.lanes===0&&(I===null||I.lanes===0)&&(I=d.lastRenderedReducer,I!==null))try{var V=d.lastRenderedState,te=I(V,x);if(w.hasEagerState=!0,w.eagerState=te,qr(te,V))return}catch{}finally{}x=sr(),c=$i(c,E,x),c!==null&&op(c,d,E)}}function eA(c){var d=c.alternate;return c===un||d!==null&&d===un}function tA(c,d){rl=uu=!0;var x=c.pending;x===null?d.next=d:(d.next=x.next,x.next=d),c.pending=d}function nA(c,d,x){en!==null&&c.mode&1&&!(Bt&2)?(c=d.interleaved,c===null?(x.next=x,fi===null?fi=[d]:fi.push(d)):(x.next=c.next,c.next=x),d.interleaved=x):(c=d.pending,c===null?x.next=x:(x.next=c.next,c.next=x),d.pending=x)}function op(c,d,x){if(x&4194240){var E=d.lanes;E&=c.pendingLanes,x|=E,d.lanes=x,fn(c,x)}}var Xg={readContext:pr,useCallback:$r,useContext:$r,useEffect:$r,useImperativeHandle:$r,useInsertionEffect:$r,useLayoutEffect:$r,useMemo:$r,useReducer:$r,useRef:$r,useState:$r,useDebugValue:$r,useDeferredValue:$r,useTransition:$r,useMutableSource:$r,useSyncExternalStore:$r,useId:$r,unstable_isNewReconciler:!1},VP={readContext:pr,useCallback:function(c,d){return ei().memoizedState=[c,d===void 0?null:d],c},useContext:pr,useEffect:mc,useImperativeHandle:function(c,d,x){return x=x!=null?x.concat([c]):null,pc(4194308,4,Zx.bind(null,d,c),x)},useLayoutEffect:function(c,d){return pc(4194308,4,c,d)},useInsertionEffect:function(c,d){return pc(4,2,c,d)},useMemo:function(c,d){var x=ei();return d=d===void 0?null:d,c=c(),x.memoizedState=[c,d],c},useReducer:function(c,d,x){var E=ei();return d=x!==void 0?x(d):d,E.memoizedState=E.baseState=d,c={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:c,lastRenderedState:d},E.queue=c,c=c.dispatch=HP.bind(null,un,c),[E.memoizedState,c]},useRef:function(c){var d=ei();return c={current:c},d.memoizedState=c},useState:fc,useDebugValue:jg,useDeferredValue:function(c){var d=fc(c),x=d[0],E=d[1];return mc(function(){var w=mi.transition;mi.transition={};try{E(c)}finally{mi.transition=w}},[c]),x},useTransition:function(){var c=fc(!1),d=c[0];return c=$S.bind(null,c[1]),ei().memoizedState=c,[d,c]},useMutableSource:function(){},useSyncExternalStore:function(c,d,x){var E=un,w=ei();if(Dn){if(x===void 0)throw Error(o(407));x=x()}else{if(x=d(),en===null)throw Error(o(349));Nn&30||Jx(E,d,x)}w.memoizedState=x;var I={value:x,getSnapshot:d};return w.queue=I,mc(Kx.bind(null,E,I,c),[c]),E.flags|=2048,Uh(9,Yx.bind(null,E,I,x,d),void 0,null),x},useId:function(){var c=ei(),d=en.identifierPrefix;if(Dn){var x=Yi,E=pi;x=(E&~(1<<32-_o(E)-1)).toString(32)+x,d=":"+d+"R"+x,x=tp++,0<x&&(d+="H"+x.toString(32)),d+=":"}else x=Bi++,d=":"+d+"r"+x.toString(32)+":";return c.memoizedState=d},unstable_isNewReconciler:!1},WP={readContext:pr,useCallback:$x,useContext:pr,useEffect:kh,useImperativeHandle:Wg,useInsertionEffect:Qx,useLayoutEffect:qx,useMemo:ZS,useReducer:dc,useRef:sp,useState:function(){return dc(va)},useDebugValue:jg,useDeferredValue:function(c){var d=dc(va),x=d[0],E=d[1];return kh(function(){var w=mi.transition;mi.transition={};try{E(c)}finally{mi.transition=w}},[c]),x},useTransition:function(){var c=dc(va)[0],d=Li().memoizedState;return[c,d]},useMutableSource:jx,useSyncExternalStore:Xx,useId:eE,unstable_isNewReconciler:!1},rA={readContext:pr,useCallback:$x,useContext:pr,useEffect:kh,useImperativeHandle:Wg,useInsertionEffect:Qx,useLayoutEffect:qx,useMemo:ZS,useReducer:ip,useRef:sp,useState:function(){return ip(va)},useDebugValue:jg,useDeferredValue:function(c){var d=ip(va),x=d[0],E=d[1];return kh(function(){var w=mi.transition;mi.transition={};try{E(c)}finally{mi.transition=w}},[c]),x},useTransition:function(){var c=ip(va)[0],d=Li().memoizedState;return[c,d]},useMutableSource:jx,useSyncExternalStore:Xx,useId:eE,unstable_isNewReconciler:!1};function ap(c,d){try{var x="",E=d;do x+=Mo(E),E=E.return;while(E);var w=x}catch(I){w=`
Error generating stack: `+I.message+`
`+I.stack}return{value:c,source:d,stack:w}}function iA(c,d){try{console.error(d.value)}catch(x){setTimeout(function(){throw x})}}var nE=typeof WeakMap=="function"?WeakMap:Map;function sA(c,d,x){x=Ci(-1,x),x.tag=3,x.payload={element:null};var E=d.value;return x.callback=function(){jh||(jh=!0,_a=E),iA(c,d)},x}function oA(c,d,x){x=Ci(-1,x),x.tag=3;var E=c.type.getDerivedStateFromError;if(typeof E=="function"){var w=d.value;x.payload=function(){return E(w)},x.callback=function(){iA(c,d)}}var I=c.stateNode;return I!==null&&typeof I.componentDidCatch=="function"&&(x.callback=function(){iA(c,d),typeof E!="function"&&(Ro===null?Ro=new Set([this]):Ro.add(this));var V=d.stack;this.componentDidCatch(d.value,{componentStack:V!==null?V:""})}),x}function aA(c,d,x){var E=c.pingCache;if(E===null){E=c.pingCache=new nE;var w=new Set;E.set(d,w)}else w=E.get(d),w===void 0&&(w=new Set,E.set(d,w));w.has(x)||(w.add(x),c=oE.bind(null,c,d,x),d.then(c,c))}function lA(c){do{var d;if((d=c.tag===13)&&(d=c.memoizedState,d=d!==null?d.dehydrated!==null:!0),d)return c;c=c.return}while(c!==null);return null}function wo(c,d,x,E,w){return c.mode&1?(c.flags|=65536,c.lanes=w,c):(c===d?c.flags|=65536:(c.flags|=128,x.flags|=131072,x.flags&=-52805,x.tag===1&&(x.alternate===null?x.tag=17:(d=Ci(-1,1),d.tag=2,So(x,d))),x.lanes|=1),c)}function To(c){c.flags|=4}function Gh(c,d){if(c!==null&&c.child===d.child)return!0;if(d.flags&16)return!1;for(c=d.child;c!==null;){if(c.flags&12854||c.subtreeFlags&12854)return!1;c=c.sibling}return!0}var il,cu,gc,lp;if(fe)il=function(c,d){for(var x=d.child;x!==null;){if(x.tag===5||x.tag===6)H(c,x.stateNode);else if(x.tag!==4&&x.child!==null){x.child.return=x,x=x.child;continue}if(x===d)break;for(;x.sibling===null;){if(x.return===null||x.return===d)return;x=x.return}x.sibling.return=x.return,x=x.sibling}},cu=function(){},gc=function(c,d,x,E,w){if(c=c.memoizedProps,c!==E){var I=d.stateNode,V=eo(Pi.current);x=le(I,x,c,E,w,V),(d.updateQueue=x)&&To(d)}},lp=function(c,d,x,E){x!==E&&To(d)};else if(z){il=function(c,d,x,E){for(var w=d.child;w!==null;){if(w.tag===5){var I=w.stateNode;x&&E&&(I=Ot(I,w.type,w.memoizedProps,w)),H(c,I)}else if(w.tag===6)I=w.stateNode,x&&E&&(I=Xn(I,w.memoizedProps,w)),H(c,I);else if(w.tag!==4){if(w.tag===22&&w.memoizedState!==null)I=w.child,I!==null&&(I.return=w),il(c,w,!0,!0);else if(w.child!==null){w.child.return=w,w=w.child;continue}}if(w===d)break;for(;w.sibling===null;){if(w.return===null||w.return===d)return;w=w.return}w.sibling.return=w.return,w=w.sibling}};var zh=function(c,d,x,E){for(var w=d.child;w!==null;){if(w.tag===5){var I=w.stateNode;x&&E&&(I=Ot(I,w.type,w.memoizedProps,w)),Ut(c,I)}else if(w.tag===6)I=w.stateNode,x&&E&&(I=Xn(I,w.memoizedProps,w)),Ut(c,I);else if(w.tag!==4){if(w.tag===22&&w.memoizedState!==null)I=w.child,I!==null&&(I.return=w),zh(c,w,!0,!0);else if(w.child!==null){w.child.return=w,w=w.child;continue}}if(w===d)break;for(;w.sibling===null;){if(w.return===null||w.return===d)return;w=w.return}w.sibling.return=w.return,w=w.sibling}};cu=function(c,d){var x=d.stateNode;if(!Gh(c,d)){c=x.containerInfo;var E=wt(c);zh(E,d,!1,!1),x.pendingChildren=E,To(d),Xt(c,E)}},gc=function(c,d,x,E,w){var I=c.stateNode,V=c.memoizedProps;if((c=Gh(c,d))&&V===E)d.stateNode=I;else{var te=d.stateNode,ye=eo(Pi.current),ke=null;V!==E&&(ke=le(te,x,V,E,w,ye)),c&&ke===null?d.stateNode=I:(I=Oe(I,ke,x,V,E,d,c,te),ue(I,x,E,w,ye)&&To(d),d.stateNode=I,c?To(d):il(I,d,!1,!1))}},lp=function(c,d,x,E){x!==E?(c=eo(qi.current),x=eo(Pi.current),d.stateNode=xe(E,c,x,d),To(d)):d.stateNode=c.stateNode}}else cu=function(){},gc=function(){},lp=function(){};function Dr(c,d){if(!Dn)switch(c.tailMode){case"hidden":d=c.tail;for(var x=null;d!==null;)d.alternate!==null&&(x=d),d=d.sibling;x===null?c.tail=null:x.sibling=null;break;case"collapsed":x=c.tail;for(var E=null;x!==null;)x.alternate!==null&&(E=x),x=x.sibling;E===null?d||c.tail===null?c.tail=null:c.tail.sibling=null:E.sibling=null}}function Ii(c){var d=c.alternate!==null&&c.alternate.child===c.child,x=0,E=0;if(d)for(var w=c.child;w!==null;)x|=w.lanes|w.childLanes,E|=w.subtreeFlags&14680064,E|=w.flags&14680064,w.return=c,w=w.sibling;else for(w=c.child;w!==null;)x|=w.lanes|w.childLanes,E|=w.subtreeFlags,E|=w.flags,w.return=c,w=w.sibling;return c.subtreeFlags|=E,c.childLanes=x,d}function jP(c,d,x){var E=d.pendingProps;switch(Ki(d),d.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ii(d),null;case 1:return vn(d.type)&&Ps(),Ii(d),null;case 3:return E=d.stateNode,hc(),Pt(En),Pt(dn),Nh(),E.pendingContext&&(E.context=E.pendingContext,E.pendingContext=null),(c===null||c.child===null)&&(ma(d)?To(d):c===null||c.memoizedState.isDehydrated&&!(d.flags&256)||(d.flags|=1024,$s!==null&&(EA($s),$s=null))),cu(c,d),Ii(d),null;case 5:jn(d),x=eo(qi.current);var w=d.type;if(c!==null&&d.stateNode!=null)gc(c,d,w,E,x),c.ref!==d.ref&&(d.flags|=512,d.flags|=2097152);else{if(!E){if(d.stateNode===null)throw Error(o(166));return Ii(d),null}if(c=eo(Pi.current),ma(d)){if(!Ae)throw Error(o(175));c=Hf(d.stateNode,d.type,d.memoizedProps,x,c,d,!Qi),d.updateQueue=c,c!==null&&To(d)}else{var I=K(w,E,x,c,d);il(I,d,!1,!1),d.stateNode=I,ue(I,w,E,x,c)&&To(d)}d.ref!==null&&(d.flags|=512,d.flags|=2097152)}return Ii(d),null;case 6:if(c&&d.stateNode!=null)lp(c,d,c.memoizedProps,E);else{if(typeof E!="string"&&d.stateNode===null)throw Error(o(166));if(c=eo(qi.current),x=eo(Pi.current),ma(d)){if(!Ae)throw Error(o(176));if(c=d.stateNode,E=d.memoizedProps,(x=N(c,E,d,!Qi))&&(w=Wn,w!==null))switch(I=(w.mode&1)!==0,w.tag){case 3:lt(w.stateNode.containerInfo,c,E,I);break;case 5:mt(w.type,w.memoizedProps,w.stateNode,c,E,I)}x&&To(d)}else d.stateNode=xe(E,c,x,d)}return Ii(d),null;case 13:if(Pt(Vn),E=d.memoizedState,Dn&&cn!==null&&d.mode&1&&!(d.flags&128)){for(c=cn;c;)c=ji(c);return ou(),d.flags|=98560,d}if(E!==null&&E.dehydrated!==null){if(E=ma(d),c===null){if(!E)throw Error(o(318));if(!Ae)throw Error(o(344));if(c=d.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(o(317));re(c,d)}else ou(),!(d.flags&128)&&(d.memoizedState=null),d.flags|=4;return Ii(d),null}return $s!==null&&(EA($s),$s=null),d.flags&128?(d.lanes=x,d):(E=E!==null,x=!1,c===null?ma(d):x=c.memoizedState!==null,E&&!x&&(d.child.flags|=8192,d.mode&1&&(c===null||Vn.current&1?Zn===0&&(Zn=3):Jh())),d.updateQueue!==null&&(d.flags|=4),Ii(d),null);case 4:return hc(),cu(c,d),c===null&&Me(d.stateNode.containerInfo),Ii(d),null;case 10:return Xf(d.type._context),Ii(d),null;case 17:return vn(d.type)&&Ps(),Ii(d),null;case 19:if(Pt(Vn),w=d.memoizedState,w===null)return Ii(d),null;if(E=(d.flags&128)!==0,I=w.rendering,I===null)if(E)Dr(w,!1);else{if(Zn!==0||c!==null&&c.flags&128)for(c=d.child;c!==null;){if(I=Fh(c),I!==null){for(d.flags|=128,Dr(w,!1),c=I.updateQueue,c!==null&&(d.updateQueue=c,d.flags|=4),d.subtreeFlags=0,c=x,E=d.child;E!==null;)x=E,w=c,x.flags&=14680066,I=x.alternate,I===null?(x.childLanes=0,x.lanes=w,x.child=null,x.subtreeFlags=0,x.memoizedProps=null,x.memoizedState=null,x.updateQueue=null,x.dependencies=null,x.stateNode=null):(x.childLanes=I.childLanes,x.lanes=I.lanes,x.child=I.child,x.subtreeFlags=0,x.deletions=null,x.memoizedProps=I.memoizedProps,x.memoizedState=I.memoizedState,x.updateQueue=I.updateQueue,x.type=I.type,w=I.dependencies,x.dependencies=w===null?null:{lanes:w.lanes,firstContext:w.firstContext}),E=E.sibling;return Lt(Vn,Vn.current&1|2),d.child}c=c.sibling}w.tail!==null&&Ir()>du&&(d.flags|=128,E=!0,Dr(w,!1),d.lanes=4194304)}else{if(!E)if(c=Fh(I),c!==null){if(d.flags|=128,E=!0,c=c.updateQueue,c!==null&&(d.updateQueue=c,d.flags|=4),Dr(w,!0),w.tail===null&&w.tailMode==="hidden"&&!I.alternate&&!Dn)return Ii(d),null}else 2*Ir()-w.renderingStartTime>du&&x!==1073741824&&(d.flags|=128,E=!0,Dr(w,!1),d.lanes=4194304);w.isBackwards?(I.sibling=d.child,d.child=I):(c=w.last,c!==null?c.sibling=I:d.child=I,w.last=I)}return w.tail!==null?(d=w.tail,w.rendering=d,w.tail=d.sibling,w.renderingStartTime=Ir(),d.sibling=null,c=Vn.current,Lt(Vn,E?c&1|2:c&1),d):(Ii(d),null);case 22:case 23:return ul(),E=d.memoizedState!==null,c!==null&&c.memoizedState!==null!==E&&(d.flags|=8192),E&&d.mode&1?ti&1073741824&&(Ii(d),fe&&d.subtreeFlags&6&&(d.flags|=8192)):Ii(d),null;case 24:return null;case 25:return null}throw Error(o(156,d.tag))}var Is=a.ReactCurrentOwner,Un=!1;function Di(c,d,x,E){d.child=c===null?Dh(d,null,x,E):cc(d,c.child,x,E)}function uA(c,d,x,E,w){x=x.render;var I=d.ref;return di(d,w),E=rp(c,d,x,E,I,w),x=bo(),c!==null&&!Un?(d.updateQueue=c.updateQueue,d.flags&=-2053,c.lanes&=~w,sl(c,d,w)):(Dn&&x&&qf(d),d.flags|=1,Di(c,d,E,w),d.child)}function cA(c,d,x,E,w){if(c===null){var I=x.type;return typeof I=="function"&&!RA(I)&&I.defaultProps===void 0&&x.compare===null&&x.defaultProps===void 0?(d.tag=15,d.type=I,hA(c,d,I,E,w)):(c=Ma(x.type,null,E,d,d.mode,w),c.ref=d.ref,c.return=d,d.child=c)}if(I=c.child,!(c.lanes&w)){var V=I.memoizedProps;if(x=x.compare,x=x!==null?x:Ig,x(V,E)&&c.ref===d.ref)return sl(c,d,w)}return d.flags|=1,c=Lo(I,E),c.ref=d.ref,c.return=d,d.child=c}function hA(c,d,x,E,w){if(c!==null&&Ig(c.memoizedProps,E)&&c.ref===d.ref)if(Un=!1,(c.lanes&w)!==0)c.flags&131072&&(Un=!0);else return d.lanes=c.lanes,sl(c,d,w);return Yg(c,d,x,E,w)}function dA(c,d,x){var E=d.pendingProps,w=E.children,I=c!==null?c.memoizedState:null;if(E.mode==="hidden")if(!(d.mode&1))d.memoizedState={baseLanes:0,cachePool:null},Lt(Jn,ti),ti|=x;else if(x&1073741824)d.memoizedState={baseLanes:0,cachePool:null},E=I!==null?I.baseLanes:x,Lt(Jn,ti),ti|=E;else return c=I!==null?I.baseLanes|x:x,d.lanes=d.childLanes=1073741824,d.memoizedState={baseLanes:c,cachePool:null},d.updateQueue=null,Lt(Jn,ti),ti|=c,null;else I!==null?(E=I.baseLanes|x,d.memoizedState=null):E=x,Lt(Jn,ti),ti|=E;return Di(c,d,w,x),d.child}function Jg(c,d){var x=d.ref;(c===null&&x!==null||c!==null&&c.ref!==x)&&(d.flags|=512,d.flags|=2097152)}function Yg(c,d,x,E,w){var I=vn(x)?Lr:dn.current;return I=Nt(d,I),di(d,w),x=rp(c,d,x,E,I,w),E=bo(),c!==null&&!Un?(d.updateQueue=c.updateQueue,d.flags&=-2053,c.lanes&=~w,sl(c,d,w)):(Dn&&E&&qf(d),d.flags|=1,Di(c,d,x,w),d.child)}function Kg(c,d,x,E,w){if(vn(x)){var I=!0;el(d)}else I=!1;if(di(d,w),d.stateNode===null)c!==null&&(c.alternate=null,d.alternate=null,d.flags|=2),Hx(d,x,E),iu(d,x,E,w),E=!0;else if(c===null){var V=d.stateNode,te=d.memoizedProps;V.props=te;var ye=V.context,ke=x.contextType;typeof ke=="object"&&ke!==null?ke=pr(ke):(ke=vn(x)?Lr:dn.current,ke=Nt(d,ke));var qe=x.getDerivedStateFromProps,rt=typeof qe=="function"||typeof V.getSnapshotBeforeUpdate=="function";rt||typeof V.UNSAFE_componentWillReceiveProps!="function"&&typeof V.componentWillReceiveProps!="function"||(te!==E||ye!==ke)&&Og(d,V,E,ke),fa=!1;var dt=d.memoizedState;V.state=dt,Kf(d,E,V,w),ye=d.memoizedState,te!==E||dt!==ye||En.current||fa?(typeof qe=="function"&&(Lh(d,x,qe,E),ye=d.memoizedState),(te=fa||zx(d,x,te,E,dt,ye,ke))?(rt||typeof V.UNSAFE_componentWillMount!="function"&&typeof V.componentWillMount!="function"||(typeof V.componentWillMount=="function"&&V.componentWillMount(),typeof V.UNSAFE_componentWillMount=="function"&&V.UNSAFE_componentWillMount()),typeof V.componentDidMount=="function"&&(d.flags|=4194308)):(typeof V.componentDidMount=="function"&&(d.flags|=4194308),d.memoizedProps=E,d.memoizedState=ye),V.props=E,V.state=ye,V.context=ke,E=te):(typeof V.componentDidMount=="function"&&(d.flags|=4194308),E=!1)}else{V=d.stateNode,pa(c,d),te=d.memoizedProps,ke=d.type===d.elementType?te:ds(d.type,te),V.props=ke,rt=d.pendingProps,dt=V.context,ye=x.contextType,typeof ye=="object"&&ye!==null?ye=pr(ye):(ye=vn(x)?Lr:dn.current,ye=Nt(d,ye));var ct=x.getDerivedStateFromProps;(qe=typeof ct=="function"||typeof V.getSnapshotBeforeUpdate=="function")||typeof V.UNSAFE_componentWillReceiveProps!="function"&&typeof V.componentWillReceiveProps!="function"||(te!==rt||dt!==ye)&&Og(d,V,E,ye),fa=!1,dt=d.memoizedState,V.state=dt,Kf(d,E,V,w);var _t=d.memoizedState;te!==rt||dt!==_t||En.current||fa?(typeof ct=="function"&&(Lh(d,x,ct,E),_t=d.memoizedState),(ke=fa||zx(d,x,ke,E,dt,_t,ye)||!1)?(qe||typeof V.UNSAFE_componentWillUpdate!="function"&&typeof V.componentWillUpdate!="function"||(typeof V.componentWillUpdate=="function"&&V.componentWillUpdate(E,_t,ye),typeof V.UNSAFE_componentWillUpdate=="function"&&V.UNSAFE_componentWillUpdate(E,_t,ye)),typeof V.componentDidUpdate=="function"&&(d.flags|=4),typeof V.getSnapshotBeforeUpdate=="function"&&(d.flags|=1024)):(typeof V.componentDidUpdate!="function"||te===c.memoizedProps&&dt===c.memoizedState||(d.flags|=4),typeof V.getSnapshotBeforeUpdate!="function"||te===c.memoizedProps&&dt===c.memoizedState||(d.flags|=1024),d.memoizedProps=E,d.memoizedState=_t),V.props=E,V.state=_t,V.context=ye,E=ke):(typeof V.componentDidUpdate!="function"||te===c.memoizedProps&&dt===c.memoizedState||(d.flags|=4),typeof V.getSnapshotBeforeUpdate!="function"||te===c.memoizedProps&&dt===c.memoizedState||(d.flags|=1024),E=!1)}return Qg(c,d,x,E,I,w)}function Qg(c,d,x,E,w,I){Jg(c,d);var V=(d.flags&128)!==0;if(!E&&!V)return w&&Kr(d,x,!1),sl(c,d,I);E=d.stateNode,Is.current=d;var te=V&&typeof x.getDerivedStateFromError!="function"?null:E.render();return d.flags|=1,c!==null&&V?(d.child=cc(d,c.child,null,I),d.child=cc(d,null,te,I)):Di(c,d,te,I),d.memoizedState=E.state,w&&Kr(d,x,!0),d.child}function fA(c){var d=c.stateNode;d.pendingContext?Tn(c,d.pendingContext,d.pendingContext!==d.context):d.context&&Tn(c,d.context,!1),lu(c,d.containerInfo)}function up(c,d,x,E,w){return ou(),lc(w),d.flags|=256,Di(c,d,x,E),d.child}var vc={dehydrated:null,treeContext:null,retryLane:0};function cp(c){return{baseLanes:c,cachePool:null}}function qg(c,d,x){var E=d.pendingProps,w=Vn.current,I=!1,V=(d.flags&128)!==0,te;if((te=V)||(te=c!==null&&c.memoizedState===null?!1:(w&2)!==0),te?(I=!0,d.flags&=-129):(c===null||c.memoizedState!==null)&&(w|=1),Lt(Vn,w&1),c===null)return zg(d),c=d.memoizedState,c!==null&&(c=c.dehydrated,c!==null)?(d.mode&1?Rs(c)?d.lanes=8:d.lanes=1073741824:d.lanes=1,null):(w=E.children,c=E.fallback,I?(E=d.mode,I=d.child,w={mode:"hidden",children:w},!(E&1)&&I!==null?(I.childLanes=0,I.pendingProps=w):I=Yh(w,E,0,null),c=Sa(c,E,x,null),I.return=d,c.return=d,I.sibling=c,d.child=I,d.child.memoizedState=cp(x),d.memoizedState=vc,c):Zg(d,w));if(w=c.memoizedState,w!==null){if(te=w.dehydrated,te!==null){if(V)return d.flags&256?(d.flags&=-257,dp(c,d,x,Error(o(422)))):d.memoizedState!==null?(d.child=c.child,d.flags|=128,null):(I=E.fallback,w=d.mode,E=Yh({mode:"visible",children:E.children},w,0,null),I=Sa(I,w,x,null),I.flags|=2,E.return=d,I.return=d,E.sibling=I,d.child=E,d.mode&1&&cc(d,c.child,null,x),d.child.memoizedState=cp(x),d.memoizedState=vc,I);if(!(d.mode&1))d=dp(c,d,x,null);else if(Rs(te))d=dp(c,d,x,Error(o(419)));else if(E=(x&c.childLanes)!==0,Un||E){if(E=en,E!==null){switch(x&-x){case 4:I=2;break;case 16:I=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:I=32;break;case 536870912:I=268435456;break;default:I=0}E=I&(E.suspendedLanes|x)?0:I,E!==0&&E!==w.retryLane&&(w.retryLane=E,$i(c,E,-1))}Jh(),d=dp(c,d,x,Error(o(421)))}else $l(te)?(d.flags|=128,d.child=c.child,d=KP.bind(null,c),Ao(te,d),d=null):(x=w.treeContext,Ae&&(cn=zf(te),Wn=d,Dn=!0,$s=null,Qi=!1,x!==null&&(Qn[Zr++]=pi,Qn[Zr++]=Yi,Qn[Zr++]=Ji,pi=x.id,Yi=x.overflow,Ji=d)),d=Zg(d,d.pendingProps.children),d.flags|=4096);return d}return I?(E=hp(c,d,E.children,E.fallback,x),I=d.child,w=c.child.memoizedState,I.memoizedState=w===null?cp(x):{baseLanes:w.baseLanes|x,cachePool:null},I.childLanes=c.childLanes&~x,d.memoizedState=vc,E):(x=pA(c,d,E.children,x),d.memoizedState=null,x)}return I?(E=hp(c,d,E.children,E.fallback,x),I=d.child,w=c.child.memoizedState,I.memoizedState=w===null?cp(x):{baseLanes:w.baseLanes|x,cachePool:null},I.childLanes=c.childLanes&~x,d.memoizedState=vc,E):(x=pA(c,d,E.children,x),d.memoizedState=null,x)}function Zg(c,d){return d=Yh({mode:"visible",children:d},c.mode,0,null),d.return=c,c.child=d}function pA(c,d,x,E){var w=c.child;return c=w.sibling,x=Lo(w,{mode:"visible",children:x}),!(d.mode&1)&&(x.lanes=E),x.return=d,x.sibling=null,c!==null&&(E=d.deletions,E===null?(d.deletions=[c],d.flags|=16):E.push(c)),d.child=x}function hp(c,d,x,E,w){var I=d.mode;c=c.child;var V=c.sibling,te={mode:"hidden",children:x};return!(I&1)&&d.child!==c?(x=d.child,x.childLanes=0,x.pendingProps=te,d.deletions=null):(x=Lo(c,te),x.subtreeFlags=c.subtreeFlags&14680064),V!==null?E=Lo(V,E):(E=Sa(E,I,w,null),E.flags|=2),E.return=d,x.return=d,x.sibling=E,d.child=x,E}function dp(c,d,x,E){return E!==null&&lc(E),cc(d,c.child,null,x),c=Zg(d,d.pendingProps.children),c.flags|=2,d.memoizedState=null,c}function $g(c,d,x){c.lanes|=d;var E=c.alternate;E!==null&&(E.lanes|=d),ru(c.return,d,x)}function ev(c,d,x,E,w){var I=c.memoizedState;I===null?c.memoizedState={isBackwards:d,rendering:null,renderingStartTime:0,last:E,tail:x,tailMode:w}:(I.isBackwards=d,I.rendering=null,I.renderingStartTime=0,I.last=E,I.tail=x,I.tailMode=w)}function ya(c,d,x){var E=d.pendingProps,w=E.revealOrder,I=E.tail;if(Di(c,d,E.children,x),E=Vn.current,E&2)E=E&1|2,d.flags|=128;else{if(c!==null&&c.flags&128)e:for(c=d.child;c!==null;){if(c.tag===13)c.memoizedState!==null&&$g(c,x,d);else if(c.tag===19)$g(c,x,d);else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===d)break e;for(;c.sibling===null;){if(c.return===null||c.return===d)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}E&=1}if(Lt(Vn,E),!(d.mode&1))d.memoizedState=null;else switch(w){case"forwards":for(x=d.child,w=null;x!==null;)c=x.alternate,c!==null&&Fh(c)===null&&(w=x),x=x.sibling;x=w,x===null?(w=d.child,d.child=null):(w=x.sibling,x.sibling=null),ev(d,!1,w,x,I);break;case"backwards":for(x=null,w=d.child,d.child=null;w!==null;){if(c=w.alternate,c!==null&&Fh(c)===null){d.child=w;break}c=w.sibling,w.sibling=x,x=w,w=c}ev(d,!0,x,null,I);break;case"together":ev(d,!1,null,null,void 0);break;default:d.memoizedState=null}return d.child}function sl(c,d,x){if(c!==null&&(d.dependencies=c.dependencies),ol|=d.lanes,!(x&d.childLanes))return null;if(c!==null&&d.child!==c.child)throw Error(o(153));if(d.child!==null){for(c=d.child,x=Lo(c,c.pendingProps),d.child=x,x.return=d;c.sibling!==null;)c=c.sibling,x=x.sibling=Lo(c,c.pendingProps),x.return=d;x.sibling=null}return d.child}function XP(c,d,x){switch(d.tag){case 3:fA(d),ou();break;case 5:Hg(d);break;case 1:vn(d.type)&&el(d);break;case 4:lu(d,d.stateNode.containerInfo);break;case 10:Fg(d,d.type._context,d.memoizedProps.value);break;case 13:var E=d.memoizedState;if(E!==null)return E.dehydrated!==null?(Lt(Vn,Vn.current&1),d.flags|=128,null):x&d.child.childLanes?qg(c,d,x):(Lt(Vn,Vn.current&1),c=sl(c,d,x),c!==null?c.sibling:null);Lt(Vn,Vn.current&1);break;case 19:if(E=(x&d.childLanes)!==0,c.flags&128){if(E)return ya(c,d,x);d.flags|=128}var w=d.memoizedState;if(w!==null&&(w.rendering=null,w.tail=null,w.lastEffect=null),Lt(Vn,Vn.current),E)break;return null;case 22:case 23:return d.lanes=0,dA(c,d,x)}return sl(c,d,x)}function tv(c,d){switch(Ki(d),d.tag){case 1:return vn(d.type)&&Ps(),c=d.flags,c&65536?(d.flags=c&-65537|128,d):null;case 3:return hc(),Pt(En),Pt(dn),Nh(),c=d.flags,c&65536&&!(c&128)?(d.flags=c&-65537|128,d):null;case 5:return jn(d),null;case 13:if(Pt(Vn),c=d.memoizedState,c!==null&&c.dehydrated!==null){if(d.alternate===null)throw Error(o(340));ou()}return c=d.flags,c&65536?(d.flags=c&-65537|128,d):null;case 19:return Pt(Vn),null;case 4:return hc(),null;case 10:return Xf(d.type._context),null;case 22:case 23:return ul(),null;case 24:return null;default:return null}}var xa=!1,yc=!1,gt=typeof WeakSet=="function"?WeakSet:Set,ft=null;function fp(c,d){var x=c.ref;if(x!==null)if(typeof x=="function")try{x(null)}catch(E){fs(c,d,E)}else x.current=null}function nv(c,d,x){try{x()}catch(E){fs(c,d,E)}}var rE=!1;function xc(c,d){for(k(c.containerInfo),ft=d;ft!==null;)if(c=ft,d=c.child,(c.subtreeFlags&1028)!==0&&d!==null)d.return=c,ft=d;else for(;ft!==null;){c=ft;try{var x=c.alternate;if(c.flags&1024)switch(c.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var E=x.memoizedProps,w=x.memoizedState,I=c.stateNode,V=I.getSnapshotBeforeUpdate(c.elementType===c.type?E:ds(c.type,E),w);I.__reactInternalSnapshotBeforeUpdate=V}break;case 3:fe&&Ne(c.stateNode.containerInfo);break;case 5:case 6:case 4:case 17:break;default:throw Error(o(163))}}catch(te){fs(c,c.return,te)}if(d=c.sibling,d!==null){d.return=c.return,ft=d;break}ft=c.return}return x=rE,rE=!1,x}function Co(c,d,x){var E=d.updateQueue;if(E=E!==null?E.lastEffect:null,E!==null){var w=E=E.next;do{if((w.tag&c)===c){var I=w.destroy;w.destroy=void 0,I!==void 0&&nv(d,x,I)}w=w.next}while(w!==E)}}function Ac(c,d){if(d=d.updateQueue,d=d!==null?d.lastEffect:null,d!==null){var x=d=d.next;do{if((x.tag&c)===c){var E=x.create;x.destroy=E()}x=x.next}while(x!==d)}}function rv(c){var d=c.ref;if(d!==null){var x=c.stateNode;switch(c.tag){case 5:c=ae(x);break;default:c=x}typeof d=="function"?d(c):d.current=c}}function mA(c,d,x){if(ua&&typeof ua.onCommitFiberUnmount=="function")try{ua.onCommitFiberUnmount(Ls,d)}catch{}switch(d.tag){case 0:case 11:case 14:case 15:if(c=d.updateQueue,c!==null&&(c=c.lastEffect,c!==null)){var E=c=c.next;do{var w=E,I=w.destroy;w=w.tag,I!==void 0&&(w&2||w&4)&&nv(d,x,I),E=E.next}while(E!==c)}break;case 1:if(fp(d,x),c=d.stateNode,typeof c.componentWillUnmount=="function")try{c.props=d.memoizedProps,c.state=d.memoizedState,c.componentWillUnmount()}catch(V){fs(d,x,V)}break;case 5:fp(d,x);break;case 4:fe?ov(c,d,x):z&&z&&(d=d.stateNode.containerInfo,x=wt(d),Vr(d,x))}}function gA(c,d,x){for(var E=d;;)if(mA(c,E,x),E.child===null||fe&&E.tag===4){if(E===d)break;for(;E.sibling===null;){if(E.return===null||E.return===d)return;E=E.return}E.sibling.return=E.return,E=E.sibling}else E.child.return=E,E=E.child}function vA(c){var d=c.alternate;d!==null&&(c.alternate=null,vA(d)),c.child=null,c.deletions=null,c.sibling=null,c.tag===5&&(d=c.stateNode,d!==null&&Ve(d)),c.stateNode=null,c.return=null,c.dependencies=null,c.memoizedProps=null,c.memoizedState=null,c.pendingProps=null,c.stateNode=null,c.updateQueue=null}function yA(c){return c.tag===5||c.tag===3||c.tag===4}function xA(c){e:for(;;){for(;c.sibling===null;){if(c.return===null||yA(c.return))return null;c=c.return}for(c.sibling.return=c.return,c=c.sibling;c.tag!==5&&c.tag!==6&&c.tag!==18;){if(c.flags&2||c.child===null||c.tag===4)continue e;c.child.return=c,c=c.child}if(!(c.flags&2))return c.stateNode}}function iv(c){if(fe){e:{for(var d=c.return;d!==null;){if(yA(d))break e;d=d.return}throw Error(o(160))}var x=d;switch(x.tag){case 5:d=x.stateNode,x.flags&32&&(it(d),x.flags&=-33),x=xA(c),sv(c,x,d);break;case 3:case 4:d=x.stateNode.containerInfo,x=xA(c),pp(c,x,d);break;default:throw Error(o(161))}}}function pp(c,d,x){var E=c.tag;if(E===5||E===6)c=c.stateNode,d?Re(x,c,d):Xe(x,c);else if(E!==4&&(c=c.child,c!==null))for(pp(c,d,x),c=c.sibling;c!==null;)pp(c,d,x),c=c.sibling}function sv(c,d,x){var E=c.tag;if(E===5||E===6)c=c.stateNode,d?ve(x,c,d):Fe(x,c);else if(E!==4&&(c=c.child,c!==null))for(sv(c,d,x),c=c.sibling;c!==null;)sv(c,d,x),c=c.sibling}function ov(c,d,x){for(var E=d,w=!1,I,V;;){if(!w){w=E.return;e:for(;;){if(w===null)throw Error(o(160));switch(I=w.stateNode,w.tag){case 5:V=!1;break e;case 3:I=I.containerInfo,V=!0;break e;case 4:I=I.containerInfo,V=!0;break e}w=w.return}w=!0}if(E.tag===5||E.tag===6)gA(c,E,x),V?Ue(I,E.stateNode):Pe(I,E.stateNode);else if(E.tag===18)V?et(I,E.stateNode):He(I,E.stateNode);else if(E.tag===4){if(E.child!==null){I=E.stateNode.containerInfo,V=!0,E.child.return=E,E=E.child;continue}}else if(mA(c,E,x),E.child!==null){E.child.return=E,E=E.child;continue}if(E===d)break;for(;E.sibling===null;){if(E.return===null||E.return===d)return;E=E.return,E.tag===4&&(w=!1)}E.sibling.return=E.return,E=E.sibling}}function Hh(c,d){if(fe){switch(d.tag){case 0:case 11:case 14:case 15:Co(3,d,d.return),Ac(3,d),Co(5,d,d.return);return;case 1:return;case 5:var x=d.stateNode;if(x!=null){var E=d.memoizedProps;c=c!==null?c.memoizedProps:E;var w=d.type,I=d.updateQueue;d.updateQueue=null,I!==null&&q(x,I,w,c,E,d)}return;case 6:if(d.stateNode===null)throw Error(o(162));x=d.memoizedProps,De(d.stateNode,c!==null?c.memoizedProps:x,x);return;case 3:Ae&&c!==null&&c.memoizedState.isDehydrated&&ee(d.stateNode.containerInfo);return;case 12:return;case 13:av(d);return;case 19:av(d);return;case 17:return}throw Error(o(163))}switch(d.tag){case 0:case 11:case 14:case 15:Co(3,d,d.return),Ac(3,d),Co(5,d,d.return);return;case 12:return;case 13:av(d);return;case 19:av(d);return;case 3:Ae&&c!==null&&c.memoizedState.isDehydrated&&ee(d.stateNode.containerInfo);break;case 22:case 23:return}e:if(z){switch(d.tag){case 1:case 5:case 6:break e;case 3:case 4:d=d.stateNode,Vr(d.containerInfo,d.pendingChildren);break e}throw Error(o(163))}}function av(c){var d=c.updateQueue;if(d!==null){c.updateQueue=null;var x=c.stateNode;x===null&&(x=c.stateNode=new gt),d.forEach(function(E){var w=lE.bind(null,c,E);x.has(E)||(x.add(E),E.then(w,w))})}}function JP(c,d){for(ft=d;ft!==null;){d=ft;var x=d.deletions;if(x!==null)for(var E=0;E<x.length;E++){var w=x[E];try{var I=c;fe?ov(I,w,d):gA(I,w,d);var V=w.alternate;V!==null&&(V.return=null),w.return=null}catch(tt){fs(w,d,tt)}}if(x=d.child,d.subtreeFlags&12854&&x!==null)x.return=d,ft=x;else for(;ft!==null;){d=ft;try{var te=d.flags;if(te&32&&fe&&it(d.stateNode),te&512){var ye=d.alternate;if(ye!==null){var ke=ye.ref;ke!==null&&(typeof ke=="function"?ke(null):ke.current=null)}}if(te&8192)switch(d.tag){case 13:if(d.memoizedState!==null){var qe=d.alternate;(qe===null||qe.memoizedState===null)&&(yp=Ir())}break;case 22:var rt=d.memoizedState!==null,dt=d.alternate,ct=dt!==null&&dt.memoizedState!==null;if(x=d,fe){e:if(E=x,w=rt,I=null,fe)for(var _t=E;;){if(_t.tag===5){if(I===null){I=_t;var On=_t.stateNode;w?Mt(On):Ie(_t.stateNode,_t.memoizedProps)}}else if(_t.tag===6){if(I===null){var Le=_t.stateNode;w?J(Le):oe(Le,_t.memoizedProps)}}else if((_t.tag!==22&&_t.tag!==23||_t.memoizedState===null||_t===E)&&_t.child!==null){_t.child.return=_t,_t=_t.child;continue}if(_t===E)break;for(;_t.sibling===null;){if(_t.return===null||_t.return===E)break e;I===_t&&(I=null),_t=_t.return}I===_t&&(I=null),_t.sibling.return=_t.return,_t=_t.sibling}}if(rt&&!ct&&x.mode&1){ft=x;for(var $=x.child;$!==null;){for(x=ft=$;ft!==null;){E=ft;var ne=E.child;switch(E.tag){case 0:case 11:case 14:case 15:Co(4,E,E.return);break;case 1:fp(E,E.return);var _e=E.stateNode;if(typeof _e.componentWillUnmount=="function"){var We=E.return;try{_e.props=E.memoizedProps,_e.state=E.memoizedState,_e.componentWillUnmount()}catch(tt){fs(E,We,tt)}}break;case 5:fp(E,E.return);break;case 22:if(E.memoizedState!==null){MA(x);continue}}ne!==null?(ne.return=E,ft=ne):MA(x)}$=$.sibling}}}switch(te&4102){case 2:iv(d),d.flags&=-3;break;case 6:iv(d),d.flags&=-3,Hh(d.alternate,d);break;case 4096:d.flags&=-4097;break;case 4100:d.flags&=-4097,Hh(d.alternate,d);break;case 4:Hh(d.alternate,d)}}catch(tt){fs(d,d.return,tt)}if(x=d.sibling,x!==null){x.return=d.return,ft=x;break}ft=d.return}}}function iE(c,d,x){ft=c,AA(c)}function AA(c,d,x){for(var E=(c.mode&1)!==0;ft!==null;){var w=ft,I=w.child;if(w.tag===22&&E){var V=w.memoizedState!==null||xa;if(!V){var te=w.alternate,ye=te!==null&&te.memoizedState!==null||yc;te=xa;var ke=yc;if(xa=V,(yc=ye)&&!ke)for(ft=w;ft!==null;)V=ft,ye=V.child,V.tag===22&&V.memoizedState!==null?mp(w):ye!==null?(ye.return=V,ft=ye):mp(w);for(;I!==null;)ft=I,AA(I),I=I.sibling;ft=w,xa=te,yc=ke}_A(c)}else w.subtreeFlags&8772&&I!==null?(I.return=w,ft=I):_A(c)}}function _A(c){for(;ft!==null;){var d=ft;if(d.flags&8772){var x=d.alternate;try{if(d.flags&8772)switch(d.tag){case 0:case 11:case 15:yc||Ac(5,d);break;case 1:var E=d.stateNode;if(d.flags&4&&!yc)if(x===null)E.componentDidMount();else{var w=d.elementType===d.type?x.memoizedProps:ds(d.type,x.memoizedProps);E.componentDidUpdate(w,x.memoizedState,E.__reactInternalSnapshotBeforeUpdate)}var I=d.updateQueue;I!==null&&Gx(d,I,E);break;case 3:var V=d.updateQueue;if(V!==null){if(x=null,d.child!==null)switch(d.child.tag){case 5:x=ae(d.child.stateNode);break;case 1:x=d.child.stateNode}Gx(d,V,x)}break;case 5:var te=d.stateNode;x===null&&d.flags&4&&j(te,d.type,d.memoizedProps,d);break;case 6:break;case 4:break;case 12:break;case 13:if(Ae&&d.memoizedState===null){var ye=d.alternate;if(ye!==null){var ke=ye.memoizedState;if(ke!==null){var qe=ke.dehydrated;qe!==null&&de(qe)}}}break;case 19:case 17:case 21:case 22:case 23:break;default:throw Error(o(163))}yc||d.flags&512&&rv(d)}catch(rt){fs(d,d.return,rt)}}if(d===c){ft=null;break}if(x=d.sibling,x!==null){x.return=d.return,ft=x;break}ft=d.return}}function MA(c){for(;ft!==null;){var d=ft;if(d===c){ft=null;break}var x=d.sibling;if(x!==null){x.return=d.return,ft=x;break}ft=d.return}}function mp(c){for(;ft!==null;){var d=ft;try{switch(d.tag){case 0:case 11:case 15:var x=d.return;try{Ac(4,d)}catch(ye){fs(d,x,ye)}break;case 1:var E=d.stateNode;if(typeof E.componentDidMount=="function"){var w=d.return;try{E.componentDidMount()}catch(ye){fs(d,w,ye)}}var I=d.return;try{rv(d)}catch(ye){fs(d,I,ye)}break;case 5:var V=d.return;try{rv(d)}catch(ye){fs(d,V,ye)}}}catch(ye){fs(d,d.return,ye)}if(d===c){ft=null;break}var te=d.sibling;if(te!==null){te.return=d.return,ft=te;break}ft=d.return}}var _c=0,Mc=1,Sc=2,Ec=3,hu=4;if(typeof Symbol=="function"&&Symbol.for){var bc=Symbol.for;_c=bc("selector.component"),Mc=bc("selector.has_pseudo_class"),Sc=bc("selector.role"),Ec=bc("selector.test_id"),hu=bc("selector.text")}function gp(c){var d=ge(c);if(d!=null){if(typeof d.memoizedProps["data-testname"]!="string")throw Error(o(364));return d}if(c=St(c),c===null)throw Error(o(362));return c.stateNode.current}function vp(c,d){switch(d.$$typeof){case _c:if(c.type===d.value)return!0;break;case Mc:e:{d=d.value,c=[c,0];for(var x=0;x<c.length;){var E=c[x++],w=c[x++],I=d[w];if(E.tag!==5||!F(E)){for(;I!=null&&vp(E,I);)w++,I=d[w];if(w===d.length){d=!0;break e}else for(E=E.child;E!==null;)c.push(E,w),E=E.sibling}}d=!1}return d;case Sc:if(c.tag===5&&ce(c.stateNode,d.value))return!0;break;case hu:if((c.tag===5||c.tag===6)&&(c=O(c),c!==null&&0<=c.indexOf(d.value)))return!0;break;case Ec:if(c.tag===5&&(c=c.memoizedProps["data-testname"],typeof c=="string"&&c.toLowerCase()===d.value.toLowerCase()))return!0;break;default:throw Error(o(365))}return!1}function lv(c){switch(c.$$typeof){case _c:return"<"+(B(c.value)||"Unknown")+">";case Mc:return":has("+(lv(c)||"")+")";case Sc:return'[role="'+c.value+'"]';case hu:return'"'+c.value+'"';case Ec:return'[data-testname="'+c.value+'"]';default:throw Error(o(365))}}function uv(c,d){var x=[];c=[c,0];for(var E=0;E<c.length;){var w=c[E++],I=c[E++],V=d[I];if(w.tag!==5||!F(w)){for(;V!=null&&vp(w,V);)I++,V=d[I];if(I===d.length)x.push(w);else for(w=w.child;w!==null;)c.push(w,I),w=w.sibling}}return x}function SA(c,d){if(!Ze)throw Error(o(363));c=gp(c),c=uv(c,d),d=[],c=Array.from(c);for(var x=0;x<c.length;){var E=c[x++];if(E.tag===5)F(E)||d.push(E.stateNode);else for(E=E.child;E!==null;)c.push(E),E=E.sibling}return d}var cv=Math.ceil,Vh=a.ReactCurrentDispatcher,qn=a.ReactCurrentOwner,Rt=a.ReactCurrentBatchConfig,Bt=0,en=null,hn=null,Ln=0,ti=0,Jn=$e(0),Zn=0,Aa=null,ol=0,Wh=0,wc=0,ni=null,Fi=null,yp=0,du=1/0;function al(){du=Ir()+500}var jh=!1,_a=null,Ro=null,Po=!1,Bo=null,fu=0,Tc=0,Xh=null,Cc=-1,ri=0;function sr(){return Bt&6?Ir():Cc!==-1?Cc:Cc=Ir()}function Wr(c){return c.mode&1?Bt&2&&Ln!==0?Ln&-Ln:Lg.transition!==null?(ri===0&&(c=ic,ic<<=1,!(ic&4194240)&&(ic=64),ri=c),ri):(c=yn,c!==0?c:Ee()):1}function $i(c,d,x){if(50<Tc)throw Tc=0,Xh=null,Error(o(185));var E=gi(c,d);return E===null?null:(Wf(E,d,x),(!(Bt&2)||E!==en)&&(E===en&&(!(Bt&2)&&(Wh|=d),Zn===4&&ll(E,Ln)),es(E,x),d===1&&Bt===0&&!(c.mode&1)&&(al(),Bh&&da())),E)}function gi(c,d){c.lanes|=d;var x=c.alternate;for(x!==null&&(x.lanes|=d),x=c,c=c.return;c!==null;)c.childLanes|=d,x=c.alternate,x!==null&&(x.childLanes|=d),x=c,c=c.return;return x.tag===3?x.stateNode:null}function es(c,d){var x=c.callbackNode;Fx(c,d);var E=Tg(c,c===en?Ln:0);if(E===0)x!==null&&QS(x),c.callbackNode=null,c.callbackPriority=0;else if(d=E&-E,c.callbackPriority!==d){if(x!=null&&QS(x),d===1)c.tag===0?ha(bA.bind(null,c)):qS(bA.bind(null,c)),Ge?ze(function(){Bt===0&&da()}):Rg(Ux,da),x=null;else{switch(Cg(E)){case 1:x=Ux;break;case 4:x=Ox;break;case 16:x=kx;break;case 536870912:x=Pg;break;default:x=kx}x=uE(x,hv.bind(null,c))}c.callbackPriority=d,c.callbackNode=x}}function hv(c,d){if(Cc=-1,ri=0,Bt&6)throw Error(o(327));var x=c.callbackNode;if(vu()&&c.callbackNode!==x)return null;var E=Tg(c,c===en?Ln:0);if(E===0)return null;if(E&30||E&c.expiredLanes||d)d=pv(c,E);else{d=E;var w=Bt;Bt|=2;var I=fv();(en!==c||Ln!==d)&&(al(),mu(c,d));do try{sE();break}catch(te){wA(c,te)}while(1);Dg(),Vh.current=I,Bt=w,hn!==null?d=0:(en=null,Ln=0,d=Zn)}if(d!==0){if(d===2&&(w=Vf(c),w!==0&&(E=w,d=xp(c,w))),d===1)throw x=Aa,mu(c,0),ll(c,E),es(c,Ir()),x;if(d===6)ll(c,E);else{if(w=c.current.alternate,!(E&30)&&!pu(w)&&(d=pv(c,E),d===2&&(I=Vf(c),I!==0&&(E=I,d=xp(c,I))),d===1))throw x=Aa,mu(c,0),ll(c,E),es(c,Ir()),x;switch(c.finishedWork=w,c.finishedLanes=E,d){case 0:case 1:throw Error(o(345));case 2:Rc(c,Fi);break;case 3:if(ll(c,E),(E&130023424)===E&&(d=yp+500-Ir(),10<d)){if(Tg(c,0)!==0)break;if(w=c.suspendedLanes,(w&E)!==E){sr(),c.pingedLanes|=c.suspendedLanes&w;break}c.timeoutHandle=Be(Rc.bind(null,c,Fi),d);break}Rc(c,Fi);break;case 4:if(ll(c,E),(E&4194240)===E)break;for(d=c.eventTimes,w=-1;0<E;){var V=31-_o(E);I=1<<V,V=d[V],V>w&&(w=V),E&=~I}if(E=w,E=Ir()-E,E=(120>E?120:480>E?480:1080>E?1080:1920>E?1920:3e3>E?3e3:4320>E?4320:1960*cv(E/1960))-E,10<E){c.timeoutHandle=Be(Rc.bind(null,c,Fi),E);break}Rc(c,Fi);break;case 5:Rc(c,Fi);break;default:throw Error(o(329))}}}return es(c,Ir()),c.callbackNode===x?hv.bind(null,c):null}function xp(c,d){var x=ni;return c.current.memoizedState.isDehydrated&&(mu(c,d).flags|=256),c=pv(c,d),c!==2&&(d=Fi,Fi=x,d!==null&&EA(d)),c}function EA(c){Fi===null?Fi=c:Fi.push.apply(Fi,c)}function pu(c){for(var d=c;;){if(d.flags&16384){var x=d.updateQueue;if(x!==null&&(x=x.stores,x!==null))for(var E=0;E<x.length;E++){var w=x[E],I=w.getSnapshot;w=w.value;try{if(!qr(I(),w))return!1}catch{return!1}}}if(x=d.child,d.subtreeFlags&16384&&x!==null)x.return=d,d=x;else{if(d===c)break;for(;d.sibling===null;){if(d.return===null||d.return===c)return!0;d=d.return}d.sibling.return=d.return,d=d.sibling}}return!0}function ll(c,d){for(d&=~wc,d&=~Wh,c.suspendedLanes|=d,c.pingedLanes&=~d,c=c.expirationTimes;0<d;){var x=31-_o(d),E=1<<x;c[x]=-1,d&=~E}}function bA(c){if(Bt&6)throw Error(o(327));vu();var d=Tg(c,0);if(!(d&1))return es(c,Ir()),null;var x=pv(c,d);if(c.tag!==0&&x===2){var E=Vf(c);E!==0&&(d=E,x=xp(c,E))}if(x===1)throw x=Aa,mu(c,0),ll(c,d),es(c,Ir()),x;if(x===6)throw Error(o(345));return c.finishedWork=c.current.alternate,c.finishedLanes=d,Rc(c,Fi),es(c,Ir()),null}function dv(c){Bo!==null&&Bo.tag===0&&!(Bt&6)&&vu();var d=Bt;Bt|=1;var x=Rt.transition,E=yn;try{if(Rt.transition=null,yn=1,c)return c()}finally{yn=E,Rt.transition=x,Bt=d,!(Bt&6)&&da()}}function ul(){ti=Jn.current,Pt(Jn)}function mu(c,d){c.finishedWork=null,c.finishedLanes=0;var x=c.timeoutHandle;if(x!==je&&(c.timeoutHandle=je,Qe(x)),hn!==null)for(x=hn.return;x!==null;){var E=x;switch(Ki(E),E.tag){case 1:E=E.type.childContextTypes,E!=null&&Ps();break;case 3:hc(),Pt(En),Pt(dn),Nh();break;case 5:jn(E);break;case 4:hc();break;case 13:Pt(Vn);break;case 19:Pt(Vn);break;case 10:Xf(E.type._context);break;case 22:case 23:ul()}x=x.return}if(en=c,hn=c=Lo(c.current,null),Ln=ti=d,Zn=0,Aa=null,wc=Wh=ol=0,Fi=ni=null,fi!==null){for(d=0;d<fi.length;d++)if(x=fi[d],E=x.interleaved,E!==null){x.interleaved=null;var w=E.next,I=x.pending;if(I!==null){var V=I.next;I.next=w,E.next=V}x.pending=E}fi=null}return c}function wA(c,d){do{var x=hn;try{if(Dg(),Zi.current=Xg,uu){for(var E=un.memoizedState;E!==null;){var w=E.queue;w!==null&&(w.pending=null),E=E.next}uu=!1}if(Nn=0,mr=xn=un=null,rl=!1,tp=0,qn.current=null,x===null||x.return===null){Zn=1,Aa=d,hn=null;break}e:{var I=c,V=x.return,te=x,ye=d;if(d=Ln,te.flags|=32768,ye!==null&&typeof ye=="object"&&typeof ye.then=="function"){var ke=ye,qe=te,rt=qe.tag;if(!(qe.mode&1)&&(rt===0||rt===11||rt===15)){var dt=qe.alternate;dt?(qe.updateQueue=dt.updateQueue,qe.memoizedState=dt.memoizedState,qe.lanes=dt.lanes):(qe.updateQueue=null,qe.memoizedState=null)}var ct=lA(V);if(ct!==null){ct.flags&=-257,wo(ct,V,te,I,d),ct.mode&1&&aA(I,ke,d),d=ct,ye=ke;var _t=d.updateQueue;if(_t===null){var On=new Set;On.add(ye),d.updateQueue=On}else _t.add(ye);break e}else{if(!(d&1)){aA(I,ke,d),Jh();break e}ye=Error(o(426))}}else if(Dn&&te.mode&1){var Le=lA(V);if(Le!==null){!(Le.flags&65536)&&(Le.flags|=256),wo(Le,V,te,I,d),lc(ye);break e}}I=ye,Zn!==4&&(Zn=2),ni===null?ni=[I]:ni.push(I),ye=ap(ye,te),te=V;do{switch(te.tag){case 3:te.flags|=65536,d&=-d,te.lanes|=d;var $=sA(te,ye,d);Yf(te,$);break e;case 1:I=ye;var ne=te.type,_e=te.stateNode;if(!(te.flags&128)&&(typeof ne.getDerivedStateFromError=="function"||_e!==null&&typeof _e.componentDidCatch=="function"&&(Ro===null||!Ro.has(_e)))){te.flags|=65536,d&=-d,te.lanes|=d;var We=oA(te,I,d);Yf(te,We);break e}}te=te.return}while(te!==null)}gu(x)}catch(tt){d=tt,hn===x&&x!==null&&(hn=x=x.return);continue}break}while(1)}function fv(){var c=Vh.current;return Vh.current=Xg,c===null?Xg:c}function Jh(){(Zn===0||Zn===3||Zn===2)&&(Zn=4),en===null||!(ol&268435455)&&!(Wh&268435455)||ll(en,Ln)}function pv(c,d){var x=Bt;Bt|=2;var E=fv();en===c&&Ln===d||mu(c,d);do try{YP();break}catch(w){wA(c,w)}while(1);if(Dg(),Bt=x,Vh.current=E,hn!==null)throw Error(o(261));return en=null,Ln=0,Zn}function YP(){for(;hn!==null;)TA(hn)}function sE(){for(;hn!==null&&!GP();)TA(hn)}function TA(c){var d=CA(c.alternate,c,ti);c.memoizedProps=c.pendingProps,d===null?gu(c):hn=d,qn.current=null}function gu(c){var d=c;do{var x=d.alternate;if(c=d.return,d.flags&32768){if(x=tv(x,d),x!==null){x.flags&=32767,hn=x;return}if(c!==null)c.flags|=32768,c.subtreeFlags=0,c.deletions=null;else{Zn=6,hn=null;return}}else if(x=jP(x,d,ti),x!==null){hn=x;return}if(d=d.sibling,d!==null){hn=d;return}hn=d=c}while(d!==null);Zn===0&&(Zn=5)}function Rc(c,d){var x=yn,E=Rt.transition;try{Rt.transition=null,yn=1,Pc(c,d,x)}finally{Rt.transition=E,yn=x}return null}function Pc(c,d,x){do vu();while(Bo!==null);if(Bt&6)throw Error(o(327));var E=c.finishedWork,w=c.finishedLanes;if(E===null)return null;if(c.finishedWork=null,c.finishedLanes=0,E===c.current)throw Error(o(177));c.callbackNode=null,c.callbackPriority=0;var I=E.lanes|E.childLanes;if(Nx(c,I),c===en&&(hn=en=null,Ln=0),!(E.subtreeFlags&2064)&&!(E.flags&2064)||Po||(Po=!0,uE(kx,function(){return vu(),null})),I=(E.flags&15990)!==0,E.subtreeFlags&15990||I){I=Rt.transition,Rt.transition=null;var V=yn;yn=1;var te=Bt;Bt|=4,qn.current=null,xc(c,E),JP(c,E),G(c.containerInfo),c.current=E,iE(E),Qr(),Bt=te,yn=V,Rt.transition=I}else c.current=E;if(Po&&(Po=!1,Bo=c,fu=w),I=c.pendingLanes,I===0&&(Ro=null),zP(E.stateNode),es(c,Ir()),d!==null)for(x=c.onRecoverableError,E=0;E<d.length;E++)x(d[E]);if(jh)throw jh=!1,c=_a,_a=null,c;return fu&1&&c.tag!==0&&vu(),I=c.pendingLanes,I&1?c===Xh?Tc++:(Tc=0,Xh=c):Tc=0,da(),null}function vu(){if(Bo!==null){var c=Cg(fu),d=Rt.transition,x=yn;try{if(Rt.transition=null,yn=16>c?16:c,Bo===null)var E=!1;else{if(c=Bo,Bo=null,fu=0,Bt&6)throw Error(o(331));var w=Bt;for(Bt|=4,ft=c.current;ft!==null;){var I=ft,V=I.child;if(ft.flags&16){var te=I.deletions;if(te!==null){for(var ye=0;ye<te.length;ye++){var ke=te[ye];for(ft=ke;ft!==null;){var qe=ft;switch(qe.tag){case 0:case 11:case 15:Co(8,qe,I)}var rt=qe.child;if(rt!==null)rt.return=qe,ft=rt;else for(;ft!==null;){qe=ft;var dt=qe.sibling,ct=qe.return;if(vA(qe),qe===ke){ft=null;break}if(dt!==null){dt.return=ct,ft=dt;break}ft=ct}}}var _t=I.alternate;if(_t!==null){var On=_t.child;if(On!==null){_t.child=null;do{var Le=On.sibling;On.sibling=null,On=Le}while(On!==null)}}ft=I}}if(I.subtreeFlags&2064&&V!==null)V.return=I,ft=V;else e:for(;ft!==null;){if(I=ft,I.flags&2048)switch(I.tag){case 0:case 11:case 15:Co(9,I,I.return)}var $=I.sibling;if($!==null){$.return=I.return,ft=$;break e}ft=I.return}}var ne=c.current;for(ft=ne;ft!==null;){V=ft;var _e=V.child;if(V.subtreeFlags&2064&&_e!==null)_e.return=V,ft=_e;else e:for(V=ne;ft!==null;){if(te=ft,te.flags&2048)try{switch(te.tag){case 0:case 11:case 15:Ac(9,te)}}catch(tt){fs(te,te.return,tt)}if(te===V){ft=null;break e}var We=te.sibling;if(We!==null){We.return=te.return,ft=We;break e}ft=te.return}}if(Bt=w,da(),ua&&typeof ua.onPostCommitFiberRoot=="function")try{ua.onPostCommitFiberRoot(Ls,c)}catch{}E=!0}return E}finally{yn=x,Rt.transition=d}}return!1}function ts(c,d,x){d=ap(x,d),d=sA(c,d,1),So(c,d),d=sr(),c=gi(c,1),c!==null&&(Wf(c,1,d),es(c,d))}function fs(c,d,x){if(c.tag===3)ts(c,c,x);else for(;d!==null;){if(d.tag===3){ts(d,c,x);break}else if(d.tag===1){var E=d.stateNode;if(typeof d.type.getDerivedStateFromError=="function"||typeof E.componentDidCatch=="function"&&(Ro===null||!Ro.has(E))){c=ap(x,c),c=oA(d,c,1),So(d,c),c=sr(),d=gi(d,1),d!==null&&(Wf(d,1,c),es(d,c));break}}d=d.return}}function oE(c,d,x){var E=c.pingCache;E!==null&&E.delete(d),d=sr(),c.pingedLanes|=c.suspendedLanes&x,en===c&&(Ln&x)===x&&(Zn===4||Zn===3&&(Ln&130023424)===Ln&&500>Ir()-yp?mu(c,0):wc|=x),es(c,d)}function aE(c,d){d===0&&(c.mode&1?(d=eu,eu<<=1,!(eu&130023424)&&(eu=4194304)):d=1);var x=sr();c=gi(c,d),c!==null&&(Wf(c,d,x),es(c,x))}function KP(c){var d=c.memoizedState,x=0;d!==null&&(x=d.retryLane),aE(c,x)}function lE(c,d){var x=0;switch(c.tag){case 13:var E=c.stateNode,w=c.memoizedState;w!==null&&(x=w.retryLane);break;case 19:E=c.stateNode;break;default:throw Error(o(314))}E!==null&&E.delete(d),aE(c,x)}var CA;CA=function(c,d,x){if(c!==null)if(c.memoizedProps!==d.pendingProps||En.current)Un=!0;else{if(!(c.lanes&x)&&!(d.flags&128))return Un=!1,XP(c,d,x);Un=!!(c.flags&131072)}else Un=!1,Dn&&d.flags&1048576&&kg(d,Xi,d.index);switch(d.lanes=0,d.tag){case 2:var E=d.type;c!==null&&(c.alternate=null,d.alternate=null,d.flags|=2),c=d.pendingProps;var w=Nt(d,dn.current);di(d,x),w=rp(null,d,E,c,w,x);var I=bo();return d.flags|=1,typeof w=="object"&&w!==null&&typeof w.render=="function"&&w.$$typeof===void 0?(d.tag=1,d.memoizedState=null,d.updateQueue=null,vn(E)?(I=!0,el(d)):I=!1,d.memoizedState=w.state!==null&&w.state!==void 0?w.state:null,Ng(d),w.updater=Qf,d.stateNode=w,w._reactInternals=d,iu(d,E,c,x),d=Qg(null,d,E,!0,I,x)):(d.tag=0,Dn&&I&&qf(d),Di(null,d,w,x),d=d.child),d;case 16:E=d.elementType;e:{switch(c!==null&&(c.alternate=null,d.alternate=null,d.flags|=2),c=d.pendingProps,w=E._init,E=w(E._payload),d.type=E,w=d.tag=yu(E),c=ds(E,c),w){case 0:d=Yg(null,d,E,c,x);break e;case 1:d=Kg(null,d,E,c,x);break e;case 11:d=uA(null,d,E,c,x);break e;case 14:d=cA(null,d,E,ds(E.type,c),x);break e}throw Error(o(306,E,""))}return d;case 0:return E=d.type,w=d.pendingProps,w=d.elementType===E?w:ds(E,w),Yg(c,d,E,w,x);case 1:return E=d.type,w=d.pendingProps,w=d.elementType===E?w:ds(E,w),Kg(c,d,E,w,x);case 3:e:{if(fA(d),c===null)throw Error(o(387));E=d.pendingProps,I=d.memoizedState,w=I.element,pa(c,d),Kf(d,E,null,x);var V=d.memoizedState;if(E=V.element,Ae&&I.isDehydrated)if(I={element:E,isDehydrated:!1,cache:V.cache,transitions:V.transitions},d.updateQueue.baseState=I,d.memoizedState=I,d.flags&256){w=Error(o(423)),d=up(c,d,E,x,w);break e}else if(E!==w){w=Error(o(424)),d=up(c,d,E,x,w);break e}else for(Ae&&(cn=Gf(d.stateNode.containerInfo),Wn=d,Dn=!0,$s=null,Qi=!1),x=Dh(d,null,E,x),d.child=x;x;)x.flags=x.flags&-3|4096,x=x.sibling;else{if(ou(),E===w){d=sl(c,d,x);break e}Di(c,d,E,x)}d=d.child}return d;case 5:return Hg(d),c===null&&zg(d),E=d.type,w=d.pendingProps,I=c!==null?c.memoizedProps:null,V=w.children,Ce(E,w)?V=null:I!==null&&Ce(E,I)&&(d.flags|=32),Jg(c,d),Di(c,d,V,x),d.child;case 6:return c===null&&zg(d),null;case 13:return qg(c,d,x);case 4:return lu(d,d.stateNode.containerInfo),E=d.pendingProps,c===null?d.child=cc(d,null,E,x):Di(c,d,E,x),d.child;case 11:return E=d.type,w=d.pendingProps,w=d.elementType===E?w:ds(E,w),uA(c,d,E,w,x);case 7:return Di(c,d,d.pendingProps,x),d.child;case 8:return Di(c,d,d.pendingProps.children,x),d.child;case 12:return Di(c,d,d.pendingProps.children,x),d.child;case 10:e:{if(E=d.type._context,w=d.pendingProps,I=d.memoizedProps,V=w.value,Fg(d,E,V),I!==null)if(qr(I.value,V)){if(I.children===w.children&&!En.current){d=sl(c,d,x);break e}}else for(I=d.child,I!==null&&(I.return=d);I!==null;){var te=I.dependencies;if(te!==null){V=I.child;for(var ye=te.firstContext;ye!==null;){if(ye.context===E){if(I.tag===1){ye=Ci(-1,x&-x),ye.tag=2;var ke=I.updateQueue;if(ke!==null){ke=ke.shared;var qe=ke.pending;qe===null?ye.next=ye:(ye.next=qe.next,qe.next=ye),ke.pending=ye}}I.lanes|=x,ye=I.alternate,ye!==null&&(ye.lanes|=x),ru(I.return,x,d),te.lanes|=x;break}ye=ye.next}}else if(I.tag===10)V=I.type===d.type?null:I.child;else if(I.tag===18){if(V=I.return,V===null)throw Error(o(341));V.lanes|=x,te=V.alternate,te!==null&&(te.lanes|=x),ru(V,x,d),V=I.sibling}else V=I.child;if(V!==null)V.return=I;else for(V=I;V!==null;){if(V===d){V=null;break}if(I=V.sibling,I!==null){I.return=V.return,V=I;break}V=V.return}I=V}Di(c,d,w.children,x),d=d.child}return d;case 9:return w=d.type,E=d.pendingProps.children,di(d,x),w=pr(w),E=E(w),d.flags|=1,Di(c,d,E,x),d.child;case 14:return E=d.type,w=ds(E,d.pendingProps),w=ds(E.type,w),cA(c,d,E,w,x);case 15:return hA(c,d,d.type,d.pendingProps,x);case 17:return E=d.type,w=d.pendingProps,w=d.elementType===E?w:ds(E,w),c!==null&&(c.alternate=null,d.alternate=null,d.flags|=2),d.tag=1,vn(E)?(c=!0,el(d)):c=!1,di(d,x),Hx(d,E,w),iu(d,E,w,x),Qg(null,d,E,!0,c,x);case 19:return ya(c,d,x);case 22:return dA(c,d,x)}throw Error(o(156,d.tag))};function uE(c,d){return Rg(c,d)}function to(c,d,x,E){this.tag=c,this.key=x,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=d,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=E,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ps(c,d,x,E){return new to(c,d,x,E)}function RA(c){return c=c.prototype,!(!c||!c.isReactComponent)}function yu(c){if(typeof c=="function")return RA(c)?1:0;if(c!=null){if(c=c.$$typeof,c===S)return 11;if(c===M)return 14}return 2}function Lo(c,d){var x=c.alternate;return x===null?(x=ps(c.tag,d,c.key,c.mode),x.elementType=c.elementType,x.type=c.type,x.stateNode=c.stateNode,x.alternate=c,c.alternate=x):(x.pendingProps=d,x.type=c.type,x.flags=0,x.subtreeFlags=0,x.deletions=null),x.flags=c.flags&14680064,x.childLanes=c.childLanes,x.lanes=c.lanes,x.child=c.child,x.memoizedProps=c.memoizedProps,x.memoizedState=c.memoizedState,x.updateQueue=c.updateQueue,d=c.dependencies,x.dependencies=d===null?null:{lanes:d.lanes,firstContext:d.firstContext},x.sibling=c.sibling,x.index=c.index,x.ref=c.ref,x}function Ma(c,d,x,E,w,I){var V=2;if(E=c,typeof c=="function")RA(c)&&(V=1);else if(typeof c=="string")V=5;else e:switch(c){case h:return Sa(x.children,w,I,d);case f:V=8,w|=8;break;case p:return c=ps(12,x,d,w|2),c.elementType=p,c.lanes=I,c;case A:return c=ps(13,x,d,w),c.elementType=A,c.lanes=I,c;case g:return c=ps(19,x,d,w),c.elementType=g,c.lanes=I,c;case b:return Yh(x,w,I,d);default:if(typeof c=="object"&&c!==null)switch(c.$$typeof){case m:V=10;break e;case v:V=9;break e;case S:V=11;break e;case M:V=14;break e;case _:V=16,E=null;break e}throw Error(o(130,c==null?c:typeof c,""))}return d=ps(V,x,d,w),d.elementType=c,d.type=E,d.lanes=I,d}function Sa(c,d,x,E){return c=ps(7,c,E,d),c.lanes=x,c}function Yh(c,d,x,E){return c=ps(22,c,E,d),c.elementType=b,c.lanes=x,c.stateNode={},c}function Ap(c,d,x){return c=ps(6,c,null,d),c.lanes=x,c}function PA(c,d,x){return d=ps(4,c.children!==null?c.children:[],c.key,d),d.lanes=x,d.stateNode={containerInfo:c.containerInfo,pendingChildren:null,implementation:c.implementation},d}function cE(c,d,x,E,w){this.tag=d,this.containerInfo=c,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=je,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=sc(0),this.expirationTimes=sc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=sc(0),this.identifierPrefix=E,this.onRecoverableError=w,Ae&&(this.mutableSourceEagerHydrationData=null)}function BA(c,d,x,E,w,I,V,te,ye){return c=new cE(c,d,x,te,ye),d===1?(d=1,I===!0&&(d|=8)):d=0,I=ps(3,null,null,d),c.current=I,I.stateNode=c,I.memoizedState={element:E,isDehydrated:x,cache:null,transitions:null},Ng(I),c}function LA(c){if(!c)return $t;c=c._reactInternals;e:{if(R(c)!==c||c.tag!==1)throw Error(o(170));var d=c;do{switch(d.tag){case 3:d=d.stateNode.context;break e;case 1:if(vn(d.type)){d=d.stateNode.__reactInternalMemoizedMergedChildContext;break e}}d=d.return}while(d!==null);throw Error(o(171))}if(c.tag===1){var x=c.type;if(vn(x))return Bs(c,x,d)}return d}function IA(c){var d=c._reactInternals;if(d===void 0)throw typeof c.render=="function"?Error(o(188)):(c=Object.keys(c).join(","),Error(o(268,c)));return c=Q(d),c===null?null:c.stateNode}function mv(c,d){if(c=c.memoizedState,c!==null&&c.dehydrated!==null){var x=c.retryLane;c.retryLane=x!==0&&x<d?x:d}}function DA(c,d){mv(c,d),(c=c.alternate)&&mv(c,d)}function QP(c){return c=Q(c),c===null?null:c.stateNode}function y(){return null}return t.attemptContinuousHydration=function(c){if(c.tag===13){var d=sr();$i(c,134217728,d),DA(c,134217728)}},t.attemptHydrationAtCurrentPriority=function(c){if(c.tag===13){var d=sr(),x=Wr(c);$i(c,x,d),DA(c,x)}},t.attemptSynchronousHydration=function(c){switch(c.tag){case 3:var d=c.stateNode;if(d.current.memoizedState.isDehydrated){var x=tu(d.pendingLanes);x!==0&&(fn(d,x|1),es(d,Ir()),!(Bt&6)&&(al(),da()))}break;case 13:var E=sr();dv(function(){return $i(c,1,E)}),DA(c,1)}},t.batchedUpdates=function(c,d){var x=Bt;Bt|=1;try{return c(d)}finally{Bt=x,Bt===0&&(al(),Bh&&da())}},t.createComponentSelector=function(c){return{$$typeof:_c,value:c}},t.createContainer=function(c,d,x,E,w,I,V){return BA(c,d,!1,null,x,E,w,I,V)},t.createHasPseudoClassSelector=function(c){return{$$typeof:Mc,value:c}},t.createHydrationContainer=function(c,d,x,E,w,I,V,te,ye){return c=BA(x,E,!0,c,w,I,V,te,ye),c.context=LA(null),x=c.current,E=sr(),w=Wr(x),I=Ci(E,w),I.callback=d??null,So(x,I),c.current.lanes=w,Wf(c,w,E),es(c,E),c},t.createPortal=function(c,d,x){var E=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:u,key:E==null?null:""+E,children:c,containerInfo:d,implementation:x}},t.createRoleSelector=function(c){return{$$typeof:Sc,value:c}},t.createTestNameSelector=function(c){return{$$typeof:Ec,value:c}},t.createTextSelector=function(c){return{$$typeof:hu,value:c}},t.deferredUpdates=function(c){var d=yn,x=Rt.transition;try{return Rt.transition=null,yn=16,c()}finally{yn=d,Rt.transition=x}},t.discreteUpdates=function(c,d,x,E,w){var I=yn,V=Rt.transition;try{return Rt.transition=null,yn=1,c(d,x,E,w)}finally{yn=I,Rt.transition=V,Bt===0&&al()}},t.findAllNodes=SA,t.findBoundingRects=function(c,d){if(!Ze)throw Error(o(363));d=SA(c,d),c=[];for(var x=0;x<d.length;x++)c.push(Dt(d[x]));for(d=c.length-1;0<d;d--){x=c[d];for(var E=x.x,w=E+x.width,I=x.y,V=I+x.height,te=d-1;0<=te;te--)if(d!==te){var ye=c[te],ke=ye.x,qe=ke+ye.width,rt=ye.y,dt=rt+ye.height;if(E>=ke&&I>=rt&&w<=qe&&V<=dt){c.splice(d,1);break}else if(E!==ke||x.width!==ye.width||dt<I||rt>V){if(!(I!==rt||x.height!==ye.height||qe<E||ke>w)){ke>E&&(ye.width+=ke-E,ye.x=E),qe<w&&(ye.width=w-ke),c.splice(d,1);break}}else{rt>I&&(ye.height+=rt-I,ye.y=I),dt<V&&(ye.height=V-rt),c.splice(d,1);break}}}return c},t.findHostInstance=IA,t.findHostInstanceWithNoPortals=function(c){return c=U(c),c=c!==null?Y(c):null,c===null?null:c.stateNode},t.findHostInstanceWithWarning=function(c){return IA(c)},t.flushControlled=function(c){var d=Bt;Bt|=1;var x=Rt.transition,E=yn;try{Rt.transition=null,yn=1,c()}finally{yn=E,Rt.transition=x,Bt=d,Bt===0&&(al(),da())}},t.flushPassiveEffects=vu,t.flushSync=dv,t.focusWithin=function(c,d){if(!Ze)throw Error(o(363));for(c=gp(c),d=uv(c,d),d=Array.from(d),c=0;c<d.length;){var x=d[c++];if(!F(x)){if(x.tag===5&&be(x.stateNode))return!0;for(x=x.child;x!==null;)d.push(x),x=x.sibling}}return!1},t.getCurrentUpdatePriority=function(){return yn},t.getFindAllNodesFailureDescription=function(c,d){if(!Ze)throw Error(o(363));var x=0,E=[];c=[gp(c),0];for(var w=0;w<c.length;){var I=c[w++],V=c[w++],te=d[V];if((I.tag!==5||!F(I))&&(vp(I,te)&&(E.push(lv(te)),V++,V>x&&(x=V)),V<d.length))for(I=I.child;I!==null;)c.push(I,V),I=I.sibling}if(x<d.length){for(c=[];x<d.length;x++)c.push(lv(d[x]));return`findAllNodes was able to match part of the selector:
  `+(E.join(" > ")+`

No matching component was found for:
  `)+c.join(" > ")}return null},t.getPublicRootInstance=function(c){if(c=c.current,!c.child)return null;switch(c.child.tag){case 5:return ae(c.child.stateNode);default:return c.child.stateNode}},t.injectIntoDevTools=function(c){if(c={bundleType:c.bundleType,version:c.version,rendererPackageName:c.rendererPackageName,rendererConfig:c.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:a.ReactCurrentDispatcher,findHostInstanceByFiber:QP,findFiberByHostInstance:c.findFiberByHostInstance||y,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.0.0-fc46dba67-20220329"},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")c=!1;else{var d=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(d.isDisabled||!d.supportsFiber)c=!0;else{try{Ls=d.inject(c),ua=d}catch{}c=!!d.checkDCE}}return c},t.isAlreadyRendering=function(){return!1},t.observeVisibleRects=function(c,d,x,E){if(!Ze)throw Error(o(363));c=SA(c,d);var w=Se(c,x,E).disconnect;return{disconnect:function(){w()}}},t.registerMutableSourceForHydration=function(c,d){var x=d._getVersion;x=x(d._source),c.mutableSourceEagerHydrationData==null?c.mutableSourceEagerHydrationData=[d,x]:c.mutableSourceEagerHydrationData.push(d,x)},t.runWithPriority=function(c,d){var x=yn;try{return yn=c,d()}finally{yn=x}},t.shouldError=function(){return null},t.shouldSuspend=function(){return!1},t.updateContainer=function(c,d,x,E){var w=d.current,I=sr(),V=Wr(w);return x=LA(x),d.context===null?d.context=x:d.pendingContext=x,d=Ci(I,V),d.payload={element:c},E=E===void 0?null:E,E!==null&&(d.callback=E),So(w,d),c=$i(w,V,I),c!==null&&Jf(c,w,V),V},t};one.exports=YBe;var KBe=one.exports;const QBe=lk(KBe);var ane={exports:{}},lne={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){function e(D,k){var G=D.length;D.push(k);e:for(;0<G;){var K=G-1>>>1,H=D[K];if(0<i(H,k))D[K]=k,D[G]=H,G=K;else break e}}function t(D){return D.length===0?null:D[0]}function r(D){if(D.length===0)return null;var k=D[0],G=D.pop();if(G!==k){D[0]=G;e:for(var K=0,H=D.length,ue=H>>>1;K<ue;){var le=2*(K+1)-1,Ce=D[le],xe=le+1,Be=D[xe];if(0>i(Ce,G))xe<H&&0>i(Be,Ce)?(D[K]=Be,D[xe]=G,K=xe):(D[K]=Ce,D[le]=G,K=le);else if(xe<H&&0>i(Be,G))D[K]=Be,D[xe]=G,K=xe;else break e}}return k}function i(D,k){var G=D.sortIndex-k.sortIndex;return G!==0?G:D.id-k.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();n.unstable_now=function(){return o.now()-a}}var l=[],u=[],h=1,f=null,p=3,m=!1,v=!1,S=!1,A=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,M=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(D){for(var k=t(u);k!==null;){if(k.callback===null)r(u);else if(k.startTime<=D)r(u),k.sortIndex=k.expirationTime,e(l,k);else break;k=t(u)}}function b(D){if(S=!1,_(D),!v)if(t(l)!==null)v=!0,ae(T);else{var k=t(u);k!==null&&Z(b,k.startTime-D)}}function T(D,k){v=!1,S&&(S=!1,g(P),P=-1),m=!0;var G=p;try{for(_(k),f=t(l);f!==null&&(!(f.expirationTime>k)||D&&!U());){var K=f.callback;if(typeof K=="function"){f.callback=null,p=f.priorityLevel;var H=K(f.expirationTime<=k);k=n.unstable_now(),typeof H=="function"?f.callback=H:f===t(l)&&r(l),_(k)}else r(l);f=t(l)}if(f!==null)var ue=!0;else{var le=t(u);le!==null&&Z(b,le.startTime-k),ue=!1}return ue}finally{f=null,p=G,m=!1}}var C=!1,B=null,P=-1,R=5,L=-1;function U(){return!(n.unstable_now()-L<R)}function Q(){if(B!==null){var D=n.unstable_now();L=D;var k=!0;try{k=B(!0,D)}finally{k?W():(C=!1,B=null)}}else C=!1}var W;if(typeof M=="function")W=function(){M(Q)};else if(typeof MessageChannel<"u"){var Y=new MessageChannel,X=Y.port2;Y.port1.onmessage=Q,W=function(){X.postMessage(null)}}else W=function(){A(Q,0)};function ae(D){B=D,C||(C=!0,W())}function Z(D,k){P=A(function(){D(n.unstable_now())},k)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(D){D.callback=null},n.unstable_continueExecution=function(){v||m||(v=!0,ae(T))},n.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<D?Math.floor(1e3/D):5},n.unstable_getCurrentPriorityLevel=function(){return p},n.unstable_getFirstCallbackNode=function(){return t(l)},n.unstable_next=function(D){switch(p){case 1:case 2:case 3:var k=3;break;default:k=p}var G=p;p=k;try{return D()}finally{p=G}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(D,k){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var G=p;p=D;try{return k()}finally{p=G}},n.unstable_scheduleCallback=function(D,k,G){var K=n.unstable_now();switch(typeof G=="object"&&G!==null?(G=G.delay,G=typeof G=="number"&&0<G?K+G:K):G=K,D){case 1:var H=-1;break;case 2:H=250;break;case 5:H=1073741823;break;case 4:H=1e4;break;default:H=5e3}return H=G+H,D={id:h++,callback:k,priorityLevel:D,startTime:G,expirationTime:H,sortIndex:-1},G>K?(D.sortIndex=G,e(u,D),t(l)===null&&D===t(u)&&(S?(g(P),P=-1):S=!0,Z(b,G-K))):(D.sortIndex=H,e(l,D),v||m||(v=!0,ae(T))),D},n.unstable_shouldYield=U,n.unstable_wrapCallback=function(D){var k=p;return function(){var G=p;p=k;try{return D.apply(this,arguments)}finally{p=G}}}})(lne);ane.exports=lne;var sW=ane.exports;const qBe=n=>typeof n=="object"&&typeof n.then=="function",Rm=[];function une(n,e,t=(r,i)=>r===i){if(n===e)return!0;if(!n||!e)return!1;const r=n.length;if(e.length!==r)return!1;for(let i=0;i<r;i++)if(!t(n[i],e[i]))return!1;return!0}function cne(n,e=null,t=!1,r={}){e===null&&(e=[n]);for(const s of Rm)if(une(e,s.keys,s.equal)){if(t)return;if(Object.prototype.hasOwnProperty.call(s,"error"))throw s.error;if(Object.prototype.hasOwnProperty.call(s,"response"))return r.lifespan&&r.lifespan>0&&(s.timeout&&clearTimeout(s.timeout),s.timeout=setTimeout(s.remove,r.lifespan)),s.response;if(!t)throw s.promise}const i={keys:e,equal:r.equal,remove:()=>{const s=Rm.indexOf(i);s!==-1&&Rm.splice(s,1)},promise:(qBe(n)?n:n(...e)).then(s=>{i.response=s,r.lifespan&&r.lifespan>0&&(i.timeout=setTimeout(i.remove,r.lifespan))}).catch(s=>i.error=s)};if(Rm.push(i),!t)throw i.promise}const ZBe=(n,e,t)=>cne(n,e,!1,t),$Be=(n,e,t)=>void cne(n,e,!0,t),e2e=n=>{if(n===void 0||n.length===0)Rm.splice(0,Rm.length);else{const e=Rm.find(t=>une(n,t.keys,t.equal));e&&e.remove()}},nz={},t2e=n=>void Object.assign(nz,n);function n2e(n,e){function t(h,{args:f=[],attach:p,...m},v){let S=`${h[0].toUpperCase()}${h.slice(1)}`,A;if(h==="primitive"){if(m.object===void 0)throw new Error("R3F: Primitives without 'object' are invalid!");const g=m.object;A=d0(g,{type:h,root:v,attach:p,primitive:!0})}else{const g=nz[S];if(!g)throw new Error(`R3F: ${S} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(!Array.isArray(f))throw new Error("R3F: The args prop must be an array!");A=d0(new g(...f),{type:h,root:v,attach:p,memoizedProps:{args:f}})}return A.__r3f.attach===void 0&&(A instanceof Qt?A.__r3f.attach="geometry":A instanceof hi&&(A.__r3f.attach="material")),S!=="inject"&&GL(A,m),A}function r(h,f){let p=!1;if(f){var m,v;(m=f.__r3f)!=null&&m.attach?kL(h,f,f.__r3f.attach):f.isObject3D&&h.isObject3D&&(h.add(f),p=!0),p||(v=h.__r3f)==null||v.objects.push(f),f.__r3f||d0(f,{}),f.__r3f.parent=h,eN(f),f0(f)}}function i(h,f,p){let m=!1;if(f){var v,S;if((v=f.__r3f)!=null&&v.attach)kL(h,f,f.__r3f.attach);else if(f.isObject3D&&h.isObject3D){f.parent=h,f.dispatchEvent({type:"added"});const A=h.children.filter(M=>M!==f),g=A.indexOf(p);h.children=[...A.slice(0,g),f,...A.slice(g)],m=!0}m||(S=h.__r3f)==null||S.objects.push(f),f.__r3f||d0(f,{}),f.__r3f.parent=h,eN(f),f0(f)}}function s(h,f,p=!1){h&&[...h].forEach(m=>o(f,m,p))}function o(h,f,p){if(f){var m,v,S;if(f.__r3f&&(f.__r3f.parent=null),(m=h.__r3f)!=null&&m.objects&&(h.__r3f.objects=h.__r3f.objects.filter(b=>b!==f)),(v=f.__r3f)!=null&&v.attach)cW(h,f,f.__r3f.attach);else if(f.isObject3D&&h.isObject3D){var A;h.remove(f),(A=f.__r3f)!=null&&A.root&&c2e(f.__r3f.root,f)}const M=(S=f.__r3f)==null?void 0:S.primitive,_=p===void 0?f.dispose!==null&&!M:p;if(!M){var g;s((g=f.__r3f)==null?void 0:g.objects,f,_),s(f.children,f,_)}delete f.__r3f,_&&f.dispose&&f.type!=="Scene"&&sW.unstable_scheduleCallback(sW.unstable_IdlePriority,()=>{try{f.dispose()}catch{}}),f0(h)}}function a(h,f,p,m){var v;const S=(v=h.__r3f)==null?void 0:v.parent;if(!S)return;const A=t(f,p,h.__r3f.root);if(h.children){for(const g of h.children)g.__r3f&&r(A,g);h.children=h.children.filter(g=>!g.__r3f)}h.__r3f.objects.forEach(g=>r(A,g)),h.__r3f.objects=[],h.__r3f.autoRemovedBeforeAppend||o(S,h),A.parent&&(A.__r3f.autoRemovedBeforeAppend=!0),r(S,A),A.raycast&&A.__r3f.eventCount&&A.__r3f.root.getState().internal.interaction.push(A),[m,m.alternate].forEach(g=>{g!==null&&(g.stateNode=A,g.ref&&(typeof g.ref=="function"?g.ref(A):g.ref.current=A))})}const l=()=>console.warn("Text is not allowed in the R3F tree! This could be stray whitespace or characters.");return{reconciler:QBe({createInstance:t,removeChild:o,appendChild:r,appendInitialChild:r,insertBefore:i,supportsMutation:!0,isPrimaryRenderer:!1,supportsPersistence:!1,supportsHydration:!1,noTimeout:-1,appendChildToContainer:(h,f)=>{if(!f)return;const p=h.getState().scene;p.__r3f&&(p.__r3f.root=h,r(p,f))},removeChildFromContainer:(h,f)=>{f&&o(h.getState().scene,f)},insertInContainerBefore:(h,f,p)=>{if(!f||!p)return;const m=h.getState().scene;m.__r3f&&i(m,f,p)},getRootHostContext:()=>null,getChildHostContext:h=>h,finalizeInitialChildren(h){var f;return!!((f=h==null?void 0:h.__r3f)!=null?f:{}).handlers},prepareUpdate(h,f,p,m){if(h.__r3f.primitive&&m.object&&m.object!==h)return[!0];{const{args:v=[],children:S,...A}=m,{args:g=[],children:M,..._}=p;if(!Array.isArray(v))throw new Error("R3F: the args prop must be an array!");if(v.some((T,C)=>T!==g[C]))return[!0];const b=vne(h,A,_,!0);return b.changes.length?[!1,b]:null}},commitUpdate(h,[f,p],m,v,S,A){f?a(h,m,S,A):GL(h,p)},commitMount(h,f,p,m){var v;const S=(v=h.__r3f)!=null?v:{};h.raycast&&S.handlers&&S.eventCount&&h.__r3f.root.getState().internal.interaction.push(h)},getPublicInstance:h=>h,prepareForCommit:()=>null,preparePortalMount:h=>d0(h.getState().scene),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance(h){var f;const{attach:p,parent:m}=(f=h.__r3f)!=null?f:{};p&&m&&cW(m,h,p),h.isObject3D&&(h.visible=!1),f0(h)},unhideInstance(h,f){var p;const{attach:m,parent:v}=(p=h.__r3f)!=null?p:{};m&&v&&kL(v,h,m),(h.isObject3D&&f.visible==null||f.visible)&&(h.visible=!0),f0(h)},createTextInstance:l,hideTextInstance:l,unhideTextInstance:l,getCurrentEventPriority:()=>e?e():q0.DefaultEventPriority,beforeActiveInstanceBlur:()=>{},afterActiveInstanceBlur:()=>{},detachDeletedInstance:()=>{},now:typeof performance<"u"&&nr.fun(performance.now)?performance.now:nr.fun(Date.now)?Date.now:()=>0,scheduleTimeout:nr.fun(setTimeout)?setTimeout:void 0,cancelTimeout:nr.fun(clearTimeout)?clearTimeout:void 0}),applyProps:GL}}var oW,aW;const OL=n=>"colorSpace"in n||"outputColorSpace"in n,hne=()=>{var n;return(n=nz.ColorManagement)!=null?n:null},dne=n=>n&&n.isOrthographicCamera,r2e=n=>n&&n.hasOwnProperty("current"),VS=typeof window<"u"&&((oW=window.document)!=null&&oW.createElement||((aW=window.navigator)==null?void 0:aW.product)==="ReactNative")?me.useLayoutEffect:me.useEffect;function fne(n){const e=me.useRef(n);return VS(()=>void(e.current=n),[n]),e}function i2e({set:n}){return VS(()=>(n(new Promise(()=>null)),()=>n(!1)),[n]),null}class pne extends me.Component{constructor(...e){super(...e),this.state={error:!1}}componentDidCatch(e){this.props.set(e)}render(){return this.state.error?null:this.props.children}}pne.getDerivedStateFromError=()=>({error:!0});const mne="__default",lW=new Map,s2e=n=>n&&!!n.memoized&&!!n.changes;function gne(n){var e;const t=typeof window<"u"?(e=window.devicePixelRatio)!=null?e:2:1;return Array.isArray(n)?Math.min(Math.max(n[0],t),n[1]):n}const w1=n=>{var e;return(e=n.__r3f)==null?void 0:e.root.getState()},nr={obj:n=>n===Object(n)&&!nr.arr(n)&&typeof n!="function",fun:n=>typeof n=="function",str:n=>typeof n=="string",num:n=>typeof n=="number",boo:n=>typeof n=="boolean",und:n=>n===void 0,arr:n=>Array.isArray(n),equ(n,e,{arrays:t="shallow",objects:r="reference",strict:i=!0}={}){if(typeof n!=typeof e||!!n!=!!e)return!1;if(nr.str(n)||nr.num(n))return n===e;const s=nr.obj(n);if(s&&r==="reference")return n===e;const o=nr.arr(n);if(o&&t==="reference")return n===e;if((o||s)&&n===e)return!0;let a;for(a in n)if(!(a in e))return!1;if(s&&t==="shallow"&&r==="shallow"){for(a in i?e:n)if(!nr.equ(n[a],e[a],{strict:i,objects:"reference"}))return!1}else for(a in i?e:n)if(n[a]!==e[a])return!1;if(nr.und(a)){if(o&&n.length===0&&e.length===0||s&&Object.keys(n).length===0&&Object.keys(e).length===0)return!0;if(n!==e)return!1}return!0}};function o2e(n){const e={nodes:{},materials:{}};return n&&n.traverse(t=>{t.name&&(e.nodes[t.name]=t),t.material&&!e.materials[t.material.name]&&(e.materials[t.material.name]=t.material)}),e}function a2e(n){n.dispose&&n.type!=="Scene"&&n.dispose();for(const e in n)e.dispose==null||e.dispose(),delete n[e]}function d0(n,e){const t=n;return(e!=null&&e.primitive||!t.__r3f)&&(t.__r3f={type:"",root:null,previousAttach:null,memoizedProps:{},eventCount:0,handlers:{},objects:[],parent:null,...e}),n}function $F(n,e){let t=n;if(e.includes("-")){const r=e.split("-"),i=r.pop();return t=r.reduce((s,o)=>s[o],n),{target:t,key:i}}else return{target:t,key:e}}const uW=/-\d+$/;function kL(n,e,t){if(nr.str(t)){if(uW.test(t)){const s=t.replace(uW,""),{target:o,key:a}=$F(n,s);Array.isArray(o[a])||(o[a]=[])}const{target:r,key:i}=$F(n,t);e.__r3f.previousAttach=r[i],r[i]=e}else e.__r3f.previousAttach=t(n,e)}function cW(n,e,t){var r,i;if(nr.str(t)){const{target:s,key:o}=$F(n,t),a=e.__r3f.previousAttach;a===void 0?delete s[o]:s[o]=a}else(r=e.__r3f)==null||r.previousAttach==null||r.previousAttach(n,e);(i=e.__r3f)==null||delete i.previousAttach}function vne(n,{children:e,key:t,ref:r,...i},{children:s,key:o,ref:a,...l}={},u=!1){var h;const f=(h=n==null?void 0:n.__r3f)!=null?h:{},p=Object.entries(i),m=[];if(u){const S=Object.keys(l);for(let A=0;A<S.length;A++)i.hasOwnProperty(S[A])||p.unshift([S[A],mne+"remove"])}p.forEach(([S,A])=>{var g;if((g=n.__r3f)!=null&&g.primitive&&S==="object"||nr.equ(A,l[S]))return;if(/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/.test(S))return m.push([S,A,!0,[]]);let M=[];S.includes("-")&&(M=S.split("-")),m.push([S,A,!1,M]);for(const _ in i){const b=i[_];_.startsWith(`${S}-`)&&m.push([_,b,!1,_.split("-")])}});const v={...i};return f.memoizedProps&&f.memoizedProps.args&&(v.args=f.memoizedProps.args),f.memoizedProps&&f.memoizedProps.attach&&(v.attach=f.memoizedProps.attach),{memoized:v,changes:m}}function GL(n,e){var t,r,i;const s=(t=n.__r3f)!=null?t:{},o=s.root,a=(r=o==null||o.getState==null?void 0:o.getState())!=null?r:{},{memoized:l,changes:u}=s2e(e)?e:vne(n,e),h=s.eventCount;n.__r3f&&(n.__r3f.memoizedProps=l);for(let p=0;p<u.length;p++){let[m,v,S,A]=u[p];if(OL(n)){const b="srgb",T="srgb-linear";m==="encoding"?(m="colorSpace",v=v===3001?b:T):m==="outputEncoding"&&(m="outputColorSpace",v=v===3001?b:T)}let g=n,M=g[m];if(A.length&&(M=A.reduce((_,b)=>_[b],n),!(M&&M.set))){const[_,...b]=A.reverse();g=b.reverse().reduce((T,C)=>T[C],n),m=_}if(v===mne+"remove")if(g.constructor){let _=lW.get(g.constructor);_||(_=new g.constructor,lW.set(g.constructor,_)),v=_[m]}else v=0;if(S)v?s.handlers[m]=v:delete s.handlers[m],s.eventCount=Object.keys(s.handlers).length;else if(M&&M.set&&(M.copy||M instanceof Wm)){if(Array.isArray(v))M.fromArray?M.fromArray(v):M.set(...v);else if(M.copy&&v&&v.constructor&&M.constructor===v.constructor)M.copy(v);else if(v!==void 0){const _=M instanceof At;!_&&M.setScalar?M.setScalar(v):M instanceof Wm&&v instanceof Wm?M.mask=v.mask:M.set(v),!hne()&&!a.linear&&_&&M.convertSRGBToLinear()}}else if(g[m]=v,g[m]instanceof fr&&g[m].format===lo&&g[m].type===Hu){const _=g[m];OL(_)&&OL(a.gl)?_.colorSpace=a.gl.outputColorSpace:_.encoding=a.gl.outputEncoding}f0(n)}if(s.parent&&a.internal&&n.raycast&&h!==s.eventCount){const p=a.internal.interaction.indexOf(n);p>-1&&a.internal.interaction.splice(p,1),s.eventCount&&a.internal.interaction.push(n)}return!(u.length===1&&u[0][0]==="onUpdate")&&u.length&&(i=n.__r3f)!=null&&i.parent&&eN(n),n}function f0(n){var e,t;const r=(e=n.__r3f)==null||(t=e.root)==null||t.getState==null?void 0:t.getState();r&&r.internal.frames===0&&r.invalidate()}function eN(n){n.onUpdate==null||n.onUpdate(n)}function l2e(n,e){n.manual||(dne(n)?(n.left=e.width/-2,n.right=e.width/2,n.top=e.height/2,n.bottom=e.height/-2):n.aspect=e.width/e.height,n.updateProjectionMatrix(),n.updateMatrixWorld())}function Tw(n){return(n.eventObject||n.object).uuid+"/"+n.index+n.instanceId}function u2e(){var n;const e=typeof self<"u"&&self||typeof window<"u"&&window;if(!e)return q0.DefaultEventPriority;switch((n=e.event)==null?void 0:n.type){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return q0.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return q0.ContinuousEventPriority;default:return q0.DefaultEventPriority}}function yne(n,e,t,r){const i=t.get(e);i&&(t.delete(e),t.size===0&&(n.delete(r),i.target.releasePointerCapture(r)))}function c2e(n,e){const{internal:t}=n.getState();t.interaction=t.interaction.filter(r=>r!==e),t.initialHits=t.initialHits.filter(r=>r!==e),t.hovered.forEach((r,i)=>{(r.eventObject===e||r.object===e)&&t.hovered.delete(i)}),t.capturedMap.forEach((r,i)=>{yne(t.capturedMap,e,r,i)})}function h2e(n){function e(l){const{internal:u}=n.getState(),h=l.offsetX-u.initialClick[0],f=l.offsetY-u.initialClick[1];return Math.round(Math.sqrt(h*h+f*f))}function t(l){return l.filter(u=>["Move","Over","Enter","Out","Leave"].some(h=>{var f;return(f=u.__r3f)==null?void 0:f.handlers["onPointer"+h]}))}function r(l,u){const h=n.getState(),f=new Set,p=[],m=u?u(h.internal.interaction):h.internal.interaction;for(let g=0;g<m.length;g++){const M=w1(m[g]);M&&(M.raycaster.camera=void 0)}h.previousRoot||h.events.compute==null||h.events.compute(l,h);function v(g){const M=w1(g);if(!M||!M.events.enabled||M.raycaster.camera===null)return[];if(M.raycaster.camera===void 0){var _;M.events.compute==null||M.events.compute(l,M,(_=M.previousRoot)==null?void 0:_.getState()),M.raycaster.camera===void 0&&(M.raycaster.camera=null)}return M.raycaster.camera?M.raycaster.intersectObject(g,!0):[]}let S=m.flatMap(v).sort((g,M)=>{const _=w1(g.object),b=w1(M.object);return!_||!b?g.distance-M.distance:b.events.priority-_.events.priority||g.distance-M.distance}).filter(g=>{const M=Tw(g);return f.has(M)?!1:(f.add(M),!0)});h.events.filter&&(S=h.events.filter(S,h));for(const g of S){let M=g.object;for(;M;){var A;(A=M.__r3f)!=null&&A.eventCount&&p.push({...g,eventObject:M}),M=M.parent}}if("pointerId"in l&&h.internal.capturedMap.has(l.pointerId))for(let g of h.internal.capturedMap.get(l.pointerId).values())f.has(Tw(g.intersection))||p.push(g.intersection);return p}function i(l,u,h,f){const p=n.getState();if(l.length){const m={stopped:!1};for(const v of l){const S=w1(v.object)||p,{raycaster:A,pointer:g,camera:M,internal:_}=S,b=new ie(g.x,g.y,0).unproject(M),T=L=>{var U,Q;return(U=(Q=_.capturedMap.get(L))==null?void 0:Q.has(v.eventObject))!=null?U:!1},C=L=>{const U={intersection:v,target:u.target};_.capturedMap.has(L)?_.capturedMap.get(L).set(v.eventObject,U):_.capturedMap.set(L,new Map([[v.eventObject,U]])),u.target.setPointerCapture(L)},B=L=>{const U=_.capturedMap.get(L);U&&yne(_.capturedMap,v.eventObject,U,L)};let P={};for(let L in u){let U=u[L];typeof U!="function"&&(P[L]=U)}let R={...v,...P,pointer:g,intersections:l,stopped:m.stopped,delta:h,unprojectedPoint:b,ray:A.ray,camera:M,stopPropagation(){const L="pointerId"in u&&_.capturedMap.get(u.pointerId);if((!L||L.has(v.eventObject))&&(R.stopped=m.stopped=!0,_.hovered.size&&Array.from(_.hovered.values()).find(U=>U.eventObject===v.eventObject))){const U=l.slice(0,l.indexOf(v));s([...U,v])}},target:{hasPointerCapture:T,setPointerCapture:C,releasePointerCapture:B},currentTarget:{hasPointerCapture:T,setPointerCapture:C,releasePointerCapture:B},nativeEvent:u};if(f(R),m.stopped===!0)break}}return l}function s(l){const{internal:u}=n.getState();for(const h of u.hovered.values())if(!l.length||!l.find(f=>f.object===h.object&&f.index===h.index&&f.instanceId===h.instanceId)){const p=h.eventObject.__r3f,m=p==null?void 0:p.handlers;if(u.hovered.delete(Tw(h)),p!=null&&p.eventCount){const v={...h,intersections:l};m.onPointerOut==null||m.onPointerOut(v),m.onPointerLeave==null||m.onPointerLeave(v)}}}function o(l,u){for(let h=0;h<u.length;h++){const f=u[h].__r3f;f==null||f.handlers.onPointerMissed==null||f.handlers.onPointerMissed(l)}}function a(l){switch(l){case"onPointerLeave":case"onPointerCancel":return()=>s([]);case"onLostPointerCapture":return u=>{const{internal:h}=n.getState();"pointerId"in u&&h.capturedMap.has(u.pointerId)&&requestAnimationFrame(()=>{h.capturedMap.has(u.pointerId)&&(h.capturedMap.delete(u.pointerId),s([]))})}}return function(h){const{onPointerMissed:f,internal:p}=n.getState();p.lastEvent.current=h;const m=l==="onPointerMove",v=l==="onClick"||l==="onContextMenu"||l==="onDoubleClick",A=r(h,m?t:void 0),g=v?e(h):0;l==="onPointerDown"&&(p.initialClick=[h.offsetX,h.offsetY],p.initialHits=A.map(_=>_.eventObject)),v&&!A.length&&g<=2&&(o(h,p.interaction),f&&f(h)),m&&s(A);function M(_){const b=_.eventObject,T=b.__r3f,C=T==null?void 0:T.handlers;if(T!=null&&T.eventCount)if(m){if(C.onPointerOver||C.onPointerEnter||C.onPointerOut||C.onPointerLeave){const B=Tw(_),P=p.hovered.get(B);P?P.stopped&&_.stopPropagation():(p.hovered.set(B,_),C.onPointerOver==null||C.onPointerOver(_),C.onPointerEnter==null||C.onPointerEnter(_))}C.onPointerMove==null||C.onPointerMove(_)}else{const B=C[l];B?(!v||p.initialHits.includes(b))&&(o(h,p.interaction.filter(P=>!p.initialHits.includes(P))),B(_)):v&&p.initialHits.includes(b)&&o(h,p.interaction.filter(P=>!p.initialHits.includes(P)))}}i(A,h,g,M)}}return{handlePointer:a}}const xne=n=>!!(n!=null&&n.render),Ane=me.createContext(null),d2e=(n,e)=>{const t=sne((a,l)=>{const u=new ie,h=new ie,f=new ie;function p(g=l().camera,M=h,_=l().size){const{width:b,height:T,top:C,left:B}=_,P=b/T;M instanceof ie?f.copy(M):f.set(...M);const R=g.getWorldPosition(u).distanceTo(f);if(dne(g))return{width:b/g.zoom,height:T/g.zoom,top:C,left:B,factor:1,distance:R,aspect:P};{const L=g.fov*Math.PI/180,U=2*Math.tan(L/2)*R,Q=U*(b/T);return{width:Q,height:U,top:C,left:B,factor:b/Q,distance:R,aspect:P}}}let m;const v=g=>a(M=>({performance:{...M.performance,current:g}})),S=new Je;return{set:a,get:l,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},xr:null,scene:null,invalidate:(g=1)=>n(l(),g),advance:(g,M)=>e(g,M,l()),legacy:!1,linear:!1,flat:!1,controls:null,clock:new ZG,pointer:S,mouse:S,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const g=l();m&&clearTimeout(m),g.performance.current!==g.performance.min&&v(g.performance.min),m=setTimeout(()=>v(l().performance.max),g.performance.debounce)}},size:{width:0,height:0,top:0,left:0,updateStyle:!1},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:p},setEvents:g=>a(M=>({...M,events:{...M.events,...g}})),setSize:(g,M,_,b,T)=>{const C=l().camera,B={width:g,height:M,top:b||0,left:T||0,updateStyle:_};a(P=>({size:B,viewport:{...P.viewport,...p(C,h,B)}}))},setDpr:g=>a(M=>{const _=gne(g);return{viewport:{...M.viewport,dpr:_,initialDpr:M.viewport.initialDpr||_}}}),setFrameloop:(g="always")=>{const M=l().clock;M.stop(),M.elapsedTime=0,g!=="never"&&(M.start(),M.elapsedTime=0),a(()=>({frameloop:g}))},previousRoot:void 0,internal:{active:!1,priority:0,frames:0,lastEvent:me.createRef(),interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,subscribe:(g,M,_)=>{const b=l().internal;return b.priority=b.priority+(M>0?1:0),b.subscribers.push({ref:g,priority:M,store:_}),b.subscribers=b.subscribers.sort((T,C)=>T.priority-C.priority),()=>{const T=l().internal;T!=null&&T.subscribers&&(T.priority=T.priority-(M>0?1:0),T.subscribers=T.subscribers.filter(C=>C.ref!==g))}}}}}),r=t.getState();let i=r.size,s=r.viewport.dpr,o=r.camera;return t.subscribe(()=>{const{camera:a,size:l,viewport:u,gl:h,set:f}=t.getState();if(l!==i||u.dpr!==s){var p;i=l,s=u.dpr,l2e(a,l),h.setPixelRatio(u.dpr);const m=(p=l.updateStyle)!=null?p:typeof HTMLCanvasElement<"u"&&h.domElement instanceof HTMLCanvasElement;h.setSize(l.width,l.height,m)}a!==o&&(o=a,f(m=>({viewport:{...m.viewport,...m.viewport.getCurrentViewport(a)}})))}),t.subscribe(a=>n(a)),t};let Cw,f2e=new Set,p2e=new Set,m2e=new Set;function zL(n,e){if(n.size)for(const{callback:t}of n.values())t(e)}function T1(n,e){switch(n){case"before":return zL(f2e,e);case"after":return zL(p2e,e);case"tail":return zL(m2e,e)}}let HL,VL;function WL(n,e,t){let r=e.clock.getDelta();for(e.frameloop==="never"&&typeof n=="number"&&(r=n-e.clock.elapsedTime,e.clock.oldTime=e.clock.elapsedTime,e.clock.elapsedTime=n),HL=e.internal.subscribers,Cw=0;Cw<HL.length;Cw++)VL=HL[Cw],VL.ref.current(VL.store.getState(),r,t);return!e.internal.priority&&e.gl.render&&e.gl.render(e.scene,e.camera),e.internal.frames=Math.max(0,e.internal.frames-1),e.frameloop==="always"?1:e.internal.frames}function g2e(n){let e=!1,t,r,i;function s(l){r=requestAnimationFrame(s),e=!0,t=0,T1("before",l);for(const h of n.values()){var u;i=h.store.getState(),i.internal.active&&(i.frameloop==="always"||i.internal.frames>0)&&!((u=i.gl.xr)!=null&&u.isPresenting)&&(t+=WL(l,i))}if(T1("after",l),t===0)return T1("tail",l),e=!1,cancelAnimationFrame(r)}function o(l,u=1){var h;if(!l)return n.forEach(f=>o(f.store.getState()),u);(h=l.gl.xr)!=null&&h.isPresenting||!l.internal.active||l.frameloop==="never"||(l.internal.frames=Math.min(60,l.internal.frames+u),e||(e=!0,requestAnimationFrame(s)))}function a(l,u=!0,h,f){if(u&&T1("before",l),h)WL(l,h,f);else for(const p of n.values())WL(l,p.store.getState());u&&T1("after",l)}return{loop:s,invalidate:o,advance:a}}function _ne(){const n=me.useContext(Ane);if(!n)throw new Error("R3F: Hooks can only be used within the Canvas component!");return n}function Go(n=t=>t,e){return _ne()(n,e)}function Ix(n,e=0){const t=_ne(),r=t.getState().internal.subscribe,i=fne(n);return VS(()=>r(i,e,t),[e,r,t]),null}function Mne(n,e){return function(t,...r){const i=new t;return n&&n(i),Promise.all(r.map(s=>new Promise((o,a)=>i.load(s,l=>{l.scene&&Object.assign(l,o2e(l.scene)),o(l)},e,l=>a(new Error(`Could not load ${s}: ${l.message})`))))))}}function Of(n,e,t,r){const i=Array.isArray(e)?e:[e],s=ZBe(Mne(t,r),[n,...i],{equal:nr.equ});return Array.isArray(e)?s:s[0]}Of.preload=function(n,e,t){const r=Array.isArray(e)?e:[e];return $Be(Mne(t),[n,...r])};Of.clear=function(n,e){const t=Array.isArray(e)?e:[e];return e2e([n,...t])};const ox=new Map,{invalidate:hW,advance:dW}=g2e(ox),{reconciler:HC,applyProps:Tu}=n2e(ox,u2e),u0={objects:"shallow",strict:!1},v2e=(n,e)=>{const t=typeof n=="function"?n(e):n;return xne(t)?t:new RG({powerPreference:"high-performance",canvas:e,antialias:!0,alpha:!0,...n})};function y2e(n,e){if(e)return e;if(typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement&&n.parentElement){const{width:t,height:r,top:i,left:s}=n.parentElement.getBoundingClientRect();return{width:t,height:r,top:i,left:s}}else if(typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas)return{width:n.width,height:n.height,top:0,left:0};return{width:0,height:0,top:0,left:0}}function x2e(n){const e=ox.get(n),t=e==null?void 0:e.fiber,r=e==null?void 0:e.store;e&&console.warn("R3F.createRoot should only be called once!");const i=typeof reportError=="function"?reportError:console.error,s=r||d2e(hW,dW),o=t||HC.createContainer(s,q0.ConcurrentRoot,null,!1,null,"",i,null);e||ox.set(n,{fiber:o,store:s});let a,l=!1,u;return{configure(h={}){let{gl:f,size:p,scene:m,events:v,onCreated:S,shadows:A=!1,linear:g=!1,flat:M=!1,legacy:_=!1,orthographic:b=!1,frameloop:T="always",dpr:C=[1,2],performance:B,raycaster:P,camera:R,onPointerMissed:L}=h,U=s.getState(),Q=U.gl;U.gl||U.set({gl:Q=v2e(f,n)});let W=U.raycaster;W||U.set({raycaster:W=new nne});const{params:Y,...X}=P||{};if(nr.equ(X,W,u0)||Tu(W,{...X}),nr.equ(Y,W.params,u0)||Tu(W,{params:{...W.params,...Y}}),!U.camera||U.camera===u&&!nr.equ(u,R,u0)){u=R;const K=R instanceof ES,H=K?R:b?new Ul(0,0,0,0,.1,1e3):new hr(75,0,.1,1e3);K||(H.position.z=5,R&&Tu(H,R),!U.camera&&!(R!=null&&R.rotation)&&H.lookAt(0,0,0)),U.set({camera:H})}if(!U.scene){let K;m instanceof zC?K=m:(K=new zC,m&&Tu(K,m)),U.set({scene:d0(K)})}if(!U.xr){const K=(le,Ce)=>{const xe=s.getState();xe.frameloop!=="never"&&dW(le,!0,xe,Ce)},H=()=>{const le=s.getState();le.gl.xr.enabled=le.gl.xr.isPresenting,le.gl.xr.setAnimationLoop(le.gl.xr.isPresenting?K:null),le.gl.xr.isPresenting||hW(le)},ue={connect(){const le=s.getState().gl;le.xr.addEventListener("sessionstart",H),le.xr.addEventListener("sessionend",H)},disconnect(){const le=s.getState().gl;le.xr.removeEventListener("sessionstart",H),le.xr.removeEventListener("sessionend",H)}};Q.xr&&ue.connect(),U.set({xr:ue})}if(Q.shadowMap){const K=Q.shadowMap.enabled,H=Q.shadowMap.type;if(Q.shadowMap.enabled=!!A,nr.boo(A))Q.shadowMap.type=M_;else if(nr.str(A)){var ae;const ue={basic:cee,percentage:lP,soft:M_,variance:_l};Q.shadowMap.type=(ae=ue[A])!=null?ae:M_}else nr.obj(A)&&Object.assign(Q.shadowMap,A);(K!==Q.shadowMap.enabled||H!==Q.shadowMap.type)&&(Q.shadowMap.needsUpdate=!0)}const Z=hne();Z&&("enabled"in Z?Z.enabled=!_:"legacyMode"in Z&&(Z.legacyMode=_)),Tu(Q,{outputEncoding:g?3e3:3001,toneMapping:M?Nl:aG}),U.legacy!==_&&U.set(()=>({legacy:_})),U.linear!==g&&U.set(()=>({linear:g})),U.flat!==M&&U.set(()=>({flat:M})),f&&!nr.fun(f)&&!xne(f)&&!nr.equ(f,Q,u0)&&Tu(Q,f),v&&!U.events.handlers&&U.set({events:v(s)});const G=y2e(n,p);return nr.equ(G,U.size,u0)||U.setSize(G.width,G.height,G.updateStyle,G.top,G.left),C&&U.viewport.dpr!==gne(C)&&U.setDpr(C),U.frameloop!==T&&U.setFrameloop(T),U.onPointerMissed||U.set({onPointerMissed:L}),B&&!nr.equ(B,U.performance,u0)&&U.set(K=>({performance:{...K.performance,...B}})),a=S,l=!0,this},render(h){return l||this.configure(),HC.updateContainer(me.createElement(A2e,{store:s,children:h,onCreated:a,rootElement:n}),o,null,()=>{}),s},unmount(){Sne(n)}}}function A2e({store:n,children:e,onCreated:t,rootElement:r}){return VS(()=>{const i=n.getState();i.set(s=>({internal:{...s.internal,active:!0}})),t&&t(i),n.getState().events.connected||i.events.connect==null||i.events.connect(r)},[]),me.createElement(Ane.Provider,{value:n},e)}function Sne(n,e){const t=ox.get(n),r=t==null?void 0:t.fiber;if(r){const i=t==null?void 0:t.store.getState();i&&(i.internal.active=!1),HC.updateContainer(null,r,null,()=>{i&&setTimeout(()=>{try{var s,o,a,l;i.events.disconnect==null||i.events.disconnect(),(s=i.gl)==null||(o=s.renderLists)==null||o.dispose==null||o.dispose(),(a=i.gl)==null||a.forceContextLoss==null||a.forceContextLoss(),(l=i.gl)!=null&&l.xr&&i.xr.disconnect(),a2e(i),ox.delete(n),e&&e(n)}catch{}},500)})}}HC.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:me.version});function qa(){return qa=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},qa.apply(this,arguments)}function tN(n,e,t){var r,i,s,o,a;e==null&&(e=100);function l(){var h=Date.now()-o;h<e&&h>=0?r=setTimeout(l,e-h):(r=null,t||(a=n.apply(s,i),s=i=null))}var u=function(){s=this,i=arguments,o=Date.now();var h=t&&!r;return r||(r=setTimeout(l,e)),h&&(a=n.apply(s,i),s=i=null),a};return u.clear=function(){r&&(clearTimeout(r),r=null)},u.flush=function(){r&&(a=n.apply(s,i),s=i=null,clearTimeout(r),r=null)},u}tN.debounce=tN;var _2e=tN;const fW=lk(_2e);function M2e(n){let{debounce:e,scroll:t,polyfill:r,offsetSize:i}=n===void 0?{debounce:0,scroll:!1,offsetSize:!1}:n;const s=r||(typeof window>"u"?class{}:window.ResizeObserver);if(!s)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[o,a]=me.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),l=me.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:o}),u=e?typeof e=="number"?e:e.scroll:null,h=e?typeof e=="number"?e:e.resize:null,f=me.useRef(!1);me.useEffect(()=>(f.current=!0,()=>void(f.current=!1)));const[p,m,v]=me.useMemo(()=>{const M=()=>{if(!l.current.element)return;const{left:_,top:b,width:T,height:C,bottom:B,right:P,x:R,y:L}=l.current.element.getBoundingClientRect(),U={left:_,top:b,width:T,height:C,bottom:B,right:P,x:R,y:L};l.current.element instanceof HTMLElement&&i&&(U.height=l.current.element.offsetHeight,U.width=l.current.element.offsetWidth),Object.freeze(U),f.current&&!w2e(l.current.lastBounds,U)&&a(l.current.lastBounds=U)};return[M,h?fW(M,h):M,u?fW(M,u):M]},[a,i,u,h]);function S(){l.current.scrollContainers&&(l.current.scrollContainers.forEach(M=>M.removeEventListener("scroll",v,!0)),l.current.scrollContainers=null),l.current.resizeObserver&&(l.current.resizeObserver.disconnect(),l.current.resizeObserver=null)}function A(){l.current.element&&(l.current.resizeObserver=new s(v),l.current.resizeObserver.observe(l.current.element),t&&l.current.scrollContainers&&l.current.scrollContainers.forEach(M=>M.addEventListener("scroll",v,{capture:!0,passive:!0})))}const g=M=>{!M||M===l.current.element||(S(),l.current.element=M,l.current.scrollContainers=Ene(M),A())};return E2e(v,!!t),S2e(m),me.useEffect(()=>{S(),A()},[t,v,m]),me.useEffect(()=>S,[]),[g,o,p]}function S2e(n){me.useEffect(()=>{const e=n;return window.addEventListener("resize",e),()=>void window.removeEventListener("resize",e)},[n])}function E2e(n,e){me.useEffect(()=>{if(e){const t=n;return window.addEventListener("scroll",t,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",t,!0)}},[n,e])}function Ene(n){const e=[];if(!n||n===document.body)return e;const{overflow:t,overflowX:r,overflowY:i}=window.getComputedStyle(n);return[t,r,i].some(s=>s==="auto"||s==="scroll")&&e.push(n),[...e,...Ene(n.parentElement)]}const b2e=["x","y","top","bottom","left","right","width","height"],w2e=(n,e)=>b2e.every(t=>n[t]===e[t]);var T2e=Object.defineProperty,C2e=Object.defineProperties,R2e=Object.getOwnPropertyDescriptors,pW=Object.getOwnPropertySymbols,P2e=Object.prototype.hasOwnProperty,B2e=Object.prototype.propertyIsEnumerable,mW=(n,e,t)=>e in n?T2e(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,gW=(n,e)=>{for(var t in e||(e={}))P2e.call(e,t)&&mW(n,t,e[t]);if(pW)for(var t of pW(e))B2e.call(e,t)&&mW(n,t,e[t]);return n},L2e=(n,e)=>C2e(n,R2e(e));function bne(n,e,t){if(!n)return;if(t(n)===!0)return n;let r=e?n.return:n.child;for(;r;){const i=bne(r,e,t);if(i)return i;r=e?null:r.sibling}}function wne(n){try{return Object.defineProperties(n,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return n}}const rz=wne(me.createContext(null));class Tne extends me.Component{render(){return me.createElement(rz.Provider,{value:this._reactInternals},this.props.children)}}const{ReactCurrentOwner:vW,ReactCurrentDispatcher:yW}=me.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function I2e(){const n=me.useContext(rz);if(n===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const e=me.useId();return me.useMemo(()=>{for(const r of[vW==null?void 0:vW.current,n,n==null?void 0:n.alternate]){if(!r)continue;const i=bne(r,!1,s=>{let o=s.memoizedState;for(;o;){if(o.memoizedState===e)return!0;o=o.next}});if(i)return i}},[n,e])}function D2e(){var n,e;const t=I2e(),[r]=me.useState(()=>new Map);r.clear();let i=t;for(;i;){const s=(n=i.type)==null?void 0:n._context;s&&s!==rz&&!r.has(s)&&r.set(s,(e=yW==null?void 0:yW.current)==null?void 0:e.readContext(wne(s))),i=i.return}return r}function F2e(){const n=D2e();return me.useMemo(()=>Array.from(n.keys()).reduce((e,t)=>r=>me.createElement(e,null,me.createElement(t.Provider,L2e(gW({},r),{value:n.get(t)}))),e=>me.createElement(Tne,gW({},e))),[n])}const jL={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function N2e(n){const{handlePointer:e}=h2e(n);return{priority:1,enabled:!0,compute(t,r,i){r.pointer.set(t.offsetX/r.size.width*2-1,-(t.offsetY/r.size.height)*2+1),r.raycaster.setFromCamera(r.pointer,r.camera)},connected:void 0,handlers:Object.keys(jL).reduce((t,r)=>({...t,[r]:e(r)}),{}),update:()=>{var t;const{events:r,internal:i}=n.getState();(t=i.lastEvent)!=null&&t.current&&r.handlers&&r.handlers.onPointerMove(i.lastEvent.current)},connect:t=>{var r;const{set:i,events:s}=n.getState();s.disconnect==null||s.disconnect(),i(o=>({events:{...o.events,connected:t}})),Object.entries((r=s.handlers)!=null?r:[]).forEach(([o,a])=>{const[l,u]=jL[o];t.addEventListener(l,a,{passive:u})})},disconnect:()=>{const{set:t,events:r}=n.getState();if(r.connected){var i;Object.entries((i=r.handlers)!=null?i:[]).forEach(([s,o])=>{if(r&&r.connected instanceof HTMLElement){const[a]=jL[s];r.connected.removeEventListener(a,o)}}),t(s=>({events:{...s.events,connected:void 0}}))}}}}const U2e=me.forwardRef(function({children:e,fallback:t,resize:r,style:i,gl:s,events:o=N2e,eventSource:a,eventPrefix:l,shadows:u,linear:h,flat:f,legacy:p,orthographic:m,frameloop:v,dpr:S,performance:A,raycaster:g,camera:M,onPointerMissed:_,onCreated:b,...T},C){me.useMemo(()=>t2e(VBe),[]);const B=F2e(),[P,R]=M2e({scroll:!0,debounce:{scroll:50,resize:0},...r}),L=me.useRef(null),U=me.useRef(null);me.useImperativeHandle(C,()=>L.current);const Q=fne(_),[W,Y]=me.useState(!1),[X,ae]=me.useState(!1);if(W)throw W;if(X)throw X;const Z=me.useRef(null);VS(()=>{const k=L.current;R.width>0&&R.height>0&&k&&(Z.current||(Z.current=x2e(k)),Z.current.configure({gl:s,events:o,shadows:u,linear:h,flat:f,legacy:p,orthographic:m,frameloop:v,dpr:S,performance:A,raycaster:g,camera:M,size:R,onPointerMissed:(...G)=>Q.current==null?void 0:Q.current(...G),onCreated:G=>{G.events.connect==null||G.events.connect(a?r2e(a)?a.current:a:U.current),l&&G.setEvents({compute:(K,H)=>{const ue=K[l+"X"],le=K[l+"Y"];H.pointer.set(ue/H.size.width*2-1,-(le/H.size.height)*2+1),H.raycaster.setFromCamera(H.pointer,H.camera)}}),b==null||b(G)}}),Z.current.render(me.createElement(B,null,me.createElement(pne,{set:ae},me.createElement(me.Suspense,{fallback:me.createElement(i2e,{set:Y})},e)))))}),me.useEffect(()=>{const k=L.current;if(k)return()=>Sne(k)},[]);const D=a?"none":"auto";return me.createElement("div",qa({ref:U,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:D,...i}},T),me.createElement("div",{ref:P,style:{width:"100%",height:"100%"}},me.createElement("canvas",{ref:L,style:{display:"block"}},t)))}),EP=me.forwardRef(function(e,t){return me.createElement(Tne,null,me.createElement(U2e,qa({},e,{ref:t})))}),WS=new ie,iz=new ie,O2e=new ie;function k2e(n,e,t){const r=WS.setFromMatrixPosition(n.matrixWorld);r.project(e);const i=t.width/2,s=t.height/2;return[r.x*i+i,-(r.y*s)+s]}function G2e(n,e){const t=WS.setFromMatrixPosition(n.matrixWorld),r=iz.setFromMatrixPosition(e.matrixWorld),i=t.sub(r),s=e.getWorldDirection(O2e);return i.angleTo(s)>Math.PI/2}function z2e(n,e,t,r){const i=WS.setFromMatrixPosition(n.matrixWorld),s=i.clone();s.project(e),t.setFromCamera(s,e);const o=t.intersectObjects(r,!0);if(o.length){const a=o[0].distance;return i.distanceTo(t.ray.origin)<a}return!0}function H2e(n,e){if(e instanceof Ul)return e.zoom;if(e instanceof hr){const t=WS.setFromMatrixPosition(n.matrixWorld),r=iz.setFromMatrixPosition(e.matrixWorld),i=e.fov*Math.PI/180,s=t.distanceTo(r);return 1/(2*Math.tan(i/2)*s)}else return 1}function V2e(n,e,t){if(e instanceof hr||e instanceof Ul){const r=WS.setFromMatrixPosition(n.matrixWorld),i=iz.setFromMatrixPosition(e.matrixWorld),s=r.distanceTo(i),o=(t[1]-t[0])/(e.far-e.near),a=t[1]-o*e.far;return Math.round(o*s+a)}}const nN=n=>Math.abs(n)<1e-10?0:n;function Cne(n,e,t=""){let r="matrix3d(";for(let i=0;i!==16;i++)r+=nN(e[i]*n.elements[i])+(i!==15?",":")");return t+r}const W2e=(n=>e=>Cne(e,n))([1,-1,1,1,1,-1,1,1,1,-1,1,1,1,-1,1,1]),j2e=(n=>(e,t)=>Cne(e,n(t),"translate(-50%,-50%)"))(n=>[1/n,1/n,1/n,1,-1/n,-1/n,-1/n,-1,1/n,1/n,1/n,1,1,1,1,1]);function X2e(n){return n&&typeof n=="object"&&"current"in n}const J2e=me.forwardRef(({children:n,eps:e=.001,style:t,className:r,prepend:i,center:s,fullscreen:o,portal:a,distanceFactor:l,sprite:u=!1,transform:h=!1,occlude:f,onOcclude:p,castShadow:m,receiveShadow:v,material:S,geometry:A,zIndexRange:g=[16777271,0],calculatePosition:M=k2e,as:_="div",wrapperClass:b,pointerEvents:T="auto",...C},B)=>{const{gl:P,camera:R,scene:L,size:U,raycaster:Q,events:W,viewport:Y}=Go(),[X]=me.useState(()=>document.createElement(_)),ae=me.useRef(),Z=me.useRef(null),D=me.useRef(0),k=me.useRef([0,0]),G=me.useRef(null),K=me.useRef(null),H=(a==null?void 0:a.current)||W.connected||P.domElement.parentNode,ue=me.useRef(null),le=me.useRef(!1),Ce=me.useMemo(()=>f&&f!=="blending"||Array.isArray(f)&&f.length&&X2e(f[0]),[f]);me.useLayoutEffect(()=>{const Ke=P.domElement;f&&f==="blending"?(Ke.style.zIndex=`${Math.floor(g[0]/2)}`,Ke.style.position="absolute",Ke.style.pointerEvents="none"):(Ke.style.zIndex=null,Ke.style.position=null,Ke.style.pointerEvents=null)},[f]),me.useLayoutEffect(()=>{if(Z.current){const Ke=ae.current=$$(X);if(L.updateMatrixWorld(),h)X.style.cssText="position:absolute;top:0;left:0;pointer-events:none;overflow:hidden;";else{const fe=M(Z.current,R,U);X.style.cssText=`position:absolute;top:0;left:0;transform:translate3d(${fe[0]}px,${fe[1]}px,0);transform-origin:0 0;`}return H&&(i?H.prepend(X):H.appendChild(X)),()=>{H&&H.removeChild(X),Ke.unmount()}}},[H,h]),me.useLayoutEffect(()=>{b&&(X.className=b)},[b]);const xe=me.useMemo(()=>h?{position:"absolute",top:0,left:0,width:U.width,height:U.height,transformStyle:"preserve-3d",pointerEvents:"none"}:{position:"absolute",transform:s?"translate3d(-50%,-50%,0)":"none",...o&&{top:-U.height/2,left:-U.width/2,width:U.width,height:U.height},...t},[t,s,o,U,h]),Be=me.useMemo(()=>({position:"absolute",pointerEvents:T}),[T]);me.useLayoutEffect(()=>{if(le.current=!1,h){var Ke;(Ke=ae.current)==null||Ke.render(me.createElement("div",{ref:G,style:xe},me.createElement("div",{ref:K,style:Be},me.createElement("div",{ref:B,className:r,style:t,children:n}))))}else{var fe;(fe=ae.current)==null||fe.render(me.createElement("div",{ref:B,style:xe,className:r,children:n}))}});const Qe=me.useRef(!0);Ix(Ke=>{if(Z.current){R.updateMatrixWorld(),Z.current.updateWorldMatrix(!0,!1);const fe=h?k.current:M(Z.current,R,U);if(h||Math.abs(D.current-R.zoom)>e||Math.abs(k.current[0]-fe[0])>e||Math.abs(k.current[1]-fe[1])>e){const z=G2e(Z.current,R);let Ae=!1;Ce&&(f!=="blending"?Ae=[L]:Array.isArray(f)&&(Ae=f.map(Ve=>Ve.current)));const ge=Qe.current;if(Ae){const Ve=z2e(Z.current,R,Q,Ae);Qe.current=Ve&&!z}else Qe.current=!z;ge!==Qe.current&&(p?p(!Qe.current):X.style.display=Qe.current?"block":"none");const Me=Math.floor(g[0]/2),Ee=f?Ce?[g[0],Me]:[Me-1,0]:g;if(X.style.zIndex=`${V2e(Z.current,R,Ee)}`,h){const[Ve,Ge]=[U.width/2,U.height/2],ze=R.projectionMatrix.elements[5]*Ge,{isOrthographicCamera:Ze,top:St,left:Dt,bottom:O,right:F}=R,ce=W2e(R.matrixWorldInverse),be=Ze?`scale(${ze})translate(${nN(-(F+Dt)/2)}px,${nN((St+O)/2)}px)`:`translateZ(${ze}px)`;let Se=Z.current.matrixWorld;u&&(Se=R.matrixWorldInverse.clone().transpose().copyPosition(Se).scale(Z.current.scale),Se.elements[3]=Se.elements[7]=Se.elements[11]=0,Se.elements[15]=1),X.style.width=U.width+"px",X.style.height=U.height+"px",X.style.perspective=Ze?"":`${ze}px`,G.current&&K.current&&(G.current.style.transform=`${be}${ce}translate(${Ve}px,${Ge}px)`,K.current.style.transform=j2e(Se,1/((l||10)/400)))}else{const Ve=l===void 0?1:H2e(Z.current,R)*l;X.style.transform=`translate3d(${fe[0]}px,${fe[1]}px,0) scale(${Ve})`}k.current=fe,D.current=R.zoom}}if(!Ce&&ue.current&&!le.current)if(h){if(G.current){const fe=G.current.children[0];if(fe!=null&&fe.clientWidth&&fe!=null&&fe.clientHeight){const{isOrthographicCamera:z}=R;if(z||A)C.scale&&(Array.isArray(C.scale)?C.scale instanceof ie?ue.current.scale.copy(C.scale.clone().divideScalar(1)):ue.current.scale.set(1/C.scale[0],1/C.scale[1],1/C.scale[2]):ue.current.scale.setScalar(1/C.scale));else{const Ae=(l||10)/400,ge=fe.clientWidth*Ae,Me=fe.clientHeight*Ae;ue.current.scale.set(ge,Me,1)}le.current=!0}}}else{const fe=X.children[0];if(fe!=null&&fe.clientWidth&&fe!=null&&fe.clientHeight){const z=1/Y.factor,Ae=fe.clientWidth*z,ge=fe.clientHeight*z;ue.current.scale.set(Ae,ge,1),le.current=!0}ue.current.lookAt(Ke.camera.position)}});const je=me.useMemo(()=>({vertexShader:h?void 0:`
          /*
            This shader is from the THREE's SpriteMaterial.
            We need to turn the backing plane into a Sprite
            (make it always face the camera) if "transfrom" 
            is false. 
          */
          #include <common>

          void main() {
            vec2 center = vec2(0., 1.);
            float rotation = 0.0;
            
            // This is somewhat arbitrary, but it seems to work well
            // Need to figure out how to derive this dynamically if it even matters
            float size = 0.03;

            vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
            vec2 scale;
            scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
            scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );

            bool isPerspective = isPerspectiveMatrix( projectionMatrix );
            if ( isPerspective ) scale *= - mvPosition.z;

            vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale * size;
            vec2 rotatedPosition;
            rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
            rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
            mvPosition.xy += rotatedPosition;

            gl_Position = projectionMatrix * mvPosition;
          }
      `,fragmentShader:`
        void main() {
          gl_FragColor = vec4(0.0, 0.0, 0.0, 0.0);
        }
      `}),[h]);return me.createElement("group",qa({},C,{ref:Z}),f&&!Ce&&me.createElement("mesh",{castShadow:m,receiveShadow:v,ref:ue},A||me.createElement("planeGeometry",null),S||me.createElement("shaderMaterial",{side:za,vertexShader:je.vertexShader,fragmentShader:je.fragmentShader})))});let C1=0;const Y2e=sne(n=>(Q0.onStart=(e,t,r)=>{n({active:!0,item:e,loaded:t,total:r,progress:(t-C1)/(r-C1)*100})},Q0.onLoad=()=>{n({active:!1})},Q0.onError=e=>n(t=>({errors:[...t.errors,e]})),Q0.onProgress=(e,t,r)=>{t===r&&(C1=r),n({active:!0,item:e,loaded:t,total:r,progress:(t-C1)/(r-C1)*100||100})},{errors:[],active:!1,progress:0,item:"",loaded:0,total:0}));function sz(n){return function(e){n.forEach(function(t){typeof t=="function"?t(e):t!=null&&(t.current=e)})}}function Sy(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function xW(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function AW(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?xW(Object(t),!0).forEach(function(r){Sy(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):xW(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}new Je;new Je;function Rne(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}var Ca=function n(e,t,r){var i=this;Rne(this,n),Sy(this,"dot2",function(s,o){return i.x*s+i.y*o}),Sy(this,"dot3",function(s,o,a){return i.x*s+i.y*o+i.z*a}),this.x=e,this.y=t,this.z=r},K2e=[new Ca(1,1,0),new Ca(-1,1,0),new Ca(1,-1,0),new Ca(-1,-1,0),new Ca(1,0,1),new Ca(-1,0,1),new Ca(1,0,-1),new Ca(-1,0,-1),new Ca(0,1,1),new Ca(0,-1,1),new Ca(0,1,-1),new Ca(0,-1,-1)],_W=[151,160,137,91,90,15,131,13,201,95,96,53,194,233,7,225,140,36,103,30,69,142,8,99,37,240,21,10,23,190,6,148,247,120,234,75,0,26,197,62,94,252,219,203,117,35,11,32,57,177,33,88,237,149,56,87,174,20,125,136,171,168,68,175,74,165,71,134,139,48,27,166,77,146,158,231,83,111,229,122,60,211,133,230,220,105,92,41,55,46,245,40,244,102,143,54,65,25,63,161,1,216,80,73,209,76,132,187,208,89,18,169,200,196,135,130,116,188,159,86,164,100,109,198,173,186,3,64,52,217,226,250,124,123,5,202,38,147,118,126,255,82,85,212,207,206,59,227,47,16,58,17,182,189,28,42,223,183,170,213,119,248,152,2,44,154,163,70,221,153,101,155,167,43,172,9,129,22,39,253,19,98,108,110,79,113,224,232,178,185,112,104,218,246,97,228,251,34,242,193,238,210,144,12,191,179,162,241,81,51,145,235,249,14,239,107,49,192,214,31,181,199,106,157,184,84,204,176,115,121,50,45,127,4,150,254,138,236,205,93,222,114,67,29,24,72,243,141,128,195,78,66,215,61,156,180],MW=new Array(512),SW=new Array(512),Q2e=function(e){e>0&&e<1&&(e*=65536),e=Math.floor(e),e<256&&(e|=e<<8);for(var t=0;t<256;t++){var r;t&1?r=_W[t]^e&255:r=_W[t]^e>>8&255,MW[t]=MW[t+256]=r,SW[t]=SW[t+256]=K2e[r%12]}};Q2e(0);function q2e(n){if(typeof n=="number")n=Math.abs(n);else if(typeof n=="string"){var e=n;n=0;for(var t=0;t<e.length;t++)n=(n+(t+1)*(e.charCodeAt(t)%96))%2147483647}return n===0&&(n=311),n}function EW(n){var e=q2e(n);return function(){var t=e*48271%2147483647;return e=t,t/2147483647}}var Z2e=function n(e){var t=this;Rne(this,n),Sy(this,"seed",0),Sy(this,"init",function(r){t.seed=r,t.value=EW(r)}),Sy(this,"value",EW(this.seed)),this.init(e)},$2e=new Z2e(Math.random()),eLe={radius:1,center:[0,0,0]};function tLe(n,e){for(var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:$2e,r=AW(AW({},eLe),e),i=r.radius,s=r.center,o=0;o<n.length;o+=3){var a=Math.pow(t.value(),.3333333333333333),l=t.value()*2-1,u=t.value()*2-1,h=t.value()*2-1,f=Math.sqrt(l*l+u*u+h*h);l=a*l/f,u=a*u/f,h=a*h/f,n[o]=l*i+s[0],n[o+1]=u*i+s[1],n[o+2]=h*i+s[2]}return n}function bW(n,e){if(e===Yee)return console.warn("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Geometry already defined as triangles."),n;if(e===OC||e===mG){let t=n.getIndex();if(t===null){const o=[],a=n.getAttribute("position");if(a!==void 0){for(let l=0;l<a.count;l++)o.push(l);n.setIndex(o),t=n.getIndex()}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),n}const r=t.count-2,i=[];if(t)if(e===OC)for(let o=1;o<=r;o++)i.push(t.getX(0)),i.push(t.getX(o)),i.push(t.getX(o+1));else for(let o=0;o<r;o++)o%2===0?(i.push(t.getX(o)),i.push(t.getX(o+1)),i.push(t.getX(o+2))):(i.push(t.getX(o+2)),i.push(t.getX(o+1)),i.push(t.getX(o)));i.length/3!==r&&console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");const s=n.clone();return s.setIndex(i),s.clearGroups(),s}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unknown draw mode:",e),n}var nLe=Object.defineProperty,rLe=(n,e,t)=>e in n?nLe(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,Yt=(n,e,t)=>(rLe(n,typeof e!="symbol"?e+"":e,t),t);const wW=(n,e)=>(n%e+e)%e;let iLe=class extends ec{constructor(e,t){super(),Yt(this,"object"),Yt(this,"domElement"),Yt(this,"enabled",!0),Yt(this,"target",new ie),Yt(this,"minDistance",0),Yt(this,"maxDistance",1/0),Yt(this,"minZoom",0),Yt(this,"maxZoom",1/0),Yt(this,"minPolarAngle",0),Yt(this,"maxPolarAngle",Math.PI),Yt(this,"minAzimuthAngle",-1/0),Yt(this,"maxAzimuthAngle",1/0),Yt(this,"enableDamping",!1),Yt(this,"dampingFactor",.05),Yt(this,"enableZoom",!0),Yt(this,"zoomSpeed",1),Yt(this,"enableRotate",!0),Yt(this,"rotateSpeed",1),Yt(this,"enablePan",!0),Yt(this,"panSpeed",1),Yt(this,"screenSpacePanning",!0),Yt(this,"keyPanSpeed",7),Yt(this,"autoRotate",!1),Yt(this,"autoRotateSpeed",2),Yt(this,"reverseOrbit",!1),Yt(this,"keys",{LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"}),Yt(this,"mouseButtons",{LEFT:tm.ROTATE,MIDDLE:tm.DOLLY,RIGHT:tm.PAN}),Yt(this,"touches",{ONE:nm.ROTATE,TWO:nm.DOLLY_PAN}),Yt(this,"target0"),Yt(this,"position0"),Yt(this,"zoom0"),Yt(this,"_domElementKeyEvents",null),Yt(this,"getPolarAngle"),Yt(this,"getAzimuthalAngle"),Yt(this,"setPolarAngle"),Yt(this,"setAzimuthalAngle"),Yt(this,"getDistance"),Yt(this,"listenToKeyEvents"),Yt(this,"saveState"),Yt(this,"reset"),Yt(this,"update"),Yt(this,"connect"),Yt(this,"dispose"),this.object=e,this.domElement=t,this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this.getPolarAngle=()=>h.phi,this.getAzimuthalAngle=()=>h.theta,this.setPolarAngle=q=>{let ve=wW(q,2*Math.PI),Re=h.phi;Re<0&&(Re+=2*Math.PI),ve<0&&(ve+=2*Math.PI);let Pe=Math.abs(ve-Re);2*Math.PI-Pe<Pe&&(ve<Re?ve+=2*Math.PI:Re+=2*Math.PI),f.phi=ve-Re,r.update()},this.setAzimuthalAngle=q=>{let ve=wW(q,2*Math.PI),Re=h.theta;Re<0&&(Re+=2*Math.PI),ve<0&&(ve+=2*Math.PI);let Pe=Math.abs(ve-Re);2*Math.PI-Pe<Pe&&(ve<Re?ve+=2*Math.PI:Re+=2*Math.PI),f.theta=ve-Re,r.update()},this.getDistance=()=>r.object.position.distanceTo(r.target),this.listenToKeyEvents=q=>{q.addEventListener("keydown",F),this._domElementKeyEvents=q},this.saveState=()=>{r.target0.copy(r.target),r.position0.copy(r.object.position),r.zoom0=r.object.zoom},this.reset=()=>{r.target.copy(r.target0),r.object.position.copy(r.position0),r.object.zoom=r.zoom0,r.object.updateProjectionMatrix(),r.dispatchEvent(i),r.update(),l=a.NONE},this.update=(()=>{const q=new ie,ve=new Wi().setFromUnitVectors(e.up,new ie(0,1,0)),Re=ve.clone().invert(),Pe=new ie,Ue=new Wi,it=2*Math.PI;return function(){const J=r.object.position;q.copy(J).sub(r.target),q.applyQuaternion(ve),h.setFromVector3(q),r.autoRotate&&l===a.NONE&&Q(L()),r.enableDamping?(h.theta+=f.theta*r.dampingFactor,h.phi+=f.phi*r.dampingFactor):(h.theta+=f.theta,h.phi+=f.phi);let Ie=r.minAzimuthAngle,oe=r.maxAzimuthAngle;return isFinite(Ie)&&isFinite(oe)&&(Ie<-Math.PI?Ie+=it:Ie>Math.PI&&(Ie-=it),oe<-Math.PI?oe+=it:oe>Math.PI&&(oe-=it),Ie<=oe?h.theta=Math.max(Ie,Math.min(oe,h.theta)):h.theta=h.theta>(Ie+oe)/2?Math.max(Ie,h.theta):Math.min(oe,h.theta)),h.phi=Math.max(r.minPolarAngle,Math.min(r.maxPolarAngle,h.phi)),h.makeSafe(),h.radius*=p,h.radius=Math.max(r.minDistance,Math.min(r.maxDistance,h.radius)),r.enableDamping===!0?r.target.addScaledVector(m,r.dampingFactor):r.target.add(m),q.setFromSpherical(h),q.applyQuaternion(Re),J.copy(r.target).add(q),r.object.lookAt(r.target),r.enableDamping===!0?(f.theta*=1-r.dampingFactor,f.phi*=1-r.dampingFactor,m.multiplyScalar(1-r.dampingFactor)):(f.set(0,0,0),m.set(0,0,0)),p=1,v||Pe.distanceToSquared(r.object.position)>u||8*(1-Ue.dot(r.object.quaternion))>u?(r.dispatchEvent(i),Pe.copy(r.object.position),Ue.copy(r.object.quaternion),v=!1,!0):!1}})(),this.connect=q=>{q===document&&console.error('THREE.OrbitControls: "document" should not be used as the target "domElement". Please use "renderer.domElement" instead.'),r.domElement=q,r.domElement.style.touchAction="none",r.domElement.addEventListener("contextmenu",Se),r.domElement.addEventListener("pointerdown",Ve),r.domElement.addEventListener("pointercancel",Ze),r.domElement.addEventListener("wheel",O)},this.dispose=()=>{var q,ve,Re,Pe,Ue,it;(q=r.domElement)==null||q.removeEventListener("contextmenu",Se),(ve=r.domElement)==null||ve.removeEventListener("pointerdown",Ve),(Re=r.domElement)==null||Re.removeEventListener("pointercancel",Ze),(Pe=r.domElement)==null||Pe.removeEventListener("wheel",O),(Ue=r.domElement)==null||Ue.ownerDocument.removeEventListener("pointermove",Ge),(it=r.domElement)==null||it.ownerDocument.removeEventListener("pointerup",ze),r._domElementKeyEvents!==null&&r._domElementKeyEvents.removeEventListener("keydown",F)};const r=this,i={type:"change"},s={type:"start"},o={type:"end"},a={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let l=a.NONE;const u=1e-6,h=new ZF,f=new ZF;let p=1;const m=new ie;let v=!1;const S=new Je,A=new Je,g=new Je,M=new Je,_=new Je,b=new Je,T=new Je,C=new Je,B=new Je,P=[],R={};function L(){return 2*Math.PI/60/60*r.autoRotateSpeed}function U(){return Math.pow(.95,r.zoomSpeed)}function Q(q){r.reverseOrbit?f.theta+=q:f.theta-=q}function W(q){r.reverseOrbit?f.phi+=q:f.phi-=q}const Y=(()=>{const q=new ie;return function(Re,Pe){q.setFromMatrixColumn(Pe,0),q.multiplyScalar(-Re),m.add(q)}})(),X=(()=>{const q=new ie;return function(Re,Pe){r.screenSpacePanning===!0?q.setFromMatrixColumn(Pe,1):(q.setFromMatrixColumn(Pe,0),q.crossVectors(r.object.up,q)),q.multiplyScalar(Re),m.add(q)}})(),ae=(()=>{const q=new ie;return function(Re,Pe){const Ue=r.domElement;if(Ue&&r.object instanceof hr&&r.object.isPerspectiveCamera){const it=r.object.position;q.copy(it).sub(r.target);let Mt=q.length();Mt*=Math.tan(r.object.fov/2*Math.PI/180),Y(2*Re*Mt/Ue.clientHeight,r.object.matrix),X(2*Pe*Mt/Ue.clientHeight,r.object.matrix)}else Ue&&r.object instanceof Ul&&r.object.isOrthographicCamera?(Y(Re*(r.object.right-r.object.left)/r.object.zoom/Ue.clientWidth,r.object.matrix),X(Pe*(r.object.top-r.object.bottom)/r.object.zoom/Ue.clientHeight,r.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),r.enablePan=!1)}})();function Z(q){r.object instanceof hr&&r.object.isPerspectiveCamera?p/=q:r.object instanceof Ul&&r.object.isOrthographicCamera?(r.object.zoom=Math.max(r.minZoom,Math.min(r.maxZoom,r.object.zoom*q)),r.object.updateProjectionMatrix(),v=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),r.enableZoom=!1)}function D(q){r.object instanceof hr&&r.object.isPerspectiveCamera?p*=q:r.object instanceof Ul&&r.object.isOrthographicCamera?(r.object.zoom=Math.max(r.minZoom,Math.min(r.maxZoom,r.object.zoom/q)),r.object.updateProjectionMatrix(),v=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),r.enableZoom=!1)}function k(q){S.set(q.clientX,q.clientY)}function G(q){T.set(q.clientX,q.clientY)}function K(q){M.set(q.clientX,q.clientY)}function H(q){A.set(q.clientX,q.clientY),g.subVectors(A,S).multiplyScalar(r.rotateSpeed);const ve=r.domElement;ve&&(Q(2*Math.PI*g.x/ve.clientHeight),W(2*Math.PI*g.y/ve.clientHeight)),S.copy(A),r.update()}function ue(q){C.set(q.clientX,q.clientY),B.subVectors(C,T),B.y>0?Z(U()):B.y<0&&D(U()),T.copy(C),r.update()}function le(q){_.set(q.clientX,q.clientY),b.subVectors(_,M).multiplyScalar(r.panSpeed),ae(b.x,b.y),M.copy(_),r.update()}function Ce(q){q.deltaY<0?D(U()):q.deltaY>0&&Z(U()),r.update()}function xe(q){let ve=!1;switch(q.code){case r.keys.UP:ae(0,r.keyPanSpeed),ve=!0;break;case r.keys.BOTTOM:ae(0,-r.keyPanSpeed),ve=!0;break;case r.keys.LEFT:ae(r.keyPanSpeed,0),ve=!0;break;case r.keys.RIGHT:ae(-r.keyPanSpeed,0),ve=!0;break}ve&&(q.preventDefault(),r.update())}function Be(){if(P.length==1)S.set(P[0].pageX,P[0].pageY);else{const q=.5*(P[0].pageX+P[1].pageX),ve=.5*(P[0].pageY+P[1].pageY);S.set(q,ve)}}function Qe(){if(P.length==1)M.set(P[0].pageX,P[0].pageY);else{const q=.5*(P[0].pageX+P[1].pageX),ve=.5*(P[0].pageY+P[1].pageY);M.set(q,ve)}}function je(){const q=P[0].pageX-P[1].pageX,ve=P[0].pageY-P[1].pageY,Re=Math.sqrt(q*q+ve*ve);T.set(0,Re)}function Ke(){r.enableZoom&&je(),r.enablePan&&Qe()}function fe(){r.enableZoom&&je(),r.enableRotate&&Be()}function z(q){if(P.length==1)A.set(q.pageX,q.pageY);else{const Re=j(q),Pe=.5*(q.pageX+Re.x),Ue=.5*(q.pageY+Re.y);A.set(Pe,Ue)}g.subVectors(A,S).multiplyScalar(r.rotateSpeed);const ve=r.domElement;ve&&(Q(2*Math.PI*g.x/ve.clientHeight),W(2*Math.PI*g.y/ve.clientHeight)),S.copy(A)}function Ae(q){if(P.length==1)_.set(q.pageX,q.pageY);else{const ve=j(q),Re=.5*(q.pageX+ve.x),Pe=.5*(q.pageY+ve.y);_.set(Re,Pe)}b.subVectors(_,M).multiplyScalar(r.panSpeed),ae(b.x,b.y),M.copy(_)}function ge(q){const ve=j(q),Re=q.pageX-ve.x,Pe=q.pageY-ve.y,Ue=Math.sqrt(Re*Re+Pe*Pe);C.set(0,Ue),B.set(0,Math.pow(C.y/T.y,r.zoomSpeed)),Z(B.y),T.copy(C)}function Me(q){r.enableZoom&&ge(q),r.enablePan&&Ae(q)}function Ee(q){r.enableZoom&&ge(q),r.enableRotate&&z(q)}function Ve(q){var ve,Re;r.enabled!==!1&&(P.length===0&&((ve=r.domElement)==null||ve.ownerDocument.addEventListener("pointermove",Ge),(Re=r.domElement)==null||Re.ownerDocument.addEventListener("pointerup",ze)),Fe(q),q.pointerType==="touch"?ce(q):St(q))}function Ge(q){r.enabled!==!1&&(q.pointerType==="touch"?be(q):Dt(q))}function ze(q){var ve,Re,Pe;Xe(q),P.length===0&&((ve=r.domElement)==null||ve.releasePointerCapture(q.pointerId),(Re=r.domElement)==null||Re.ownerDocument.removeEventListener("pointermove",Ge),(Pe=r.domElement)==null||Pe.ownerDocument.removeEventListener("pointerup",ze)),r.dispatchEvent(o),l=a.NONE}function Ze(q){Xe(q)}function St(q){let ve;switch(q.button){case 0:ve=r.mouseButtons.LEFT;break;case 1:ve=r.mouseButtons.MIDDLE;break;case 2:ve=r.mouseButtons.RIGHT;break;default:ve=-1}switch(ve){case tm.DOLLY:if(r.enableZoom===!1)return;G(q),l=a.DOLLY;break;case tm.ROTATE:if(q.ctrlKey||q.metaKey||q.shiftKey){if(r.enablePan===!1)return;K(q),l=a.PAN}else{if(r.enableRotate===!1)return;k(q),l=a.ROTATE}break;case tm.PAN:if(q.ctrlKey||q.metaKey||q.shiftKey){if(r.enableRotate===!1)return;k(q),l=a.ROTATE}else{if(r.enablePan===!1)return;K(q),l=a.PAN}break;default:l=a.NONE}l!==a.NONE&&r.dispatchEvent(s)}function Dt(q){if(r.enabled!==!1)switch(l){case a.ROTATE:if(r.enableRotate===!1)return;H(q);break;case a.DOLLY:if(r.enableZoom===!1)return;ue(q);break;case a.PAN:if(r.enablePan===!1)return;le(q);break}}function O(q){r.enabled===!1||r.enableZoom===!1||l!==a.NONE&&l!==a.ROTATE||(q.preventDefault(),r.dispatchEvent(s),Ce(q),r.dispatchEvent(o))}function F(q){r.enabled===!1||r.enablePan===!1||xe(q)}function ce(q){switch(De(q),P.length){case 1:switch(r.touches.ONE){case nm.ROTATE:if(r.enableRotate===!1)return;Be(),l=a.TOUCH_ROTATE;break;case nm.PAN:if(r.enablePan===!1)return;Qe(),l=a.TOUCH_PAN;break;default:l=a.NONE}break;case 2:switch(r.touches.TWO){case nm.DOLLY_PAN:if(r.enableZoom===!1&&r.enablePan===!1)return;Ke(),l=a.TOUCH_DOLLY_PAN;break;case nm.DOLLY_ROTATE:if(r.enableZoom===!1&&r.enableRotate===!1)return;fe(),l=a.TOUCH_DOLLY_ROTATE;break;default:l=a.NONE}break;default:l=a.NONE}l!==a.NONE&&r.dispatchEvent(s)}function be(q){switch(De(q),l){case a.TOUCH_ROTATE:if(r.enableRotate===!1)return;z(q),r.update();break;case a.TOUCH_PAN:if(r.enablePan===!1)return;Ae(q),r.update();break;case a.TOUCH_DOLLY_PAN:if(r.enableZoom===!1&&r.enablePan===!1)return;Me(q),r.update();break;case a.TOUCH_DOLLY_ROTATE:if(r.enableZoom===!1&&r.enableRotate===!1)return;Ee(q),r.update();break;default:l=a.NONE}}function Se(q){r.enabled!==!1&&q.preventDefault()}function Fe(q){P.push(q)}function Xe(q){delete R[q.pointerId];for(let ve=0;ve<P.length;ve++)if(P[ve].pointerId==q.pointerId){P.splice(ve,1);return}}function De(q){let ve=R[q.pointerId];ve===void 0&&(ve=new Je,R[q.pointerId]=ve),ve.set(q.pageX,q.pageY)}function j(q){const ve=q.pointerId===P[0].pointerId?P[1]:P[0];return R[ve.pointerId]}t!==void 0&&this.connect(t),this.update()}};class oz extends qs{constructor(e){super(e),this.dracoLoader=null,this.ktx2Loader=null,this.meshoptDecoder=null,this.pluginCallbacks=[],this.register(function(t){return new uLe(t)}),this.register(function(t){return new vLe(t)}),this.register(function(t){return new yLe(t)}),this.register(function(t){return new xLe(t)}),this.register(function(t){return new hLe(t)}),this.register(function(t){return new dLe(t)}),this.register(function(t){return new fLe(t)}),this.register(function(t){return new pLe(t)}),this.register(function(t){return new lLe(t)}),this.register(function(t){return new mLe(t)}),this.register(function(t){return new cLe(t)}),this.register(function(t){return new gLe(t)}),this.register(function(t){return new oLe(t)}),this.register(function(t){return new ALe(t)}),this.register(function(t){return new _Le(t)})}load(e,t,r,i){const s=this;let o;this.resourcePath!==""?o=this.resourcePath:this.path!==""?o=this.path:o=Wu.extractUrlBase(e),this.manager.itemStart(e);const a=function(u){i?i(u):console.error(u),s.manager.itemError(e),s.manager.itemEnd(e)},l=new na(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(this.withCredentials),l.load(e,function(u){try{s.parse(u,o,function(h){t(h),s.manager.itemEnd(e)},a)}catch(h){a(h)}},r,a)}setDRACOLoader(e){return this.dracoLoader=e,this}setDDSLoader(){throw new Error('THREE.GLTFLoader: "MSFT_texture_dds" no longer supported. Please update to "KHR_texture_basisu".')}setKTX2Loader(e){return this.ktx2Loader=e,this}setMeshoptDecoder(e){return this.meshoptDecoder=e,this}register(e){return this.pluginCallbacks.indexOf(e)===-1&&this.pluginCallbacks.push(e),this}unregister(e){return this.pluginCallbacks.indexOf(e)!==-1&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(e),1),this}parse(e,t,r,i){let s;const o={},a={};if(typeof e=="string")s=JSON.parse(e);else if(e instanceof ArrayBuffer)if(Wu.decodeText(new Uint8Array(e.slice(0,4)))===Pne){try{o[_n.KHR_BINARY_GLTF]=new MLe(e)}catch(h){i&&i(h);return}s=JSON.parse(o[_n.KHR_BINARY_GLTF].content)}else s=JSON.parse(Wu.decodeText(new Uint8Array(e)));else s=e;if(s.asset===void 0||s.asset.version[0]<2){i&&i(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported."));return}const l=new FLe(s,{path:t||this.resourcePath||"",crossOrigin:this.crossOrigin,requestHeader:this.requestHeader,manager:this.manager,ktx2Loader:this.ktx2Loader,meshoptDecoder:this.meshoptDecoder});l.fileLoader.setRequestHeader(this.requestHeader);for(let u=0;u<this.pluginCallbacks.length;u++){const h=this.pluginCallbacks[u](l);a[h.name]=h,o[h.name]=!0}if(s.extensionsUsed)for(let u=0;u<s.extensionsUsed.length;++u){const h=s.extensionsUsed[u],f=s.extensionsRequired||[];switch(h){case _n.KHR_MATERIALS_UNLIT:o[h]=new aLe;break;case _n.KHR_DRACO_MESH_COMPRESSION:o[h]=new SLe(s,this.dracoLoader);break;case _n.KHR_TEXTURE_TRANSFORM:o[h]=new ELe;break;case _n.KHR_MESH_QUANTIZATION:o[h]=new bLe;break;default:f.indexOf(h)>=0&&a[h]===void 0&&console.warn('THREE.GLTFLoader: Unknown extension "'+h+'".')}}l.setExtensions(o),l.setPlugins(a),l.parse(r,i)}parseAsync(e,t){const r=this;return new Promise(function(i,s){r.parse(e,t,i,s)})}}function sLe(){let n={};return{get:function(e){return n[e]},add:function(e,t){n[e]=t},remove:function(e){delete n[e]},removeAll:function(){n={}}}}const _n={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_IOR:"KHR_materials_ior",KHR_MATERIALS_SHEEN:"KHR_materials_sheen",KHR_MATERIALS_SPECULAR:"KHR_materials_specular",KHR_MATERIALS_TRANSMISSION:"KHR_materials_transmission",KHR_MATERIALS_IRIDESCENCE:"KHR_materials_iridescence",KHR_MATERIALS_ANISOTROPY:"KHR_materials_anisotropy",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_MATERIALS_VOLUME:"KHR_materials_volume",KHR_TEXTURE_BASISU:"KHR_texture_basisu",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",KHR_MATERIALS_EMISSIVE_STRENGTH:"KHR_materials_emissive_strength",EXT_TEXTURE_WEBP:"EXT_texture_webp",EXT_TEXTURE_AVIF:"EXT_texture_avif",EXT_MESHOPT_COMPRESSION:"EXT_meshopt_compression",EXT_MESH_GPU_INSTANCING:"EXT_mesh_gpu_instancing"};class oLe{constructor(e){this.parser=e,this.name=_n.KHR_LIGHTS_PUNCTUAL,this.cache={refs:{},uses:{}}}_markDefs(){const e=this.parser,t=this.parser.json.nodes||[];for(let r=0,i=t.length;r<i;r++){const s=t[r];s.extensions&&s.extensions[this.name]&&s.extensions[this.name].light!==void 0&&e._addNodeRef(this.cache,s.extensions[this.name].light)}}_loadLight(e){const t=this.parser,r="light:"+e;let i=t.cache.get(r);if(i)return i;const s=t.json,l=((s.extensions&&s.extensions[this.name]||{}).lights||[])[e];let u;const h=new At(16777215);l.color!==void 0&&h.fromArray(l.color);const f=l.range!==void 0?l.range:0;switch(l.type){case"directional":u=new QG(h),u.target.position.set(0,0,-1),u.add(u.target);break;case"point":u=new KG(h),u.distance=f;break;case"spot":u=new YG(h),u.distance=f,l.spot=l.spot||{},l.spot.innerConeAngle=l.spot.innerConeAngle!==void 0?l.spot.innerConeAngle:0,l.spot.outerConeAngle=l.spot.outerConeAngle!==void 0?l.spot.outerConeAngle:Math.PI/4,u.angle=l.spot.outerConeAngle,u.penumbra=1-l.spot.innerConeAngle/l.spot.outerConeAngle,u.target.position.set(0,0,-1),u.add(u.target);break;default:throw new Error("THREE.GLTFLoader: Unexpected light type: "+l.type)}return u.position.set(0,0,0),u.decay=2,Sd(u,l),l.intensity!==void 0&&(u.intensity=l.intensity),u.name=t.createUniqueName(l.name||"light_"+e),i=Promise.resolve(u),t.cache.add(r,i),i}getDependency(e,t){if(e==="light")return this._loadLight(t)}createNodeAttachment(e){const t=this,r=this.parser,s=r.json.nodes[e],a=(s.extensions&&s.extensions[this.name]||{}).light;return a===void 0?null:this._loadLight(a).then(function(l){return r._getNodeRef(t.cache,a,l)})}}class aLe{constructor(){this.name=_n.KHR_MATERIALS_UNLIT}getMaterialType(){return Xo}extendParams(e,t,r){const i=[];e.color=new At(1,1,1),e.opacity=1;const s=t.pbrMetallicRoughness;if(s){if(Array.isArray(s.baseColorFactor)){const o=s.baseColorFactor;e.color.fromArray(o),e.opacity=o[3]}s.baseColorTexture!==void 0&&i.push(r.assignTexture(e,"map",s.baseColorTexture,3001))}return Promise.all(i)}}class lLe{constructor(e){this.parser=e,this.name=_n.KHR_MATERIALS_EMISSIVE_STRENGTH}extendMaterialParams(e,t){const i=this.parser.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=i.extensions[this.name].emissiveStrength;return s!==void 0&&(t.emissiveIntensity=s),Promise.resolve()}}class uLe{constructor(e){this.parser=e,this.name=_n.KHR_MATERIALS_CLEARCOAT}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:tc}extendMaterialParams(e,t){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];if(o.clearcoatFactor!==void 0&&(t.clearcoat=o.clearcoatFactor),o.clearcoatTexture!==void 0&&s.push(r.assignTexture(t,"clearcoatMap",o.clearcoatTexture)),o.clearcoatRoughnessFactor!==void 0&&(t.clearcoatRoughness=o.clearcoatRoughnessFactor),o.clearcoatRoughnessTexture!==void 0&&s.push(r.assignTexture(t,"clearcoatRoughnessMap",o.clearcoatRoughnessTexture)),o.clearcoatNormalTexture!==void 0&&(s.push(r.assignTexture(t,"clearcoatNormalMap",o.clearcoatNormalTexture)),o.clearcoatNormalTexture.scale!==void 0)){const a=o.clearcoatNormalTexture.scale;t.clearcoatNormalScale=new Je(a,a)}return Promise.all(s)}}class cLe{constructor(e){this.parser=e,this.name=_n.KHR_MATERIALS_IRIDESCENCE}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:tc}extendMaterialParams(e,t){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];return o.iridescenceFactor!==void 0&&(t.iridescence=o.iridescenceFactor),o.iridescenceTexture!==void 0&&s.push(r.assignTexture(t,"iridescenceMap",o.iridescenceTexture)),o.iridescenceIor!==void 0&&(t.iridescenceIOR=o.iridescenceIor),t.iridescenceThicknessRange===void 0&&(t.iridescenceThicknessRange=[100,400]),o.iridescenceThicknessMinimum!==void 0&&(t.iridescenceThicknessRange[0]=o.iridescenceThicknessMinimum),o.iridescenceThicknessMaximum!==void 0&&(t.iridescenceThicknessRange[1]=o.iridescenceThicknessMaximum),o.iridescenceThicknessTexture!==void 0&&s.push(r.assignTexture(t,"iridescenceThicknessMap",o.iridescenceThicknessTexture)),Promise.all(s)}}class hLe{constructor(e){this.parser=e,this.name=_n.KHR_MATERIALS_SHEEN}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:tc}extendMaterialParams(e,t){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[];t.sheenColor=new At(0,0,0),t.sheenRoughness=0,t.sheen=1;const o=i.extensions[this.name];return o.sheenColorFactor!==void 0&&t.sheenColor.fromArray(o.sheenColorFactor),o.sheenRoughnessFactor!==void 0&&(t.sheenRoughness=o.sheenRoughnessFactor),o.sheenColorTexture!==void 0&&s.push(r.assignTexture(t,"sheenColorMap",o.sheenColorTexture,3001)),o.sheenRoughnessTexture!==void 0&&s.push(r.assignTexture(t,"sheenRoughnessMap",o.sheenRoughnessTexture)),Promise.all(s)}}class dLe{constructor(e){this.parser=e,this.name=_n.KHR_MATERIALS_TRANSMISSION}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:tc}extendMaterialParams(e,t){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];return o.transmissionFactor!==void 0&&(t.transmission=o.transmissionFactor),o.transmissionTexture!==void 0&&s.push(r.assignTexture(t,"transmissionMap",o.transmissionTexture)),Promise.all(s)}}class fLe{constructor(e){this.parser=e,this.name=_n.KHR_MATERIALS_VOLUME}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:tc}extendMaterialParams(e,t){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];t.thickness=o.thicknessFactor!==void 0?o.thicknessFactor:0,o.thicknessTexture!==void 0&&s.push(r.assignTexture(t,"thicknessMap",o.thicknessTexture)),t.attenuationDistance=o.attenuationDistance||1/0;const a=o.attenuationColor||[1,1,1];return t.attenuationColor=new At(a[0],a[1],a[2]),Promise.all(s)}}class pLe{constructor(e){this.parser=e,this.name=_n.KHR_MATERIALS_IOR}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:tc}extendMaterialParams(e,t){const i=this.parser.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=i.extensions[this.name];return t.ior=s.ior!==void 0?s.ior:1.5,Promise.resolve()}}class mLe{constructor(e){this.parser=e,this.name=_n.KHR_MATERIALS_SPECULAR}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:tc}extendMaterialParams(e,t){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];t.specularIntensity=o.specularFactor!==void 0?o.specularFactor:1,o.specularTexture!==void 0&&s.push(r.assignTexture(t,"specularIntensityMap",o.specularTexture));const a=o.specularColorFactor||[1,1,1];return t.specularColor=new At(a[0],a[1],a[2]),o.specularColorTexture!==void 0&&s.push(r.assignTexture(t,"specularColorMap",o.specularColorTexture,3001)),Promise.all(s)}}class gLe{constructor(e){this.parser=e,this.name=_n.KHR_MATERIALS_ANISOTROPY}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:tc}extendMaterialParams(e,t){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];return o.anisotropyStrength!==void 0&&(t.anisotropy=o.anisotropyStrength),o.anisotropyRotation!==void 0&&(t.anisotropyRotation=o.anisotropyRotation),o.anisotropyTexture!==void 0&&s.push(r.assignTexture(t,"anisotropyMap",o.anisotropyTexture)),Promise.all(s)}}class vLe{constructor(e){this.parser=e,this.name=_n.KHR_TEXTURE_BASISU}loadTexture(e){const t=this.parser,r=t.json,i=r.textures[e];if(!i.extensions||!i.extensions[this.name])return null;const s=i.extensions[this.name],o=t.options.ktx2Loader;if(!o){if(r.extensionsRequired&&r.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures");return null}return t.loadTextureImage(e,s.source,o)}}class yLe{constructor(e){this.parser=e,this.name=_n.EXT_TEXTURE_WEBP,this.isSupported=null}loadTexture(e){const t=this.name,r=this.parser,i=r.json,s=i.textures[e];if(!s.extensions||!s.extensions[t])return null;const o=s.extensions[t],a=i.images[o.source];let l=r.textureLoader;if(a.uri){const u=r.options.manager.getHandler(a.uri);u!==null&&(l=u)}return this.detectSupport().then(function(u){if(u)return r.loadTextureImage(e,o.source,l);if(i.extensionsRequired&&i.extensionsRequired.indexOf(t)>=0)throw new Error("THREE.GLTFLoader: WebP required by asset but unsupported.");return r.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){const t=new Image;t.src="data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",t.onload=t.onerror=function(){e(t.height===1)}})),this.isSupported}}class xLe{constructor(e){this.parser=e,this.name=_n.EXT_TEXTURE_AVIF,this.isSupported=null}loadTexture(e){const t=this.name,r=this.parser,i=r.json,s=i.textures[e];if(!s.extensions||!s.extensions[t])return null;const o=s.extensions[t],a=i.images[o.source];let l=r.textureLoader;if(a.uri){const u=r.options.manager.getHandler(a.uri);u!==null&&(l=u)}return this.detectSupport().then(function(u){if(u)return r.loadTextureImage(e,o.source,l);if(i.extensionsRequired&&i.extensionsRequired.indexOf(t)>=0)throw new Error("THREE.GLTFLoader: AVIF required by asset but unsupported.");return r.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){const t=new Image;t.src="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAABcAAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAEAAAABAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQAMAAAAABNjb2xybmNseAACAAIABoAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAAB9tZGF0EgAKCBgABogQEDQgMgkQAAAAB8dSLfI=",t.onload=t.onerror=function(){e(t.height===1)}})),this.isSupported}}class ALe{constructor(e){this.name=_n.EXT_MESHOPT_COMPRESSION,this.parser=e}loadBufferView(e){const t=this.parser.json,r=t.bufferViews[e];if(r.extensions&&r.extensions[this.name]){const i=r.extensions[this.name],s=this.parser.getDependency("buffer",i.buffer),o=this.parser.options.meshoptDecoder;if(!o||!o.supported){if(t.extensionsRequired&&t.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files");return null}return s.then(function(a){const l=i.byteOffset||0,u=i.byteLength||0,h=i.count,f=i.byteStride,p=new Uint8Array(a,l,u);return o.decodeGltfBufferAsync?o.decodeGltfBufferAsync(h,f,p,i.mode,i.filter).then(function(m){return m.buffer}):o.ready.then(function(){const m=new ArrayBuffer(h*f);return o.decodeGltfBuffer(new Uint8Array(m),h,f,p,i.mode,i.filter),m})})}else return null}}class _Le{constructor(e){this.name=_n.EXT_MESH_GPU_INSTANCING,this.parser=e}createNodeMesh(e){const t=this.parser.json,r=t.nodes[e];if(!r.extensions||!r.extensions[this.name]||r.mesh===void 0)return null;const i=t.meshes[r.mesh];for(const u of i.primitives)if(u.mode!==Ia.TRIANGLES&&u.mode!==Ia.TRIANGLE_STRIP&&u.mode!==Ia.TRIANGLE_FAN&&u.mode!==void 0)return null;const o=r.extensions[this.name].attributes,a=[],l={};for(const u in o)a.push(this.parser.getDependency("accessor",o[u]).then(h=>(l[u]=h,l[u])));return a.length<1?null:(a.push(this.parser.createNodeMesh(e)),Promise.all(a).then(u=>{const h=u.pop(),f=h.isGroup?h.children:[h],p=u[0].count,m=[];for(const v of f){const S=new Ht,A=new ie,g=new Wi,M=new ie(1,1,1),_=new LG(v.geometry,v.material,p);for(let b=0;b<p;b++)l.TRANSLATION&&A.fromBufferAttribute(l.TRANSLATION,b),l.ROTATION&&g.fromBufferAttribute(l.ROTATION,b),l.SCALE&&M.fromBufferAttribute(l.SCALE,b),_.setMatrixAt(b,S.compose(A,g,M));for(const b in l)b!=="TRANSLATION"&&b!=="ROTATION"&&b!=="SCALE"&&v.geometry.setAttribute(b,l[b]);Sn.prototype.copy.call(_,v),this.parser.assignFinalMaterial(_),m.push(_)}return h.isGroup?(h.clear(),h.add(...m),h):m[0]}))}}const Pne="glTF",R1=12,TW={JSON:1313821514,BIN:5130562};class MLe{constructor(e){this.name=_n.KHR_BINARY_GLTF,this.content=null,this.body=null;const t=new DataView(e,0,R1);if(this.header={magic:Wu.decodeText(new Uint8Array(e.slice(0,4))),version:t.getUint32(4,!0),length:t.getUint32(8,!0)},this.header.magic!==Pne)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected.");const r=this.header.length-R1,i=new DataView(e,R1);let s=0;for(;s<r;){const o=i.getUint32(s,!0);s+=4;const a=i.getUint32(s,!0);if(s+=4,a===TW.JSON){const l=new Uint8Array(e,R1+s,o);this.content=Wu.decodeText(l)}else if(a===TW.BIN){const l=R1+s;this.body=e.slice(l,l+o)}s+=o}if(this.content===null)throw new Error("THREE.GLTFLoader: JSON content not found.")}}class SLe{constructor(e,t){if(!t)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=_n.KHR_DRACO_MESH_COMPRESSION,this.json=e,this.dracoLoader=t,this.dracoLoader.preload()}decodePrimitive(e,t){const r=this.json,i=this.dracoLoader,s=e.extensions[this.name].bufferView,o=e.extensions[this.name].attributes,a={},l={},u={};for(const h in o){const f=rN[h]||h.toLowerCase();a[f]=o[h]}for(const h in e.attributes){const f=rN[h]||h.toLowerCase();if(o[h]!==void 0){const p=r.accessors[e.attributes[h]],m=Ey[p.componentType];u[f]=m.name,l[f]=p.normalized===!0}}return t.getDependency("bufferView",s).then(function(h){return new Promise(function(f){i.decodeDracoFile(h,function(p){for(const m in p.attributes){const v=p.attributes[m],S=l[m];S!==void 0&&(v.normalized=S)}f(p)},a,u)})})}}class ELe{constructor(){this.name=_n.KHR_TEXTURE_TRANSFORM}extendTexture(e,t){return(t.texCoord===void 0||t.texCoord===e.channel)&&t.offset===void 0&&t.rotation===void 0&&t.scale===void 0||(e=e.clone(),t.texCoord!==void 0&&(e.channel=t.texCoord),t.offset!==void 0&&e.offset.fromArray(t.offset),t.rotation!==void 0&&(e.rotation=t.rotation),t.scale!==void 0&&e.repeat.fromArray(t.scale),e.needsUpdate=!0),e}}class bLe{constructor(){this.name=_n.KHR_MESH_QUANTIZATION}}class Bne extends Lx{constructor(e,t,r,i){super(e,t,r,i)}copySampleValue_(e){const t=this.resultBuffer,r=this.sampleValues,i=this.valueSize,s=e*i*3+i;for(let o=0;o!==i;o++)t[o]=r[s+o];return t}interpolate_(e,t,r,i){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=a*2,u=a*3,h=i-t,f=(r-t)/h,p=f*f,m=p*f,v=e*u,S=v-u,A=-2*m+3*p,g=m-p,M=1-A,_=g-p+f;for(let b=0;b!==a;b++){const T=o[S+b+a],C=o[S+b+l]*h,B=o[v+b+a],P=o[v+b]*h;s[b]=M*T+_*C+A*B+g*P}return s}}const wLe=new Wi;class TLe extends Bne{interpolate_(e,t,r,i){const s=super.interpolate_(e,t,r,i);return wLe.fromArray(s).normalize().toArray(s),s}}const Ia={FLOAT:5126,FLOAT_MAT3:35675,FLOAT_MAT4:35676,FLOAT_VEC2:35664,FLOAT_VEC3:35665,FLOAT_VEC4:35666,LINEAR:9729,REPEAT:10497,SAMPLER_2D:35678,POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6,UNSIGNED_BYTE:5121,UNSIGNED_SHORT:5123},Ey={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},CW={9728:Gr,9729:_r,9984:BM,9985:cP,9986:Ay,9987:Qu},RW={33071:ss,33648:qy,10497:Af},XL={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},rN={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",...MS.replace(/\D+/g,"")>=152?{TEXCOORD_0:"uv",TEXCOORD_1:"uv1",TEXCOORD_2:"uv2",TEXCOORD_3:"uv3"}:{TEXCOORD_0:"uv",TEXCOORD_1:"uv2"},COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},cd={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},CLe={CUBICSPLINE:void 0,LINEAR:ag,STEP:$y},JL={OPAQUE:"OPAQUE",MASK:"MASK",BLEND:"BLEND"};function RLe(n){return n.DefaultMaterial===void 0&&(n.DefaultMaterial=new zS({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:Ku})),n.DefaultMaterial}function Hp(n,e,t){for(const r in t.extensions)n[r]===void 0&&(e.userData.gltfExtensions=e.userData.gltfExtensions||{},e.userData.gltfExtensions[r]=t.extensions[r])}function Sd(n,e){e.extras!==void 0&&(typeof e.extras=="object"?Object.assign(n.userData,e.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+e.extras))}function PLe(n,e,t){let r=!1,i=!1,s=!1;for(let u=0,h=e.length;u<h;u++){const f=e[u];if(f.POSITION!==void 0&&(r=!0),f.NORMAL!==void 0&&(i=!0),f.COLOR_0!==void 0&&(s=!0),r&&i&&s)break}if(!r&&!i&&!s)return Promise.resolve(n);const o=[],a=[],l=[];for(let u=0,h=e.length;u<h;u++){const f=e[u];if(r){const p=f.POSITION!==void 0?t.getDependency("accessor",f.POSITION):n.attributes.position;o.push(p)}if(i){const p=f.NORMAL!==void 0?t.getDependency("accessor",f.NORMAL):n.attributes.normal;a.push(p)}if(s){const p=f.COLOR_0!==void 0?t.getDependency("accessor",f.COLOR_0):n.attributes.color;l.push(p)}}return Promise.all([Promise.all(o),Promise.all(a),Promise.all(l)]).then(function(u){const h=u[0],f=u[1],p=u[2];return r&&(n.morphAttributes.position=h),i&&(n.morphAttributes.normal=f),s&&(n.morphAttributes.color=p),n.morphTargetsRelative=!0,n})}function BLe(n,e){if(n.updateMorphTargets(),e.weights!==void 0)for(let t=0,r=e.weights.length;t<r;t++)n.morphTargetInfluences[t]=e.weights[t];if(e.extras&&Array.isArray(e.extras.targetNames)){const t=e.extras.targetNames;if(n.morphTargetInfluences.length===t.length){n.morphTargetDictionary={};for(let r=0,i=t.length;r<i;r++)n.morphTargetDictionary[t[r]]=r}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function LLe(n){let e;const t=n.extensions&&n.extensions[_n.KHR_DRACO_MESH_COMPRESSION];if(t?e="draco:"+t.bufferView+":"+t.indices+":"+YL(t.attributes):e=n.indices+":"+YL(n.attributes)+":"+n.mode,n.targets!==void 0)for(let r=0,i=n.targets.length;r<i;r++)e+=":"+YL(n.targets[r]);return e}function YL(n){let e="";const t=Object.keys(n).sort();for(let r=0,i=t.length;r<i;r++)e+=t[r]+":"+n[t[r]]+";";return e}function iN(n){switch(n){case Int8Array:return 1/127;case Uint8Array:return 1/255;case Int16Array:return 1/32767;case Uint16Array:return 1/65535;default:throw new Error("THREE.GLTFLoader: Unsupported normalized accessor component type.")}}function ILe(n){return n.search(/\.jpe?g($|\?)/i)>0||n.search(/^data\:image\/jpeg/)===0?"image/jpeg":n.search(/\.webp($|\?)/i)>0||n.search(/^data\:image\/webp/)===0?"image/webp":"image/png"}const DLe=new Ht;class FLe{constructor(e={},t={}){this.json=e,this.extensions={},this.plugins={},this.options=t,this.cache=new sLe,this.associations=new Map,this.primitiveCache={},this.nodeCache={},this.meshCache={refs:{},uses:{}},this.cameraCache={refs:{},uses:{}},this.lightCache={refs:{},uses:{}},this.sourceCache={},this.textureCache={},this.nodeNamesUsed={};let r=!1,i=!1,s=-1;typeof navigator<"u"&&(r=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)===!0,i=navigator.userAgent.indexOf("Firefox")>-1,s=i?navigator.userAgent.match(/Firefox\/([0-9]+)\./)[1]:-1),typeof createImageBitmap>"u"||r||i&&s<98?this.textureLoader=new HS(this.options.manager):this.textureLoader=new Zte(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.textureLoader.setRequestHeader(this.options.requestHeader),this.fileLoader=new na(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),this.options.crossOrigin==="use-credentials"&&this.fileLoader.setWithCredentials(!0)}setExtensions(e){this.extensions=e}setPlugins(e){this.plugins=e}parse(e,t){const r=this,i=this.json,s=this.extensions;this.cache.removeAll(),this.nodeCache={},this._invokeAll(function(o){return o._markDefs&&o._markDefs()}),Promise.all(this._invokeAll(function(o){return o.beforeRoot&&o.beforeRoot()})).then(function(){return Promise.all([r.getDependencies("scene"),r.getDependencies("animation"),r.getDependencies("camera")])}).then(function(o){const a={scene:o[0][i.scene||0],scenes:o[0],animations:o[1],cameras:o[2],asset:i.asset,parser:r,userData:{}};Hp(s,a,i),Sd(a,i),Promise.all(r._invokeAll(function(l){return l.afterRoot&&l.afterRoot(a)})).then(function(){e(a)})}).catch(t)}_markDefs(){const e=this.json.nodes||[],t=this.json.skins||[],r=this.json.meshes||[];for(let i=0,s=t.length;i<s;i++){const o=t[i].joints;for(let a=0,l=o.length;a<l;a++)e[o[a]].isBone=!0}for(let i=0,s=e.length;i<s;i++){const o=e[i];o.mesh!==void 0&&(this._addNodeRef(this.meshCache,o.mesh),o.skin!==void 0&&(r[o.mesh].isSkinnedMesh=!0)),o.camera!==void 0&&this._addNodeRef(this.cameraCache,o.camera)}}_addNodeRef(e,t){t!==void 0&&(e.refs[t]===void 0&&(e.refs[t]=e.uses[t]=0),e.refs[t]++)}_getNodeRef(e,t,r){if(e.refs[t]<=1)return r;const i=r.clone(),s=(o,a)=>{const l=this.associations.get(o);l!=null&&this.associations.set(a,l);for(const[u,h]of o.children.entries())s(h,a.children[u])};return s(r,i),i.name+="_instance_"+e.uses[t]++,i}_invokeOne(e){const t=Object.values(this.plugins);t.push(this);for(let r=0;r<t.length;r++){const i=e(t[r]);if(i)return i}return null}_invokeAll(e){const t=Object.values(this.plugins);t.unshift(this);const r=[];for(let i=0;i<t.length;i++){const s=e(t[i]);s&&r.push(s)}return r}getDependency(e,t){const r=e+":"+t;let i=this.cache.get(r);if(!i){switch(e){case"scene":i=this.loadScene(t);break;case"node":i=this._invokeOne(function(s){return s.loadNode&&s.loadNode(t)});break;case"mesh":i=this._invokeOne(function(s){return s.loadMesh&&s.loadMesh(t)});break;case"accessor":i=this.loadAccessor(t);break;case"bufferView":i=this._invokeOne(function(s){return s.loadBufferView&&s.loadBufferView(t)});break;case"buffer":i=this.loadBuffer(t);break;case"material":i=this._invokeOne(function(s){return s.loadMaterial&&s.loadMaterial(t)});break;case"texture":i=this._invokeOne(function(s){return s.loadTexture&&s.loadTexture(t)});break;case"skin":i=this.loadSkin(t);break;case"animation":i=this._invokeOne(function(s){return s.loadAnimation&&s.loadAnimation(t)});break;case"camera":i=this.loadCamera(t);break;default:if(i=this._invokeOne(function(s){return s!=this&&s.getDependency&&s.getDependency(e,t)}),!i)throw new Error("Unknown type: "+e);break}this.cache.add(r,i)}return i}getDependencies(e){let t=this.cache.get(e);if(!t){const r=this,i=this.json[e+(e==="mesh"?"es":"s")]||[];t=Promise.all(i.map(function(s,o){return r.getDependency(e,o)})),this.cache.add(e,t)}return t}loadBuffer(e){const t=this.json.buffers[e],r=this.fileLoader;if(t.type&&t.type!=="arraybuffer")throw new Error("THREE.GLTFLoader: "+t.type+" buffer type is not supported.");if(t.uri===void 0&&e===0)return Promise.resolve(this.extensions[_n.KHR_BINARY_GLTF].body);const i=this.options;return new Promise(function(s,o){r.load(Wu.resolveURL(t.uri,i.path),s,void 0,function(){o(new Error('THREE.GLTFLoader: Failed to load buffer "'+t.uri+'".'))})})}loadBufferView(e){const t=this.json.bufferViews[e];return this.getDependency("buffer",t.buffer).then(function(r){const i=t.byteLength||0,s=t.byteOffset||0;return r.slice(s,s+i)})}loadAccessor(e){const t=this,r=this.json,i=this.json.accessors[e];if(i.bufferView===void 0&&i.sparse===void 0){const o=XL[i.type],a=Ey[i.componentType],l=i.normalized===!0,u=new a(i.count*o);return Promise.resolve(new Bn(u,o,l))}const s=[];return i.bufferView!==void 0?s.push(this.getDependency("bufferView",i.bufferView)):s.push(null),i.sparse!==void 0&&(s.push(this.getDependency("bufferView",i.sparse.indices.bufferView)),s.push(this.getDependency("bufferView",i.sparse.values.bufferView))),Promise.all(s).then(function(o){const a=o[0],l=XL[i.type],u=Ey[i.componentType],h=u.BYTES_PER_ELEMENT,f=h*l,p=i.byteOffset||0,m=i.bufferView!==void 0?r.bufferViews[i.bufferView].byteStride:void 0,v=i.normalized===!0;let S,A;if(m&&m!==f){const g=Math.floor(p/m),M="InterleavedBuffer:"+i.bufferView+":"+i.componentType+":"+g+":"+i.count;let _=t.cache.get(M);_||(S=new u(a,g*m,i.count*m/h),_=new wS(S,m/h),t.cache.add(M,_)),A=new _f(_,l,p%m/h,v)}else a===null?S=new u(i.count*l):S=new u(a,p,i.count*l),A=new Bn(S,l,v);if(i.sparse!==void 0){const g=XL.SCALAR,M=Ey[i.sparse.indices.componentType],_=i.sparse.indices.byteOffset||0,b=i.sparse.values.byteOffset||0,T=new M(o[1],_,i.sparse.count*g),C=new u(o[2],b,i.sparse.count*l);a!==null&&(A=new Bn(A.array.slice(),A.itemSize,A.normalized));for(let B=0,P=T.length;B<P;B++){const R=T[B];if(A.setX(R,C[B*l]),l>=2&&A.setY(R,C[B*l+1]),l>=3&&A.setZ(R,C[B*l+2]),l>=4&&A.setW(R,C[B*l+3]),l>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}}return A})}loadTexture(e){const t=this.json,r=this.options,s=t.textures[e].source,o=t.images[s];let a=this.textureLoader;if(o.uri){const l=r.manager.getHandler(o.uri);l!==null&&(a=l)}return this.loadTextureImage(e,s,a)}loadTextureImage(e,t,r){const i=this,s=this.json,o=s.textures[e],a=s.images[t],l=(a.uri||a.bufferView)+":"+o.sampler;if(this.textureCache[l])return this.textureCache[l];const u=this.loadImageSource(t,r).then(function(h){h.flipY=!1,h.name=o.name||a.name||"",h.name===""&&typeof a.uri=="string"&&a.uri.startsWith("data:image/")===!1&&(h.name=a.uri);const p=(s.samplers||{})[o.sampler]||{};return h.magFilter=CW[p.magFilter]||_r,h.minFilter=CW[p.minFilter]||Qu,h.wrapS=RW[p.wrapS]||Af,h.wrapT=RW[p.wrapT]||Af,i.associations.set(h,{textures:e}),h}).catch(function(){return null});return this.textureCache[l]=u,u}loadImageSource(e,t){const r=this,i=this.json,s=this.options;if(this.sourceCache[e]!==void 0)return this.sourceCache[e].then(f=>f.clone());const o=i.images[e],a=self.URL||self.webkitURL;let l=o.uri||"",u=!1;if(o.bufferView!==void 0)l=r.getDependency("bufferView",o.bufferView).then(function(f){u=!0;const p=new Blob([f],{type:o.mimeType});return l=a.createObjectURL(p),l});else if(o.uri===void 0)throw new Error("THREE.GLTFLoader: Image "+e+" is missing URI and bufferView");const h=Promise.resolve(l).then(function(f){return new Promise(function(p,m){let v=p;t.isImageBitmapLoader===!0&&(v=function(S){const A=new fr(S);A.needsUpdate=!0,p(A)}),t.load(Wu.resolveURL(f,s.path),v,void 0,m)})}).then(function(f){return u===!0&&a.revokeObjectURL(l),f.userData.mimeType=o.mimeType||ILe(o.uri),f}).catch(function(f){throw console.error("THREE.GLTFLoader: Couldn't load texture",l),f});return this.sourceCache[e]=h,h}assignTexture(e,t,r,i){const s=this;return this.getDependency("texture",r.index).then(function(o){if(!o)return null;if(r.texCoord!==void 0&&r.texCoord>0&&(o=o.clone(),o.channel=r.texCoord),s.extensions[_n.KHR_TEXTURE_TRANSFORM]){const a=r.extensions!==void 0?r.extensions[_n.KHR_TEXTURE_TRANSFORM]:void 0;if(a){const l=s.associations.get(o);o=s.extensions[_n.KHR_TEXTURE_TRANSFORM].extendTexture(o,a),s.associations.set(o,l)}}return i!==void 0&&("colorSpace"in o?o.colorSpace=i===3001?"srgb":"srgb-linear":o.encoding=i),e[t]=o,o})}assignFinalMaterial(e){const t=e.geometry;let r=e.material;const i=t.attributes.tangent===void 0,s=t.attributes.color!==void 0,o=t.attributes.normal===void 0;if(e.isPoints){const a="PointsMaterial:"+r.uuid;let l=this.cache.get(a);l||(l=new CS,hi.prototype.copy.call(l,r),l.color.copy(r.color),l.map=r.map,l.sizeAttenuation=!1,this.cache.add(a,l)),r=l}else if(e.isLine){const a="LineBasicMaterial:"+r.uuid;let l=this.cache.get(a);l||(l=new Cs,hi.prototype.copy.call(l,r),l.color.copy(r.color),l.map=r.map,this.cache.add(a,l)),r=l}if(i||s||o){let a="ClonedMaterial:"+r.uuid+":";i&&(a+="derivative-tangents:"),s&&(a+="vertex-colors:"),o&&(a+="flat-shading:");let l=this.cache.get(a);l||(l=r.clone(),s&&(l.vertexColors=!0),o&&(l.flatShading=!0),i&&(l.normalScale&&(l.normalScale.y*=-1),l.clearcoatNormalScale&&(l.clearcoatNormalScale.y*=-1)),this.cache.add(a,l),this.associations.set(l,this.associations.get(r))),r=l}e.material=r}getMaterialType(){return zS}loadMaterial(e){const t=this,r=this.json,i=this.extensions,s=r.materials[e];let o;const a={},l=s.extensions||{},u=[];if(l[_n.KHR_MATERIALS_UNLIT]){const f=i[_n.KHR_MATERIALS_UNLIT];o=f.getMaterialType(),u.push(f.extendParams(a,s,t))}else{const f=s.pbrMetallicRoughness||{};if(a.color=new At(1,1,1),a.opacity=1,Array.isArray(f.baseColorFactor)){const p=f.baseColorFactor;a.color.fromArray(p),a.opacity=p[3]}f.baseColorTexture!==void 0&&u.push(t.assignTexture(a,"map",f.baseColorTexture,3001)),a.metalness=f.metallicFactor!==void 0?f.metallicFactor:1,a.roughness=f.roughnessFactor!==void 0?f.roughnessFactor:1,f.metallicRoughnessTexture!==void 0&&(u.push(t.assignTexture(a,"metalnessMap",f.metallicRoughnessTexture)),u.push(t.assignTexture(a,"roughnessMap",f.metallicRoughnessTexture))),o=this._invokeOne(function(p){return p.getMaterialType&&p.getMaterialType(e)}),u.push(Promise.all(this._invokeAll(function(p){return p.extendMaterialParams&&p.extendMaterialParams(e,a)})))}s.doubleSided===!0&&(a.side=za);const h=s.alphaMode||JL.OPAQUE;if(h===JL.BLEND?(a.transparent=!0,a.depthWrite=!1):(a.transparent=!1,h===JL.MASK&&(a.alphaTest=s.alphaCutoff!==void 0?s.alphaCutoff:.5)),s.normalTexture!==void 0&&o!==Xo&&(u.push(t.assignTexture(a,"normalMap",s.normalTexture)),a.normalScale=new Je(1,1),s.normalTexture.scale!==void 0)){const f=s.normalTexture.scale;a.normalScale.set(f,f)}return s.occlusionTexture!==void 0&&o!==Xo&&(u.push(t.assignTexture(a,"aoMap",s.occlusionTexture)),s.occlusionTexture.strength!==void 0&&(a.aoMapIntensity=s.occlusionTexture.strength)),s.emissiveFactor!==void 0&&o!==Xo&&(a.emissive=new At().fromArray(s.emissiveFactor)),s.emissiveTexture!==void 0&&o!==Xo&&u.push(t.assignTexture(a,"emissiveMap",s.emissiveTexture,3001)),Promise.all(u).then(function(){const f=new o(a);return s.name&&(f.name=s.name),Sd(f,s),t.associations.set(f,{materials:e}),s.extensions&&Hp(i,f,s),f})}createUniqueName(e){const t=wn.sanitizeNodeName(e||"");return t in this.nodeNamesUsed?t+"_"+ ++this.nodeNamesUsed[t]:(this.nodeNamesUsed[t]=0,t)}loadGeometries(e){const t=this,r=this.extensions,i=this.primitiveCache;function s(a){return r[_n.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(a,t).then(function(l){return PW(l,a,t)})}const o=[];for(let a=0,l=e.length;a<l;a++){const u=e[a],h=LLe(u),f=i[h];if(f)o.push(f.promise);else{let p;u.extensions&&u.extensions[_n.KHR_DRACO_MESH_COMPRESSION]?p=s(u):p=PW(new Qt,u,t),i[h]={primitive:u,promise:p},o.push(p)}}return Promise.all(o)}loadMesh(e){const t=this,r=this.json,i=this.extensions,s=r.meshes[e],o=s.primitives,a=[];for(let l=0,u=o.length;l<u;l++){const h=o[l].material===void 0?RLe(this.cache):this.getDependency("material",o[l].material);a.push(h)}return a.push(t.loadGeometries(o)),Promise.all(a).then(function(l){const u=l.slice(0,l.length-1),h=l[l.length-1],f=[];for(let m=0,v=h.length;m<v;m++){const S=h[m],A=o[m];let g;const M=u[m];if(A.mode===Ia.TRIANGLES||A.mode===Ia.TRIANGLE_STRIP||A.mode===Ia.TRIANGLE_FAN||A.mode===void 0)g=s.isSkinnedMesh===!0?new BG(S,M):new Si(S,M),g.isSkinnedMesh===!0&&g.normalizeSkinWeights(),A.mode===Ia.TRIANGLE_STRIP?g.geometry=bW(g.geometry,mG):A.mode===Ia.TRIANGLE_FAN&&(g.geometry=bW(g.geometry,OC));else if(A.mode===Ia.LINES)g=new Kl(S,M);else if(A.mode===Ia.LINE_STRIP)g=new bh(S,M);else if(A.mode===Ia.LINE_LOOP)g=new IG(S,M);else if(A.mode===Ia.POINTS)g=new DG(S,M);else throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+A.mode);Object.keys(g.geometry.morphAttributes).length>0&&BLe(g,s),g.name=t.createUniqueName(s.name||"mesh_"+e),Sd(g,s),A.extensions&&Hp(i,g,A),t.assignFinalMaterial(g),f.push(g)}for(let m=0,v=f.length;m<v;m++)t.associations.set(f[m],{meshes:e,primitives:m});if(f.length===1)return s.extensions&&Hp(i,f[0],s),f[0];const p=new sh;s.extensions&&Hp(i,p,s),t.associations.set(p,{meshes:e});for(let m=0,v=f.length;m<v;m++)p.add(f[m]);return p})}loadCamera(e){let t;const r=this.json.cameras[e],i=r[r.type];if(!i){console.warn("THREE.GLTFLoader: Missing camera parameters.");return}return r.type==="perspective"?t=new hr(xG.radToDeg(i.yfov),i.aspectRatio||1,i.znear||1,i.zfar||2e6):r.type==="orthographic"&&(t=new Ul(-i.xmag,i.xmag,i.ymag,-i.ymag,i.znear,i.zfar)),r.name&&(t.name=this.createUniqueName(r.name)),Sd(t,r),Promise.resolve(t)}loadSkin(e){const t=this.json.skins[e],r=[];for(let i=0,s=t.joints.length;i<s;i++)r.push(this._loadNodeShallow(t.joints[i]));return t.inverseBindMatrices!==void 0?r.push(this.getDependency("accessor",t.inverseBindMatrices)):r.push(null),Promise.all(r).then(function(i){const s=i.pop(),o=i,a=[],l=[];for(let u=0,h=o.length;u<h;u++){const f=o[u];if(f){a.push(f);const p=new Ht;s!==null&&p.fromArray(s.array,u*16),l.push(p)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',t.joints[u])}return new TS(a,l)})}loadAnimation(e){const r=this.json.animations[e],i=r.name?r.name:"animation_"+e,s=[],o=[],a=[],l=[],u=[];for(let h=0,f=r.channels.length;h<f;h++){const p=r.channels[h],m=r.samplers[p.sampler],v=p.target,S=v.node,A=r.parameters!==void 0?r.parameters[m.input]:m.input,g=r.parameters!==void 0?r.parameters[m.output]:m.output;v.node!==void 0&&(s.push(this.getDependency("node",S)),o.push(this.getDependency("accessor",A)),a.push(this.getDependency("accessor",g)),l.push(m),u.push(v))}return Promise.all([Promise.all(s),Promise.all(o),Promise.all(a),Promise.all(l),Promise.all(u)]).then(function(h){const f=h[0],p=h[1],m=h[2],v=h[3],S=h[4],A=[];for(let g=0,M=f.length;g<M;g++){const _=f[g],b=p[g],T=m[g],C=v[g],B=S[g];if(_===void 0)continue;_.updateMatrix();let P;switch(cd[B.path]){case cd.weights:P=rx;break;case cd.rotation:P=Mf;break;case cd.position:case cd.scale:default:P=ix;break}const R=_.name?_.name:_.uuid,L=C.interpolation!==void 0?CLe[C.interpolation]:ag,U=[];cd[B.path]===cd.weights?_.traverse(function(W){W.morphTargetInfluences&&U.push(W.name?W.name:W.uuid)}):U.push(R);let Q=T.array;if(T.normalized){const W=iN(Q.constructor),Y=new Float32Array(Q.length);for(let X=0,ae=Q.length;X<ae;X++)Y[X]=Q[X]*W;Q=Y}for(let W=0,Y=U.length;W<Y;W++){const X=new P(U[W]+"."+cd[B.path],b.array,Q,L);C.interpolation==="CUBICSPLINE"&&(X.createInterpolant=function(Z){const D=this instanceof Mf?TLe:Bne;return new D(this.times,this.values,this.getValueSize()/3,Z)},X.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0),A.push(X)}}return new sx(i,void 0,A)})}createNodeMesh(e){const t=this.json,r=this,i=t.nodes[e];return i.mesh===void 0?null:r.getDependency("mesh",i.mesh).then(function(s){const o=r._getNodeRef(r.meshCache,i.mesh,s);return i.weights!==void 0&&o.traverse(function(a){if(a.isMesh)for(let l=0,u=i.weights.length;l<u;l++)a.morphTargetInfluences[l]=i.weights[l]}),o})}loadNode(e){const t=this.json,r=this,i=t.nodes[e],s=r._loadNodeShallow(e),o=[],a=i.children||[];for(let u=0,h=a.length;u<h;u++)o.push(r.getDependency("node",a[u]));const l=i.skin===void 0?Promise.resolve(null):r.getDependency("skin",i.skin);return Promise.all([s,Promise.all(o),l]).then(function(u){const h=u[0],f=u[1],p=u[2];p!==null&&h.traverse(function(m){m.isSkinnedMesh&&m.bind(p,DLe)});for(let m=0,v=f.length;m<v;m++)h.add(f[m]);return h})}_loadNodeShallow(e){const t=this.json,r=this.extensions,i=this;if(this.nodeCache[e]!==void 0)return this.nodeCache[e];const s=t.nodes[e],o=s.name?i.createUniqueName(s.name):"",a=[],l=i._invokeOne(function(u){return u.createNodeMesh&&u.createNodeMesh(e)});return l&&a.push(l),s.camera!==void 0&&a.push(i.getDependency("camera",s.camera).then(function(u){return i._getNodeRef(i.cameraCache,s.camera,u)})),i._invokeAll(function(u){return u.createNodeAttachment&&u.createNodeAttachment(e)}).forEach(function(u){a.push(u)}),this.nodeCache[e]=Promise.all(a).then(function(u){let h;if(s.isBone===!0?h=new yP:u.length>1?h=new sh:u.length===1?h=u[0]:h=new Sn,h!==u[0])for(let f=0,p=u.length;f<p;f++)h.add(u[f]);if(s.name&&(h.userData.name=s.name,h.name=o),Sd(h,s),s.extensions&&Hp(r,h,s),s.matrix!==void 0){const f=new Ht;f.fromArray(s.matrix),h.applyMatrix4(f)}else s.translation!==void 0&&h.position.fromArray(s.translation),s.rotation!==void 0&&h.quaternion.fromArray(s.rotation),s.scale!==void 0&&h.scale.fromArray(s.scale);return i.associations.has(h)||i.associations.set(h,{}),i.associations.get(h).nodes=e,h}),this.nodeCache[e]}loadScene(e){const t=this.extensions,r=this.json.scenes[e],i=this,s=new sh;r.name&&(s.name=i.createUniqueName(r.name)),Sd(s,r),r.extensions&&Hp(t,s,r);const o=r.nodes||[],a=[];for(let l=0,u=o.length;l<u;l++)a.push(i.getDependency("node",o[l]));return Promise.all(a).then(function(l){for(let h=0,f=l.length;h<f;h++)s.add(l[h]);const u=h=>{const f=new Map;for(const[p,m]of i.associations)(p instanceof hi||p instanceof fr)&&f.set(p,m);return h.traverse(p=>{const m=i.associations.get(p);m!=null&&f.set(p,m)}),f};return i.associations=u(s),s})}}function NLe(n,e,t){const r=e.attributes,i=new Yl;if(r.POSITION!==void 0){const a=t.json.accessors[r.POSITION],l=a.min,u=a.max;if(l!==void 0&&u!==void 0){if(i.set(new ie(l[0],l[1],l[2]),new ie(u[0],u[1],u[2])),a.normalized){const h=iN(Ey[a.componentType]);i.min.multiplyScalar(h),i.max.multiplyScalar(h)}}else{console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.");return}}else return;const s=e.targets;if(s!==void 0){const a=new ie,l=new ie;for(let u=0,h=s.length;u<h;u++){const f=s[u];if(f.POSITION!==void 0){const p=t.json.accessors[f.POSITION],m=p.min,v=p.max;if(m!==void 0&&v!==void 0){if(l.setX(Math.max(Math.abs(m[0]),Math.abs(v[0]))),l.setY(Math.max(Math.abs(m[1]),Math.abs(v[1]))),l.setZ(Math.max(Math.abs(m[2]),Math.abs(v[2]))),p.normalized){const S=iN(Ey[p.componentType]);l.multiplyScalar(S)}a.max(l)}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}i.expandByVector(a)}n.boundingBox=i;const o=new $a;i.getCenter(o.center),o.radius=i.min.distanceTo(i.max)/2,n.boundingSphere=o}function PW(n,e,t){const r=e.attributes,i=[];function s(o,a){return t.getDependency("accessor",o).then(function(l){n.setAttribute(a,l)})}for(const o in r){const a=rN[o]||o.toLowerCase();a in n.attributes||i.push(s(r[o],a))}if(e.indices!==void 0&&!n.index){const o=t.getDependency("accessor",e.indices).then(function(a){n.setIndex(a)});i.push(o)}return Sd(n,e),NLe(n,e,t),Promise.all(i).then(function(){return e.targets!==void 0?PLe(n,e.targets,t):n})}class ULe extends Qt{constructor(e,t,r,i){super();const s=[],o=[],a=[],l=new ie,u=new Ht;u.makeRotationFromEuler(r),u.setPosition(t);const h=new Ht;h.copy(u).invert(),f(),this.setAttribute("position",new Ct(s,3)),this.setAttribute("normal",new Ct(o,3)),this.setAttribute("uv",new Ct(a,2));function f(){let S,A=[];const g=new ie,M=new ie;if(e.geometry.isGeometry===!0){console.error("THREE.DecalGeometry no longer supports THREE.Geometry. Use BufferGeometry instead.");return}const _=e.geometry,b=_.attributes.position,T=_.attributes.normal;if(_.index!==null){const C=_.index;for(S=0;S<C.count;S++)g.fromBufferAttribute(b,C.getX(S)),M.fromBufferAttribute(T,C.getX(S)),p(A,g,M)}else for(S=0;S<b.count;S++)g.fromBufferAttribute(b,S),M.fromBufferAttribute(T,S),p(A,g,M);for(A=m(A,l.set(1,0,0)),A=m(A,l.set(-1,0,0)),A=m(A,l.set(0,1,0)),A=m(A,l.set(0,-1,0)),A=m(A,l.set(0,0,1)),A=m(A,l.set(0,0,-1)),S=0;S<A.length;S++){const C=A[S];a.push(.5+C.position.x/i.x,.5+C.position.y/i.y),C.position.applyMatrix4(u),s.push(C.position.x,C.position.y,C.position.z),o.push(C.normal.x,C.normal.y,C.normal.z)}}function p(S,A,g){A.applyMatrix4(e.matrixWorld),A.applyMatrix4(h),g.transformDirection(e.matrixWorld),S.push(new BW(A.clone(),g.clone()))}function m(S,A){const g=[],M=.5*Math.abs(i.dot(A));for(let _=0;_<S.length;_+=3){let b,T,C,B=0,P,R,L,U;const Q=S[_+0].position.dot(A)-M,W=S[_+1].position.dot(A)-M,Y=S[_+2].position.dot(A)-M;switch(b=Q>0,T=W>0,C=Y>0,B=(b?1:0)+(T?1:0)+(C?1:0),B){case 0:{g.push(S[_]),g.push(S[_+1]),g.push(S[_+2]);break}case 1:{if(b&&(P=S[_+1],R=S[_+2],L=v(S[_],P,A,M),U=v(S[_],R,A,M)),T){P=S[_],R=S[_+2],L=v(S[_+1],P,A,M),U=v(S[_+1],R,A,M),g.push(L),g.push(R.clone()),g.push(P.clone()),g.push(R.clone()),g.push(L.clone()),g.push(U);break}C&&(P=S[_],R=S[_+1],L=v(S[_+2],P,A,M),U=v(S[_+2],R,A,M)),g.push(P.clone()),g.push(R.clone()),g.push(L),g.push(U),g.push(L.clone()),g.push(R.clone());break}case 2:{b||(P=S[_].clone(),R=v(P,S[_+1],A,M),L=v(P,S[_+2],A,M),g.push(P),g.push(R),g.push(L)),T||(P=S[_+1].clone(),R=v(P,S[_+2],A,M),L=v(P,S[_],A,M),g.push(P),g.push(R),g.push(L)),C||(P=S[_+2].clone(),R=v(P,S[_],A,M),L=v(P,S[_+1],A,M),g.push(P),g.push(R),g.push(L));break}}}return g}function v(S,A,g,M){const _=S.position.dot(g)-M,b=A.position.dot(g)-M,T=_/(_-b);return new BW(new ie(S.position.x+T*(A.position.x-S.position.x),S.position.y+T*(A.position.y-S.position.y),S.position.z+T*(A.position.z-S.position.z)),new ie(S.normal.x+T*(A.normal.x-S.normal.x),S.normal.y+T*(A.normal.y-S.normal.y),S.normal.z+T*(A.normal.z-S.normal.z)))}}}class BW{constructor(e,t){this.position=e,this.normal=t}clone(){return new this.constructor(this.position.clone(),this.normal.clone())}}const KL=new WeakMap;class OLe extends qs{constructor(e){super(e),this.decoderPath="",this.decoderConfig={},this.decoderBinary=null,this.decoderPending=null,this.workerLimit=4,this.workerPool=[],this.workerNextTaskID=1,this.workerSourceURL="",this.defaultAttributeIDs={position:"POSITION",normal:"NORMAL",color:"COLOR",uv:"TEX_COORD"},this.defaultAttributeTypes={position:"Float32Array",normal:"Float32Array",color:"Float32Array",uv:"Float32Array"}}setDecoderPath(e){return this.decoderPath=e,this}setDecoderConfig(e){return this.decoderConfig=e,this}setWorkerLimit(e){return this.workerLimit=e,this}load(e,t,r,i){const s=new na(this.manager);s.setPath(this.path),s.setResponseType("arraybuffer"),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(e,o=>{const a={attributeIDs:this.defaultAttributeIDs,attributeTypes:this.defaultAttributeTypes,useUniqueIDs:!1};this.decodeGeometry(o,a).then(t).catch(i)},r,i)}decodeDracoFile(e,t,r,i){const s={attributeIDs:r||this.defaultAttributeIDs,attributeTypes:i||this.defaultAttributeTypes,useUniqueIDs:!!r};this.decodeGeometry(e,s).then(t)}decodeGeometry(e,t){for(const l in t.attributeTypes){const u=t.attributeTypes[l];u.BYTES_PER_ELEMENT!==void 0&&(t.attributeTypes[l]=u.name)}const r=JSON.stringify(t);if(KL.has(e)){const l=KL.get(e);if(l.key===r)return l.promise;if(e.byteLength===0)throw new Error("THREE.DRACOLoader: Unable to re-decode a buffer with different settings. Buffer has already been transferred.")}let i;const s=this.workerNextTaskID++,o=e.byteLength,a=this._getWorker(s,o).then(l=>(i=l,new Promise((u,h)=>{i._callbacks[s]={resolve:u,reject:h},i.postMessage({type:"decode",id:s,taskConfig:t,buffer:e},[e])}))).then(l=>this._createGeometry(l.geometry));return a.catch(()=>!0).then(()=>{i&&s&&this._releaseTask(i,s)}),KL.set(e,{key:r,promise:a}),a}_createGeometry(e){const t=new Qt;e.index&&t.setIndex(new Bn(e.index.array,1));for(let r=0;r<e.attributes.length;r++){const i=e.attributes[r],s=i.name,o=i.array,a=i.itemSize;t.setAttribute(s,new Bn(o,a))}return t}_loadLibrary(e,t){const r=new na(this.manager);return r.setPath(this.decoderPath),r.setResponseType(t),r.setWithCredentials(this.withCredentials),new Promise((i,s)=>{r.load(e,i,void 0,s)})}preload(){return this._initDecoder(),this}_initDecoder(){if(this.decoderPending)return this.decoderPending;const e=typeof WebAssembly!="object"||this.decoderConfig.type==="js",t=[];return e?t.push(this._loadLibrary("draco_decoder.js","text")):(t.push(this._loadLibrary("draco_wasm_wrapper.js","text")),t.push(this._loadLibrary("draco_decoder.wasm","arraybuffer"))),this.decoderPending=Promise.all(t).then(r=>{const i=r[0];e||(this.decoderConfig.wasmBinary=r[1]);const s=kLe.toString(),o=["/* draco decoder */",i,"","/* worker */",s.substring(s.indexOf("{")+1,s.lastIndexOf("}"))].join(`
`);this.workerSourceURL=URL.createObjectURL(new Blob([o]))}),this.decoderPending}_getWorker(e,t){return this._initDecoder().then(()=>{if(this.workerPool.length<this.workerLimit){const i=new Worker(this.workerSourceURL);i._callbacks={},i._taskCosts={},i._taskLoad=0,i.postMessage({type:"init",decoderConfig:this.decoderConfig}),i.onmessage=function(s){const o=s.data;switch(o.type){case"decode":i._callbacks[o.id].resolve(o);break;case"error":i._callbacks[o.id].reject(o);break;default:console.error('THREE.DRACOLoader: Unexpected message, "'+o.type+'"')}},this.workerPool.push(i)}else this.workerPool.sort(function(i,s){return i._taskLoad>s._taskLoad?-1:1});const r=this.workerPool[this.workerPool.length-1];return r._taskCosts[e]=t,r._taskLoad+=t,r})}_releaseTask(e,t){e._taskLoad-=e._taskCosts[t],delete e._callbacks[t],delete e._taskCosts[t]}debug(){console.log("Task load: ",this.workerPool.map(e=>e._taskLoad))}dispose(){for(let e=0;e<this.workerPool.length;++e)this.workerPool[e].terminate();return this.workerPool.length=0,this}}function kLe(){let n,e;onmessage=function(o){const a=o.data;switch(a.type){case"init":n=a.decoderConfig,e=new Promise(function(h){n.onModuleLoaded=function(f){h({draco:f})},DracoDecoderModule(n)});break;case"decode":const l=a.buffer,u=a.taskConfig;e.then(h=>{const f=h.draco,p=new f.Decoder,m=new f.DecoderBuffer;m.Init(new Int8Array(l),l.byteLength);try{const v=t(f,p,m,u),S=v.attributes.map(A=>A.array.buffer);v.index&&S.push(v.index.array.buffer),self.postMessage({type:"decode",id:a.id,geometry:v},S)}catch(v){console.error(v),self.postMessage({type:"error",id:a.id,error:v.message})}finally{f.destroy(m),f.destroy(p)}});break}};function t(o,a,l,u){const h=u.attributeIDs,f=u.attributeTypes;let p,m;const v=a.GetEncodedGeometryType(l);if(v===o.TRIANGULAR_MESH)p=new o.Mesh,m=a.DecodeBufferToMesh(l,p);else if(v===o.POINT_CLOUD)p=new o.PointCloud,m=a.DecodeBufferToPointCloud(l,p);else throw new Error("THREE.DRACOLoader: Unexpected geometry type.");if(!m.ok()||p.ptr===0)throw new Error("THREE.DRACOLoader: Decoding failed: "+m.error_msg());const S={index:null,attributes:[]};for(const A in h){const g=self[f[A]];let M,_;if(u.useUniqueIDs)_=h[A],M=a.GetAttributeByUniqueId(p,_);else{if(_=a.GetAttributeId(p,o[h[A]]),_===-1)continue;M=a.GetAttribute(p,_)}S.attributes.push(i(o,a,p,A,g,M))}return v===o.TRIANGULAR_MESH&&(S.index=r(o,a,p)),o.destroy(p),S}function r(o,a,l){const h=l.num_faces()*3,f=h*4,p=o._malloc(f);a.GetTrianglesUInt32Array(l,f,p);const m=new Uint32Array(o.HEAPF32.buffer,p,h).slice();return o._free(p),{array:m,itemSize:1}}function i(o,a,l,u,h,f){const p=f.num_components(),v=l.num_points()*p,S=v*h.BYTES_PER_ELEMENT,A=s(o,h),g=o._malloc(S);a.GetAttributeDataArrayForAllPoints(l,f,A,S,g);const M=new h(o.HEAPF32.buffer,g,v).slice();return o._free(g),{name:u,array:M,itemSize:p}}function s(o,a){switch(a){case Float32Array:return o.DT_FLOAT32;case Int8Array:return o.DT_INT8;case Int16Array:return o.DT_INT16;case Int32Array:return o.DT_INT32;case Uint8Array:return o.DT_UINT8;case Uint16Array:return o.DT_UINT16;case Uint32Array:return o.DT_UINT32}}}let Rw;const QL=()=>{if(Rw)return Rw;const n="B9h9z9tFBBBF8fL9gBB9gLaaaaaFa9gEaaaB9gFaFa9gEaaaFaEMcBFFFGGGEIIILF9wFFFLEFBFKNFaFCx/IFMO/LFVK9tv9t9vq95GBt9f9f939h9z9t9f9j9h9s9s9f9jW9vq9zBBp9tv9z9o9v9wW9f9kv9j9v9kv9WvqWv94h919m9mvqBF8Z9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv94h919m9mvqBGy9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv949TvZ91v9u9jvBEn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9P9jWBIi9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9R919hWBLn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9F949wBKI9z9iqlBOc+x8ycGBM/qQFTa8jUUUUBCU/EBlHL8kUUUUBC9+RKGXAGCFJAI9LQBCaRKAE2BBC+gF9HQBALAEAIJHOAGlAGTkUUUBRNCUoBAG9uC/wgBZHKCUGAKCUG9JyRVAECFJRICBRcGXEXAcAF9PQFAVAFAclAcAVJAF9JyRMGXGXAG9FQBAMCbJHKC9wZRSAKCIrCEJCGrRQANCUGJRfCBRbAIRTEXGXAOATlAQ9PQBCBRISEMATAQJRIGXAS9FQBCBRtCBREEXGXAOAIlCi9PQBCBRISLMANCU/CBJAEJRKGXGXGXGXGXATAECKrJ2BBAtCKZrCEZfIBFGEBMAKhB83EBAKCNJhB83EBSEMAKAI2BIAI2BBHmCKrHYAYCE6HYy86BBAKCFJAICIJAYJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCGJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCEJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCIJAYAmJHY2BBAI2BFHmCKrHPAPCE6HPy86BBAKCLJAYAPJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCKJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCOJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCNJAYAmJHY2BBAI2BGHmCKrHPAPCE6HPy86BBAKCVJAYAPJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCcJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCMJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCSJAYAmJHm2BBAI2BEHICKrHYAYCE6HYy86BBAKCQJAmAYJHm2BBAICIrCEZHYAYCE6HYy86BBAKCfJAmAYJHm2BBAICGrCEZHYAYCE6HYy86BBAKCbJAmAYJHK2BBAICEZHIAICE6HIy86BBAKAIJRISGMAKAI2BNAI2BBHmCIrHYAYCb6HYy86BBAKCFJAICNJAYJHY2BBAmCbZHmAmCb6Hmy86BBAKCGJAYAmJHm2BBAI2BFHYCIrHPAPCb6HPy86BBAKCEJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCIJAmAYJHm2BBAI2BGHYCIrHPAPCb6HPy86BBAKCLJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCKJAmAYJHm2BBAI2BEHYCIrHPAPCb6HPy86BBAKCOJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCNJAmAYJHm2BBAI2BIHYCIrHPAPCb6HPy86BBAKCVJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCcJAmAYJHm2BBAI2BLHYCIrHPAPCb6HPy86BBAKCMJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCSJAmAYJHm2BBAI2BKHYCIrHPAPCb6HPy86BBAKCQJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCfJAmAYJHm2BBAI2BOHICIrHYAYCb6HYy86BBAKCbJAmAYJHK2BBAICbZHIAICb6HIy86BBAKAIJRISFMAKAI8pBB83BBAKCNJAICNJ8pBB83BBAICTJRIMAtCGJRtAECTJHEAS9JQBMMGXAIQBCBRISEMGXAM9FQBANAbJ2BBRtCBRKAfREEXAEANCU/CBJAKJ2BBHTCFrCBATCFZl9zAtJHt86BBAEAGJREAKCFJHKAM9HQBMMAfCFJRfAIRTAbCFJHbAG9HQBMMABAcAG9sJANCUGJAMAG9sTkUUUBpANANCUGJAMCaJAG9sJAGTkUUUBpMAMCBAIyAcJRcAIQBMC9+RKSFMCBC99AOAIlAGCAAGCA9Ly6yRKMALCU/EBJ8kUUUUBAKM+OmFTa8jUUUUBCoFlHL8kUUUUBC9+RKGXAFCE9uHOCtJAI9LQBCaRKAE2BBHNC/wFZC/gF9HQBANCbZHVCF9LQBALCoBJCgFCUFT+JUUUBpALC84Jha83EBALC8wJha83EBALC8oJha83EBALCAJha83EBALCiJha83EBALCTJha83EBALha83ENALha83EBAEAIJC9wJRcAECFJHNAOJRMGXAF9FQBCQCbAVCF6yRSABRECBRVCBRQCBRfCBRICBRKEXGXAMAcuQBC9+RKSEMGXGXAN2BBHOC/vF9LQBALCoBJAOCIrCa9zAKJCbZCEWJHb8oGIRTAb8oGBRtGXAOCbZHbAS9PQBALAOCa9zAIJCbZCGWJ8oGBAVAbyROAb9FRbGXGXAGCG9HQBABAt87FBABCIJAO87FBABCGJAT87FBSFMAEAtjGBAECNJAOjGBAECIJATjGBMAVAbJRVALCoBJAKCEWJHmAOjGBAmATjGIALAICGWJAOjGBALCoBJAKCFJCbZHKCEWJHTAtjGBATAOjGIAIAbJRIAKCFJRKSGMGXGXAbCb6QBAQAbJAbC989zJCFJRQSFMAM1BBHbCgFZROGXGXAbCa9MQBAMCFJRMSFMAM1BFHbCgBZCOWAOCgBZqROGXAbCa9MQBAMCGJRMSFMAM1BGHbCgBZCfWAOqROGXAbCa9MQBAMCEJRMSFMAM1BEHbCgBZCdWAOqROGXAbCa9MQBAMCIJRMSFMAM2BIC8cWAOqROAMCLJRMMAOCFrCBAOCFZl9zAQJRQMGXGXAGCG9HQBABAt87FBABCIJAQ87FBABCGJAT87FBSFMAEAtjGBAECNJAQjGBAECIJATjGBMALCoBJAKCEWJHOAQjGBAOATjGIALAICGWJAQjGBALCoBJAKCFJCbZHKCEWJHOAtjGBAOAQjGIAICFJRIAKCFJRKSFMGXAOCDF9LQBALAIAcAOCbZJ2BBHbCIrHTlCbZCGWJ8oGBAVCFJHtATyROALAIAblCbZCGWJ8oGBAtAT9FHmJHtAbCbZHTyRbAT9FRTGXGXAGCG9HQBABAV87FBABCIJAb87FBABCGJAO87FBSFMAEAVjGBAECNJAbjGBAECIJAOjGBMALAICGWJAVjGBALCoBJAKCEWJHYAOjGBAYAVjGIALAICFJHICbZCGWJAOjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAIAmJCbZHICGWJAbjGBALCoBJAKCGJCbZHKCEWJHOAVjGBAOAbjGIAKCFJRKAIATJRIAtATJRVSFMAVCBAM2BBHYyHTAOC/+F6HPJROAYCbZRtGXGXAYCIrHmQBAOCFJRbSFMAORbALAIAmlCbZCGWJ8oGBROMGXGXAtQBAbCFJRVSFMAbRVALAIAYlCbZCGWJ8oGBRbMGXGXAP9FQBAMCFJRYSFMAM1BFHYCgFZRTGXGXAYCa9MQBAMCGJRYSFMAM1BGHYCgBZCOWATCgBZqRTGXAYCa9MQBAMCEJRYSFMAM1BEHYCgBZCfWATqRTGXAYCa9MQBAMCIJRYSFMAM1BIHYCgBZCdWATqRTGXAYCa9MQBAMCLJRYSFMAMCKJRYAM2BLC8cWATqRTMATCFrCBATCFZl9zAQJHQRTMGXGXAmCb6QBAYRPSFMAY1BBHMCgFZROGXGXAMCa9MQBAYCFJRPSFMAY1BFHMCgBZCOWAOCgBZqROGXAMCa9MQBAYCGJRPSFMAY1BGHMCgBZCfWAOqROGXAMCa9MQBAYCEJRPSFMAY1BEHMCgBZCdWAOqROGXAMCa9MQBAYCIJRPSFMAYCLJRPAY2BIC8cWAOqROMAOCFrCBAOCFZl9zAQJHQROMGXGXAtCb6QBAPRMSFMAP1BBHMCgFZRbGXGXAMCa9MQBAPCFJRMSFMAP1BFHMCgBZCOWAbCgBZqRbGXAMCa9MQBAPCGJRMSFMAP1BGHMCgBZCfWAbqRbGXAMCa9MQBAPCEJRMSFMAP1BEHMCgBZCdWAbqRbGXAMCa9MQBAPCIJRMSFMAPCLJRMAP2BIC8cWAbqRbMAbCFrCBAbCFZl9zAQJHQRbMGXGXAGCG9HQBABAT87FBABCIJAb87FBABCGJAO87FBSFMAEATjGBAECNJAbjGBAECIJAOjGBMALCoBJAKCEWJHYAOjGBAYATjGIALAICGWJATjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAICFJHICbZCGWJAOjGBALCoBJAKCGJCbZCEWJHOATjGBAOAbjGIALAIAm9FAmCb6qJHICbZCGWJAbjGBAIAt9FAtCb6qJRIAKCEJRKMANCFJRNABCKJRBAECSJREAKCbZRKAICbZRIAfCEJHfAF9JQBMMCBC99AMAc6yRKMALCoFJ8kUUUUBAKM/tIFGa8jUUUUBCTlRLC9+RKGXAFCLJAI9LQBCaRKAE2BBC/+FZC/QF9HQBALhB83ENAECFJRKAEAIJC98JREGXAF9FQBGXAGCG6QBEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMALCNJAICFZCGWqHGAICGrCBAICFrCFZl9zAG8oGBJHIjGBABAIjGBABCIJRBAFCaJHFQBSGMMEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMABAICGrCBAICFrCFZl9zALCNJAICFZCGWqHI8oGBJHG87FBAIAGjGBABCGJRBAFCaJHFQBMMCBC99AKAE6yRKMAKM+lLKFaF99GaG99FaG99GXGXAGCI9HQBAF9FQFEXGXGX9DBBB8/9DBBB+/ABCGJHG1BB+yAB1BBHE+yHI+L+TABCFJHL1BBHK+yHO+L+THN9DBBBB9gHVyAN9DBB/+hANAN+U9DBBBBANAVyHcAc+MHMAECa3yAI+SHIAI+UAcAMAKCa3yAO+SHcAc+U+S+S+R+VHO+U+SHN+L9DBBB9P9d9FQBAN+oRESFMCUUUU94REMAGAE86BBGXGX9DBBB8/9DBBB+/Ac9DBBBB9gyAcAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMALAG86BBGXGX9DBBB8/9DBBB+/AI9DBBBB9gyAIAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMABAG86BBABCIJRBAFCaJHFQBSGMMAF9FQBEXGXGX9DBBB8/9DBBB+/ABCIJHG8uFB+yAB8uFBHE+yHI+L+TABCGJHL8uFBHK+yHO+L+THN9DBBBB9gHVyAN9DB/+g6ANAN+U9DBBBBANAVyHcAc+MHMAECa3yAI+SHIAI+UAcAMAKCa3yAO+SHcAc+U+S+S+R+VHO+U+SHN+L9DBBB9P9d9FQBAN+oRESFMCUUUU94REMAGAE87FBGXGX9DBBB8/9DBBB+/Ac9DBBBB9gyAcAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMALAG87FBGXGX9DBBB8/9DBBB+/AI9DBBBB9gyAIAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMABAG87FBABCNJRBAFCaJHFQBMMM/SEIEaE99EaF99GXAF9FQBCBREABRIEXGXGX9D/zI818/AICKJ8uFBHLCEq+y+VHKAI8uFB+y+UHO9DB/+g6+U9DBBB8/9DBBB+/AO9DBBBB9gy+SHN+L9DBBB9P9d9FQBAN+oRVSFMCUUUU94RVMAICIJ8uFBRcAICGJ8uFBRMABALCFJCEZAEqCFWJAV87FBGXGXAKAM+y+UHN9DB/+g6+U9DBBB8/9DBBB+/AN9DBBBB9gy+SHS+L9DBBB9P9d9FQBAS+oRMSFMCUUUU94RMMABALCGJCEZAEqCFWJAM87FBGXGXAKAc+y+UHK9DB/+g6+U9DBBB8/9DBBB+/AK9DBBBB9gy+SHS+L9DBBB9P9d9FQBAS+oRcSFMCUUUU94RcMABALCaJCEZAEqCFWJAc87FBGXGX9DBBU8/AOAO+U+TANAN+U+TAKAK+U+THO9DBBBBAO9DBBBB9gy+R9DB/+g6+U9DBBB8/+SHO+L9DBBB9P9d9FQBAO+oRcSFMCUUUU94RcMABALCEZAEqCFWJAc87FBAICNJRIAECIJREAFCaJHFQBMMM9JBGXAGCGrAF9sHF9FQBEXABAB8oGBHGCNWCN91+yAGCi91CnWCUUU/8EJ+++U84GBABCIJRBAFCaJHFQBMMM9TFEaCBCB8oGUkUUBHFABCEJC98ZJHBjGUkUUBGXGXAB8/BCTWHGuQBCaREABAGlCggEJCTrXBCa6QFMAFREMAEM/lFFFaGXGXAFABqCEZ9FQBABRESFMGXGXAGCT9PQBABRESFMABREEXAEAF8oGBjGBAECIJAFCIJ8oGBjGBAECNJAFCNJ8oGBjGBAECSJAFCSJ8oGBjGBAECTJREAFCTJRFAGC9wJHGCb9LQBMMAGCI9JQBEXAEAF8oGBjGBAFCIJRFAECIJREAGC98JHGCE9LQBMMGXAG9FQBEXAEAF2BB86BBAECFJREAFCFJRFAGCaJHGQBMMABMoFFGaGXGXABCEZ9FQBABRESFMAFCgFZC+BwsN9sRIGXGXAGCT9PQBABRESFMABREEXAEAIjGBAECSJAIjGBAECNJAIjGBAECIJAIjGBAECTJREAGC9wJHGCb9LQBMMAGCI9JQBEXAEAIjGBAECIJREAGC98JHGCE9LQBMMGXAG9FQBEXAEAF86BBAECFJREAGCaJHGQBMMABMMMFBCUNMIT9kBB",e="B9h9z9tFBBBFiI9gBB9gLaaaaaFa9gEaaaB9gFaFaEMcBBFBFFGGGEILF9wFFFLEFBFKNFaFCx/aFMO/LFVK9tv9t9vq95GBt9f9f939h9z9t9f9j9h9s9s9f9jW9vq9zBBp9tv9z9o9v9wW9f9kv9j9v9kv9WvqWv94h919m9mvqBG8Z9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv94h919m9mvqBIy9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv949TvZ91v9u9jvBLn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9P9jWBKi9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9R919hWBOn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9F949wBNI9z9iqlBVc+N9IcIBTEM9+FLa8jUUUUBCTlRBCBRFEXCBRGCBREEXABCNJAGJAECUaAFAGrCFZHIy86BBAEAIJREAGCFJHGCN9HQBMAFCx+YUUBJAE86BBAFCEWCxkUUBJAB8pEN83EBAFCFJHFCUG9HQBMMk8lLbaE97F9+FaL978jUUUUBCU/KBlHL8kUUUUBC9+RKGXAGCFJAI9LQBCaRKAE2BBC+gF9HQBALAEAIJHOAGlAG/8cBBCUoBAG9uC/wgBZHKCUGAKCUG9JyRNAECFJRKCBRVGXEXAVAF9PQFANAFAVlAVANJAF9JyRcGXGXAG9FQBAcCbJHIC9wZHMCE9sRSAMCFWRQAICIrCEJCGrRfCBRbEXAKRTCBRtGXEXGXAOATlAf9PQBCBRKSLMALCU/CBJAtAM9sJRmATAfJRKCBREGXAMCoB9JQBAOAKlC/gB9JQBCBRIEXAmAIJREGXGXGXGXGXATAICKrJ2BBHYCEZfIBFGEBMAECBDtDMIBSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMIBAKCTJRKMGXGXGXGXGXAYCGrCEZfIBFGEBMAECBDtDMITSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMITAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMITAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMITAKCTJRKMGXGXGXGXGXAYCIrCEZfIBFGEBMAECBDtDMIASEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIAAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIAAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMIAAKCTJRKMGXGXGXGXGXAYCKrfIBFGEBMAECBDtDMI8wSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHYCEWCxkUUBJDBEBAYCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHYCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMI8wAKCIJAeDeBJAYCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHYCEWCxkUUBJDBEBAYCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHYCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMI8wAKCNJAeDeBJAYCx+YUUBJ2BBJRKSFMAEAKDBBBDMI8wAKCTJRKMAICoBJREAICUFJAM9LQFAERIAOAKlC/fB9LQBMMGXAEAM9PQBAECErRIEXGXAOAKlCi9PQBCBRKSOMAmAEJRYGXGXGXGXGXATAECKrJ2BBAICKZrCEZfIBFGEBMAYCBDtDMIBSEMAYAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAYAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAYAKDBBBDMIBAKCTJRKMAICGJRIAECTJHEAM9JQBMMGXAK9FQBAKRTAtCFJHtCI6QGSFMMCBRKSEMGXAM9FQBALCUGJAbJREALAbJDBGBReCBRYEXAEALCU/CBJAYJHIDBIBHdCFD9tAdCFDbHPD9OD9hD9RHdAIAMJDBIBH8ZCFD9tA8ZAPD9OD9hD9RH8ZDQBTFtGmEYIPLdKeOnHpAIAQJDBIBHyCFD9tAyAPD9OD9hD9RHyAIASJDBIBH8cCFD9tA8cAPD9OD9hD9RH8cDQBTFtGmEYIPLdKeOnH8dDQBFTtGEmYILPdKOenHPAPDQBFGEBFGEBFGEBFGEAeD9uHeDyBjGBAEAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeApA8dDQNVi8ZcMpySQ8c8dfb8e8fHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeAdA8ZDQNiV8ZcpMyS8cQ8df8eb8fHdAyA8cDQNiV8ZcpMyS8cQ8df8eb8fH8ZDQBFTtGEmYILPdKOenHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeAdA8ZDQNVi8ZcMpySQ8c8dfb8e8fHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJREAYCTJHYAM9JQBMMAbCIJHbAG9JQBMMABAVAG9sJALCUGJAcAG9s/8cBBALALCUGJAcCaJAG9sJAG/8cBBMAcCBAKyAVJRVAKQBMC9+RKSFMCBC99AOAKlAGCAAGCA9Ly6yRKMALCU/KBJ8kUUUUBAKMNBT+BUUUBM+KmFTa8jUUUUBCoFlHL8kUUUUBC9+RKGXAFCE9uHOCtJAI9LQBCaRKAE2BBHNC/wFZC/gF9HQBANCbZHVCF9LQBALCoBJCgFCUF/8MBALC84Jha83EBALC8wJha83EBALC8oJha83EBALCAJha83EBALCiJha83EBALCTJha83EBALha83ENALha83EBAEAIJC9wJRcAECFJHNAOJRMGXAF9FQBCQCbAVCF6yRSABRECBRVCBRQCBRfCBRICBRKEXGXAMAcuQBC9+RKSEMGXGXAN2BBHOC/vF9LQBALCoBJAOCIrCa9zAKJCbZCEWJHb8oGIRTAb8oGBRtGXAOCbZHbAS9PQBALAOCa9zAIJCbZCGWJ8oGBAVAbyROAb9FRbGXGXAGCG9HQBABAt87FBABCIJAO87FBABCGJAT87FBSFMAEAtjGBAECNJAOjGBAECIJATjGBMAVAbJRVALCoBJAKCEWJHmAOjGBAmATjGIALAICGWJAOjGBALCoBJAKCFJCbZHKCEWJHTAtjGBATAOjGIAIAbJRIAKCFJRKSGMGXGXAbCb6QBAQAbJAbC989zJCFJRQSFMAM1BBHbCgFZROGXGXAbCa9MQBAMCFJRMSFMAM1BFHbCgBZCOWAOCgBZqROGXAbCa9MQBAMCGJRMSFMAM1BGHbCgBZCfWAOqROGXAbCa9MQBAMCEJRMSFMAM1BEHbCgBZCdWAOqROGXAbCa9MQBAMCIJRMSFMAM2BIC8cWAOqROAMCLJRMMAOCFrCBAOCFZl9zAQJRQMGXGXAGCG9HQBABAt87FBABCIJAQ87FBABCGJAT87FBSFMAEAtjGBAECNJAQjGBAECIJATjGBMALCoBJAKCEWJHOAQjGBAOATjGIALAICGWJAQjGBALCoBJAKCFJCbZHKCEWJHOAtjGBAOAQjGIAICFJRIAKCFJRKSFMGXAOCDF9LQBALAIAcAOCbZJ2BBHbCIrHTlCbZCGWJ8oGBAVCFJHtATyROALAIAblCbZCGWJ8oGBAtAT9FHmJHtAbCbZHTyRbAT9FRTGXGXAGCG9HQBABAV87FBABCIJAb87FBABCGJAO87FBSFMAEAVjGBAECNJAbjGBAECIJAOjGBMALAICGWJAVjGBALCoBJAKCEWJHYAOjGBAYAVjGIALAICFJHICbZCGWJAOjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAIAmJCbZHICGWJAbjGBALCoBJAKCGJCbZHKCEWJHOAVjGBAOAbjGIAKCFJRKAIATJRIAtATJRVSFMAVCBAM2BBHYyHTAOC/+F6HPJROAYCbZRtGXGXAYCIrHmQBAOCFJRbSFMAORbALAIAmlCbZCGWJ8oGBROMGXGXAtQBAbCFJRVSFMAbRVALAIAYlCbZCGWJ8oGBRbMGXGXAP9FQBAMCFJRYSFMAM1BFHYCgFZRTGXGXAYCa9MQBAMCGJRYSFMAM1BGHYCgBZCOWATCgBZqRTGXAYCa9MQBAMCEJRYSFMAM1BEHYCgBZCfWATqRTGXAYCa9MQBAMCIJRYSFMAM1BIHYCgBZCdWATqRTGXAYCa9MQBAMCLJRYSFMAMCKJRYAM2BLC8cWATqRTMATCFrCBATCFZl9zAQJHQRTMGXGXAmCb6QBAYRPSFMAY1BBHMCgFZROGXGXAMCa9MQBAYCFJRPSFMAY1BFHMCgBZCOWAOCgBZqROGXAMCa9MQBAYCGJRPSFMAY1BGHMCgBZCfWAOqROGXAMCa9MQBAYCEJRPSFMAY1BEHMCgBZCdWAOqROGXAMCa9MQBAYCIJRPSFMAYCLJRPAY2BIC8cWAOqROMAOCFrCBAOCFZl9zAQJHQROMGXGXAtCb6QBAPRMSFMAP1BBHMCgFZRbGXGXAMCa9MQBAPCFJRMSFMAP1BFHMCgBZCOWAbCgBZqRbGXAMCa9MQBAPCGJRMSFMAP1BGHMCgBZCfWAbqRbGXAMCa9MQBAPCEJRMSFMAP1BEHMCgBZCdWAbqRbGXAMCa9MQBAPCIJRMSFMAPCLJRMAP2BIC8cWAbqRbMAbCFrCBAbCFZl9zAQJHQRbMGXGXAGCG9HQBABAT87FBABCIJAb87FBABCGJAO87FBSFMAEATjGBAECNJAbjGBAECIJAOjGBMALCoBJAKCEWJHYAOjGBAYATjGIALAICGWJATjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAICFJHICbZCGWJAOjGBALCoBJAKCGJCbZCEWJHOATjGBAOAbjGIALAIAm9FAmCb6qJHICbZCGWJAbjGBAIAt9FAtCb6qJRIAKCEJRKMANCFJRNABCKJRBAECSJREAKCbZRKAICbZRIAfCEJHfAF9JQBMMCBC99AMAc6yRKMALCoFJ8kUUUUBAKM/tIFGa8jUUUUBCTlRLC9+RKGXAFCLJAI9LQBCaRKAE2BBC/+FZC/QF9HQBALhB83ENAECFJRKAEAIJC98JREGXAF9FQBGXAGCG6QBEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMALCNJAICFZCGWqHGAICGrCBAICFrCFZl9zAG8oGBJHIjGBABAIjGBABCIJRBAFCaJHFQBSGMMEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMABAICGrCBAICFrCFZl9zALCNJAICFZCGWqHI8oGBJHG87FBAIAGjGBABCGJRBAFCaJHFQBMMCBC99AKAE6yRKMAKM/dLEK97FaF97GXGXAGCI9HQBAF9FQFCBRGEXABABDBBBHECiD+rFCiD+sFD/6FHIAECND+rFCiD+sFD/6FAID/gFAECTD+rFCiD+sFD/6FHLD/gFD/kFD/lFHKCBDtD+2FHOAICUUUU94DtHND9OD9RD/kFHI9DBB/+hDYAIAID/mFAKAKD/mFALAOALAND9OD9RD/kFHIAID/mFD/kFD/kFD/jFD/nFHLD/mF9DBBX9LDYHOD/kFCgFDtD9OAECUUU94DtD9OD9QAIALD/mFAOD/kFCND+rFCU/+EDtD9OD9QAKALD/mFAOD/kFCTD+rFCUU/8ODtD9OD9QDMBBABCTJRBAGCIJHGAF9JQBSGMMAF9FQBCBRGEXABCTJHVAVDBBBHECBDtHOCUU98D8cFCUU98D8cEHND9OABDBBBHKAEDQILKOSQfbPden8c8d8e8fCggFDtD9OD/6FAKAEDQBFGENVcMTtmYi8ZpyHECTD+sFD/6FHID/gFAECTD+rFCTD+sFD/6FHLD/gFD/kFD/lFHE9DB/+g6DYALAEAOD+2FHOALCUUUU94DtHcD9OD9RD/kFHLALD/mFAEAED/mFAIAOAIAcD9OD9RD/kFHEAED/mFD/kFD/kFD/jFD/nFHID/mF9DBBX9LDYHOD/kFCTD+rFALAID/mFAOD/kFCggEDtD9OD9QHLAEAID/mFAOD/kFCaDbCBDnGCBDnECBDnKCBDnOCBDncCBDnMCBDnfCBDnbD9OHEDQNVi8ZcMpySQ8c8dfb8e8fD9QDMBBABAKAND9OALAEDQBFTtGEmYILPdKOenD9QDMBBABCAJRBAGCIJHGAF9JQBMMM/hEIGaF97FaL978jUUUUBCTlREGXAF9FQBCBRIEXAEABDBBBHLABCTJHKDBBBHODQILKOSQfbPden8c8d8e8fHNCTD+sFHVCID+rFDMIBAB9DBBU8/DY9D/zI818/DYAVCEDtD9QD/6FD/nFHVALAODQBFGENVcMTtmYi8ZpyHLCTD+rFCTD+sFD/6FD/mFHOAOD/mFAVALCTD+sFD/6FD/mFHcAcD/mFAVANCTD+rFCTD+sFD/6FD/mFHNAND/mFD/kFD/kFD/lFCBDtD+4FD/jF9DB/+g6DYHVD/mF9DBBX9LDYHLD/kFCggEDtHMD9OAcAVD/mFALD/kFCTD+rFD9QHcANAVD/mFALD/kFCTD+rFAOAVD/mFALD/kFAMD9OD9QHVDQBFTtGEmYILPdKOenHLD8dBAEDBIBDyB+t+J83EBABCNJALD8dFAEDBIBDyF+t+J83EBAKAcAVDQNVi8ZcMpySQ8c8dfb8e8fHVD8dBAEDBIBDyG+t+J83EBABCiJAVD8dFAEDBIBDyE+t+J83EBABCAJRBAICIJHIAF9JQBMMM9jFF97GXAGCGrAF9sHG9FQBCBRFEXABABDBBBHECND+rFCND+sFD/6FAECiD+sFCnD+rFCUUU/8EDtD+uFD/mFDMBBABCTJRBAFCIJHFAG9JQBMMM9TFEaCBCB8oGUkUUBHFABCEJC98ZJHBjGUkUUBGXGXAB8/BCTWHGuQBCaREABAGlCggEJCTrXBCa6QFMAFREMAEMMMFBCUNMIT9tBB",t=new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,3,2,0,0,5,3,1,0,1,12,1,0,10,22,2,12,0,65,0,65,0,65,0,252,10,0,0,11,7,0,65,0,253,15,26,11]),r=new Uint8Array([32,0,65,253,3,1,2,34,4,106,6,5,11,8,7,20,13,33,12,16,128,9,116,64,19,113,127,15,10,21,22,14,255,66,24,54,136,107,18,23,192,26,114,118,132,17,77,101,130,144,27,87,131,44,45,74,156,154,70,167]);if(typeof WebAssembly!="object")return{supported:!1};let i=n;WebAssembly.validate(t)&&(i=e);let s;const o=WebAssembly.instantiate(a(i),{}).then(f=>{s=f.instance,s.exports.__wasm_call_ctors()});function a(f){const p=new Uint8Array(f.length);for(let v=0;v<f.length;++v){const S=f.charCodeAt(v);p[v]=S>96?S-71:S>64?S-65:S>47?S+4:S>46?63:62}let m=0;for(let v=0;v<f.length;++v)p[m++]=p[v]<60?r[p[v]]:(p[v]-60)*64+p[++v];return p.buffer.slice(0,m)}function l(f,p,m,v,S,A){const g=s.exports.sbrk,M=m+3&-4,_=g(M*v),b=g(S.length),T=new Uint8Array(s.exports.memory.buffer);T.set(S,b);const C=f(_,m,v,b,S.length);if(C===0&&A&&A(_,M,v),p.set(T.subarray(_,_+m*v)),g(_-g(0)),C!==0)throw new Error(`Malformed buffer data: ${C}`)}const u={0:"",1:"meshopt_decodeFilterOct",2:"meshopt_decodeFilterQuat",3:"meshopt_decodeFilterExp",NONE:"",OCTAHEDRAL:"meshopt_decodeFilterOct",QUATERNION:"meshopt_decodeFilterQuat",EXPONENTIAL:"meshopt_decodeFilterExp"},h={0:"meshopt_decodeVertexBuffer",1:"meshopt_decodeIndexBuffer",2:"meshopt_decodeIndexSequence",ATTRIBUTES:"meshopt_decodeVertexBuffer",TRIANGLES:"meshopt_decodeIndexBuffer",INDICES:"meshopt_decodeIndexSequence"};return Rw={ready:o,supported:!0,decodeVertexBuffer(f,p,m,v,S){l(s.exports.meshopt_decodeVertexBuffer,f,p,m,v,s.exports[u[S]])},decodeIndexBuffer(f,p,m,v){l(s.exports.meshopt_decodeIndexBuffer,f,p,m,v)},decodeIndexSequence(f,p,m,v){l(s.exports.meshopt_decodeIndexSequence,f,p,m,v)},decodeGltfBuffer(f,p,m,v,S,A){l(s.exports[h[S]],f,p,m,v,s.exports[u[A]])}},Rw},LW=n=>n===Object(n)&&!Array.isArray(n)&&typeof n!="function";function az(n,e){const t=Go(i=>i.gl),r=Of(HS,LW(n)?Object.values(n):n);if(me.useLayoutEffect(()=>{e==null||e(r)},[e]),me.useEffect(()=>{(Array.isArray(r)?r:[r]).forEach(t.initTexture)},[t,r]),LW(n)){const i=Object.keys(n),s={};return i.forEach(o=>Object.assign(s,{[o]:r[i.indexOf(o)]})),s}else return r}az.preload=n=>Of.preload(HS,n);az.clear=n=>Of.clear(HS,n);function GLe(n){return Array.isArray(n)}function qL(n=[0,0,0]){return GLe(n)?n:n instanceof ie||n instanceof xg?[n.x,n.y,n.z]:[n,n,n]}const zLe=me.forwardRef(function({debug:e,mesh:t,children:r,position:i,rotation:s,scale:o,...a},l){const u=me.useRef(null);me.useImperativeHandle(l,()=>u.current);const h=me.useRef(null);return me.useLayoutEffect(()=>{const f=(t==null?void 0:t.current)||u.current.parent,p=u.current;if(!(f instanceof Si))throw new Error('Decal must have a Mesh as parent or specify its "mesh" prop');const m={position:new ie,rotation:new xg,scale:new ie(1,1,1)};if(f){Tu(m,{position:i,scale:o});const v=f.matrixWorld.clone();if(f.matrixWorld.identity(),!s||typeof s=="number"){const S=new Sn;S.position.copy(m.position),S.lookAt(f.position),typeof s=="number"&&S.rotateZ(s),Tu(m,{rotation:S.rotation})}else Tu(m,{rotation:s});return p.geometry=new ULe(f,m.position,m.rotation,m.scale),h.current&&Tu(h.current,m),f.matrixWorld=v,()=>{p.geometry.dispose()}}},[t,...qL(i),...qL(o),...qL(s)]),me.createElement("mesh",{ref:u},r||me.createElement("meshStandardMaterial",qa({transparent:!0,polygonOffset:!0,polygonOffsetFactor:-10},a)),e&&me.createElement("mesh",{ref:h},me.createElement("boxGeometry",null),me.createElement("meshNormalMaterial",{wireframe:!0}),me.createElement("axesHelper",null)))});let Pw=null;function Lne(n,e,t){return r=>{t&&t(r),n&&(Pw||(Pw=new OLe),Pw.setDecoderPath(typeof n=="string"?n:"https://www.gstatic.com/draco/versioned/decoders/1.5.5/"),r.setDRACOLoader(Pw)),e&&r.setMeshoptDecoder(typeof QL=="function"?QL():QL)}}function bP(n,e=!0,t=!0,r){return Of(oz,n,Lne(e,t,r))}bP.preload=(n,e=!0,t=!0,r)=>Of.preload(oz,n,Lne(e,t,r));bP.clear=n=>Of.clear(oz,n);const lz=me.forwardRef(({makeDefault:n,camera:e,regress:t,domElement:r,enableDamping:i=!0,keyEvents:s=!1,onChange:o,onStart:a,onEnd:l,...u},h)=>{const f=Go(C=>C.invalidate),p=Go(C=>C.camera),m=Go(C=>C.gl),v=Go(C=>C.events),S=Go(C=>C.setEvents),A=Go(C=>C.set),g=Go(C=>C.get),M=Go(C=>C.performance),_=e||p,b=r||v.connected||m.domElement,T=me.useMemo(()=>new iLe(_),[_]);return Ix(()=>{T.enabled&&T.update()},-1),me.useEffect(()=>(s&&T.connect(s===!0?b:s),T.connect(b),()=>void T.dispose()),[s,b,t,T,f]),me.useEffect(()=>{const C=R=>{f(),t&&M.regress(),o&&o(R)},B=R=>{a&&a(R)},P=R=>{l&&l(R)};return T.addEventListener("change",C),T.addEventListener("start",B),T.addEventListener("end",P),()=>{T.removeEventListener("start",B),T.removeEventListener("end",P),T.removeEventListener("change",C)}},[o,a,l,T,f,S]),me.useEffect(()=>{if(n){const C=g().controls;return A({controls:T}),()=>A({controls:C})}},[n,T]),me.createElement("primitive",qa({ref:h,object:T,enableDamping:i},u))});class HLe extends CS{constructor(e){super(e),this.onBeforeCompile=(t,r)=>{const{isWebGL2:i}=r.capabilities;t.fragmentShader=t.fragmentShader.replace("#include <output_fragment>",`
        ${i?"#include <output_fragment>":`#extension GL_OES_standard_derivatives : enable
#include <output_fragment>`}
      vec2 cxy = 2.0 * gl_PointCoord - 1.0;
      float r = dot(cxy, cxy);
      float delta = fwidth(r);     
      float mask = 1.0 - smoothstep(1.0 - delta, 1.0 + delta, r);
      gl_FragColor = vec4(gl_FragColor.rgb, mask * gl_FragColor.a );
      #include <tonemapping_fragment>
      #include <encodings_fragment>
      `)}}}const VLe=me.forwardRef((n,e)=>{const[t]=me.useState(()=>new HLe(null));return me.createElement("primitive",qa({},n,{object:t,ref:e,attach:"material"}))}),WLe=me.forwardRef(({children:n,enabled:e=!0,speed:t=1,rotationIntensity:r=1,floatIntensity:i=1,floatingRange:s=[-.1,.1],...o},a)=>{const l=me.useRef(null),u=me.useRef(Math.random()*1e4);return Ix(h=>{var f,p;if(!e||t===0)return;const m=u.current+h.clock.getElapsedTime();l.current.rotation.x=Math.cos(m/4*t)/8*r,l.current.rotation.y=Math.sin(m/4*t)/8*r,l.current.rotation.z=Math.sin(m/4*t)/20*r;let v=Math.sin(m/4*t)/10;v=xG.mapLinear(v,-.1,.1,(f=s==null?void 0:s[0])!==null&&f!==void 0?f:-.1,(p=s==null?void 0:s[1])!==null&&p!==void 0?p:.1),l.current.position.y=v*i,l.current.updateMatrix()}),me.createElement("group",o,me.createElement("group",{ref:sz([l,a]),matrixAutoUpdate:!1},n))});let Vp,P1;const jLe=me.createContext(null),IW=new Ht,DW=new ie,XLe=me.forwardRef(({children:n,range:e,limit:t=1e3,...r},i)=>{const s=me.useRef(null),[o,a]=me.useState([]),[[l,u,h]]=me.useState(()=>[new Float32Array(t*3),Float32Array.from({length:t*3},()=>1),Float32Array.from({length:t},()=>1)]);me.useEffect(()=>{s.current.geometry.attributes.position.needsUpdate=!0}),Ix(()=>{for(s.current.updateMatrix(),s.current.updateMatrixWorld(),IW.copy(s.current.matrixWorld).invert(),s.current.geometry.drawRange.count=Math.min(t,e!==void 0?e:t,o.length),Vp=0;Vp<o.length;Vp++)P1=o[Vp].current,P1.getWorldPosition(DW).applyMatrix4(IW),DW.toArray(l,Vp*3),s.current.geometry.attributes.position.needsUpdate=!0,P1.matrixWorldNeedsUpdate=!0,P1.color.toArray(u,Vp*3),s.current.geometry.attributes.color.needsUpdate=!0,h.set([P1.size],Vp),s.current.geometry.attributes.size.needsUpdate=!0});const f=me.useMemo(()=>({getParent:()=>s,subscribe:p=>(a(m=>[...m,p]),()=>a(m=>m.filter(v=>v.current!==p.current)))}),[]);return me.createElement("points",qa({userData:{instances:o},matrixAutoUpdate:!1,ref:sz([i,s]),raycast:()=>null},r),me.createElement("bufferGeometry",null,me.createElement("bufferAttribute",{attach:"attributes-position",count:l.length/3,array:l,itemSize:3,usage:Hm}),me.createElement("bufferAttribute",{attach:"attributes-color",count:u.length/3,array:u,itemSize:3,usage:Hm}),me.createElement("bufferAttribute",{attach:"attributes-size",count:h.length,array:h,itemSize:1,usage:Hm})),me.createElement(jLe.Provider,{value:f},n))}),JLe=me.forwardRef(({children:n,positions:e,colors:t,sizes:r,stride:i=3,...s},o)=>{const a=me.useRef(null);return Ix(()=>{const l=a.current.geometry.attributes;l.position.needsUpdate=!0,t&&(l.color.needsUpdate=!0),r&&(l.size.needsUpdate=!0)}),me.createElement("points",qa({ref:sz([o,a])},s),me.createElement("bufferGeometry",null,me.createElement("bufferAttribute",{attach:"attributes-position",count:e.length/i,array:e,itemSize:i,usage:Hm}),t&&me.createElement("bufferAttribute",{attach:"attributes-color",count:t.length/i,array:t,itemSize:3,usage:Hm}),r&&me.createElement("bufferAttribute",{attach:"attributes-size",count:r.length/i,array:r,itemSize:1,usage:Hm})),n)}),YLe=me.forwardRef((n,e)=>n.positions instanceof Float32Array?me.createElement(JLe,qa({},n,{ref:e})):me.createElement(XLe,qa({},n,{ref:e})));var Ine={exports:{}},KLe="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",QLe=KLe,qLe=QLe;function Dne(){}function Fne(){}Fne.resetWarningCache=Dne;var ZLe=function(){function n(r,i,s,o,a,l){if(l!==qLe){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}n.isRequired=n;function e(){return n}var t={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:e,element:n,elementType:n,instanceOf:e,node:n,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:Fne,resetWarningCache:Dne};return t.PropTypes=t,t};Ine.exports=ZLe();var Nne=Ine.exports;function uz({all:n,scene:e,camera:t}){const r=Go(({gl:o})=>o),i=Go(({camera:o})=>o),s=Go(({scene:o})=>o);return me.useLayoutEffect(()=>{const o=[];n&&(e||s).traverse(u=>{u.visible===!1&&(o.push(u),u.visible=!0)}),r.compile(e||s,t||i);const a=new bG(128);new EG(.01,1e5,a).update(r,e||s),a.dispose(),o.forEach(u=>u.visible=!1)},[]),null}const cz=()=>{const{progress:n}=Y2e();return Te.jsx(J2e,{children:Te.jsx("span",{className:"canvas-load",children:Te.jsxs("p",{style:{fontSize:14,color:"#f1f1f1",fontWeight:800,marginTop:40},children:[n.toFixed(2),"%"]})})})},$Le=()=>{const n=bP("./planet/scene.gltf");return Te.jsx("primitive",{object:n.scene,scale:2.5,"position-y":0,"rotation-y":0})},eIe=()=>Te.jsx(EP,{shadows:!0,frameloop:"demand",gl:{preserveDrawingBuffer:!0},camera:{fov:45,near:.1,far:200,position:[-4,3,6]},children:Te.jsxs(me.Suspense,{fallback:Te.jsx(cz,{}),children:[Te.jsx(lz,{autoRotate:!0,enableZoom:!1,maxPolarAngle:Math.PI/2,minPolarAngle:Math.PI/2}),Te.jsx($Le,{})]})}),tIe=n=>{const[e]=az([n.imgUrl]);return Te.jsxs(WLe,{speed:1.75,rotationIntensity:1,floatIntensity:2,children:[Te.jsx("ambientLight",{intensity:.25}),Te.jsx("directionalLight",{position:[0,0,.05]}),Te.jsxs("mesh",{castShadow:!0,receiveShadow:!0,scale:2.75,children:[Te.jsx("icosahedronGeometry",{args:[1,1]}),Te.jsx("meshStandardMaterial",{color:"#fff8eb",polygonOffset:!0,polygonOffsetFactor:-5,flatShading:!0}),Te.jsx(zLe,{position:[0,0,1],rotation:[2*Math.PI,0,6.25],map:e})]})]})},nIe=({icon:n})=>Te.jsxs(EP,{frameLoop:"demand",gl:{preserveDrawingBuffer:!0},children:[Te.jsxs(me.Suspense,{fallback:Te.jsx(cz,{}),children:[Te.jsx(lz,{enableZoom:!1}),Te.jsx(tIe,{imgUrl:n})]}),Te.jsx(uz,{all:!0})]}),rIe=({isMobile:n})=>{const e=bP("./desktop_pc/scene.gltf");return Te.jsxs("mesh",{children:[Te.jsx("hemisphereLight",{intensity:.15,groundColor:""}),Te.jsx("pointLight",{intensity:1}),Te.jsx("spotLight",{position:[-20,50,10],angle:.12,penumbra:1,intensity:1,castShadow:!0,"shadow-mapSize":1024}),Te.jsx("primitive",{object:e.scene,scale:n?.1:.75,position:n?[0,-3,-2.2]:[0,-3.25,-1.5],rotation:[-.01,-.2,-.1]})]})},iIe=()=>{const[n,e]=me.useState(!1);return me.useEffect(()=>{const t=window.matchMedia("(max-width: 500px)");e(t.matches);const r=i=>{e(i.matches)};return t.addEventListener("change",r),()=>{t.removeEventListener("change",r)}},[]),Te.jsxs(EP,{frameLoop:"demand",shadows:!0,camera:{position:[20,3,5],fov:25},gl:{preserveDrawingBuffer:!0},children:[Te.jsxs(me.Suspense,{fallback:Te.jsx(cz,{}),children:[Te.jsx(lz,{enableZoom:!1,maxPolarAngle:Math.PI/2,minPolarAngle:Math.PI/2}),Te.jsx(rIe,{isMobile:n})]}),Te.jsx(uz,{all:!0})]})},sIe=n=>{const e=me.useRef(),t=tLe(new Float32Array(5e3),{radius:1.2});return Ix((r,i)=>{e.current.rotation.x-=i/10,e.current.rotation.y-=i/15}),Te.jsx("group",{children:Te.jsx(YLe,{ref:e,positions:t,stride:3,frustumCulled:!0,...n,children:Te.jsx(VLe,{transparent:!0,color:"#f272c8",size:.002,SizeAttenuation:!0,depthWrite:!1})})})},oIe=()=>Te.jsx("div",{className:"w-full h-auto absolute inset-0 z-[-1]",children:Te.jsxs(EP,{camera:{position:[0,0,1]},children:[Te.jsx(me.Suspense,{fallback:null,children:Te.jsx(sIe,{})}),Te.jsx(uz,{all:!0})]})}),Une=me.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"}),wP=me.createContext({}),hz=me.createContext(null),TP=typeof document<"u",FW=TP?me.useLayoutEffect:me.useEffect,One=me.createContext({strict:!1});function aIe(n,e,t,r){const{visualElement:i}=me.useContext(wP),s=me.useContext(One),o=me.useContext(hz),a=me.useContext(Une).reducedMotion,l=me.useRef();r=r||s.renderer,!l.current&&r&&(l.current=r(n,{visualState:e,parent:i,props:t,presenceContext:o,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:a}));const u=l.current;return me.useInsertionEffect(()=>{u&&u.update(t,o)}),FW(()=>{u&&u.render()}),me.useEffect(()=>{u&&u.updateFeatures()}),(window.HandoffAppearAnimations?FW:me.useEffect)(()=>{u&&u.animationState&&u.animationState.animateChanges()}),u}function Z0(n){return typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function lIe(n,e,t){return me.useCallback(r=>{r&&n.mount&&n.mount(r),e&&(r?e.mount(r):e.unmount()),t&&(typeof t=="function"?t(r):Z0(t)&&(t.current=r))},[e])}function zM(n){return typeof n=="string"||Array.isArray(n)}function CP(n){return typeof n=="object"&&typeof n.start=="function"}const dz=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],fz=["initial",...dz];function RP(n){return CP(n.animate)||fz.some(e=>zM(n[e]))}function kne(n){return!!(RP(n)||n.variants)}function uIe(n,e){if(RP(n)){const{initial:t,animate:r}=n;return{initial:t===!1||zM(t)?t:void 0,animate:zM(r)?r:void 0}}return n.inherit!==!1?e:{}}function cIe(n){const{initial:e,animate:t}=uIe(n,me.useContext(wP));return me.useMemo(()=>({initial:e,animate:t}),[NW(e),NW(t)])}function NW(n){return Array.isArray(n)?n.join(" "):n}const UW={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},HM={};for(const n in UW)HM[n]={isEnabled:e=>UW[n].some(t=>!!e[t])};function hIe(n){for(const e in n)HM[e]={...HM[e],...n[e]}}const Gne=me.createContext({}),zne=me.createContext({}),dIe=Symbol.for("motionComponentSymbol");function fIe({preloadedFeatures:n,createVisualElement:e,useRender:t,useVisualState:r,Component:i}){n&&hIe(n);function s(a,l){let u;const h={...me.useContext(Une),...a,layoutId:pIe(a)},{isStatic:f}=h,p=cIe(a),m=r(a,f);if(!f&&TP){p.visualElement=aIe(i,m,h,e);const v=me.useContext(zne),S=me.useContext(One).strict;p.visualElement&&(u=p.visualElement.loadFeatures(h,S,n,v))}return me.createElement(wP.Provider,{value:p},u&&p.visualElement?me.createElement(u,{visualElement:p.visualElement,...h}):null,t(i,a,lIe(m,p.visualElement,l),m,f,p.visualElement))}const o=me.forwardRef(s);return o[dIe]=i,o}function pIe({layoutId:n}){const e=me.useContext(Gne).id;return e&&n!==void 0?e+"-"+n:n}function mIe(n){function e(r,i={}){return fIe(n(r,i))}if(typeof Proxy>"u")return e;const t=new Map;return new Proxy(e,{get:(r,i)=>(t.has(i)||t.set(i,e(i)),t.get(i))})}const gIe=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function pz(n){return typeof n!="string"||n.includes("-")?!1:!!(gIe.indexOf(n)>-1||/[A-Z]/.test(n))}const VC={};function vIe(n){Object.assign(VC,n)}const jS=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Eg=new Set(jS);function Hne(n,{layout:e,layoutId:t}){return Eg.has(n)||n.startsWith("origin")||(e||t!==void 0)&&(!!VC[n]||n==="opacity")}const xo=n=>!!(n&&n.getVelocity),yIe={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},xIe=jS.length;function AIe(n,{enableHardwareAcceleration:e=!0,allowTransformNone:t=!0},r,i){let s="";for(let o=0;o<xIe;o++){const a=jS[o];if(n[a]!==void 0){const l=yIe[a]||a;s+=`${l}(${n[a]}) `}}return e&&!n.z&&(s+="translateZ(0)"),s=s.trim(),i?s=i(n,r?"":s):t&&r&&(s="none"),s}const Vne=n=>e=>typeof e=="string"&&e.startsWith(n),Wne=Vne("--"),sN=Vne("var(--"),_Ie=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,MIe=(n,e)=>e&&typeof n=="number"?e.transform(n):n,Sf=(n,e,t)=>Math.min(Math.max(t,n),e),bg={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},T_={...bg,transform:n=>Sf(0,1,n)},Bw={...bg,default:1},C_=n=>Math.round(n*1e5)/1e5,PP=/(-)?([\d]*\.?[\d])+/g,jne=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,SIe=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function XS(n){return typeof n=="string"}const JS=n=>({test:e=>XS(e)&&e.endsWith(n)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${n}`}),pd=JS("deg"),ju=JS("%"),jt=JS("px"),EIe=JS("vh"),bIe=JS("vw"),OW={...ju,parse:n=>ju.parse(n)/100,transform:n=>ju.transform(n*100)},kW={...bg,transform:Math.round},Xne={borderWidth:jt,borderTopWidth:jt,borderRightWidth:jt,borderBottomWidth:jt,borderLeftWidth:jt,borderRadius:jt,radius:jt,borderTopLeftRadius:jt,borderTopRightRadius:jt,borderBottomRightRadius:jt,borderBottomLeftRadius:jt,width:jt,maxWidth:jt,height:jt,maxHeight:jt,size:jt,top:jt,right:jt,bottom:jt,left:jt,padding:jt,paddingTop:jt,paddingRight:jt,paddingBottom:jt,paddingLeft:jt,margin:jt,marginTop:jt,marginRight:jt,marginBottom:jt,marginLeft:jt,rotate:pd,rotateX:pd,rotateY:pd,rotateZ:pd,scale:Bw,scaleX:Bw,scaleY:Bw,scaleZ:Bw,skew:pd,skewX:pd,skewY:pd,distance:jt,translateX:jt,translateY:jt,translateZ:jt,x:jt,y:jt,z:jt,perspective:jt,transformPerspective:jt,opacity:T_,originX:OW,originY:OW,originZ:jt,zIndex:kW,fillOpacity:T_,strokeOpacity:T_,numOctaves:kW};function mz(n,e,t,r){const{style:i,vars:s,transform:o,transformOrigin:a}=n;let l=!1,u=!1,h=!0;for(const f in e){const p=e[f];if(Wne(f)){s[f]=p;continue}const m=Xne[f],v=MIe(p,m);if(Eg.has(f)){if(l=!0,o[f]=v,!h)continue;p!==(m.default||0)&&(h=!1)}else f.startsWith("origin")?(u=!0,a[f]=v):i[f]=v}if(e.transform||(l||r?i.transform=AIe(n.transform,t,h,r):i.transform&&(i.transform="none")),u){const{originX:f="50%",originY:p="50%",originZ:m=0}=a;i.transformOrigin=`${f} ${p} ${m}`}}const gz=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Jne(n,e,t){for(const r in e)!xo(e[r])&&!Hne(r,t)&&(n[r]=e[r])}function wIe({transformTemplate:n},e,t){return me.useMemo(()=>{const r=gz();return mz(r,e,{enableHardwareAcceleration:!t},n),Object.assign({},r.vars,r.style)},[e])}function TIe(n,e,t){const r=n.style||{},i={};return Jne(i,r,n),Object.assign(i,wIe(n,e,t)),n.transformValues?n.transformValues(i):i}function CIe(n,e,t){const r={},i=TIe(n,e,t);return n.drag&&n.dragListener!==!1&&(r.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),n.tabIndex===void 0&&(n.onTap||n.onTapStart||n.whileTap)&&(r.tabIndex=0),r.style=i,r}const RIe=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onLayoutAnimationStart","onLayoutAnimationComplete","onLayoutMeasure","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","ignoreStrict","viewport"]);function WC(n){return n.startsWith("while")||n.startsWith("drag")&&n!=="draggable"||n.startsWith("layout")||n.startsWith("onTap")||n.startsWith("onPan")||RIe.has(n)}let Yne=n=>!WC(n);function PIe(n){n&&(Yne=e=>e.startsWith("on")?!WC(e):n(e))}try{PIe(require("@emotion/is-prop-valid").default)}catch{}function BIe(n,e,t){const r={};for(const i in n)i==="values"&&typeof n.values=="object"||(Yne(i)||t===!0&&WC(i)||!e&&!WC(i)||n.draggable&&i.startsWith("onDrag"))&&(r[i]=n[i]);return r}function GW(n,e,t){return typeof n=="string"?n:jt.transform(e+t*n)}function LIe(n,e,t){const r=GW(e,n.x,n.width),i=GW(t,n.y,n.height);return`${r} ${i}`}const IIe={offset:"stroke-dashoffset",array:"stroke-dasharray"},DIe={offset:"strokeDashoffset",array:"strokeDasharray"};function FIe(n,e,t=1,r=0,i=!0){n.pathLength=1;const s=i?IIe:DIe;n[s.offset]=jt.transform(-r);const o=jt.transform(e),a=jt.transform(t);n[s.array]=`${o} ${a}`}function vz(n,{attrX:e,attrY:t,attrScale:r,originX:i,originY:s,pathLength:o,pathSpacing:a=1,pathOffset:l=0,...u},h,f,p){if(mz(n,u,h,p),f){n.style.viewBox&&(n.attrs.viewBox=n.style.viewBox);return}n.attrs=n.style,n.style={};const{attrs:m,style:v,dimensions:S}=n;m.transform&&(S&&(v.transform=m.transform),delete m.transform),S&&(i!==void 0||s!==void 0||v.transform)&&(v.transformOrigin=LIe(S,i!==void 0?i:.5,s!==void 0?s:.5)),e!==void 0&&(m.x=e),t!==void 0&&(m.y=t),r!==void 0&&(m.scale=r),o!==void 0&&FIe(m,o,a,l,!1)}const Kne=()=>({...gz(),attrs:{}}),yz=n=>typeof n=="string"&&n.toLowerCase()==="svg";function NIe(n,e,t,r){const i=me.useMemo(()=>{const s=Kne();return vz(s,e,{enableHardwareAcceleration:!1},yz(r),n.transformTemplate),{...s.attrs,style:{...s.style}}},[e]);if(n.style){const s={};Jne(s,n.style,n),i.style={...s,...i.style}}return i}function UIe(n=!1){return(t,r,i,{latestValues:s},o)=>{const l=(pz(t)?NIe:CIe)(r,s,o,t),h={...BIe(r,typeof t=="string",n),...l,ref:i},{children:f}=r,p=me.useMemo(()=>xo(f)?f.get():f,[f]);return me.createElement(t,{...h,children:p})}}const xz=n=>n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();function Qne(n,{style:e,vars:t},r,i){Object.assign(n.style,e,i&&i.getProjectionStyles(r));for(const s in t)n.style.setProperty(s,t[s])}const qne=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Zne(n,e,t,r){Qne(n,e,void 0,r);for(const i in e.attrs)n.setAttribute(qne.has(i)?i:xz(i),e.attrs[i])}function Az(n,e){const{style:t}=n,r={};for(const i in t)(xo(t[i])||e.style&&xo(e.style[i])||Hne(i,n))&&(r[i]=t[i]);return r}function $ne(n,e){const t=Az(n,e);for(const r in n)if(xo(n[r])||xo(e[r])){const i=jS.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;t[i]=n[r]}return t}function _z(n,e,t,r={},i={}){return typeof e=="function"&&(e=e(t!==void 0?t:n.custom,r,i)),typeof e=="string"&&(e=n.variants&&n.variants[e]),typeof e=="function"&&(e=e(t!==void 0?t:n.custom,r,i)),e}function OIe(n){const e=me.useRef(null);return e.current===null&&(e.current=n()),e.current}const jC=n=>Array.isArray(n),kIe=n=>!!(n&&typeof n=="object"&&n.mix&&n.toValue),GIe=n=>jC(n)?n[n.length-1]||0:n;function ET(n){const e=xo(n)?n.get():n;return kIe(e)?e.toValue():e}function zIe({scrapeMotionValuesFromProps:n,createRenderState:e,onMount:t},r,i,s){const o={latestValues:HIe(r,i,s,n),renderState:e()};return t&&(o.mount=a=>t(r,a,o)),o}const ere=n=>(e,t)=>{const r=me.useContext(wP),i=me.useContext(hz),s=()=>zIe(n,e,r,i);return t?s():OIe(s)};function HIe(n,e,t,r){const i={},s=r(n,{});for(const p in s)i[p]=ET(s[p]);let{initial:o,animate:a}=n;const l=RP(n),u=kne(n);e&&u&&!l&&n.inherit!==!1&&(o===void 0&&(o=e.initial),a===void 0&&(a=e.animate));let h=t?t.initial===!1:!1;h=h||o===!1;const f=h?a:o;return f&&typeof f!="boolean"&&!CP(f)&&(Array.isArray(f)?f:[f]).forEach(m=>{const v=_z(n,m);if(!v)return;const{transitionEnd:S,transition:A,...g}=v;for(const M in g){let _=g[M];if(Array.isArray(_)){const b=h?_.length-1:0;_=_[b]}_!==null&&(i[M]=_)}for(const M in S)i[M]=S[M]}),i}const VIe={useVisualState:ere({scrapeMotionValuesFromProps:$ne,createRenderState:Kne,onMount:(n,e,{renderState:t,latestValues:r})=>{try{t.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{t.dimensions={x:0,y:0,width:0,height:0}}vz(t,r,{enableHardwareAcceleration:!1},yz(e.tagName),n.transformTemplate),Zne(e,t)}})},WIe={useVisualState:ere({scrapeMotionValuesFromProps:Az,createRenderState:gz})};function jIe(n,{forwardMotionProps:e=!1},t,r){return{...pz(n)?VIe:WIe,preloadedFeatures:t,useRender:UIe(e),createVisualElement:r,Component:n}}function oh(n,e,t,r={passive:!0}){return n.addEventListener(e,t,r),()=>n.removeEventListener(e,t)}const tre=n=>n.pointerType==="mouse"?typeof n.button!="number"||n.button<=0:n.isPrimary!==!1;function BP(n,e="page"){return{point:{x:n[e+"X"],y:n[e+"Y"]}}}const XIe=n=>e=>tre(e)&&n(e,BP(e));function fh(n,e,t,r){return oh(n,e,XIe(t),r)}const JIe=(n,e)=>t=>e(n(t)),sf=(...n)=>n.reduce(JIe);function nre(n){let e=null;return()=>{const t=()=>{e=null};return e===null?(e=n,t):!1}}const zW=nre("dragHorizontal"),HW=nre("dragVertical");function rre(n){let e=!1;if(n==="y")e=HW();else if(n==="x")e=zW();else{const t=zW(),r=HW();t&&r?e=()=>{t(),r()}:(t&&t(),r&&r())}return e}function ire(){const n=rre(!0);return n?(n(),!1):!0}class kf{constructor(e){this.isMounted=!1,this.node=e}update(){}}function YIe(n){let e=[],t=[],r=0,i=!1,s=!1;const o=new WeakSet,a={schedule:(l,u=!1,h=!1)=>{const f=h&&i,p=f?e:t;return u&&o.add(l),p.indexOf(l)===-1&&(p.push(l),f&&i&&(r=e.length)),l},cancel:l=>{const u=t.indexOf(l);u!==-1&&t.splice(u,1),o.delete(l)},process:l=>{if(i){s=!0;return}if(i=!0,[e,t]=[t,e],t.length=0,r=e.length,r)for(let u=0;u<r;u++){const h=e[u];h(l),o.has(h)&&(a.schedule(h),n())}i=!1,s&&(s=!1,a.process(l))}};return a}const vr={delta:0,timestamp:0,isProcessing:!1},KIe=40;let oN=!0,VM=!1;const LP=["read","update","preRender","render","postRender"],by=LP.reduce((n,e)=>(n[e]=YIe(()=>VM=!0),n),{}),QIe=n=>by[n].process(vr),sre=n=>{VM=!1,vr.delta=oN?1e3/60:Math.max(Math.min(n-vr.timestamp,KIe),1),vr.timestamp=n,vr.isProcessing=!0,LP.forEach(QIe),vr.isProcessing=!1,VM&&(oN=!1,requestAnimationFrame(sre))},qIe=()=>{VM=!0,oN=!0,vr.isProcessing||requestAnimationFrame(sre)},Tr=LP.reduce((n,e)=>{const t=by[e];return n[e]=(r,i=!1,s=!1)=>(VM||qIe(),t.schedule(r,i,s)),n},{});function wh(n){LP.forEach(e=>by[e].cancel(n))}function VW(n,e){const t="pointer"+(e?"enter":"leave"),r="onHover"+(e?"Start":"End"),i=(s,o)=>{if(s.type==="touch"||ire())return;const a=n.getProps();n.animationState&&a.whileHover&&n.animationState.setActive("whileHover",e),a[r]&&Tr.update(()=>a[r](s,o))};return fh(n.current,t,i,{passive:!n.getProps()[r]})}class ZIe extends kf{mount(){this.unmount=sf(VW(this.node,!0),VW(this.node,!1))}unmount(){}}class $Ie extends kf{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=sf(oh(this.node.current,"focus",()=>this.onFocus()),oh(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const ore=(n,e)=>e?n===e?!0:ore(n,e.parentElement):!1,xi=n=>n;function ZL(n,e){if(!e)return;const t=new PointerEvent("pointer"+n);e(t,BP(t))}class eDe extends kf{constructor(){super(...arguments),this.removeStartListeners=xi,this.removeEndListeners=xi,this.removeAccessibleListeners=xi,this.startPointerPress=(e,t)=>{if(this.removeEndListeners(),this.isPressing)return;const r=this.node.getProps(),s=fh(window,"pointerup",(a,l)=>{if(!this.checkPressEnd())return;const{onTap:u,onTapCancel:h}=this.node.getProps();Tr.update(()=>{ore(this.node.current,a.target)?u&&u(a,l):h&&h(a,l)})},{passive:!(r.onTap||r.onPointerUp)}),o=fh(window,"pointercancel",(a,l)=>this.cancelPress(a,l),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=sf(s,o),this.startPress(e,t)},this.startAccessiblePress=()=>{const e=s=>{if(s.key!=="Enter"||this.isPressing)return;const o=a=>{a.key!=="Enter"||!this.checkPressEnd()||ZL("up",(l,u)=>{const{onTap:h}=this.node.getProps();h&&Tr.update(()=>h(l,u))})};this.removeEndListeners(),this.removeEndListeners=oh(this.node.current,"keyup",o),ZL("down",(a,l)=>{this.startPress(a,l)})},t=oh(this.node.current,"keydown",e),r=()=>{this.isPressing&&ZL("cancel",(s,o)=>this.cancelPress(s,o))},i=oh(this.node.current,"blur",r);this.removeAccessibleListeners=sf(t,i)}}startPress(e,t){this.isPressing=!0;const{onTapStart:r,whileTap:i}=this.node.getProps();i&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&Tr.update(()=>r(e,t))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!ire()}cancelPress(e,t){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&Tr.update(()=>r(e,t))}mount(){const e=this.node.getProps(),t=fh(this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),r=oh(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=sf(t,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const aN=new WeakMap,$L=new WeakMap,tDe=n=>{const e=aN.get(n.target);e&&e(n)},nDe=n=>{n.forEach(tDe)};function rDe({root:n,...e}){const t=n||document;$L.has(t)||$L.set(t,{});const r=$L.get(t),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(nDe,{root:n,...e})),r[i]}function iDe(n,e,t){const r=rDe(e);return aN.set(n,t),r.observe(n),()=>{aN.delete(n),r.unobserve(n)}}const sDe={some:0,all:1};class oDe extends kf{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:r,amount:i="some",once:s}=e,o={root:t?t.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:sDe[i]},a=l=>{const{isIntersecting:u}=l;if(this.isInView===u||(this.isInView=u,s&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:h,onViewportLeave:f}=this.node.getProps(),p=u?h:f;p&&p(l)};return iDe(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:t}=this.node;["amount","margin","root"].some(aDe(e,t))&&this.startObserver()}unmount(){}}function aDe({viewport:n={}},{viewport:e={}}={}){return t=>n[t]!==e[t]}const lDe={inView:{Feature:oDe},tap:{Feature:eDe},focus:{Feature:$Ie},hover:{Feature:ZIe}};function are(n,e){if(!Array.isArray(e))return!1;const t=e.length;if(t!==n.length)return!1;for(let r=0;r<t;r++)if(e[r]!==n[r])return!1;return!0}function uDe(n){const e={};return n.values.forEach((t,r)=>e[r]=t.get()),e}function cDe(n){const e={};return n.values.forEach((t,r)=>e[r]=t.getVelocity()),e}function IP(n,e,t){const r=n.getProps();return _z(r,e,t!==void 0?t:r.custom,uDe(n),cDe(n))}const hDe="framerAppearId",dDe="data-"+xz(hDe);let fDe=xi,Mz=xi;const of=n=>n*1e3,ph=n=>n/1e3,pDe={current:!1},lre=n=>Array.isArray(n)&&typeof n[0]=="number";function ure(n){return!!(!n||typeof n=="string"&&cre[n]||lre(n)||Array.isArray(n)&&n.every(ure))}const Y1=([n,e,t,r])=>`cubic-bezier(${n}, ${e}, ${t}, ${r})`,cre={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Y1([0,.65,.55,1]),circOut:Y1([.55,0,1,.45]),backIn:Y1([.31,.01,.66,-.59]),backOut:Y1([.33,1.53,.69,.99])};function hre(n){if(n)return lre(n)?Y1(n):Array.isArray(n)?n.map(hre):cre[n]}function mDe(n,e,t,{delay:r=0,duration:i,repeat:s=0,repeatType:o="loop",ease:a,times:l}={}){const u={[e]:t};l&&(u.offset=l);const h=hre(a);return Array.isArray(h)&&(u.easing=h),n.animate(u,{delay:r,duration:i,easing:Array.isArray(h)?"linear":h,fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"})}const WW={waapi:()=>Object.hasOwnProperty.call(Element.prototype,"animate")},eI={},dre={};for(const n in WW)dre[n]=()=>(eI[n]===void 0&&(eI[n]=WW[n]()),eI[n]);function gDe(n,{repeat:e,repeatType:t="loop"}){const r=e&&t!=="loop"&&e%2===1?0:n.length-1;return n[r]}const fre=(n,e,t)=>(((1-3*t+3*e)*n+(3*t-6*e))*n+3*e)*n,vDe=1e-7,yDe=12;function xDe(n,e,t,r,i){let s,o,a=0;do o=e+(t-e)/2,s=fre(o,r,i)-n,s>0?t=o:e=o;while(Math.abs(s)>vDe&&++a<yDe);return o}function YS(n,e,t,r){if(n===e&&t===r)return xi;const i=s=>xDe(s,0,1,n,t);return s=>s===0||s===1?s:fre(i(s),e,r)}const ADe=YS(.42,0,1,1),_De=YS(0,0,.58,1),pre=YS(.42,0,.58,1),MDe=n=>Array.isArray(n)&&typeof n[0]!="number",mre=n=>e=>e<=.5?n(2*e)/2:(2-n(2*(1-e)))/2,gre=n=>e=>1-n(1-e),vre=n=>1-Math.sin(Math.acos(n)),Sz=gre(vre),SDe=mre(Sz),yre=YS(.33,1.53,.69,.99),Ez=gre(yre),EDe=mre(Ez),bDe=n=>(n*=2)<1?.5*Ez(n):.5*(2-Math.pow(2,-10*(n-1))),wDe={linear:xi,easeIn:ADe,easeInOut:pre,easeOut:_De,circIn:vre,circInOut:SDe,circOut:Sz,backIn:Ez,backInOut:EDe,backOut:yre,anticipate:bDe},jW=n=>{if(Array.isArray(n)){Mz(n.length===4);const[e,t,r,i]=n;return YS(e,t,r,i)}else if(typeof n=="string")return wDe[n];return n},bz=(n,e)=>t=>!!(XS(t)&&SIe.test(t)&&t.startsWith(n)||e&&Object.prototype.hasOwnProperty.call(t,e)),xre=(n,e,t)=>r=>{if(!XS(r))return r;const[i,s,o,a]=r.match(PP);return{[n]:parseFloat(i),[e]:parseFloat(s),[t]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},TDe=n=>Sf(0,255,n),tI={...bg,transform:n=>Math.round(TDe(n))},Pm={test:bz("rgb","red"),parse:xre("red","green","blue"),transform:({red:n,green:e,blue:t,alpha:r=1})=>"rgba("+tI.transform(n)+", "+tI.transform(e)+", "+tI.transform(t)+", "+C_(T_.transform(r))+")"};function CDe(n){let e="",t="",r="",i="";return n.length>5?(e=n.substring(1,3),t=n.substring(3,5),r=n.substring(5,7),i=n.substring(7,9)):(e=n.substring(1,2),t=n.substring(2,3),r=n.substring(3,4),i=n.substring(4,5),e+=e,t+=t,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(t,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const lN={test:bz("#"),parse:CDe,transform:Pm.transform},$0={test:bz("hsl","hue"),parse:xre("hue","saturation","lightness"),transform:({hue:n,saturation:e,lightness:t,alpha:r=1})=>"hsla("+Math.round(n)+", "+ju.transform(C_(e))+", "+ju.transform(C_(t))+", "+C_(T_.transform(r))+")"},ks={test:n=>Pm.test(n)||lN.test(n)||$0.test(n),parse:n=>Pm.test(n)?Pm.parse(n):$0.test(n)?$0.parse(n):lN.parse(n),transform:n=>XS(n)?n:n.hasOwnProperty("red")?Pm.transform(n):$0.transform(n)},br=(n,e,t)=>-t*n+t*e+n;function nI(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*(2/3-t)*6:n}function RDe({hue:n,saturation:e,lightness:t,alpha:r}){n/=360,e/=100,t/=100;let i=0,s=0,o=0;if(!e)i=s=o=t;else{const a=t<.5?t*(1+e):t+e-t*e,l=2*t-a;i=nI(l,a,n+1/3),s=nI(l,a,n),o=nI(l,a,n-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:r}}const rI=(n,e,t)=>{const r=n*n;return Math.sqrt(Math.max(0,t*(e*e-r)+r))},PDe=[lN,Pm,$0],BDe=n=>PDe.find(e=>e.test(n));function XW(n){const e=BDe(n);let t=e.parse(n);return e===$0&&(t=RDe(t)),t}const Are=(n,e)=>{const t=XW(n),r=XW(e),i={...t};return s=>(i.red=rI(t.red,r.red,s),i.green=rI(t.green,r.green,s),i.blue=rI(t.blue,r.blue,s),i.alpha=br(t.alpha,r.alpha,s),Pm.transform(i))};function LDe(n){var e,t;return isNaN(n)&&XS(n)&&(((e=n.match(PP))===null||e===void 0?void 0:e.length)||0)+(((t=n.match(jne))===null||t===void 0?void 0:t.length)||0)>0}const _re={regex:_Ie,countKey:"Vars",token:"${v}",parse:xi},Mre={regex:jne,countKey:"Colors",token:"${c}",parse:ks.parse},Sre={regex:PP,countKey:"Numbers",token:"${n}",parse:bg.parse};function iI(n,{regex:e,countKey:t,token:r,parse:i}){const s=n.tokenised.match(e);s&&(n["num"+t]=s.length,n.tokenised=n.tokenised.replace(e,r),n.values.push(...s.map(i)))}function XC(n){const e=n.toString(),t={value:e,tokenised:e,values:[],numVars:0,numColors:0,numNumbers:0};return t.value.includes("var(--")&&iI(t,_re),iI(t,Mre),iI(t,Sre),t}function Ere(n){return XC(n).values}function bre(n){const{values:e,numColors:t,numVars:r,tokenised:i}=XC(n),s=e.length;return o=>{let a=i;for(let l=0;l<s;l++)l<r?a=a.replace(_re.token,o[l]):l<r+t?a=a.replace(Mre.token,ks.transform(o[l])):a=a.replace(Sre.token,C_(o[l]));return a}}const IDe=n=>typeof n=="number"?0:n;function DDe(n){const e=Ere(n);return bre(n)(e.map(IDe))}const Ef={test:LDe,parse:Ere,createTransformer:bre,getAnimatableNone:DDe},wre=(n,e)=>t=>`${t>0?e:n}`;function Tre(n,e){return typeof n=="number"?t=>br(n,e,t):ks.test(n)?Are(n,e):n.startsWith("var(")?wre(n,e):Rre(n,e)}const Cre=(n,e)=>{const t=[...n],r=t.length,i=n.map((s,o)=>Tre(s,e[o]));return s=>{for(let o=0;o<r;o++)t[o]=i[o](s);return t}},FDe=(n,e)=>{const t={...n,...e},r={};for(const i in t)n[i]!==void 0&&e[i]!==void 0&&(r[i]=Tre(n[i],e[i]));return i=>{for(const s in r)t[s]=r[s](i);return t}},Rre=(n,e)=>{const t=Ef.createTransformer(e),r=XC(n),i=XC(e);return r.numVars===i.numVars&&r.numColors===i.numColors&&r.numNumbers>=i.numNumbers?sf(Cre(r.values,i.values),t):wre(n,e)},WM=(n,e,t)=>{const r=e-n;return r===0?1:(t-n)/r},JW=(n,e)=>t=>br(n,e,t);function NDe(n){return typeof n=="number"?JW:typeof n=="string"?ks.test(n)?Are:Rre:Array.isArray(n)?Cre:typeof n=="object"?FDe:JW}function UDe(n,e,t){const r=[],i=t||NDe(n[0]),s=n.length-1;for(let o=0;o<s;o++){let a=i(n[o],n[o+1]);if(e){const l=Array.isArray(e)?e[o]||xi:e;a=sf(l,a)}r.push(a)}return r}function Pre(n,e,{clamp:t=!0,ease:r,mixer:i}={}){const s=n.length;if(Mz(s===e.length),s===1)return()=>e[0];n[0]>n[s-1]&&(n=[...n].reverse(),e=[...e].reverse());const o=UDe(e,r,i),a=o.length,l=u=>{let h=0;if(a>1)for(;h<n.length-2&&!(u<n[h+1]);h++);const f=WM(n[h],n[h+1],u);return o[h](f)};return t?u=>l(Sf(n[0],n[s-1],u)):l}function ODe(n,e){const t=n[n.length-1];for(let r=1;r<=e;r++){const i=WM(0,e,r);n.push(br(t,1,i))}}function kDe(n){const e=[0];return ODe(e,n.length-1),e}function GDe(n,e){return n.map(t=>t*e)}function zDe(n,e){return n.map(()=>e||pre).splice(0,n.length-1)}function JC({duration:n=300,keyframes:e,times:t,ease:r="easeInOut"}){const i=MDe(r)?r.map(jW):jW(r),s={done:!1,value:e[0]},o=GDe(t&&t.length===e.length?t:kDe(e),n),a=Pre(o,e,{ease:Array.isArray(i)?i:zDe(e,i)});return{calculatedDuration:n,next:l=>(s.value=a(l),s.done=l>=n,s)}}function Bre(n,e){return e?n*(1e3/e):0}const HDe=5;function Lre(n,e,t){const r=Math.max(e-HDe,0);return Bre(t-n(r),e-r)}const sI=.001,VDe=.01,YW=10,WDe=.05,jDe=1;function XDe({duration:n=800,bounce:e=.25,velocity:t=0,mass:r=1}){let i,s;fDe(n<=of(YW));let o=1-e;o=Sf(WDe,jDe,o),n=Sf(VDe,YW,ph(n)),o<1?(i=u=>{const h=u*o,f=h*n,p=h-t,m=uN(u,o),v=Math.exp(-f);return sI-p/m*v},s=u=>{const f=u*o*n,p=f*t+t,m=Math.pow(o,2)*Math.pow(u,2)*n,v=Math.exp(-f),S=uN(Math.pow(u,2),o);return(-i(u)+sI>0?-1:1)*((p-m)*v)/S}):(i=u=>{const h=Math.exp(-u*n),f=(u-t)*n+1;return-sI+h*f},s=u=>{const h=Math.exp(-u*n),f=(t-u)*(n*n);return h*f});const a=5/n,l=YDe(i,s,a);if(n=of(n),isNaN(l))return{stiffness:100,damping:10,duration:n};{const u=Math.pow(l,2)*r;return{stiffness:u,damping:o*2*Math.sqrt(r*u),duration:n}}}const JDe=12;function YDe(n,e,t){let r=t;for(let i=1;i<JDe;i++)r=r-n(r)/e(r);return r}function uN(n,e){return n*Math.sqrt(1-e*e)}const KDe=["duration","bounce"],QDe=["stiffness","damping","mass"];function KW(n,e){return e.some(t=>n[t]!==void 0)}function qDe(n){let e={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...n};if(!KW(n,QDe)&&KW(n,KDe)){const t=XDe(n);e={...e,...t,velocity:0,mass:1},e.isResolvedFromDuration=!0}return e}function Ire({keyframes:n,restDelta:e,restSpeed:t,...r}){const i=n[0],s=n[n.length-1],o={done:!1,value:i},{stiffness:a,damping:l,mass:u,velocity:h,duration:f,isResolvedFromDuration:p}=qDe(r),m=h?-ph(h):0,v=l/(2*Math.sqrt(a*u)),S=s-i,A=ph(Math.sqrt(a/u)),g=Math.abs(S)<5;t||(t=g?.01:2),e||(e=g?.005:.5);let M;if(v<1){const _=uN(A,v);M=b=>{const T=Math.exp(-v*A*b);return s-T*((m+v*A*S)/_*Math.sin(_*b)+S*Math.cos(_*b))}}else if(v===1)M=_=>s-Math.exp(-A*_)*(S+(m+A*S)*_);else{const _=A*Math.sqrt(v*v-1);M=b=>{const T=Math.exp(-v*A*b),C=Math.min(_*b,300);return s-T*((m+v*A*S)*Math.sinh(C)+_*S*Math.cosh(C))/_}}return{calculatedDuration:p&&f||null,next:_=>{const b=M(_);if(p)o.done=_>=f;else{let T=m;_!==0&&(v<1?T=Lre(M,_,b):T=0);const C=Math.abs(T)<=t,B=Math.abs(s-b)<=e;o.done=C&&B}return o.value=o.done?s:b,o}}}function QW({keyframes:n,velocity:e=0,power:t=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:o,min:a,max:l,restDelta:u=.5,restSpeed:h}){const f=n[0],p={done:!1,value:f},m=P=>a!==void 0&&P<a||l!==void 0&&P>l,v=P=>a===void 0?l:l===void 0||Math.abs(a-P)<Math.abs(l-P)?a:l;let S=t*e;const A=f+S,g=o===void 0?A:o(A);g!==A&&(S=g-f);const M=P=>-S*Math.exp(-P/r),_=P=>g+M(P),b=P=>{const R=M(P),L=_(P);p.done=Math.abs(R)<=u,p.value=p.done?g:L};let T,C;const B=P=>{m(p.value)&&(T=P,C=Ire({keyframes:[p.value,v(p.value)],velocity:Lre(_,P,p.value),damping:i,stiffness:s,restDelta:u,restSpeed:h}))};return B(0),{calculatedDuration:null,next:P=>{let R=!1;return!C&&T===void 0&&(R=!0,b(P),B(P)),T!==void 0&&P>T?C.next(P-T):(!R&&b(P),p)}}}const ZDe=n=>{const e=({timestamp:t})=>n(t);return{start:()=>Tr.update(e,!0),stop:()=>wh(e),now:()=>vr.isProcessing?vr.timestamp:performance.now()}},qW=2e4;function ZW(n){let e=0;const t=50;let r=n.next(e);for(;!r.done&&e<qW;)e+=t,r=n.next(e);return e>=qW?1/0:e}const $De={decay:QW,inertia:QW,tween:JC,keyframes:JC,spring:Ire};function YC({autoplay:n=!0,delay:e=0,driver:t=ZDe,keyframes:r,type:i="keyframes",repeat:s=0,repeatDelay:o=0,repeatType:a="loop",onPlay:l,onStop:u,onComplete:h,onUpdate:f,...p}){let m=1,v=!1,S,A;const g=()=>{S&&S(),A=new Promise(K=>{S=K})};g();let M;const _=$De[i]||JC;let b;_!==JC&&typeof r[0]!="number"&&(b=Pre([0,100],r,{clamp:!1}),r=[0,100]);const T=_({...p,keyframes:r});let C;a==="mirror"&&(C=_({...p,keyframes:[...r].reverse(),velocity:-(p.velocity||0)}));let B="idle",P=null,R=null,L=null;T.calculatedDuration===null&&s&&(T.calculatedDuration=ZW(T));const{calculatedDuration:U}=T;let Q=1/0,W=1/0;U!==null&&(Q=U+o,W=Q*(s+1)-o);let Y=0;const X=K=>{if(R===null)return;m>0&&(R=Math.min(R,K)),P!==null?Y=P:Y=(K-R)*m;const H=Y-e,ue=H<0;Y=Math.max(H,0),B==="finished"&&P===null&&(Y=W);let le=Y,Ce=T;if(s){const je=Y/Q;let Ke=Math.floor(je),fe=je%1;!fe&&je>=1&&(fe=1),fe===1&&Ke--,Ke=Math.min(Ke,s+1);const z=!!(Ke%2);z&&(a==="reverse"?(fe=1-fe,o&&(fe-=o/Q)):a==="mirror"&&(Ce=C));let Ae=Sf(0,1,fe);Y>W&&(Ae=a==="reverse"&&z?1:0),le=Ae*Q}const xe=ue?{done:!1,value:r[0]}:Ce.next(le);b&&(xe.value=b(xe.value));let{done:Be}=xe;!ue&&U!==null&&(Be=Y>=W);const Qe=P===null&&(B==="finished"||B==="running"&&Be||m<0&&Y<=0);return f&&f(xe.value),Qe&&D(),xe},ae=()=>{M&&M.stop(),M=void 0},Z=()=>{B="idle",ae(),g(),R=L=null},D=()=>{B="finished",h&&h(),ae(),g()},k=()=>{if(v)return;M||(M=t(X));const K=M.now();l&&l(),P!==null?R=K-P:(!R||B==="finished")&&(R=K),L=R,P=null,B="running",M.start()};n&&k();const G={then(K,H){return A.then(K,H)},get time(){return ph(Y)},set time(K){K=of(K),Y=K,P!==null||!M||m===0?P=K:R=M.now()-K/m},get duration(){const K=T.calculatedDuration===null?ZW(T):T.calculatedDuration;return ph(K)},get speed(){return m},set speed(K){K===m||!M||(m=K,G.time=ph(Y))},get state(){return B},play:k,pause:()=>{B="paused",P=Y},stop:()=>{v=!0,B!=="idle"&&(B="idle",u&&u(),Z())},cancel:()=>{L!==null&&X(L),Z()},complete:()=>{B="finished"},sample:K=>(R=0,X(K))};return G}const e3e=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),Lw=10,t3e=2e4,n3e=(n,e)=>e.type==="spring"||n==="backgroundColor"||!ure(e.ease);function r3e(n,e,{onUpdate:t,onComplete:r,...i}){if(!(dre.waapi()&&e3e.has(e)&&!i.repeatDelay&&i.repeatType!=="mirror"&&i.damping!==0&&i.type!=="inertia"))return!1;let o=!1,a,l;const u=()=>{l=new Promise(g=>{a=g})};u();let{keyframes:h,duration:f=300,ease:p,times:m}=i;if(n3e(e,i)){const g=YC({...i,repeat:0,delay:0});let M={done:!1,value:h[0]};const _=[];let b=0;for(;!M.done&&b<t3e;)M=g.sample(b),_.push(M.value),b+=Lw;m=void 0,h=_,f=b-Lw,p="linear"}const v=mDe(n.owner.current,e,h,{...i,duration:f,ease:p,times:m}),S=()=>v.cancel(),A=()=>{Tr.update(S),a(),u()};return v.onfinish=()=>{n.set(gDe(h,i)),r&&r(),A()},{then(g,M){return l.then(g,M)},get time(){return ph(v.currentTime||0)},set time(g){v.currentTime=of(g)},get speed(){return v.playbackRate},set speed(g){v.playbackRate=g},get duration(){return ph(f)},play:()=>{o||(v.play(),wh(S))},pause:()=>v.pause(),stop:()=>{if(o=!0,v.playState==="idle")return;const{currentTime:g}=v;if(g){const M=YC({...i,autoplay:!1});n.setWithVelocity(M.sample(g-Lw).value,M.sample(g).value,Lw)}A()},complete:()=>v.finish(),cancel:A}}function i3e({keyframes:n,delay:e,onUpdate:t,onComplete:r}){const i=()=>(t&&t(n[n.length-1]),r&&r(),{time:0,speed:1,duration:0,play:xi,pause:xi,stop:xi,then:s=>(s(),Promise.resolve()),cancel:xi,complete:xi});return e?YC({keyframes:[0,1],duration:0,delay:e,onComplete:i}):i()}const s3e={type:"spring",stiffness:500,damping:25,restSpeed:10},o3e=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),a3e={type:"keyframes",duration:.8},l3e={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},u3e=(n,{keyframes:e})=>e.length>2?a3e:Eg.has(n)?n.startsWith("scale")?o3e(e[1]):s3e:l3e,cN=(n,e)=>n==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Ef.test(e)||e==="0")&&!e.startsWith("url(")),c3e=new Set(["brightness","contrast","saturate","opacity"]);function h3e(n){const[e,t]=n.slice(0,-1).split("(");if(e==="drop-shadow")return n;const[r]=t.match(PP)||[];if(!r)return n;const i=t.replace(r,"");let s=c3e.has(e)?1:0;return r!==t&&(s*=100),e+"("+s+i+")"}const d3e=/([a-z-]*)\(.*?\)/g,hN={...Ef,getAnimatableNone:n=>{const e=n.match(d3e);return e?e.map(h3e).join(" "):n}},f3e={...Xne,color:ks,backgroundColor:ks,outlineColor:ks,fill:ks,stroke:ks,borderColor:ks,borderTopColor:ks,borderRightColor:ks,borderBottomColor:ks,borderLeftColor:ks,filter:hN,WebkitFilter:hN},wz=n=>f3e[n];function Dre(n,e){let t=wz(n);return t!==hN&&(t=Ef),t.getAnimatableNone?t.getAnimatableNone(e):void 0}const Fre=n=>/^0[^.\s]+$/.test(n);function p3e(n){if(typeof n=="number")return n===0;if(n!==null)return n==="none"||n==="0"||Fre(n)}function m3e(n,e,t,r){const i=cN(e,t);let s;Array.isArray(t)?s=[...t]:s=[null,t];const o=r.from!==void 0?r.from:n.get();let a;const l=[];for(let u=0;u<s.length;u++)s[u]===null&&(s[u]=u===0?o:s[u-1]),p3e(s[u])&&l.push(u),typeof s[u]=="string"&&s[u]!=="none"&&s[u]!=="0"&&(a=s[u]);if(i&&l.length&&a)for(let u=0;u<l.length;u++){const h=l[u];s[h]=Dre(e,a)}return s}function g3e({when:n,delay:e,delayChildren:t,staggerChildren:r,staggerDirection:i,repeat:s,repeatType:o,repeatDelay:a,from:l,elapsed:u,...h}){return!!Object.keys(h).length}function Nre(n,e){return n[e]||n.default||n}const Tz=(n,e,t,r={})=>i=>{const s=Nre(r,n)||{},o=s.delay||r.delay||0;let{elapsed:a=0}=r;a=a-of(o);const l=m3e(e,n,t,s),u=l[0],h=l[l.length-1],f=cN(n,u),p=cN(n,h);let m={keyframes:l,velocity:e.getVelocity(),ease:"easeOut",...s,delay:-a,onUpdate:v=>{e.set(v),s.onUpdate&&s.onUpdate(v)},onComplete:()=>{i(),s.onComplete&&s.onComplete()}};if(g3e(s)||(m={...m,...u3e(n,m)}),m.duration&&(m.duration=of(m.duration)),m.repeatDelay&&(m.repeatDelay=of(m.repeatDelay)),!f||!p||pDe.current||s.type===!1)return i3e(m);if(e.owner&&e.owner.current instanceof HTMLElement&&!e.owner.getProps().onUpdate){const v=r3e(e,n,m);if(v)return v}return YC(m)};function KC(n){return!!(xo(n)&&n.add)}const v3e=n=>/^\-?\d*\.?\d+$/.test(n);function Cz(n,e){n.indexOf(e)===-1&&n.push(e)}function Rz(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}class Pz{constructor(){this.subscriptions=[]}add(e){return Cz(this.subscriptions,e),()=>Rz(this.subscriptions,e)}notify(e,t,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,t,r);else for(let s=0;s<i;s++){const o=this.subscriptions[s];o&&o(e,t,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const y3e=n=>!isNaN(parseFloat(n));class x3e{constructor(e,t={}){this.version="10.12.16",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(r,i=!0)=>{this.prev=this.current,this.current=r;const{delta:s,timestamp:o}=vr;this.lastUpdated!==o&&(this.timeDelta=s,this.lastUpdated=o,Tr.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>Tr.postRender(this.velocityCheck),this.velocityCheck=({timestamp:r})=>{r!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=e,this.canTrackVelocity=y3e(this.current),this.owner=t.owner}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new Pz);const r=this.events[e].add(t);return e==="change"?()=>{r(),Tr.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e,t=!0){!t||!this.passiveEffect?this.updateAndNotify(e,t):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,t,r){this.set(t),this.prev=e,this.timeDelta=r}jump(e){this.updateAndNotify(e),this.prev=e,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?Bre(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function ax(n,e){return new x3e(n,e)}const Ure=n=>e=>e.test(n),A3e={test:n=>n==="auto",parse:n=>n},Ore=[bg,jt,ju,pd,bIe,EIe,A3e],B1=n=>Ore.find(Ure(n)),_3e=[...Ore,ks,Ef],M3e=n=>_3e.find(Ure(n));function S3e(n,e,t){n.hasValue(e)?n.getValue(e).set(t):n.addValue(e,ax(t))}function E3e(n,e){const t=IP(n,e);let{transitionEnd:r={},transition:i={},...s}=t?n.makeTargetAnimatable(t,!1):{};s={...s,...r};for(const o in s){const a=GIe(s[o]);S3e(n,o,a)}}function b3e(n,e,t){var r,i;const s=Object.keys(e).filter(a=>!n.hasValue(a)),o=s.length;if(o)for(let a=0;a<o;a++){const l=s[a],u=e[l];let h=null;Array.isArray(u)&&(h=u[0]),h===null&&(h=(i=(r=t[l])!==null&&r!==void 0?r:n.readValue(l))!==null&&i!==void 0?i:e[l]),h!=null&&(typeof h=="string"&&(v3e(h)||Fre(h))?h=parseFloat(h):!M3e(h)&&Ef.test(u)&&(h=Dre(l,u)),n.addValue(l,ax(h,{owner:n})),t[l]===void 0&&(t[l]=h),h!==null&&n.setBaseTarget(l,h))}}function w3e(n,e){return e?(e[n]||e.default||e).from:void 0}function T3e(n,e,t){const r={};for(const i in n){const s=w3e(i,e);if(s!==void 0)r[i]=s;else{const o=t.getValue(i);o&&(r[i]=o.get())}}return r}function C3e({protectedKeys:n,needsAnimating:e},t){const r=n.hasOwnProperty(t)&&e[t]!==!0;return e[t]=!1,r}function kre(n,e,{delay:t=0,transitionOverride:r,type:i}={}){let{transition:s=n.getDefaultTransition(),transitionEnd:o,...a}=n.makeTargetAnimatable(e);const l=n.getValue("willChange");r&&(s=r);const u=[],h=i&&n.animationState&&n.animationState.getState()[i];for(const f in a){const p=n.getValue(f),m=a[f];if(!p||m===void 0||h&&C3e(h,f))continue;const v={delay:t,elapsed:0,...s};if(window.HandoffAppearAnimations&&!p.hasAnimated){const A=n.getProps()[dDe];A&&(v.elapsed=window.HandoffAppearAnimations(A,f,p,Tr))}p.start(Tz(f,p,m,n.shouldReduceMotion&&Eg.has(f)?{type:!1}:v));const S=p.animation;KC(l)&&(l.add(f),S.then(()=>l.remove(f))),u.push(S)}return o&&Promise.all(u).then(()=>{o&&E3e(n,o)}),u}function dN(n,e,t={}){const r=IP(n,e,t.custom);let{transition:i=n.getDefaultTransition()||{}}=r||{};t.transitionOverride&&(i=t.transitionOverride);const s=r?()=>Promise.all(kre(n,r,t)):()=>Promise.resolve(),o=n.variantChildren&&n.variantChildren.size?(l=0)=>{const{delayChildren:u=0,staggerChildren:h,staggerDirection:f}=i;return R3e(n,e,u+l,h,f,t)}:()=>Promise.resolve(),{when:a}=i;if(a){const[l,u]=a==="beforeChildren"?[s,o]:[o,s];return l().then(()=>u())}else return Promise.all([s(),o(t.delay)])}function R3e(n,e,t=0,r=0,i=1,s){const o=[],a=(n.variantChildren.size-1)*r,l=i===1?(u=0)=>u*r:(u=0)=>a-u*r;return Array.from(n.variantChildren).sort(P3e).forEach((u,h)=>{u.notify("AnimationStart",e),o.push(dN(u,e,{...s,delay:t+l(h)}).then(()=>u.notify("AnimationComplete",e)))}),Promise.all(o)}function P3e(n,e){return n.sortNodePosition(e)}function B3e(n,e,t={}){n.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(s=>dN(n,s,t));r=Promise.all(i)}else if(typeof e=="string")r=dN(n,e,t);else{const i=typeof e=="function"?IP(n,e,t.custom):e;r=Promise.all(kre(n,i,t))}return r.then(()=>n.notify("AnimationComplete",e))}const L3e=[...dz].reverse(),I3e=dz.length;function D3e(n){return e=>Promise.all(e.map(({animation:t,options:r})=>B3e(n,t,r)))}function F3e(n){let e=D3e(n);const t=U3e();let r=!0;const i=(l,u)=>{const h=IP(n,u);if(h){const{transition:f,transitionEnd:p,...m}=h;l={...l,...m,...p}}return l};function s(l){e=l(n)}function o(l,u){const h=n.getProps(),f=n.getVariantContext(!0)||{},p=[],m=new Set;let v={},S=1/0;for(let g=0;g<I3e;g++){const M=L3e[g],_=t[M],b=h[M]!==void 0?h[M]:f[M],T=zM(b),C=M===u?_.isActive:null;C===!1&&(S=g);let B=b===f[M]&&b!==h[M]&&T;if(B&&r&&n.manuallyAnimateOnMount&&(B=!1),_.protectedKeys={...v},!_.isActive&&C===null||!b&&!_.prevProp||CP(b)||typeof b=="boolean")continue;const P=N3e(_.prevProp,b);let R=P||M===u&&_.isActive&&!B&&T||g>S&&T;const L=Array.isArray(b)?b:[b];let U=L.reduce(i,{});C===!1&&(U={});const{prevResolvedValues:Q={}}=_,W={...Q,...U},Y=X=>{R=!0,m.delete(X),_.needsAnimating[X]=!0};for(const X in W){const ae=U[X],Z=Q[X];v.hasOwnProperty(X)||(ae!==Z?jC(ae)&&jC(Z)?!are(ae,Z)||P?Y(X):_.protectedKeys[X]=!0:ae!==void 0?Y(X):m.add(X):ae!==void 0&&m.has(X)?Y(X):_.protectedKeys[X]=!0)}_.prevProp=b,_.prevResolvedValues=U,_.isActive&&(v={...v,...U}),r&&n.blockInitialAnimation&&(R=!1),R&&!B&&p.push(...L.map(X=>({animation:X,options:{type:M,...l}})))}if(m.size){const g={};m.forEach(M=>{const _=n.getBaseTarget(M);_!==void 0&&(g[M]=_)}),p.push({animation:g})}let A=!!p.length;return r&&h.initial===!1&&!n.manuallyAnimateOnMount&&(A=!1),r=!1,A?e(p):Promise.resolve()}function a(l,u,h){var f;if(t[l].isActive===u)return Promise.resolve();(f=n.variantChildren)===null||f===void 0||f.forEach(m=>{var v;return(v=m.animationState)===null||v===void 0?void 0:v.setActive(l,u)}),t[l].isActive=u;const p=o(h,l);for(const m in t)t[m].protectedKeys={};return p}return{animateChanges:o,setActive:a,setAnimateFunction:s,getState:()=>t}}function N3e(n,e){return typeof e=="string"?e!==n:Array.isArray(e)?!are(e,n):!1}function Wp(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function U3e(){return{animate:Wp(!0),whileInView:Wp(),whileHover:Wp(),whileTap:Wp(),whileDrag:Wp(),whileFocus:Wp(),exit:Wp()}}class O3e extends kf{constructor(e){super(e),e.animationState||(e.animationState=F3e(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();this.unmount(),CP(e)&&(this.unmount=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){}}let k3e=0;class G3e extends kf{constructor(){super(...arguments),this.id=k3e++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t,custom:r}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const s=this.node.animationState.setActive("exit",!e,{custom:r??this.node.getProps().custom});t&&!e&&s.then(()=>t(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const z3e={animation:{Feature:O3e},exit:{Feature:G3e}},$W=(n,e)=>Math.abs(n-e);function H3e(n,e){const t=$W(n.x,e.x),r=$W(n.y,e.y);return Math.sqrt(t**2+r**2)}class Gre{constructor(e,t,{transformPagePoint:r}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const u=aI(this.lastMoveEventInfo,this.history),h=this.startEvent!==null,f=H3e(u.offset,{x:0,y:0})>=3;if(!h&&!f)return;const{point:p}=u,{timestamp:m}=vr;this.history.push({...p,timestamp:m});const{onStart:v,onMove:S}=this.handlers;h||(v&&v(this.lastMoveEvent,u),this.startEvent=this.lastMoveEvent),S&&S(this.lastMoveEvent,u)},this.handlePointerMove=(u,h)=>{this.lastMoveEvent=u,this.lastMoveEventInfo=oI(h,this.transformPagePoint),Tr.update(this.updatePoint,!0)},this.handlePointerUp=(u,h)=>{if(this.end(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const{onEnd:f,onSessionEnd:p}=this.handlers,m=aI(u.type==="pointercancel"?this.lastMoveEventInfo:oI(h,this.transformPagePoint),this.history);this.startEvent&&f&&f(u,m),p&&p(u,m)},!tre(e))return;this.handlers=t,this.transformPagePoint=r;const i=BP(e),s=oI(i,this.transformPagePoint),{point:o}=s,{timestamp:a}=vr;this.history=[{...o,timestamp:a}];const{onSessionStart:l}=t;l&&l(e,aI(s,this.history)),this.removeListeners=sf(fh(window,"pointermove",this.handlePointerMove),fh(window,"pointerup",this.handlePointerUp),fh(window,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),wh(this.updatePoint)}}function oI(n,e){return e?{point:e(n.point)}:n}function ej(n,e){return{x:n.x-e.x,y:n.y-e.y}}function aI({point:n},e){return{point:n,delta:ej(n,zre(e)),offset:ej(n,V3e(e)),velocity:W3e(e,.1)}}function V3e(n){return n[0]}function zre(n){return n[n.length-1]}function W3e(n,e){if(n.length<2)return{x:0,y:0};let t=n.length-1,r=null;const i=zre(n);for(;t>=0&&(r=n[t],!(i.timestamp-r.timestamp>of(e)));)t--;if(!r)return{x:0,y:0};const s=ph(i.timestamp-r.timestamp);if(s===0)return{x:0,y:0};const o={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function ra(n){return n.max-n.min}function fN(n,e=0,t=.01){return Math.abs(n-e)<=t}function tj(n,e,t,r=.5){n.origin=r,n.originPoint=br(e.min,e.max,n.origin),n.scale=ra(t)/ra(e),(fN(n.scale,1,1e-4)||isNaN(n.scale))&&(n.scale=1),n.translate=br(t.min,t.max,n.origin)-n.originPoint,(fN(n.translate)||isNaN(n.translate))&&(n.translate=0)}function R_(n,e,t,r){tj(n.x,e.x,t.x,r?r.originX:void 0),tj(n.y,e.y,t.y,r?r.originY:void 0)}function nj(n,e,t){n.min=t.min+e.min,n.max=n.min+ra(e)}function j3e(n,e,t){nj(n.x,e.x,t.x),nj(n.y,e.y,t.y)}function rj(n,e,t){n.min=e.min-t.min,n.max=n.min+ra(e)}function P_(n,e,t){rj(n.x,e.x,t.x),rj(n.y,e.y,t.y)}function X3e(n,{min:e,max:t},r){return e!==void 0&&n<e?n=r?br(e,n,r.min):Math.max(n,e):t!==void 0&&n>t&&(n=r?br(t,n,r.max):Math.min(n,t)),n}function ij(n,e,t){return{min:e!==void 0?n.min+e:void 0,max:t!==void 0?n.max+t-(n.max-n.min):void 0}}function J3e(n,{top:e,left:t,bottom:r,right:i}){return{x:ij(n.x,t,i),y:ij(n.y,e,r)}}function sj(n,e){let t=e.min-n.min,r=e.max-n.max;return e.max-e.min<n.max-n.min&&([t,r]=[r,t]),{min:t,max:r}}function Y3e(n,e){return{x:sj(n.x,e.x),y:sj(n.y,e.y)}}function K3e(n,e){let t=.5;const r=ra(n),i=ra(e);return i>r?t=WM(e.min,e.max-r,n.min):r>i&&(t=WM(n.min,n.max-i,e.min)),Sf(0,1,t)}function Q3e(n,e){const t={};return e.min!==void 0&&(t.min=e.min-n.min),e.max!==void 0&&(t.max=e.max-n.min),t}const pN=.35;function q3e(n=pN){return n===!1?n=0:n===!0&&(n=pN),{x:oj(n,"left","right"),y:oj(n,"top","bottom")}}function oj(n,e,t){return{min:aj(n,e),max:aj(n,t)}}function aj(n,e){return typeof n=="number"?n:n[e]||0}const lj=()=>({translate:0,scale:1,origin:0,originPoint:0}),ey=()=>({x:lj(),y:lj()}),uj=()=>({min:0,max:0}),ai=()=>({x:uj(),y:uj()});function bu(n){return[n("x"),n("y")]}function Hre({top:n,left:e,right:t,bottom:r}){return{x:{min:e,max:t},y:{min:n,max:r}}}function Z3e({x:n,y:e}){return{top:e.min,right:n.max,bottom:e.max,left:n.min}}function $3e(n,e){if(!e)return n;const t=e({x:n.left,y:n.top}),r=e({x:n.right,y:n.bottom});return{top:t.y,left:t.x,bottom:r.y,right:r.x}}function lI(n){return n===void 0||n===1}function mN({scale:n,scaleX:e,scaleY:t}){return!lI(n)||!lI(e)||!lI(t)}function im(n){return mN(n)||Vre(n)||n.z||n.rotate||n.rotateX||n.rotateY}function Vre(n){return cj(n.x)||cj(n.y)}function cj(n){return n&&n!=="0%"}function QC(n,e,t){const r=n-t,i=e*r;return t+i}function hj(n,e,t,r,i){return i!==void 0&&(n=QC(n,i,r)),QC(n,t,r)+e}function gN(n,e=0,t=1,r,i){n.min=hj(n.min,e,t,r,i),n.max=hj(n.max,e,t,r,i)}function Wre(n,{x:e,y:t}){gN(n.x,e.translate,e.scale,e.originPoint),gN(n.y,t.translate,t.scale,t.originPoint)}function eFe(n,e,t,r=!1){const i=t.length;if(!i)return;e.x=e.y=1;let s,o;for(let a=0;a<i;a++){s=t[a],o=s.projectionDelta;const l=s.instance;l&&l.style&&l.style.display==="contents"||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&ty(n,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,Wre(n,o)),r&&im(s.latestValues)&&ty(n,s.latestValues))}e.x=dj(e.x),e.y=dj(e.y)}function dj(n){return Number.isInteger(n)||n>1.0000000000001||n<.999999999999?n:1}function Ed(n,e){n.min=n.min+e,n.max=n.max+e}function fj(n,e,[t,r,i]){const s=e[i]!==void 0?e[i]:.5,o=br(n.min,n.max,s);gN(n,e[t],e[r],o,e.scale)}const tFe=["x","scaleX","originX"],nFe=["y","scaleY","originY"];function ty(n,e){fj(n.x,e,tFe),fj(n.y,e,nFe)}function jre(n,e){return Hre($3e(n.getBoundingClientRect(),e))}function rFe(n,e,t){const r=jre(n,t),{scroll:i}=e;return i&&(Ed(r.x,i.offset.x),Ed(r.y,i.offset.y)),r}const iFe=new WeakMap;class sFe{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=ai(),this.visualElement=e}start(e,{snapToCursor:t=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=l=>{this.stopAnimation(),t&&this.snapToCursor(BP(l,"page").point)},s=(l,u)=>{const{drag:h,dragPropagation:f,onDragStart:p}=this.getProps();if(h&&!f&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=rre(h),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),bu(v=>{let S=this.getAxisMotionValue(v).get()||0;if(ju.test(S)){const{projection:A}=this.visualElement;if(A&&A.layout){const g=A.layout.layoutBox[v];g&&(S=ra(g)*(parseFloat(S)/100))}}this.originPoint[v]=S}),p&&Tr.update(()=>p(l,u),!1,!0);const{animationState:m}=this.visualElement;m&&m.setActive("whileDrag",!0)},o=(l,u)=>{const{dragPropagation:h,dragDirectionLock:f,onDirectionLock:p,onDrag:m}=this.getProps();if(!h&&!this.openGlobalLock)return;const{offset:v}=u;if(f&&this.currentDirection===null){this.currentDirection=oFe(v),this.currentDirection!==null&&p&&p(this.currentDirection);return}this.updateAxis("x",u.point,v),this.updateAxis("y",u.point,v),this.visualElement.render(),m&&m(l,u)},a=(l,u)=>this.stop(l,u);this.panSession=new Gre(e,{onSessionStart:i,onStart:s,onMove:o,onSessionEnd:a},{transformPagePoint:this.visualElement.getTransformPagePoint()})}stop(e,t){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=t;this.startAnimation(i);const{onDragEnd:s}=this.getProps();s&&Tr.update(()=>s(e,t))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,r){const{drag:i}=this.getProps();if(!r||!Iw(e,i,this.currentDirection))return;const s=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=X3e(o,this.constraints[e],this.elastic[e])),s.set(o)}resolveConstraints(){const{dragConstraints:e,dragElastic:t}=this.getProps(),{layout:r}=this.visualElement.projection||{},i=this.constraints;e&&Z0(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=J3e(r.layoutBox,e):this.constraints=!1,this.elastic=q3e(t),i!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&bu(s=>{this.getAxisMotionValue(s)&&(this.constraints[s]=Q3e(r.layoutBox[s],this.constraints[s]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!Z0(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=rFe(r,i.root,this.visualElement.getTransformPagePoint());let o=Y3e(i.layout.layoutBox,s);if(t){const a=t(Z3e(o));this.hasMutatedConstraints=!!a,a&&(o=Hre(a))}return o}startAnimation(e){const{drag:t,dragMomentum:r,dragElastic:i,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},u=bu(h=>{if(!Iw(h,t,this.currentDirection))return;let f=l&&l[h]||{};o&&(f={min:0,max:0});const p=i?200:1e6,m=i?40:1e7,v={type:"inertia",velocity:r?e[h]:0,bounceStiffness:p,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...s,...f};return this.startAxisValueAnimation(h,v)});return Promise.all(u).then(a)}startAxisValueAnimation(e,t){const r=this.getAxisMotionValue(e);return r.start(Tz(e,r,0,t))}stopAnimation(){bu(e=>this.getAxisMotionValue(e).stop())}getAxisMotionValue(e){const t="_drag"+e.toUpperCase(),r=this.visualElement.getProps(),i=r[t];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){bu(t=>{const{drag:r}=this.getProps();if(!Iw(t,r,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(t);if(i&&i.layout){const{min:o,max:a}=i.layout.layoutBox[t];s.set(e[t]-br(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:r}=this.visualElement;if(!Z0(t)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};bu(o=>{const a=this.getAxisMotionValue(o);if(a){const l=a.get();i[o]=K3e({min:l,max:l},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),bu(o=>{if(!Iw(o,e,null))return;const a=this.getAxisMotionValue(o),{min:l,max:u}=this.constraints[o];a.set(br(l,u,i[o]))})}addListeners(){if(!this.visualElement.current)return;iFe.set(this.visualElement,this);const e=this.visualElement.current,t=fh(e,"pointerdown",l=>{const{drag:u,dragListener:h=!0}=this.getProps();u&&h&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();Z0(l)&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),r();const o=oh(window,"resize",()=>this.scalePositionWithinConstraints()),a=i.addEventListener("didUpdate",({delta:l,hasLayoutChanged:u})=>{this.isDragging&&u&&(bu(h=>{const f=this.getAxisMotionValue(h);f&&(this.originPoint[h]+=l[h].translate,f.set(f.get()+l[h].translate))}),this.visualElement.render())});return()=>{o(),t(),s(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:o=pN,dragMomentum:a=!0}=e;return{...e,drag:t,dragDirectionLock:r,dragPropagation:i,dragConstraints:s,dragElastic:o,dragMomentum:a}}}function Iw(n,e,t){return(e===!0||e===n)&&(t===null||t===n)}function oFe(n,e=10){let t=null;return Math.abs(n.y)>e?t="y":Math.abs(n.x)>e&&(t="x"),t}class aFe extends kf{constructor(e){super(e),this.removeGroupControls=xi,this.removeListeners=xi,this.controls=new sFe(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||xi}unmount(){this.removeGroupControls(),this.removeListeners()}}const pj=n=>(e,t)=>{n&&Tr.update(()=>n(e,t))};class lFe extends kf{constructor(){super(...arguments),this.removePointerDownListener=xi}onPointerDown(e){this.session=new Gre(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint()})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:pj(e),onStart:pj(t),onMove:r,onEnd:(s,o)=>{delete this.session,i&&Tr.update(()=>i(s,o))}}}mount(){this.removePointerDownListener=fh(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function uFe(){const n=me.useContext(hz);if(n===null)return[!0,null];const{isPresent:e,onExitComplete:t,register:r}=n,i=me.useId();return me.useEffect(()=>r(i),[]),!e&&t?[!1,()=>t&&t(i)]:[!0]}const bT={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function mj(n,e){return e.max===e.min?0:n/(e.max-e.min)*100}const L1={correct:(n,e)=>{if(!e.target)return n;if(typeof n=="string")if(jt.test(n))n=parseFloat(n);else return n;const t=mj(n,e.target.x),r=mj(n,e.target.y);return`${t}% ${r}%`}},cFe={correct:(n,{treeScale:e,projectionDelta:t})=>{const r=n,i=Ef.parse(n);if(i.length>5)return r;const s=Ef.createTransformer(n),o=typeof i[0]!="number"?1:0,a=t.x.scale*e.x,l=t.y.scale*e.y;i[0+o]/=a,i[1+o]/=l;const u=br(a,l,.5);return typeof i[2+o]=="number"&&(i[2+o]/=u),typeof i[3+o]=="number"&&(i[3+o]/=u),s(i)}};class hFe extends gS.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:r,layoutId:i}=this.props,{projection:s}=e;vIe(dFe),s&&(t.group&&t.group.add(s),r&&r.register&&i&&r.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),bT.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:r,drag:i,isPresent:s}=this.props,o=r.projection;return o&&(o.isPresent=s,i||e.layoutDependency!==t||t===void 0?o.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?o.promote():o.relegate()||Tr.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),queueMicrotask(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:r}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function Xre(n){const[e,t]=uFe(),r=me.useContext(Gne);return gS.createElement(hFe,{...n,layoutGroup:r,switchLayoutGroup:me.useContext(zne),isPresent:e,safeToRemove:t})}const dFe={borderRadius:{...L1,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:L1,borderTopRightRadius:L1,borderBottomLeftRadius:L1,borderBottomRightRadius:L1,boxShadow:cFe},Jre=["TopLeft","TopRight","BottomLeft","BottomRight"],fFe=Jre.length,gj=n=>typeof n=="string"?parseFloat(n):n,vj=n=>typeof n=="number"||jt.test(n);function pFe(n,e,t,r,i,s){i?(n.opacity=br(0,t.opacity!==void 0?t.opacity:1,mFe(r)),n.opacityExit=br(e.opacity!==void 0?e.opacity:1,0,gFe(r))):s&&(n.opacity=br(e.opacity!==void 0?e.opacity:1,t.opacity!==void 0?t.opacity:1,r));for(let o=0;o<fFe;o++){const a=`border${Jre[o]}Radius`;let l=yj(e,a),u=yj(t,a);if(l===void 0&&u===void 0)continue;l||(l=0),u||(u=0),l===0||u===0||vj(l)===vj(u)?(n[a]=Math.max(br(gj(l),gj(u),r),0),(ju.test(u)||ju.test(l))&&(n[a]+="%")):n[a]=u}(e.rotate||t.rotate)&&(n.rotate=br(e.rotate||0,t.rotate||0,r))}function yj(n,e){return n[e]!==void 0?n[e]:n.borderRadius}const mFe=Yre(0,.5,Sz),gFe=Yre(.5,.95,xi);function Yre(n,e,t){return r=>r<n?0:r>e?1:t(WM(n,e,r))}function xj(n,e){n.min=e.min,n.max=e.max}function Ra(n,e){xj(n.x,e.x),xj(n.y,e.y)}function Aj(n,e,t,r,i){return n-=e,n=QC(n,1/t,r),i!==void 0&&(n=QC(n,1/i,r)),n}function vFe(n,e=0,t=1,r=.5,i,s=n,o=n){if(ju.test(e)&&(e=parseFloat(e),e=br(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=br(s.min,s.max,r);n===s&&(a-=e),n.min=Aj(n.min,e,t,a,i),n.max=Aj(n.max,e,t,a,i)}function _j(n,e,[t,r,i],s,o){vFe(n,e[t],e[r],e[i],e.scale,s,o)}const yFe=["x","scaleX","originX"],xFe=["y","scaleY","originY"];function Mj(n,e,t,r){_j(n.x,e,yFe,t?t.x:void 0,r?r.x:void 0),_j(n.y,e,xFe,t?t.y:void 0,r?r.y:void 0)}function Sj(n){return n.translate===0&&n.scale===1}function Kre(n){return Sj(n.x)&&Sj(n.y)}function vN(n,e){return n.x.min===e.x.min&&n.x.max===e.x.max&&n.y.min===e.y.min&&n.y.max===e.y.max}function Ej(n){return ra(n.x)/ra(n.y)}class AFe{constructor(){this.members=[]}add(e){Cz(this.members,e),e.scheduleRender()}remove(e){if(Rz(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const t=this.members[this.members.length-1];t&&this.promote(t)}}relegate(e){const t=this.members.findIndex(i=>e===i);if(t===0)return!1;let r;for(let i=t;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){r=s;break}}return r?(this.promote(r),!0):!1}promote(e,t){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,t&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:t,resumingFrom:r}=e;t.onExitComplete&&t.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function bj(n,e,t){let r="";const i=n.x.translate/e.x,s=n.y.translate/e.y;if((i||s)&&(r=`translate3d(${i}px, ${s}px, 0) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),t){const{rotate:l,rotateX:u,rotateY:h}=t;l&&(r+=`rotate(${l}deg) `),u&&(r+=`rotateX(${u}deg) `),h&&(r+=`rotateY(${h}deg) `)}const o=n.x.scale*e.x,a=n.y.scale*e.y;return(o!==1||a!==1)&&(r+=`scale(${o}, ${a})`),r||"none"}const _Fe=(n,e)=>n.depth-e.depth;class MFe{constructor(){this.children=[],this.isDirty=!1}add(e){Cz(this.children,e),this.isDirty=!0}remove(e){Rz(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(_Fe),this.isDirty=!1,this.children.forEach(e)}}function SFe(n,e){const t=performance.now(),r=({timestamp:i})=>{const s=i-t;s>=e&&(wh(r),n(s-e))};return Tr.read(r,!0),()=>wh(r)}function EFe(n){window.MotionDebug&&window.MotionDebug.record(n)}function bFe(n){return n instanceof SVGElement&&n.tagName!=="svg"}function wFe(n,e,t){const r=xo(n)?n:ax(n);return r.start(Tz("",r,e,t)),r.animation}const wj=["","X","Y","Z"],Tj=1e3;let TFe=0;const sm={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function Qre({attachResizeListener:n,defaultParent:e,measureScroll:t,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(o={},a=e==null?void 0:e()){this.id=TFe++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{sm.totalNodes=sm.resolvedTargetDeltas=sm.recalculatedProjection=0,this.nodes.forEach(PFe),this.nodes.forEach(FFe),this.nodes.forEach(NFe),this.nodes.forEach(BFe),EFe(sm)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new MFe)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new Pz),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=bFe(o),this.instance=o;const{layoutId:l,layout:u,visualElement:h}=this.options;if(h&&!h.current&&h.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(u||l)&&(this.isLayoutDirty=!0),n){let f;const p=()=>this.root.updateBlockedByResize=!1;n(o,()=>{this.root.updateBlockedByResize=!0,f&&f(),f=SFe(p,250),bT.hasAnimatedSinceResize&&(bT.hasAnimatedSinceResize=!1,this.nodes.forEach(Rj))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&h&&(l||u)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:p,hasRelativeTargetChanged:m,layout:v})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const S=this.options.transition||h.getDefaultTransition()||zFe,{onLayoutAnimationStart:A,onLayoutAnimationComplete:g}=h.getProps(),M=!this.targetLayout||!vN(this.targetLayout,v)||m,_=!p&&m;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||_||p&&(M||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(f,_);const b={...Nre(S,"layout"),onPlay:A,onComplete:g};(h.shouldReduceMotion||this.options.layoutRoot)&&(b.delay=0,b.type=!1),this.startAnimation(b)}else p||Rj(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=v})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,wh(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(UFe),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let h=0;h<this.path.length;h++){const f=this.path[h];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Cj);return}this.isUpdating||this.nodes.forEach(IFe),this.isUpdating=!1,this.nodes.forEach(DFe),this.nodes.forEach(CFe),this.nodes.forEach(RFe),this.clearAllSnapshots();const a=performance.now();vr.delta=Sf(0,1e3/60,a-vr.timestamp),vr.timestamp=a,vr.isProcessing=!0,by.update.process(vr),by.preRender.process(vr),by.render.process(vr),vr.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(LFe),this.sharedNodes.forEach(OFe)}scheduleUpdateProjection(){Tr.preRender(this.updateProjection,!1,!0)}scheduleCheckAfterUnmount(){Tr.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=ai(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a&&(this.scroll={animationId:this.root.animationId,phase:o,isRoot:r(this.instance),offset:t(this.instance)})}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform,a=this.projectionDelta&&!Kre(this.projectionDelta),l=this.getTransformTemplate(),u=l?l(this.latestValues,""):void 0,h=u!==this.prevTransformTemplateValue;o&&(a||im(this.latestValues)||h)&&(i(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),HFe(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:o}=this.options;if(!o)return ai();const a=o.measureViewportBox(),{scroll:l}=this.root;return l&&(Ed(a.x,l.offset.x),Ed(a.y,l.offset.y)),a}removeElementScroll(o){const a=ai();Ra(a,o);for(let l=0;l<this.path.length;l++){const u=this.path[l],{scroll:h,options:f}=u;if(u!==this.root&&h&&f.layoutScroll){if(h.isRoot){Ra(a,o);const{scroll:p}=this.root;p&&(Ed(a.x,-p.offset.x),Ed(a.y,-p.offset.y))}Ed(a.x,h.offset.x),Ed(a.y,h.offset.y)}}return a}applyTransform(o,a=!1){const l=ai();Ra(l,o);for(let u=0;u<this.path.length;u++){const h=this.path[u];!a&&h.options.layoutScroll&&h.scroll&&h!==h.root&&ty(l,{x:-h.scroll.offset.x,y:-h.scroll.offset.y}),im(h.latestValues)&&ty(l,h.latestValues)}return im(this.latestValues)&&ty(l,this.latestValues),l}removeTransform(o){const a=ai();Ra(a,o);for(let l=0;l<this.path.length;l++){const u=this.path[l];if(!u.instance||!im(u.latestValues))continue;mN(u.latestValues)&&u.updateSnapshot();const h=ai(),f=u.measurePageBox();Ra(h,f),Mj(a,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,h)}return im(this.latestValues)&&Mj(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==vr.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var a;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==l;if(!(o||u&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:f,layoutId:p}=this.options;if(!(!this.layout||!(f||p))){if(this.resolvedRelativeTargetAt=vr.timestamp,!this.targetDelta&&!this.relativeTarget){const m=this.getClosestProjectingParent();m&&m.layout&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ai(),this.relativeTargetOrigin=ai(),P_(this.relativeTargetOrigin,this.layout.layoutBox,m.layout.layoutBox),Ra(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=ai(),this.targetWithTransforms=ai()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),j3e(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Ra(this.target,this.layout.layoutBox),Wre(this.target,this.targetDelta)):Ra(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const m=this.getClosestProjectingParent();m&&!!m.resumingFrom==!!this.resumingFrom&&!m.options.layoutScroll&&m.target&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ai(),this.relativeTargetOrigin=ai(),P_(this.relativeTargetOrigin,this.target,m.target),Ra(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}sm.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||mN(this.parent.latestValues)||Vre(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let u=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(u=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===vr.timestamp&&(u=!1),u)return;const{layout:h,layoutId:f}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(h||f))return;Ra(this.layoutCorrected,this.layout.layoutBox);const p=this.treeScale.x,m=this.treeScale.y;eFe(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox);const{target:v}=a;if(!v){this.projectionTransform&&(this.projectionDelta=ey(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=ey(),this.projectionDeltaWithTransform=ey());const S=this.projectionTransform;R_(this.projectionDelta,this.layoutCorrected,v,this.latestValues),this.projectionTransform=bj(this.projectionDelta,this.treeScale),(this.projectionTransform!==S||this.treeScale.x!==p||this.treeScale.y!==m)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",v)),sm.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),o){const a=this.getStack();a&&a.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(o,a=!1){const l=this.snapshot,u=l?l.latestValues:{},h={...this.latestValues},f=ey();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const p=ai(),m=l?l.source:void 0,v=this.layout?this.layout.source:void 0,S=m!==v,A=this.getStack(),g=!A||A.members.length<=1,M=!!(S&&!g&&this.options.crossfade===!0&&!this.path.some(GFe));this.animationProgress=0;let _;this.mixTargetDelta=b=>{const T=b/1e3;Pj(f.x,o.x,T),Pj(f.y,o.y,T),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(P_(p,this.layout.layoutBox,this.relativeParent.layout.layoutBox),kFe(this.relativeTarget,this.relativeTargetOrigin,p,T),_&&vN(this.relativeTarget,_)&&(this.isProjectionDirty=!1),_||(_=ai()),Ra(_,this.relativeTarget)),S&&(this.animationValues=h,pFe(h,u,this.latestValues,T,M,g)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=T},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(wh(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Tr.update(()=>{bT.hasAnimatedSinceResize=!0,this.currentAnimation=wFe(0,Tj,{...o,onUpdate:a=>{this.mixTargetDelta(a),o.onUpdate&&o.onUpdate(a)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Tj),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:u,latestValues:h}=o;if(!(!a||!l||!u)){if(this!==o&&this.layout&&u&&qre(this.options.animationType,this.layout.layoutBox,u.layoutBox)){l=this.target||ai();const f=ra(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+f;const p=ra(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+p}Ra(a,l),ty(a,h),R_(this.projectionDeltaWithTransform,this.layoutCorrected,a,h)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new AFe),this.sharedNodes.get(o).add(a);const u=a.options.initialPromotionConfig;a.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const u=this.getStack();u&&u.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.rotate||l.rotateX||l.rotateY||l.rotateZ)&&(a=!0),!a)return;const u={};for(let h=0;h<wj.length;h++){const f="rotate"+wj[h];l[f]&&(u[f]=l[f],o.setStaticValue(f,0))}o.render();for(const h in u)o.setStaticValue(h,u[h]);o.scheduleRender()}getProjectionStyles(o={}){var a,l;const u={};if(!this.instance||this.isSVG)return u;if(this.isVisible)u.visibility="";else return{visibility:"hidden"};const h=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=ET(o.pointerEvents)||"",u.transform=h?h(this.latestValues,""):"none",u;const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){const S={};return this.options.layoutId&&(S.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,S.pointerEvents=ET(o.pointerEvents)||""),this.hasProjected&&!im(this.latestValues)&&(S.transform=h?h({},""):"none",this.hasProjected=!1),S}const p=f.animationValues||f.latestValues;this.applyTransformsToTarget(),u.transform=bj(this.projectionDeltaWithTransform,this.treeScale,p),h&&(u.transform=h(p,u.transform));const{x:m,y:v}=this.projectionDelta;u.transformOrigin=`${m.origin*100}% ${v.origin*100}% 0`,f.animationValues?u.opacity=f===this?(l=(a=p.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:p.opacityExit:u.opacity=f===this?p.opacity!==void 0?p.opacity:"":p.opacityExit!==void 0?p.opacityExit:0;for(const S in VC){if(p[S]===void 0)continue;const{correct:A,applyTo:g}=VC[S],M=u.transform==="none"?p[S]:A(p[S],f);if(g){const _=g.length;for(let b=0;b<_;b++)u[g[b]]=M}else u[S]=M}return this.options.layoutId&&(u.pointerEvents=f===this?ET(o.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(Cj),this.root.sharedNodes.clear()}}}function CFe(n){n.updateLayout()}function RFe(n){var e;const t=((e=n.resumeFrom)===null||e===void 0?void 0:e.snapshot)||n.snapshot;if(n.isLead()&&n.layout&&t&&n.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=n.layout,{animationType:s}=n.options,o=t.source!==n.layout.source;s==="size"?bu(f=>{const p=o?t.measuredBox[f]:t.layoutBox[f],m=ra(p);p.min=r[f].min,p.max=p.min+m}):qre(s,t.layoutBox,r)&&bu(f=>{const p=o?t.measuredBox[f]:t.layoutBox[f],m=ra(r[f]);p.max=p.min+m,n.relativeTarget&&!n.currentAnimation&&(n.isProjectionDirty=!0,n.relativeTarget[f].max=n.relativeTarget[f].min+m)});const a=ey();R_(a,r,t.layoutBox);const l=ey();o?R_(l,n.applyTransform(i,!0),t.measuredBox):R_(l,r,t.layoutBox);const u=!Kre(a);let h=!1;if(!n.resumeFrom){const f=n.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:p,layout:m}=f;if(p&&m){const v=ai();P_(v,t.layoutBox,p.layoutBox);const S=ai();P_(S,r,m.layoutBox),vN(v,S)||(h=!0),f.options.layoutRoot&&(n.relativeTarget=S,n.relativeTargetOrigin=v,n.relativeParent=f)}}}n.notifyListeners("didUpdate",{layout:r,snapshot:t,delta:l,layoutDelta:a,hasLayoutChanged:u,hasRelativeTargetChanged:h})}else if(n.isLead()){const{onExitComplete:r}=n.options;r&&r()}n.options.transition=void 0}function PFe(n){sm.totalNodes++,n.parent&&(n.isProjecting()||(n.isProjectionDirty=n.parent.isProjectionDirty),n.isSharedProjectionDirty||(n.isSharedProjectionDirty=!!(n.isProjectionDirty||n.parent.isProjectionDirty||n.parent.isSharedProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=n.parent.isTransformDirty))}function BFe(n){n.isProjectionDirty=n.isSharedProjectionDirty=n.isTransformDirty=!1}function LFe(n){n.clearSnapshot()}function Cj(n){n.clearMeasurements()}function IFe(n){n.isLayoutDirty=!1}function DFe(n){const{visualElement:e}=n.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),n.resetTransform()}function Rj(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0,n.isProjectionDirty=!0}function FFe(n){n.resolveTargetDelta()}function NFe(n){n.calcProjection()}function UFe(n){n.resetRotation()}function OFe(n){n.removeLeadSnapshot()}function Pj(n,e,t){n.translate=br(e.translate,0,t),n.scale=br(e.scale,1,t),n.origin=e.origin,n.originPoint=e.originPoint}function Bj(n,e,t,r){n.min=br(e.min,t.min,r),n.max=br(e.max,t.max,r)}function kFe(n,e,t,r){Bj(n.x,e.x,t.x,r),Bj(n.y,e.y,t.y,r)}function GFe(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const zFe={duration:.45,ease:[.4,0,.1,1]};function Lj(n){n.min=Math.round(n.min),n.max=Math.round(n.max)}function HFe(n){Lj(n.x),Lj(n.y)}function qre(n,e,t){return n==="position"||n==="preserve-aspect"&&!fN(Ej(e),Ej(t),.2)}const VFe=Qre({attachResizeListener:(n,e)=>oh(n,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),uI={current:void 0},Zre=Qre({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!uI.current){const n=new VFe({});n.mount(window),n.setOptions({layoutScroll:!0}),uI.current=n}return uI.current},resetTransform:(n,e)=>{n.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:n=>window.getComputedStyle(n).position==="fixed"}),WFe={pan:{Feature:lFe},drag:{Feature:aFe,ProjectionNode:Zre,MeasureLayout:Xre}},jFe=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function XFe(n){const e=jFe.exec(n);if(!e)return[,];const[,t,r]=e;return[t,r]}function yN(n,e,t=1){const[r,i]=XFe(n);if(!r)return;const s=window.getComputedStyle(e).getPropertyValue(r);return s?s.trim():sN(i)?yN(i,e,t+1):i}function JFe(n,{...e},t){const r=n.current;if(!(r instanceof Element))return{target:e,transitionEnd:t};t&&(t={...t}),n.values.forEach(i=>{const s=i.get();if(!sN(s))return;const o=yN(s,r);o&&i.set(o)});for(const i in e){const s=e[i];if(!sN(s))continue;const o=yN(s,r);o&&(e[i]=o,t||(t={}),t[i]===void 0&&(t[i]=s))}return{target:e,transitionEnd:t}}const YFe=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),$re=n=>YFe.has(n),KFe=n=>Object.keys(n).some($re),Ij=n=>n===bg||n===jt,Dj=(n,e)=>parseFloat(n.split(", ")[e]),Fj=(n,e)=>(t,{transform:r})=>{if(r==="none"||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/);if(i)return Dj(i[1],e);{const s=r.match(/^matrix\((.+)\)$/);return s?Dj(s[1],n):0}},QFe=new Set(["x","y","z"]),qFe=jS.filter(n=>!QFe.has(n));function ZFe(n){const e=[];return qFe.forEach(t=>{const r=n.getValue(t);r!==void 0&&(e.push([t,r.get()]),r.set(t.startsWith("scale")?1:0))}),e.length&&n.render(),e}const Nj={width:({x:n},{paddingLeft:e="0",paddingRight:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),height:({y:n},{paddingTop:e="0",paddingBottom:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),top:(n,{top:e})=>parseFloat(e),left:(n,{left:e})=>parseFloat(e),bottom:({y:n},{top:e})=>parseFloat(e)+(n.max-n.min),right:({x:n},{left:e})=>parseFloat(e)+(n.max-n.min),x:Fj(4,13),y:Fj(5,14)},$Fe=(n,e,t)=>{const r=e.measureViewportBox(),i=e.current,s=getComputedStyle(i),{display:o}=s,a={};o==="none"&&e.setStaticValue("display",n.display||"block"),t.forEach(u=>{a[u]=Nj[u](r,s)}),e.render();const l=e.measureViewportBox();return t.forEach(u=>{const h=e.getValue(u);h&&h.jump(a[u]),n[u]=Nj[u](l,s)}),n},eNe=(n,e,t={},r={})=>{e={...e},r={...r};const i=Object.keys(e).filter($re);let s=[],o=!1;const a=[];if(i.forEach(l=>{const u=n.getValue(l);if(!n.hasValue(l))return;let h=t[l],f=B1(h);const p=e[l];let m;if(jC(p)){const v=p.length,S=p[0]===null?1:0;h=p[S],f=B1(h);for(let A=S;A<v&&p[A]!==null;A++)m?Mz(B1(p[A])===m):m=B1(p[A])}else m=B1(p);if(f!==m)if(Ij(f)&&Ij(m)){const v=u.get();typeof v=="string"&&u.set(parseFloat(v)),typeof p=="string"?e[l]=parseFloat(p):Array.isArray(p)&&m===jt&&(e[l]=p.map(parseFloat))}else f!=null&&f.transform&&(m!=null&&m.transform)&&(h===0||p===0)?h===0?u.set(m.transform(h)):e[l]=f.transform(p):(o||(s=ZFe(n),o=!0),a.push(l),r[l]=r[l]!==void 0?r[l]:e[l],u.jump(p))}),a.length){const l=a.indexOf("height")>=0?window.pageYOffset:null,u=$Fe(e,n,a);return s.length&&s.forEach(([h,f])=>{n.getValue(h).set(f)}),n.render(),TP&&l!==null&&window.scrollTo({top:l}),{target:u,transitionEnd:r}}else return{target:e,transitionEnd:r}};function tNe(n,e,t,r){return KFe(e)?eNe(n,e,t,r):{target:e,transitionEnd:r}}const nNe=(n,e,t,r)=>{const i=JFe(n,e,r);return e=i.target,r=i.transitionEnd,tNe(n,e,t,r)},xN={current:null},eie={current:!1};function rNe(){if(eie.current=!0,!!TP)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),e=()=>xN.current=n.matches;n.addListener(e),e()}else xN.current=!1}function iNe(n,e,t){const{willChange:r}=e;for(const i in e){const s=e[i],o=t[i];if(xo(s))n.addValue(i,s),KC(r)&&r.add(i);else if(xo(o))n.addValue(i,ax(s,{owner:n})),KC(r)&&r.remove(i);else if(o!==s)if(n.hasValue(i)){const a=n.getValue(i);!a.hasAnimated&&a.set(s)}else{const a=n.getStaticValue(i);n.addValue(i,ax(a!==void 0?a:s,{owner:n}))}}for(const i in t)e[i]===void 0&&n.removeValue(i);return e}const Uj=new WeakMap,tie=Object.keys(HM),sNe=tie.length,Oj=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],oNe=fz.length;class aNe{constructor({parent:e,props:t,presenceContext:r,reducedMotionConfig:i,visualState:s},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>Tr.render(this.render,!1,!0);const{latestValues:a,renderState:l}=s;this.latestValues=a,this.baseTarget={...a},this.initialValues=t.initial?{...a}:{},this.renderState=l,this.parent=e,this.props=t,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=o,this.isControllingVariants=RP(t),this.isVariantNode=kne(t),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:u,...h}=this.scrapeMotionValuesFromProps(t,{});for(const f in h){const p=h[f];a[f]!==void 0&&xo(p)&&(p.set(a[f],!1),KC(u)&&u.add(f))}}scrapeMotionValuesFromProps(e,t){return{}}mount(e){this.current=e,Uj.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((t,r)=>this.bindToMotionValue(r,t)),eie.current||rNe(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:xN.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){Uj.delete(this.current),this.projection&&this.projection.unmount(),wh(this.notifyUpdate),wh(this.render),this.valueSubscriptions.forEach(e=>e()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features)this.features[e].unmount();this.current=null}bindToMotionValue(e,t){const r=Eg.has(e),i=t.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&Tr.update(this.notifyUpdate,!1,!0),r&&this.projection&&(this.projection.isTransformDirty=!0)}),s=t.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(e,()=>{i(),s()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}loadFeatures({children:e,...t},r,i,s){let o,a;for(let l=0;l<sNe;l++){const u=tie[l],{isEnabled:h,Feature:f,ProjectionNode:p,MeasureLayout:m}=HM[u];p&&(o=p),h(t)&&(!this.features[u]&&f&&(this.features[u]=new f(this)),m&&(a=m))}if(!this.projection&&o){this.projection=new o(this.latestValues,this.parent&&this.parent.projection);const{layoutId:l,layout:u,drag:h,dragConstraints:f,layoutScroll:p,layoutRoot:m}=t;this.projection.setOptions({layoutId:l,layout:u,alwaysMeasureLayout:!!h||f&&Z0(f),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof u=="string"?u:"both",initialPromotionConfig:s,layoutScroll:p,layoutRoot:m})}return a}updateFeatures(){for(const e in this.features){const t=this.features[e];t.isMounted?t.update():(t.mount(),t.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):ai()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}makeTargetAnimatable(e,t=!0){return this.makeTargetAnimatableFromInstance(e,this.props,t)}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let r=0;r<Oj.length;r++){const i=Oj[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s=e["on"+i];s&&(this.propEventSubscriptions[i]=this.on(i,s))}this.prevMotionValues=iNe(this,this.scrapeMotionValuesFromProps(e,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(e=!1){if(e)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const r=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(r.initial=this.props.initial),r}const t={};for(let r=0;r<oNe;r++){const i=fz[r],s=this.props[i];(zM(s)||s===!1)&&(t[i]=s)}return t}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){t!==this.values.get(e)&&(this.removeValue(e),this.bindToMotionValue(e,t)),this.values.set(e,t),this.latestValues[e]=t.get()}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&t!==void 0&&(r=ax(t,{owner:this}),this.addValue(e,r)),r}readValue(e){return this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.readValueFromInstance(this.current,e,this.options)}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){var t;const{initial:r}=this.props,i=typeof r=="string"||typeof r=="object"?(t=_z(this.props,r))===null||t===void 0?void 0:t[e]:void 0;if(r&&i!==void 0)return i;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!xo(s)?s:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,t){return this.events[e]||(this.events[e]=new Pz),this.events[e].add(t)}notify(e,...t){this.events[e]&&this.events[e].notify(...t)}}class nie extends aNe{sortInstanceNodePosition(e,t){return e.compareDocumentPosition(t)&2?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,{vars:t,style:r}){delete t[e],delete r[e]}makeTargetAnimatableFromInstance({transition:e,transitionEnd:t,...r},{transformValues:i},s){let o=T3e(r,e||{},this);if(i&&(t&&(t=i(t)),r&&(r=i(r)),o&&(o=i(o))),s){b3e(this,r,o);const a=nNe(this,r,o,t);t=a.transitionEnd,r=a.target}return{transition:e,transitionEnd:t,...r}}}function lNe(n){return window.getComputedStyle(n)}class uNe extends nie{readValueFromInstance(e,t){if(Eg.has(t)){const r=wz(t);return r&&r.default||0}else{const r=lNe(e),i=(Wne(t)?r.getPropertyValue(t):r[t])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:t}){return jre(e,t)}build(e,t,r,i){mz(e,t,r,i.transformTemplate)}scrapeMotionValuesFromProps(e,t){return Az(e,t)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;xo(e)&&(this.childSubscription=e.on("change",t=>{this.current&&(this.current.textContent=`${t}`)}))}renderInstance(e,t,r,i){Qne(e,t,r,i)}}class cNe extends nie{constructor(){super(...arguments),this.isSVGTag=!1}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(Eg.has(t)){const r=wz(t);return r&&r.default||0}return t=qne.has(t)?t:xz(t),e.getAttribute(t)}measureInstanceViewportBox(){return ai()}scrapeMotionValuesFromProps(e,t){return $ne(e,t)}build(e,t,r,i){vz(e,t,r,this.isSVGTag,i.transformTemplate)}renderInstance(e,t,r,i){Zne(e,t,r,i)}mount(e){this.isSVGTag=yz(e.tagName),super.mount(e)}}const hNe=(n,e)=>pz(n)?new cNe(e,{enableHardwareAcceleration:!1}):new uNe(e,{enableHardwareAcceleration:!0}),dNe={layout:{ProjectionNode:Zre,MeasureLayout:Xre}},fNe={...z3e,...lDe,...WFe,...dNe},ia=mIe((n,e)=>jIe(n,e,fNe,hNe)),as={paddingX:"sm:px-16 px-6",paddingY:"sm:py-16 py-6",padding:"sm:px-16 px-6 sm:py-16 py-10",heroHeadText:"font-black text-white lg:text-[80px] sm:text-[60px] xs:text-[50px] text-[40px] lg:leading-[98px] mt-2",heroSubText:"text-[#dfd9ff] font-medium lg:text-[30px] sm:text-[26px] xs:text-[20px] text-[16px] lg:leading-[40px]",sectionHeadText:"text-white font-black md:text-[60px] sm:text-[50px] xs:text-[40px] text-[30px]",sectionSubText:"sm:text-[18px] text-[14px] text-secondary uppercase tracking-wider"},pNe=()=>Te.jsxs("section",{className:"relative w-full h-screen mx-auto",children:[Te.jsxs("div",{className:`${as.paddingX}
      absolute insent-0 top-[120px] max-w-7xl mx-auto flex flex-row items-start gap-5`,children:[Te.jsxs("div",{className:"flex flex-col justify-center items-center mt-5",children:[Te.jsx("div",{className:"w-5 h-5 rounded-full bg-[#915eff]"}),Te.jsx("div",{className:"w-1 sm:h-80 h-40 violet-gradient"})]}),Te.jsxs("div",{children:[Te.jsxs("h1",{className:`${as.heroHeadText}`,children:["Hi, I'm ",Te.jsx("span",{className:"text-[#915eff]",children:"Rushil"})]}),Te.jsxs("p",{className:`${as.heroSubText} mt-2 text-white-100`,children:["I'm a high School student",Te.jsx("br",{className:"sm:block hidden"})," who loves to code and design."]})]})]}),Te.jsx(iIe,{}),Te.jsx("div",{className:"absolute xs:bottom-10 bottom-32 w-full flex justify-center items-center",children:Te.jsx("a",{href:"#about",children:Te.jsx("div",{className:"w-[35px] h-[64px] rounded-3xl border-4 border-secondary flex justify-center items-start p-2",children:Te.jsx(ia.dev,{animate:{y:[0,24,0]},transition:{duration:1.5,repeat:1/0,repeatType:"loop"},className:"w-3 h-3 rounded-full bg-secondary mb-1"})})})})]}),mNe=""+new URL("logo-c1063d16.svg",import.meta.url).href,gNe=""+new URL("backend-565fc01f.png",import.meta.url).href,vNe=""+new URL("creator-dbbffaec.png",import.meta.url).href,yNe=""+new URL("mobile-896ef2f5.png",import.meta.url).href,xNe=""+new URL("web-0d05165f.png",import.meta.url).href,ANe=""+new URL("github-3b4e1609.png",import.meta.url).href,_Ne=""+new URL("menu-242d80a8.svg",import.meta.url).href,MNe=""+new URL("close-ad0e0ca6.svg",import.meta.url).href,SNe=""+new URL("css-79a7f026.png",import.meta.url).href,ENe=""+new URL("docker-602a695a.png",import.meta.url).href,bNe=""+new URL("figma-184a11e6.png",import.meta.url).href,wNe="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAPAAAADwCAYAAAA+VemSAAAACXBIWXMAAAsTAAALEwEAmpwYAAANG0lEQVR4nO2dX6xcRR2AD9QYgpYElEDv3fltqdUSHtSISNWIiIE09vbuzMKa+GBq4p/4hoIGEx/qSxOiL1T62Adj4kN90gegSXnQxAdCIiYkloQKSKKQpo3c7szeikrXzPZCW3r39uzdc2bOzPm+5Jc0t7t7dn4z386cc+bMFAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQFs415cdVqtHrJZjzqgTToudhFEn/N/8//nXxP6eAHAJIy13Oi3HnZFxqdBy3L+HJAJEZLy/e5016og1cr60vGvh3+Pf6z+DSgQIzGhZLVgjz80q7hUia/XC6mCHUIEAgfDCWS2vzCvvJRK/zrkxQILyIjFA4vIiMUDi8iIxQOLyIjFA4vIiMUDi8iIxQOLyIjFA4vIiMUDi8iIxQOLyIjFA4vIiMUDi8iIxQOLyIjFA4vIiMbSe1OVFYmgtuciLxNBKnJE/xJaucomNeu1cr7s9dm4Baie3HpieGFoHEgMkDhIDJA4SAyQOEgMkDhIDNASn5YDV8vis70NigMg4LT++eFsFibnFBMngjPzoynujSIzE0Hhsv/vo9AkOSIzE0Fj8vrtXn6WExEgMjcMa9cPyUw2RGImhMVijfjD7fGEkRmKIjtXq4c1P+kdiJIZojLR8z+9wP9+TO0iMxBAcp+W788qLxDyKCBFwRr5TlbxIjMQQENeTb1st71QpLxIjMSQ2bJ4qsVE/m/V7+SVs/FI2l/8YqDeslmecVof9ebYPp9Uhq9VTTqtTdZahwlywPA80v+etSmJn5EVn5Aln5DPjorhm2mvHB4prR8uLd1stB61Wb8YWFYmhVlxPfSuUvPNcnd4M46Vt1zsjjzmj3oot6/RcqNfP9WVHiHxAZjit9oeWN7TEntGgs2i1PB9bViSGynB9+WYseecZTs/ZGx+NLesGueCcGMphtfq6NfLfRjTcgD3xeFBssUY9HbvM03PBcBqugjUyaIq8MSRe2Ss3Oi0vxy4zEsPMDI081DR5Y0g87KkvxS4vEkOyw+ZpMdTdfqhqndxHbkCZp/6gcU4MKfS8lzTYf9t9t90SqtZGpnNX7DIjMVwV36tZrf7T/MYqvwtdnc7IycbnRXNhq7WMTNekIK+PkVbfD50fp9UvY5e73I+b4hZT2xhp1bNavR278ZUWeHnx7tA5clqWYpcbieEKRj21LyV5fQwHt94cuipX9nV2xi43EsNlONPZY7U6F7uxzRrjwR0fDF2Vp5d3bY1d7pkl1pwTZ4vrd7/mr+bGbmSbEnhp2/Wh8+VnZsUu96YkNpwTZ4fT6oEUe953Y7W3oELn7MyenTfELvemJdb0xNmQurwTgXX386Hz5h/ji13uuSQ29MTJY42632pZjd2Y5m6MWj0S42Jf7HIjcYuxPflqDvJeEFh+Hzx/Wv0idrmRuKXYfvcr1sgoduOpTmD1dsiplH5ZnhRmYrmy+WM4nQ621703J3nfC61+GvJ2W/TyInH7GPbli06Ljd1Y6gl11hnZFiKPq4MdYrW8Er/M1Ybl6nRzmTzHmq28a6HVb0Llc70la3MIy3C6eZztyRecUcPYjSNIA9Tq4VB5pSeG2mmTvBcElv9Z3flGqKZFTwy1MTLd3WvnhtHFCiqx3yVCq59stIh7lSAxVI7fhcAZ+VdsmaKGlj8Ol+WOEM2L4TRUvORLc3cUCH6PWKtfj3Tnc3U3MXpimJvRg+qzyLu+zGVz6Iz81hn1Vy/krPlHYtg0rtf9tDNyJnav19Qoncc59x5iOA0zg7zVC4zEst4pCRuqVY0z2z9Fz1uPwEgsSFwn9sHFTzojp2MPT3MWGIkFietg2O/e3vSNqHMRGIkFiZE3bYGRWJC4Cs4ub99ltXojdo/WRoGRWJAYedMWGIkFiTfV8+qFT1gj/4zdk6UaVQqMxILEM8nbX/w48jZLYCQWJEbedHvgeR+CX2/apb+2Mdl/WKvDfuNyH06rQ1arp5xWp2KPYlyN+cgSvweP1fKP2JWSQ5TNechG69/jjLzojDzhnyDb6BHI8YHiWr+Rm9VysOm3Dy0SF8Vqf3s3x2VbchQ49DRDv52MM/JYkx9csW2edom86Qkco9GOBp1Fq+X52LK6huSjEZzbJ7f5gsdOfm5RNv+pDR/XeuOjsfPrGpKPqIyW1QLD5rQFjiLxl4sPOC3HY8vqNsiHb9tFzoz3d6+zRp6Lnexco2w9pDp8XNkrNzotL8fOs5uejz/H2Ao2GNaoI7GTnHOUrYdKG23gntjvvBE7z27jfBwpcn0g32p5J3aCc47SdVF1ow3cE0/uIzcg3269XBg5P9JyZ5EbTT5/ySVK10Utx+/sKYIuahg/31NDy/EiJ1LfLDqVKFsfNRz7ZKg1qt/FGvVq7HxvFFndWrL97qOxE9qGKFsfVR/XGvXzelvQOmXQ6lDsfDdtU/basFqOxU5oG6JsfVR93FFP7au3Ba1TBi1LsfO9Ufg2X+SC0+ql2AltQ5SujwyGi34OvWtAzqeGVi8VudCmzcdiRvn6qPa4p5d3bS0C44/pGpDz6aGGRS4gcN4CjwfFliIw/pguuqRtEZghdN4C33/Lh4rAJNADnyhygYtYeQvMObDkfRHLX1KP/4uYf5StjxqOvbfeFpTiVWiVz22ktVUZoic19yhbH5UfW6tD9bag9cqgnoyd79ZM5PAwlTJfgf2sqCIwjZ6JpTObSunxE7z9RO/oyc04ytZFHcf285OLQDR5LrTN9WEGD48T5iuwf0KoCESzn0ZSeT5O6OGB/nwFXut97qt/w7vOPbEldW19oN/Dkjr5CuyfSloZdG6qq+34z3ZG/hZbVNfWJXXeZXWwQ6yWV2InPbcom/96v4d61q9fVcfMK2vU07Fz7NaJdq5Muc6q/UQOAk/iaJVDySavSmnbtCLl+6EnrrYxlc17oIb9F7/2d87rQts29rzvB4nzFHgSWqzf++jMnp03zNou/PzqJu/MYJH3IgynMxX4YmN/0+93NDLd3X7/ow33RjLd3U3fG8m2edg8DSTOV+DLQqtTk4tRl+9OeHjtb43fndAi73QYTrdA4ITDMmy+OkiMwLFFdcg7H0hMDxxbWEfPi8ShG1rZjMcWIqWwDJvpiRE4vogOeePAcJoeGHkTB4kZQtPzJg4Scw7MsDlxkJiLWJzzJg4ScxWaC1aJw7TL99/qkHesVk+VzZ9/LZuty8X8MT0yPEh8YQE1a+RXK1p9bNb8+ff497Z9oUGLvPFos8RWq7/bXvfeeXPoP8N/VuzyIG9LaeM58eQB90H31qpyOFza9lGn1Z/alUPFw/hNoU09sV/p4tTg5g9XnUP/mf6zW5LD13iet2G0QWL/kPtqb0HVlUP/2U1+kB55Myf34fTQyEN159AaGWQrr2bY3Hiy7YkD7reT4z5WlmFzOuTYE1uj7g+VP6fVA1nlTtPzJkdmPfHJcVFcEyp3/lj+mFnIa7hglSwZ9cRPhM6d3/M3eXk1PW/y5CDxsCcPhs6bv2AWu9zIC1kMp4f97u2hq9IfM3a5NxuWYXN+pNwTn9ULHwmdr8nsrBTl1QybsyXVnriO3f6uhj9mcvIaLlhlT4o9sd8nKHSeTi/v2pqUvJqetzWk1hPH2AFvZV9nZzLyGnre1pGYxHtD58dpWWpAuZEXMhhOa3UodD06o56MXu6rhGXYDClI7B+4D11T1qhXY5cbeSGb4fTIdO4KVZ3+WI2Wl3NeSK0ntlqeCVVrVsux5uaBq82QqsRG7qu78ob9zj2xy4m8kKXE/rzUz5Cqq3pXBp2bmvoUEj0vZCGxM+rZOmZmjQfFFmvU0/HLh7yQ/4Wto+OlbddXVdH+s/xnNqBcVwQXrCDLntivILna396dt3pHg87iZJnaJpaRC1aQs8ROi7VaHj+zZ+cNs5bLz692Rh5zRr0VvRzICy0eTk+Wm7VaDo5Md/f4QHHttHL4//Ov8a9t8vKxDJuhdRK/F1qdmlyM0uqw7519TP594W+non8/5IVYNHo4nUFwzgu1g8TIC4mDxPS8kDhIzLAZEgeJOeeFxEFiLlhB4iAxV5shcZCYW0WQOEjMfV5IHCRmkgYkDhIzwwoSB4mZHgmJ03aJmdsMydNWiZEXsqFtEiMvZEdbJEZeyJbcJUZeyJ5cJUZeaA25SYy80DpykRh5obWkLjHyQutJVWLkBUhUYuQFSFRi5AVIVGLkBUhUYuQFSFRi5AVIVGLkBUhUYuQFSFRi5AVIVGLkBUhUYuQFSFRi5AVIVGLkBUhUYuQFCMxoWS1YI89VIO8L/geBCgQIzHh/9zpr1BFr5PzM4ho579/rP4OKA4jISMudTsvx0gJrOe7fQ6UBNIhzfdlhtXrEajnmjDrhtNhJGHXC/83/n39N7O8JAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFCE4v/t8177cNMPugAAAABJRU5ErkJggg==",TNe=""+new URL("html-92b76a73.png",import.meta.url).href,CNe="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAPAAAADwCAYAAAA+VemSAAAACXBIWXMAAAsTAAALEwEAmpwYAAAOgElEQVR4nO2dCdCVZRXHz8Pnwi4groElmijuK6m4YCqJpZmJqJla40qGWjgYZZQL5p4GJZlboKKTGzoouWSAiQsuqONY42Q1LVrZYlpZnebcy51B6uO7977LeZ/7/H4z/wGGmfve5zznf577vu+ziAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAtIW+JIqIQafkgKSGd8ARMVAMjIEpBBQCZQQmCSgEceeApIZ3wBExUAyMgSkEFAJlBCYJKARx54CkhnfAETFQDIyBKQQUAmUEJgkoBHHngKSGd8ARMVAMjIEpBBQCZQQmCSgEceeApIZ3wBExUAyMgSkEFAJlBCYJKARx54CkhnfAETFQDIyBKQQUAmUEJgkoBHHngKSGd8ARMVAMjIEpBBQCZQQmCSgEceeApIZ3wBExUAyMgSkEFAJlBCYJKARx54CkhnfAETFQDIyBKQQUAmUEJgkoBHHngKSGd8ARMVAMjIEpBBQCZQQmCSgEceeApIZ3wBExUAyMgSkEFAJlBCYJKARx54CkhnfAETFQDIyBKQQUAmUEJgkoBHHngKSGd8ARMVAMjIEpBBQCZQQmCSgEceeApIZ3wBExUAyMgSkEFAJlBCYJKARx54CkhnfAETFQDIyBKQQUAmUEJgkoBHHngKSGd8ARMVAMjIEpBBQCZQQmCSgEceeApIZ3wBExUAyMgSkEFAJlBCYJKARx54CkhnfAETFQDIyBKQQUAmUEJgkoBHHngKSGd8ARMVAMjIEpBBQCZQQmCSgEceeApIZ3wBExUAyMgSkEFAJlBCYJKARx54CkhnfAETFQDIyBKQQUAmUEJgkoBHHngKSGd8ARMVAMjIEpBBQCZQQmCSgEceeApIZ3wBExUAyMgSkEFAJlBCYJKARx54CkhnfAETFQDIyBKQQUAmUEJgkoBHHngKSGd8ARMVAMjIEpBBQCZQQmCSgEceeApIZ3wBExUAyMgSkEFAJlBCYJKARx54CkhnfAETFQDIyB/Sp+yKQJHwmlft+3l4kumiN62dmixx8WdJ9dg246LOjggUH79A4aQv3v79sg6Oab1P//pAlBL50iev9s0b8tq3bBkdTwDnjsisHA7zwj+v1viB62f9C+vbN9395rBx03JuhV00TfXFrF/kgM74DHriob+A8/EZ16YtChg7N9x+40oF/QyccGfXVhlfojMbwDHruqaOB3l4teMkV00IBijLuq1loz6PRJov94rgr9kRjeAY9dVTPwy/eJ7rZtOcZdVVtvHvSp2737IzG8DRC7qmTghdeWN+p2p769g94zEwNj4AqYMyYDz7tcdI0uX/PKCtn3mP01r/5IDG8DxK4qGPjumdUxr6yQvY6aezEGxsAVMGmVDWz3vAP7+xtWunnltGRu2f2RGN4GiF2eBranvttu4W9UWY3WHxL0tYcwMAaugFmrZuDzJ2e/fhkaN6a82WaSGt4GiF1eBv79Y6L9+/qbs1ndcCEGxsAVMGxVDDztZH9TtqIh64Ra0Sm+PxLD2wCxy8PANtNqw6H+pmxWgwcGvWZ6Wf2RGN4GiF0eBr732/nd+24/MugVU0WfuUP09cX11Ub259J5oldPE917l/oroXY//9hDgr6xpMz+SAxvA8QuDwNPOjq7cfv1qd+X/ufFnq9nr4J22LK1z990WKgtPyy/PxLD2wCxy8PANuc46/vZR29qfR3xxPE9f3ZXV9Azjwv61tNe/ZEY3gaIXWUb+O/PSs0kWa553ufba+u/losefuDqf44/eZt3fySGtwFiV9kGfnF+tmvarht/far99trIOmqz//3MGWeK/vP5KvRHYngHPHaVbeAHr8t2zQP2yD6pwh54NeZejx0d9JUFVeqPxPAOeOwq28C2cCHL9T57eD6zor46SfTa85p7CKal9kdieAc8dpVt4NuvzHZN28ius/sjMbwDHrvKNnDWd8AH7omBOwpvA8Susg38yA2S+f2v7VLZuf2RGN4Bj11lG9geGGW95qxzO7k/EsM74LGrbAPb6NmrV7Zrrjso6E/v79T+SAzvgMeusg1s2nJEtmuaRgwPtd08Oq8/EsM74LHLw8C2QCDrdU22Fc+NM6r3Kkgz9UdieAc8dnkY+KaL8t2Jw1YcPXZzp/RHYngHPHZ5GNiOTFlzjfwM3JAdZLZgduz9kRjeAY9dHgY2fXI1iwqyasetgt5yaTXmNmvL/ZEY3gGPXV4GtuWARRm4ITti1FYu/XZRTP2RGN4Bj11eBjbZrKqiTWxae62gnz406LN3xtAfieEd8NjlaeDn75LayYBlmHjl1UwPfLe6T64lNbwDHrs8DWz6+uk+e0NvNzLozZeI/vsF/z54b38khnfAY5e3gc1AB+9TvoEbsu19bruiSv2RGN4Bj13eBja9uVRqI6KXiUWCfvhD/mcDY+AKGCI2VcHApt8tzr7ZXVZ1dQX94gm+q50kNbwNELuqYmDTHx+X2mQMTxOLBN1qRNAnnDa3k9TwNkDsqpKBGycW2iiYdcVSVq3RFfSCM8p/Wi2p4W2A2FU1Azf0w+9JbSKG92h81MGhthUuBsbA7maNycAmO0zshMP8R+OD9irvvlhSw9sAsavKBl55G9j9Rvua+JCxobYxPAbGwO6mjc3ADc2fJbrLNn4mPuv44tsqqeFtgNgVk4EbWjRH9KP7Zjt1sB2FEGq7ahbbH4nhbYDYFaOBG3ruzvo9sh12VpaJN14/29EuPfdHYngbIHbFbOCVZ3JdeY7o+zcux8TnnlZcmyU1vJMndnWCgRt6d7norZeJ7jSqWAMP7B/0z08U1R+J4Z00sauTDLyyFl4rtfnNRZn4m18qqj8SwztRYlenGrghO+93/93zN/Do7Yppt6SGd4LErk43cEN3Xi26wbr5GbhXr6C/frSI/kgM78SIXakY2GR7Y+21c34mnnd5Ef2RGN5JEbtSMrDpradF99gxHwN/4YT82y6p4Z0QMcvm96ZmYNNrD0ntlMOsbT94HwyMgR0T+fXF1TSwLWIouu02LTJr27f5IAbGwE0m3M8flNrWqLboPa8kthP+sibxkQeFXN/jXnhGfXRcOq9YAy+Zm73t6w3BwBi4h0Sz0wVmnCnat3c9aU6ekF/S3Ped7El83Mfz+T7L737vQoVRmxW7DtemQ2Zte78+GBgD93CavW3vsuqE+rtn5pPENtplTeJTJ4bMo+75k6W2+fqqn33OScXeX2e9D+7qwsAYuJvXHXYEZ3erbQYPDPri/OwJvOdO2e8Dp3wm28buq5v2aNva2ESMIsxra3vt87O0vX9fDIyBV9kjeda5UjNoT8lj281kOaX+hXvy2VDdFhG0c1tgG7o3cyrDpsOCvrEkfwO/ujB7+zdaDwNj4BUJZXsS79riYvWhg4P+6Mb2Rp8xOYy+pjuuau3adj6RnR7YyjXGjs7/fvjqadkNvN1IDJy8gf+0VPRzx9Tvp9qd0jfp6FA7c7eZxH17mdQ2asvDvCZbk9vsqDt9UvvnAo/fO799qexzNt8ke9uPGIeBkzbw3ItFNxyaj5HsKfVJE0LtyfJfnnzvdWxr1JfvE71iqtR+kuZlXrumPYTqqZ3LfiC6fQ4nL9i+WLYBfNa4n35MddcFS2p4m7Bd/eyB7A9RVie7jx4xPOjwDetGK+Ia9hCsmbbuvkN+17T7zgWz24u5/QyffGx+3+XB6/LPC0kNbyNmkY2YRRm4DH3l1OYMvHiO5L5/1d671I8JbWanSNss/pZLpfZuOa/r9+1dzHtqSQ1vE2aRLUfLY06ul1o5DGzi+OJ+adi9qE12ue4CqW06d89M0RtnSO1khUP3C7ruoPyvO3E864GTN7Al9mVn+5yPm1X287yVY0dsAYFtReP9vfPSw9cXU9QlNbxH0awyE4wb45+QrcoKT6tttZ+x3t87D+00qrXihYE72MCm3/xYdP0h/onZrGwktddf7bT1xCP8v38VH17pCklqeJsvz3nPZe5vnEUXndV+O+09dB6vlLw0oeD1z5Ia3sbLU3d9q9hXS3nIJkBkffpqvzi2+IB/W1rVsA3yXc6JgTvMwCZ7elr2kSHNymZR5bVO95cP5zuppGj171vOod+SGt6GK0L2sKdPQZMvsuiqafkvKLCn2d7tkh5kSx3vb3PyCAZO0MAmq/Z2Do938jY07eRi7v1spZFNyvBun3SjQQPaWzCCgRMegRv61SP5rNnNIvs5bxMiimynzaf+8intL+goStuPDPrSveX2uaSGt8nKWCN8zfTm1gjnLZvBZBuil9XWx28t/lyjZrTWmkGnnljslj4YOBEDr7xLx6c+Vl8+WMaoa69L7Jplt9PmNl9/gc+9ca9eQT9xQNBXFvj1s6SGt7HKlu2kYdvt/L89pLLKfsIeMra1Oc5FydYP28O8Mu6P1xkQ9JQjQ23JpXe7JTW8A+4l2zvZTsjbd7f63lFZRh3bCcS2uPnFw/7t6u5p9SVT6mbOa7KLvdO1bXptR5F3ctooIA9JangHvAqyA65tIf9XJ4kefmDQnbcOtamZNrJYstpobffQm2xUX8NrezmbYefPqm/u7v39W5GZbdGc+t5hpx1VPx1hhy1DbWMEa2OjmA3oV//3ZsNDbfsgWz1kC/Bvv7K+Ftu7HdqNJDW8A46IgWJgDEwhoBAoIzBJQCGIOwckNbwDjoiBYmAMTCGgECgjMElAIYg7ByQ1vAOOiIFiYAxMIaAQKCMwSUAhiDsHJDW8A46IgWJgDEwhoBAoIzBJQCGIOwckNbwDjoiBYmAMTCGgECgjMElAIYg7ByQ1vAOOiIFiYAxMIaAQKCMwSUAhiDsHJDW8A46IgWJgDEwhoBBoiiMwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEg+/BceiofdqS/+vQAAAABJRU5ErkJggg==",RNe=""+new URL("mongodb-54000b2b.png",import.meta.url).href,PNe=""+new URL("nodejs-d83eb6dd.png",import.meta.url).href,BNe=""+new URL("reactjs-966214a8.png",import.meta.url).href,LNe=""+new URL("redux-171787ca.png",import.meta.url).href,INe=""+new URL("tailwind-6ece120d.png",import.meta.url).href,DNe="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAPAAAADwCAYAAAA+VemSAAAACXBIWXMAAAsTAAALEwEAmpwYAAANMUlEQVR4nO2d+48V9RXAv//Gtw/balttayOpjVZr06TPqLRJ09Q+09Yaa01sapNWKqiAqCiU+MJXfSGC+ADxQa1AK0WMogJW2L3syrIvdpcL+95ln7B7mu8Y7GaD9N7ZmXvuzPl8kvOLMXsvZ87nnLkz852vcwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAsfDX7BaCHOSlBpw1tBNOkAOPwAhMI6AReCYwRUAjyHYNOGtoJ5wgBx6BEZhGQCPwTGCKgEaQ7Rpw1tBOOEEOPAIjMI2ARuCZwBQBjSDbNeCsoZ1wghx4BEZgGgGNwDOBKQIaQbZrwFlDO+EEOfAIjMA0AhqBZwJTBDSCbNeAs4Z2wgly4BEYgWkENALPBKYIaATZrgFnDe2EE+TAIzAC0whoBJ4JTBHQCLJdA84a2gknyIFHYASmEdAIPBOYIqARZLsGnDW0E06QA4/ACEwjoBF4JjBFQCPIdg04a2gnnCAHHoERmEZAI/BMYIqARpDtGnDW0E44QQ48AiMwjYBG4JnAFAGNINs14KyhnXCCHHgERmAaAY3AM4EpAhpBtmvAWUM74QQ58AiMwDQCGoFnAlMENIJs14CzhnbCCXLgERiBaQQ0As8EpghoBNmuAWcN7YQT5MAjMALTCGgEnglMEdAIsl0DzhraCSfIgUdgBKYR0Ag8E5gioBFkuwacNbQTTpADj8AITCOgEXgmMEVAI8h2DThraCecIAcegRGYRkAj8ExgioBGkO0acNbQTjhBDjwCIzCNgEbgmcAUAY0g2zXgrKGdcIIceARGYBoBjcAzgSkCGkG2a8BZQzvhBDnwCIzANAIagWcCUwQ0gmzXgLOGdsIJcuARGIFpBDQCzwSmCGgE2a4BZw3thBPkwCMwAtMIaASeCUwR0AiyXQPOGtoJJ8iBR2AEphHQCDwTmCKgEWS7Bpw1tBNOkAOPwAhMI6AReCYwRUAjyHYNOGtoJ5wgBx6BEZhGQCPwTGCKgEaQ7Rpw1tBOOEEOPALnW+Dm7jEBkYUbOiqW81mLCvKjBxrl6qcPyF83FeXJt3tk275BebdtWJq6xqJj0jt0TPqG34+uI0ej/7bv8Gj0/2ypH5BndvbKfVs7ZcGLHXLlE61y0d0N8vkFtUzgJNGWE4GrQ+ALltbL3Ofa5eXafin2j6faL/uGj8nOliFZub1b5jzbJrOXN8ip82oS+Xc4a2jLicB6Ap97a100XeuLo6LNsYnJaHqv3dUrf17XJucsrkNgBM4XSQl88fIG+fue/kiaamXVm90IjMD5YqYCn3dbnWzY3SeT1evtBzz0WhcCI3C+iCvwR+bsjk5Lh8YmJCvc9cphBEbgfBFH4NOuq4kuTGWNpZuKCIzAtgU+a1FB9rQPSxa5MebZhrOG9hXmUoL7wOULfPoNtZmVN3Dt+nYERmCbAn/8L3vk9f1HJMtc/fQBBEZgmwIv23xIss4Vq1sQGIHtCXzhXfuq+v5uqfxqRTMCI7A9gbc1DEoeuOTBRgRGYFsC/+zhJskL37unAYER2JbAm/cOVOy7tHSPyT9q+qNHHu/d2im3bSxGz1U/uK0zWoUUvktrT/xVZN++Yx8CI7Adgc++ZW+qv33D395U6JdLH2uWMxcWSpbrjPm10bLEIPiOliEp9SuG1VHcB87JfeCfPNQol61sTiX+8NSBxIo8rKZJ63uGCM8yf1iOwprbtAjPT4cGkcSxPHNhQf74zAF5s+nkt7m+HPPznDW05dSOLywsJFbobzUNqf070jh9Hj82Kb9/sjW173zB0nr527ZOOXKCZ7TDcYnzN501tAXSjjwIHB7cGBxNdqFCONX93er05PXTTrPDKXb/8LEPPj/uAn9nDW2BtCMPAn9tab0kzYo34i3n8zMUOVwQC5P/o3Pi/Q1nDW2BtCMPAoeHHpIknNKWc6HKJxxxL2CFcNbQFkg78iBwuDqdJC/u7lM/Lj5mOGtoJ1w78iDwPf8+LEnyp7Vt6sfFxwxnDe2Ea0ceBH709S5JknDbTvu4+JjhrKGdcO3Ig8BP7eiRJJkd8zFGXwXhrKGdcO3Ig8DPvtMrSfLrmCuBfBWEs4Z2wrUjDwKvfrNbkiQ8XKF9XHzMcNbQTrh25EHgIFzSOyeEV/JoHxsfI5w1tBOuHXkQOOnbSIGwF5L2sfExwllDO+HakQeBw0KHNAgbk2kfH19mOGtoJ1w78iBwWKWUFkHi8Ky19nHyJYazhnbCtSMPAoc4NHBU0mJX69BJlzL6KgpnDe2Ea0deBF6f8K2k6QyMTERrjk+5trqnsbOGdsK1Iy8Cp/U7eDphc+/wWWG/Je1j5xEYgfMi8Kfm1UjP0P/W06bN7rbhaBVUtYnsrKGdcO3Ii8Ah7t6S7KKGUgjbt1y2sjn2+l0ERmAEnrKZ2YleT1MJ6oujctWaVvUr1s4a2h1TO/I0gUOEV7tq0tw9Fu1FrHWxy1lDu+C0I28Cf3LunujtmNp09I3L9S90yCfmVlZkZw3tgtOOvAkc4uLlDdF7paqBtt7xaKfBj1Xo1NpZQ7vYtCOPAoeY+1y7VBP1xVH56UNNCIzACFyqxPe/muwqpSR4/t0+mXVTMi+JP1E4a2hPCu3I6wQ+HmGvompjYGRC5jybznu3nDW0C0w78i5weNDikYTfmZXk2y9PT3jdsbOGdoFpR94FnrpmuBo3/m7qGpPv3BlvJ0IERmAzAof4wX37pXMwvVVLcRken4i9off0cNbQLirtsCRwiHMW18n2xpPvDKjByPiE/PzhmV+ldtbQLijtsCZwiPDc8rzn22VI6bHLDyPcu/7lozOT2FlDu5i0w6LAx+PcW+vklbrktyWdCeFZ7m/e/h4CIzAClypy+P1ZODgi1UJz95h85nq2F2UCM4FLljisIpq7vj3VV/OUw+Pbu2NNYWcN7dM47bB8Cn2iCIsPwmqiorLIE5MiF91d/hYvzhraBaMdCHzivJx2XY3c/NLBir7lYzqvNRxBYARG4Jk0uPBbdMnGovQP64h84V3lPeThrKE9AbWDCVxank6fXyu3//OQDI5W9tbTk2XuEOGsoS2QdiBw+fkKq5wqtd64f/hYWS8FcNbQFkg7EDhe3r66pF42FSpzD/mSMh6zdNbQFkg7EHhm+fvNymbpPpLuFetlmw8hMAIjcFpNcNaigrz63mBqAoenxZjATGAmcIpnMqdcu0c27O5LReDGzlEERmAErsTTXBtr+xMXOFwwK3UHCGcN7d+g2sFv4GTz+bkFtan8Jj51XmnPRjtraAukHQicfE6XbT6UuMBfvLGAwAiMwJV6L3XShEbLBGYCM4ErIPCXbt6buMBh90UERmAEroDA5y+pT1Te8DK+Uj/bWaMSB7SaIw+/gc+7rS5662Slti/5fzH7nobEH6cs9bOdNbQPtnbkQeCvL3t/4r3dPDSj19EkFQs3dEiS1HaMlPzZzhraB1s78iTw8dPN8CL3M0u86JNGvHNgWJIkPCBS6mc7a2gLpB15E3jqy+Hu/Neh6L5sJb/LLx5pkqRZvuVwyZ/vrKEtkHbkVeCp+xA98GpndGEp7e9x1qKCtPeOS9L8dlULAiOwTYGnvmMqLAq49LHmkm/JlBPnL6lPZWPxycnSH+II4ayhUXDVFFYEnn56Hbb5vGJVi3z6uppE3p01mNKbOuqKpV/AQuAqEAqB0xd4KuGiV6FjRNa81RNt+fndO/eddMfAcKsqbM9y5ROt0etuwil6moTX+CAwE5gJXCZh25XwgvW9B0fk3bbhaBK29oxV7FU6x0+fwz1uBEZgBM4gbzTyWll+A/MbOLNcEmPLUWcN7d+g2mHxIlZep69HYH2hEBiBx45OyjdiPhLqrKEtkHYwgauPhRs6Yh9PZw1tgbQDgauLTYX+aANyBEZgBM4YO1uGogdDZtKQnTW0J6B2MIGrg+2NR+SM+TNfeOGsoS2QdiCwPuvf6S1r/yMERmAErgIGRiaizcSTbMjOGtoTUDvyMIG/cmtd9OhjVpiYFFm7q1fOvmVv4rlw1tAWSDvyIHCIcAr64wcb5d6tnbKjZaiizyyXSvhOz/+nT751R3qv/XHW0BZIO/Ii8PQIOxn88P79smRjUbbUD1R8Y+6p1LSPyOKXizLrpuQnLgJXQbEhcPo5CPdWw6L7yx9viXZOeGlPv9QXR2X06GTiK4hausdk3a5euWZdW9mriRCYCVxWEeR1Ape7Pej3722Qq9a0yvwXO6I1uCve6IpOd7e+NxhtHTo9Nu8diNYDh/duXf9CR7Q+ePbyBvnsDcm/7aOccNbQLh6CHHgERmAaAY3AM4EpAhpBtmvAWUM74QQ58AiMwDQCGoFnAlMENIJs14CzhnbCCXLgERiBaQQ0As8EpghoBNmuAWcN7YQT5MAjMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4bf4LtvMh68AvCz8AAAAASUVORK5CYII=",FNe=""+new URL("threejs-1d0654a8.svg",import.meta.url).href,NNe=""+new URL("meta-e386841a.png",import.meta.url).href,UNe=""+new URL("shopify-c0fdbc80.png",import.meta.url).href,ONe=""+new URL("starbucks-af2a76fc.png",import.meta.url).href,kNe=""+new URL("scopos-e326e919.png",import.meta.url).href,GNe=""+new URL("carrent-aba013d1.png",import.meta.url).href,zNe=""+new URL("jobit-ecb9d39c.png",import.meta.url).href,HNe=""+new URL("tripguide-892dd3b1.png",import.meta.url).href,kj=[{id:"about",title:"About"},{id:"work",title:"Work"},{id:"contact",title:"Contact"}],VNe=[{title:"Web Developer",icon:xNe},{title:"React Native Developer",icon:yNe},{title:"Backend Developer",icon:gNe},{title:"Content Creator",icon:vNe}],WNe=[{name:"HTML 5",icon:TNe},{name:"CSS 3",icon:SNe},{name:"JavaScript",icon:CNe},{name:"TypeScript",icon:DNe},{name:"React JS",icon:BNe},{name:"Redux Toolkit",icon:LNe},{name:"Tailwind CSS",icon:INe},{name:"Node JS",icon:PNe},{name:"MongoDB",icon:RNe},{name:"Three JS",icon:FNe},{name:"git",icon:wNe},{name:"figma",icon:bNe},{name:"docker",icon:ENe}],jNe=[{title:"Machine Learning Engineer",company_name:"DAENIT IT Systems",icon:ONe,iconBg:"#383E56",date:"June 2020 - August 2021",points:["Utilized Computational Neural Networks to design chatbots for commercial use","Became a service provider for over 45 various companies in numerous markets including grocery stores, restaurants, and clothing companies","Employed AWS tools and “Small Talk” capabilities to manufacture human-like chatbots."]},{title:"Full stack Developer",company_name:"Scopos",icon:kNe,iconBg:"#E6DEDD",date:"Jan 2023 - Present",points:["Made use of Keras and Machine Learning environments to use camera vision for independent target scoring.","Worked with a team of engineers to develop reliable and cost-efficient targets.","Sold over 200,000 targets to both individuals and commercial ranges, totaling over $2,000,000 in profit.","Participating in code reviews and providing/receiving constructive feedback to other developers."]},{title:"Fairfax County Youth Leadership Program - FCYLP",company_name:"Fairfax County Government",icon:UNe,iconBg:"#383E56",date:"Jan 2023 - August 2023",points:["Engaged in a comprehensive leadership development program designed to cultivate the skills necessary for effective youth leadership in Fairfax County","Cultivated a strong sense of responsibility, integrity, and ethical decision-making through the program's emphasis on ethical leadership principles","Collaborated with a diverse group of high school students to address community issues, promote civic engagement, and develop innovative solutions"]},{title:"Full stack Developer",company_name:"Meta",icon:NNe,iconBg:"#E6DEDD",date:"Jan 2023 - Present",points:["Developing and maintaining web applications using React.js and other related technologies.","Collaborating with cross-functional teams including designers, product managers, and other developers to create high-quality products.","Implementing responsive design and ensuring cross-browser compatibility.","Participating in code reviews and providing constructive feedback to other developers."]}],XNe=[{testimonial:"I thought it was impossible to make a website as beautiful as our product, but Rick proved me wrong.",name:"Sara Lee",designation:"CFO",company:"Acme Co",image:"https://randomuser.me/api/portraits/women/4.jpg"},{testimonial:"I've never met a web developer who truly cares about their clients' success like Rick does.",name:"Chris Brown",designation:"COO",company:"DEF Corp",image:"https://randomuser.me/api/portraits/men/5.jpg"},{testimonial:"After Rick optimized our website, our traffic increased by 50%. We can't thank them enough!",name:"Lisa Wang",designation:"CTO",company:"456 Enterprises",image:"https://randomuser.me/api/portraits/women/6.jpg"}],JNe=[{name:"Car Rent",description:"Web-based platform that allows users to search, book, and manage car rentals from various providers, providing a convenient and efficient solution for transportation needs.",tags:[{name:"react",color:"blue-text-gradient"},{name:"mongodb",color:"green-text-gradient"},{name:"tailwind",color:"pink-text-gradient"}],image:GNe,source_code_link:"https://github.com/"},{name:"Job IT",description:"Web application that enables users to search for job openings, view estimated salary ranges for positions, and locate available jobs based on their current location.",tags:[{name:"react",color:"blue-text-gradient"},{name:"restapi",color:"green-text-gradient"},{name:"scss",color:"pink-text-gradient"}],image:zNe,source_code_link:"https://github.com/"},{name:"Trip Guide",description:"A comprehensive travel booking platform that allows users to book flights, hotels, and rental cars, and offers curated recommendations for popular destinations.",tags:[{name:"nextjs",color:"blue-text-gradient"},{name:"supabase",color:"green-text-gradient"},{name:"css",color:"pink-text-gradient"}],image:HNe,source_code_link:"https://github.com/"}],YNe=()=>{const[n,e]=me.useState(""),[t,r]=me.useState(!1);return Te.jsx("nav",{className:`${as.paddingX} w-full flex items-center py-5 fixed top-0 z-20 bg-primary`,children:Te.jsxs("div",{className:"w-full flex justify-between items-center max-w-7xl mx-auto",children:[Te.jsxs(jSe,{to:"/",className:"flex items-center gap-2",onClick:()=>{e(""),window.scrollTo(0,0)},children:[Te.jsx("img",{src:mNe,alt:"logo",className:"w-9 h-9 object-contain"}),Te.jsxs("p",{className:"text-white text-[18px] font-bold cursor-pointer flex",children:["Rushil  ",Te.jsx("span",{className:"sm:block hidden",children:"| High School Student"})]})]}),Te.jsx("ul",{className:"list-none hidden sm:flex flex-row gap-10",children:kj.map(i=>Te.jsx("li",{className:`${n===i.title?"text-white":"text-secondary"} hover:text-white text-[18px] font-medium cursor-pointer`,onClick:()=>{e(i.title)},children:Te.jsx("a",{href:`#${i.id}`,children:i.title})},i.id))}),Te.jsxs("div",{className:"sm:hidden flex flex-1 justify-end items-center",children:[Te.jsx("img",{src:t?MNe:_Ne,alt:"menu",className:"w-[28px] h-[28px] object-contain cursor-pointer",onClick:()=>r(!t)}),Te.jsx("div",{className:`${t?"flex":"hidden"} p-6 black-gradient absolute top-20 right-0 mx-4 my-2 min-w-[140px] z-10 rounded-xl`,children:Te.jsx("ul",{className:"list-none flex justify-end items-start flex-col gap-4",children:kj.map(i=>Te.jsx("li",{className:`${n===i.title?"text-white":"text-secondary"} font-poppins font-medium cursor-pointer text-[16px]`,onClick:()=>{r(!t),e(i.title)},children:Te.jsx("a",{href:`#${i.id}`,children:i.title})},i.id))})})]})]})})},DP=n=>({hidden:{y:-50,opacity:0},show:{y:0,opacity:1,transition:{type:"spring",duration:1.25,delay:n}}}),KS=(n,e,t,r)=>({hidden:{x:n==="left"?100:n==="right"?-100:0,y:n==="up"?100:n==="down"?-100:0,opacity:0},show:{x:0,y:0,opacity:1,transition:{type:e,delay:t,duration:r,ease:"easeOut"}}}),Gj=(n,e,t,r)=>({hidden:{x:n==="left"?"-100%":n==="right"?"100%":0,y:n==="up"||n==="down"?"100%":0},show:{x:0,y:0,transition:{type:e,delay:t,duration:r,ease:"easeOut"}}}),KNe=(n,e)=>({hidden:{},show:{transition:{staggerChildren:n,delayChildren:e||0}}});var QNe=Object.defineProperty,qNe=Object.defineProperties,ZNe=Object.getOwnPropertyDescriptors,zj=Object.getOwnPropertySymbols,$Ne=Object.prototype.hasOwnProperty,eUe=Object.prototype.propertyIsEnumerable,Hj=(n,e,t)=>e in n?QNe(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,I1=(n,e)=>{for(var t in e||(e={}))$Ne.call(e,t)&&Hj(n,t,e[t]);if(zj)for(var t of zj(e))eUe.call(e,t)&&Hj(n,t,e[t]);return n},D1=(n,e)=>qNe(n,ZNe(e)),rie=class extends me.Component{constructor(n){super(n),this.ref=gS.createRef(),this.state={style:{}};const e={reverse:!1,max:35,perspective:1e3,easing:"cubic-bezier(.03,.98,.52,.99)",scale:"1.1",speed:"1000",transition:!0,axis:null,reset:!0};this.width=null,this.height=null,this.left=null,this.top=null,this.transitionTimeout=null,this.updateCall=null,this.element=null,this.settings=Object.assign({},e,this.props.options),this.reverse=this.settings.reverse?-1:1,this.onMouseEnter=this.onMouseEnter.bind(this,this.props.onMouseEnter),this.onMouseMove=this.onMouseMove.bind(this,this.props.onMouseMove),this.onMouseLeave=this.onMouseLeave.bind(this,this.props.onMouseLeave)}componentDidMount(){this.element=this.ref.current,setTimeout(()=>{this.element.parentElement.querySelector(":hover")===this.element&&this.onMouseEnter()},0)}componentWillUnmount(){clearTimeout(this.transitionTimeout),cancelAnimationFrame(this.updateCall)}onMouseEnter(n=()=>{},e){return this.updateElementPosition(),this.setState(Object.assign({},this.state,{style:D1(I1({},this.state.style),{willChange:"transform"})})),this.setTransition(),n(e)}reset(){window.requestAnimationFrame(()=>{this.setState(Object.assign({},this.state,{style:D1(I1({},this.state.style),{transform:`perspective(${this.settings.perspective}px) rotateX(0deg) rotateY(0deg) scale3d(1, 1, 1)`})}))})}onMouseMove(n=()=>{},e){return e.persist(),this.updateCall!==null&&window.cancelAnimationFrame(this.updateCall),this.event=e,this.updateCall=requestAnimationFrame(this.update.bind(this,e)),n(e)}setTransition(){clearTimeout(this.transitionTimeout),this.setState(Object.assign({},this.state,{style:D1(I1({},this.state.style),{transition:`${this.settings.speed}ms ${this.settings.easing}`})})),this.transitionTimeout=setTimeout(()=>{this.setState(Object.assign({},this.state,{style:D1(I1({},this.state.style),{transition:""})}))},this.settings.speed)}onMouseLeave(n=()=>{},e){return this.setTransition(),this.settings.reset&&this.reset(),n(e)}getValues(n){const e=(n.nativeEvent.clientX-this.left)/this.width,t=(n.nativeEvent.clientY-this.top)/this.height,r=Math.min(Math.max(e,0),1),i=Math.min(Math.max(t,0),1),s=(this.reverse*(this.settings.max/2-r*this.settings.max)).toFixed(2),o=(this.reverse*(i*this.settings.max-this.settings.max/2)).toFixed(2),a=r*100,l=i*100;return{tiltX:s,tiltY:o,percentageX:a,percentageY:l}}updateElementPosition(){const n=this.element.getBoundingClientRect();this.width=this.element.offsetWidth,this.height=this.element.offsetHeight,this.left=n.left,this.top=n.top}update(n){const e=this.getValues(n);this.setState(Object.assign({},this.state,{style:D1(I1({},this.state.style),{transform:`perspective(${this.settings.perspective}px) rotateX(${this.settings.axis==="x"?0:e.tiltY}deg) rotateY(${this.settings.axis==="y"?0:e.tiltX}deg) scale3d(${this.settings.scale}, ${this.settings.scale}, ${this.settings.scale})`})})),this.updateCall=null}render(){const n=Object.assign({},this.props.style,this.state.style);return Te.jsx("div",{style:n,ref:this.ref,className:this.props.className,onMouseEnter:this.onMouseEnter,onMouseMove:this.onMouseMove,onMouseLeave:this.onMouseLeave,children:this.props.children})}};const Dx=(n,e)=>function(){return Te.jsxs(ia.section,{variants:KNe(),initial:"hidden",whileInView:"show",viewport:{once:!0,amount:.25},className:`${as.padding} max-w-7xl mx-auto relative z-0`,children:[Te.jsx("span",{className:"hash-span",id:e,children:" "}),Te.jsx(n,{})]})},tUe=({index:n,title:e,icon:t})=>Te.jsx(rie,{className:"xs:w-[250px] w-full",children:Te.jsx(ia.div,{variants:KS("right","spring",.5*n,.75),className:"w-full green-pink-gradient p-[1px] rounded-[20px] shadow-card",children:Te.jsxs("div",{options:{max:45,scale:1,speed:450},className:"bg-tertiary rounded-[20px] py-5 px-12 min-h-[280px] flex justify-evenly items-center flex-col",children:[Te.jsx("img",{src:t,alt:e,className:"w-16 h-16 object-contain"}),Te.jsx("h3",{className:"text-white text-[20px] font-bold mt-5 text-center",children:e})]})})}),nUe=()=>Te.jsxs(Te.Fragment,{children:[Te.jsxs(ia.div,{variants:DP(),children:[Te.jsx("p",{className:as.sectionSubText,children:"Introduction"}),Te.jsx("h2",{className:as.sectionHeadText,children:"Overview"})]}),Te.jsx(ia.p,{variants:KS("","",.1,1),className:"mt-4 text-secondary text-[17px] max-w-3xl leading-[30px]",children:"I'm a high school Student with expertise in high school and other work"}),Te.jsx("div",{className:"mt-20 flex flex-wrap gap-10",children:VNe.map((n,e)=>Te.jsx(tUe,{index:e,...n},n.title))})]}),rUe=Dx(nUe,"about"),iUe=()=>Te.jsx("div",{className:"flex flex-row flex-wrap justify-center gap-10",children:WNe.map(n=>Te.jsx("div",{className:"w-28 h-28 key={technology.name}",children:Te.jsx(nIe,{icon:n.icon})}))}),sUe=Dx(iUe,"");var FP={},iie={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(n){(function(){var e={}.hasOwnProperty;function t(){for(var r=[],i=0;i<arguments.length;i++){var s=arguments[i];if(s){var o=typeof s;if(o==="string"||o==="number")r.push(s);else if(Array.isArray(s)){if(s.length){var a=t.apply(null,s);a&&r.push(a)}}else if(o==="object"){if(s.toString!==Object.prototype.toString&&!s.toString.toString().includes("[native code]")){r.push(s.toString());continue}for(var l in s)e.call(s,l)&&s[l]&&r.push(l)}}}return r.join(" ")}n.exports?(t.default=t,n.exports=t):window.classNames=t})()})(iie);var sie=iie.exports;FP.__esModule=!0;FP.default=void 0;var oUe=Bz(me),hd=Bz(Nne),aUe=Bz(sie);function Bz(n){return n&&n.__esModule?n:{default:n}}const oie=({animate:n=!0,className:e="",layout:t="2-columns",lineColor:r="#FFF",children:i})=>(typeof window=="object"&&document.documentElement.style.setProperty("--line-color",r),oUe.default.createElement("div",{className:(0,aUe.default)(e,"vertical-timeline",{"vertical-timeline--animate":n,"vertical-timeline--two-columns":t==="2-columns","vertical-timeline--one-column-left":t==="1-column"||t==="1-column-left","vertical-timeline--one-column-right":t==="1-column-right"})},i));oie.propTypes={children:hd.default.oneOfType([hd.default.arrayOf(hd.default.node),hd.default.node]).isRequired,className:hd.default.string,animate:hd.default.bool,layout:hd.default.oneOf(["1-column-left","1-column","2-columns","1-column-right"]),lineColor:hd.default.string};var lUe=oie;FP.default=lUe;var NP={};function AN(){return AN=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},AN.apply(this,arguments)}function uUe(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,_N(n,e)}function _N(n,e){return _N=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},_N(n,e)}function cUe(n,e){if(n==null)return{};var t={},r=Object.keys(n),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(t[i]=n[i]);return t}var MN=new Map,Dw=new WeakMap,Vj=0,aie=void 0;function hUe(n){aie=n}function dUe(n){return n?(Dw.has(n)||(Vj+=1,Dw.set(n,Vj.toString())),Dw.get(n)):"0"}function fUe(n){return Object.keys(n).sort().filter(function(e){return n[e]!==void 0}).map(function(e){return e+"_"+(e==="root"?dUe(n.root):n[e])}).toString()}function pUe(n){var e=fUe(n),t=MN.get(e);if(!t){var r=new Map,i,s=new IntersectionObserver(function(o){o.forEach(function(a){var l,u=a.isIntersecting&&i.some(function(h){return a.intersectionRatio>=h});n.trackVisibility&&typeof a.isVisible>"u"&&(a.isVisible=u),(l=r.get(a.target))==null||l.forEach(function(h){h(u,a)})})},n);i=s.thresholds||(Array.isArray(n.threshold)?n.threshold:[n.threshold||0]),t={id:e,observer:s,elements:r},MN.set(e,t)}return t}function Lz(n,e,t,r){if(t===void 0&&(t={}),r===void 0&&(r=aie),typeof window.IntersectionObserver>"u"&&r!==void 0){var i=n.getBoundingClientRect();return e(r,{isIntersecting:r,target:n,intersectionRatio:typeof t.threshold=="number"?t.threshold:0,time:0,boundingClientRect:i,intersectionRect:i,rootBounds:i}),function(){}}var s=pUe(t),o=s.id,a=s.observer,l=s.elements,u=l.get(n)||[];return l.has(n)||l.set(n,u),u.push(e),a.observe(n),function(){u.splice(u.indexOf(e),1),u.length===0&&(l.delete(n),a.unobserve(n)),l.size===0&&(a.disconnect(),MN.delete(o))}}var mUe=["children","as","triggerOnce","threshold","root","rootMargin","onChange","skip","trackVisibility","delay","initialInView","fallbackInView"];function Wj(n){return typeof n.children!="function"}var qC=function(n){uUe(e,n);function e(r){var i;return i=n.call(this,r)||this,i.node=null,i._unobserveCb=null,i.handleNode=function(s){i.node&&(i.unobserve(),!s&&!i.props.triggerOnce&&!i.props.skip&&i.setState({inView:!!i.props.initialInView,entry:void 0})),i.node=s||null,i.observeNode()},i.handleChange=function(s,o){s&&i.props.triggerOnce&&i.unobserve(),Wj(i.props)||i.setState({inView:s,entry:o}),i.props.onChange&&i.props.onChange(s,o)},i.state={inView:!!r.initialInView,entry:void 0},i}var t=e.prototype;return t.componentDidUpdate=function(i){(i.rootMargin!==this.props.rootMargin||i.root!==this.props.root||i.threshold!==this.props.threshold||i.skip!==this.props.skip||i.trackVisibility!==this.props.trackVisibility||i.delay!==this.props.delay)&&(this.unobserve(),this.observeNode())},t.componentWillUnmount=function(){this.unobserve(),this.node=null},t.observeNode=function(){if(!(!this.node||this.props.skip)){var i=this.props,s=i.threshold,o=i.root,a=i.rootMargin,l=i.trackVisibility,u=i.delay,h=i.fallbackInView;this._unobserveCb=Lz(this.node,this.handleChange,{threshold:s,root:o,rootMargin:a,trackVisibility:l,delay:u},h)}},t.unobserve=function(){this._unobserveCb&&(this._unobserveCb(),this._unobserveCb=null)},t.render=function(){if(!Wj(this.props)){var i=this.state,s=i.inView,o=i.entry;return this.props.children({inView:s,entry:o,ref:this.handleNode})}var a=this.props,l=a.children,u=a.as,h=cUe(a,mUe);return me.createElement(u||"div",AN({ref:this.handleNode},h),l)},e}(me.Component);qC.displayName="InView";qC.defaultProps={threshold:0,triggerOnce:!1,initialInView:!1};function gUe(n){var e=n===void 0?{}:n,t=e.threshold,r=e.delay,i=e.trackVisibility,s=e.rootMargin,o=e.root,a=e.triggerOnce,l=e.skip,u=e.initialInView,h=e.fallbackInView,f=me.useRef(),p=me.useState({inView:!!u}),m=p[0],v=p[1],S=me.useCallback(function(g){f.current!==void 0&&(f.current(),f.current=void 0),!l&&g&&(f.current=Lz(g,function(M,_){v({inView:M,entry:_}),_.isIntersecting&&a&&f.current&&(f.current(),f.current=void 0)},{root:o,rootMargin:s,threshold:t,trackVisibility:i,delay:r},h))},[Array.isArray(t)?t.toString():t,o,s,a,l,i,h,r]);me.useEffect(function(){!f.current&&m.entry&&!a&&!l&&v({inView:!!u})});var A=[S,m.inView,m.entry];return A.ref=A[0],A.inView=A[1],A.entry=A[2],A}const vUe=Object.freeze(Object.defineProperty({__proto__:null,InView:qC,default:qC,defaultFallbackInView:hUe,observe:Lz,useInView:gUe},Symbol.toStringTag,{value:"Module"})),yUe=Q1e(vUe);NP.__esModule=!0;NP.default=void 0;var dd=Iz(me),ar=Iz(Nne),Fw=Iz(sie),xUe=yUe;function Iz(n){return n&&n.__esModule?n:{default:n}}const lie=({children:n="",className:e="",contentArrowStyle:t=null,contentStyle:r=null,date:i="",dateClassName:s="",icon:o=null,iconClassName:a="",iconOnClick:l=null,onTimelineElementClick:u=null,iconStyle:h=null,id:f="",position:p="",style:m=null,textClassName:v="",intersectionObserverProps:S={rootMargin:"0px 0px -40px 0px",triggerOnce:!0},visible:A=!1})=>dd.default.createElement(xUe.InView,S,({inView:g,ref:M})=>dd.default.createElement("div",{ref:M,id:f,className:(0,Fw.default)(e,"vertical-timeline-element",{"vertical-timeline-element--left":p==="left","vertical-timeline-element--right":p==="right","vertical-timeline-element--no-children":n===""}),style:m},dd.default.createElement(dd.default.Fragment,null,dd.default.createElement("span",{style:h,onClick:l,className:(0,Fw.default)(a,"vertical-timeline-element-icon",{"bounce-in":g||A,"is-hidden":!(g||A)})},o),dd.default.createElement("div",{style:r,onClick:u,className:(0,Fw.default)(v,"vertical-timeline-element-content",{"bounce-in":g||A,"is-hidden":!(g||A)})},dd.default.createElement("div",{style:t,className:"vertical-timeline-element-content-arrow"}),n,dd.default.createElement("span",{className:(0,Fw.default)(s,"vertical-timeline-element-date")},i)))));lie.propTypes={children:ar.default.oneOfType([ar.default.arrayOf(ar.default.node),ar.default.node]),className:ar.default.string,contentArrowStyle:ar.default.shape({}),contentStyle:ar.default.shape({}),date:ar.default.node,dateClassName:ar.default.string,icon:ar.default.element,iconClassName:ar.default.string,iconStyle:ar.default.shape({}),iconOnClick:ar.default.func,onTimelineElementClick:ar.default.func,id:ar.default.string,position:ar.default.string,style:ar.default.shape({}),textClassName:ar.default.string,visible:ar.default.bool,intersectionObserverProps:ar.default.shape({root:ar.default.object,rootMargin:ar.default.string,threshold:ar.default.number,triggerOnce:ar.default.bool})};var AUe=lie;NP.default=AUe;var uie={VerticalTimeline:FP.default,VerticalTimelineElement:NP.default};const _Ue=({experience:n})=>Te.jsxs(uie.VerticalTimelineElement,{contentStyle:{background:"#1d1836",color:"#fff"},contentArrowStyle:{borderRight:"7px solid  #232631"},date:n.date,iconStyle:{background:n.iconBg},icon:Te.jsx("div",{className:"flex justify-center items-center w-full h-full",children:Te.jsx("img",{src:n.icon,alt:n.company,className:"w-[60%] h-[60%] object-contain"})}),children:[Te.jsxs("div",{children:[Te.jsx("h3",{className:"text-white text-[24px] font-bold",children:n.title}),Te.jsx("p",{className:"text-secondary text-[16px] font-semibold",style:{margin:0},children:n.company_name})]}),Te.jsx("ul",{className:"mt-5 list-disc ml-5 space-y-2",children:n.points.map((e,t)=>Te.jsx("li",{className:"text-white-100 text-[14px] pl-1 tracking-wider",children:e},`experience-point-${t}`))})]}),MUe=()=>Te.jsxs(Te.Fragment,{children:[Te.jsxs(ia.div,{variants:DP(),children:[Te.jsx("p",{className:as.sectionSubText,children:"What I've done so far"}),Te.jsx("h2",{className:as.sectionHeadText,children:"Work Experience"})]}),Te.jsx("div",{className:"mt-20 flex flex-col",children:Te.jsx(uie.VerticalTimeline,{children:jNe.map((n,e)=>Te.jsx(_Ue,{experience:n},e))})})]}),SUe=Dx(MUe,"work"),EUe=({index:n,name:e,description:t,tags:r,image:i,source_code_link:s})=>Te.jsx(ia.div,{variants:KS("up","spring",n*.5,.75),children:Te.jsxs(rie,{options:{max:45,scale:1,speed:450},className:"bg-tertiary p-5 rounded 2xl sm:w-[360px] w-full",children:[Te.jsxs("div",{className:"relative w-full h-[230px]",children:[Te.jsx("img",{src:i,alt:e,className:"w-full h-full object-cover rounded-2xl"}),Te.jsx("div",{className:"absolute inset-0 flex justify-end m-3 card-img_hover",children:Te.jsx("div",{onClick:()=>window.open(s,"_blank"),className:"black-gradient w-10 h-10 rounded-full flex justify-center items-center cursor-pointer",children:Te.jsx("img",{src:ANe,alt:"github",className:"w-1/2 h-1/2 object-contain"})})})]}),Te.jsxs("div",{className:"mt-5",children:[Te.jsx("h3",{className:"text-white text-[24px] font-bold",children:e}),Te.jsx("p",{className:"mt-2 text-secondary text-[14px]",children:t})]}),Te.jsx("div",{className:"mt-4 flex flex-wrap gap-2",children:r.map(o=>Te.jsxs("p",{className:`text-[14px] ${o.color}`,children:["#",o.name]},o.name))})]})}),bUe=()=>Te.jsxs(Te.Fragment,{children:[Te.jsxs(ia.div,{variants:DP(),children:[Te.jsx("p",{className:as.sectionSubText,children:"My Projects."}),Te.jsx("h2",{className:as.sectionHeadText,children:"Projects."})]}),Te.jsx("div",{className:"w-full flex ",children:Te.jsx(ia.p,{variants:KS("","",.1,1),className:"text-secondary text-[17px] max-w-3xl leading-[30px]"})}),Te.jsx("div",{className:"mt-20 flex flex-wrap gap-7",children:JNe.map((n,e)=>Te.jsx(EUe,{index:e,...n},`project-${e}`))})]}),wUe=Dx(bUe,""),TUe=({index:n,testimonial:e,name:t,designation:r,company:i,image:s})=>Te.jsxs(ia.div,{variants:KS("","spring",n*.5,.75),className:"bg-black-200 p-10 rounded-3xl xs:w-[320px] w-full",children:[Te.jsx("p",{className:"text-white font-black text-[48px]",children:'"'}),Te.jsxs("div",{className:"mt-1",children:[Te.jsx("p",{className:"text-white tracking-wider text-[18px]",children:e}),Te.jsxs("div",{className:"mt-7 flex justify-between items-center gap-1",children:[Te.jsxs("div",{className:"flex-1 flex flex-col",children:[Te.jsxs("p",{className:"text-white font-medium text-[16px]",children:[Te.jsx("span",{className:"blue-text-gradient",children:"@"})," ",t]}),Te.jsxs("p",{className:"mt-1 text-secondary text-[12px]",children:[r," at ",i]})]}),Te.jsx("img",{src:s,alt:`feedback-by-${t}`,className:"w-10 h-10 rounded-full object-cover"})]})]})]}),CUe=()=>Te.jsxs("div",{className:"mt-12 bg-black-100 rounded-[20px]",children:[Te.jsx("div",{className:`${as.padding}
      bg-tertiary rounded-2xl min-h-[300px]`,children:Te.jsxs(ia.div,{variants:DP(),children:[Te.jsx("p",{className:as.sectionSubText,children:" What Others Say"}),Te.jsx("h2",{className:as.sectionHeadText,children:"Testimonials."})]})}),Te.jsx("div",{className:`${as.paddingX} -mt-20 pb-14 flex flex-wrap gap-7`,children:XNe.map((n,e)=>Te.jsx(TUe,{index:e,...n},n.name))})]}),RUe=Dx(CUe,""),PUe=()=>{const n=me.useRef(),[e,t]=me.useState({name:"",email:"",message:""}),[r,i]=me.useState(!1),s=a=>{},o=a=>{};return Te.jsxs("div",{className:"xl:mt-12 xl:flex-row flex-col-reverse flex gap-0 overflow-hidden",children:[Te.jsxs(ia.div,{variants:Gj("left","tween",.2,1),className:"flex-[0.75] bg-black-100 p-8 rounded-2xl",children:[Te.jsx("p",{className:as.sectionSubText,children:"Get in touch"}),Te.jsx("h3",{className:as.sectionHeadText,children:"Contact."}),Te.jsxs("form",{ref:n,onSubmit:o,className:"mt-12 flex flex-col gap-8",children:[Te.jsxs("label",{className:"flex flex-col",children:[Te.jsx("span",{className:"text-white font-medium mb-4",children:"Your Name"}),Te.jsx("input",{type:"text",name:"name",value:e.name,onChange:s,placeholder:"What's your Name?",className:"bg-tartiary py-4 px-6 placeholder:text-secondary text-white rounded-lg outlined-none border-none font-medium"})]}),Te.jsxs("label",{className:"flex flex-col",children:[Te.jsx("span",{className:"text-white font-medium mb-4",children:"Your Email"}),Te.jsx("input",{type:"text",name:"email",value:e.email,onChange:s,placeholder:"What's your Name?",className:"bg-tartiary py-4 px-6 placeholder:text-secondary text-white rounded-lg outlined-none border-none font-medium"})]}),Te.jsxs("label",{className:"flex flex-col",children:[Te.jsx("span",{className:"text-white font-medium mb-4",children:"Your Name"}),Te.jsx("textarea",{rows:"7",name:"message",value:e.name,onChange:s,placeholder:"What's your Message?",className:"bg-tartiary py-4 px-6 placeholder:text-secondary text-white rounded-lg outlined-none border-none font-medium"})]}),Te.jsx("button",{type:"submit",className:"bg-tertiary py-3 px-8 outline-none w-fit text-white font-bold shadow-md shadow-primary rounded-xl",children:r?"Sending...":"Send Message!"})]})]}),Te.jsx(ia.div,{variants:Gj("right","tween",.2,1),className:"xl:flex-1 xl:h-auto md:h-[550px] h-[350px]",children:Te.jsx(eIe,{})})]})},BUe=Dx(PUe,"contact"),LUe=()=>Te.jsx(HSe,{children:Te.jsxs("div",{className:"relative z-0 bg-primary",children:[Te.jsxs("div",{className:"bg-hero-pattern bg-cover bg-no-repeat bg-center",children:[Te.jsx(YNe,{}),Te.jsx(pNe,{})]}),Te.jsx(rUe,{}),Te.jsx(SUe,{}),Te.jsx(sUe,{}),Te.jsx(wUe,{}),Te.jsx(RUe,{}),Te.jsxs("div",{className:"relative z-0",children:[Te.jsx(BUe,{}),Te.jsx(oIe,{})]})]})});g3.createRoot(document.getElementById("root")).render(Te.jsx(gS.StrictMode,{children:Te.jsx(LUe,{})}));
